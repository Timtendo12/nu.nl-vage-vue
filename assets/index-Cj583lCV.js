var Dt=($,_)=>()=>(_||$((_={exports:{}}).exports,_),_.exports);var Ut=Dt((exports,module)=>{(function(){try{var $=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_=new Error().stack;_&&($._sentryDebugIds=$._sentryDebugIds||{},$._sentryDebugIds[_]="a16a1daf-7620-4c5b-a3b4-ecfce1fa889d",$._sentryDebugIdIdentifier="sentry-dbid-a16a1daf-7620-4c5b-a3b4-ecfce1fa889d")}catch{}})();(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const re of document.querySelectorAll('link[rel="modulepreload"]'))ee(re);new MutationObserver(re=>{for(const le of re)if(le.type==="childList")for(const de of le.addedNodes)de.tagName==="LINK"&&de.rel==="modulepreload"&&ee(de)}).observe(document,{childList:!0,subtree:!0});function j(re){const le={};return re.integrity&&(le.integrity=re.integrity),re.referrerPolicy&&(le.referrerPolicy=re.referrerPolicy),re.crossOrigin==="use-credentials"?le.credentials="include":re.crossOrigin==="anonymous"?le.credentials="omit":le.credentials="same-origin",le}function ee(re){if(re.ep)return;re.ep=!0;const le=j(re);fetch(re.href,le)}})();function getEnvVariable($,_){return typeof window<"u"&&window.config?window.config[$]||_:process.env[$]||_}var Environment=($=>($[$.Client=0]="Client",$[$.Server=1]="Server",$))(Environment||{});const isInAppViewKey=Symbol("isInAppViewKey"),isBrowser$1=()=>typeof window<"u"&&typeof window.document<"u",isInAppView=$=>/sanoma\/app/i.test($),environment=isBrowser$1()?0:1,legacyIsMobile=$=>[/Android/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i,/IEMobile/i,/Opera Mini/i].some(_=>$.match(_)),isMobile=()=>{if(!isBrowser$1())return!1;const $=window.navigator.userAgentData?.mobile;return typeof $=="boolean"?$:legacyIsMobile(window.navigator.userAgent)};var MetricType=($=>($.requestStart="request-start",$.responseEnd="response-end",$.domInteractive="dom-interactive",$.domContentLoaded="dom-content-loaded",$.domComplete="dom-complete",$.CLS="cumulative-layout-shift",$.FID="first-input-delay",$.LCP="largest-contentful-paint",$.FCP="first-contentful-paint",$.TTFB="time-to-first-byte",$))(MetricType||{});const isArticle=$=>/^\/(\w|-)*\/\d+\/(\w|-)*\.html$/.test($),isFrontPage=$=>/^$/.test($),isPage=$=>/^\/(\w|-)*\.html$/.test($),isSection=$=>/^\/(\w|-)*$/.test($),isTag=$=>/^\/tag\/(\w|-)*$/.test($),isVideo=$=>/^\/\d+\/video\/(\w|-)*\.html$/.test($),isWidget=$=>/^(\/(component)\/|\/)(verkeer|brandstof|trein)$/.test($),getContext$1=()=>{const $=[{predicate:isWidget,context:"widget"},{predicate:isArticle,context:"article"},{predicate:isFrontPage,context:"frontpage"},{predicate:isPage,context:"page"},{predicate:isSection,context:"section"},{predicate:isTag,context:"tag"},{predicate:isVideo,context:"video"}],_=location.pathname.replace(/\/+$/,"");for(const{predicate:j,context:ee}of $)if(j(_))return ee;return"unknown"},enrichMetrics=$=>{const _=getContext$1();return $.map(j=>({...j,labels:{context:_}}))},makePayload=$=>({device:"web",os:{platform:navigator.platform},build:getEnvVariable("VITE_REVISION"),environment:getEnvVariable("VITE_ENVIRONMENT"),network:navigator?.connection?.effectiveType,formFactor:isMobile()?"mobile":"desktop",metrics:enrichMetrics($)}),sendMetrics=$=>{const _=getEnvVariable("VITE_METRICS_URL");if(!_)return;const j=JSON.stringify($);if(navigator.sendBeacon){const ee=new Blob([j],{type:"application/json"});navigator.sendBeacon(_,ee)}else fetch(_,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:j,keepalive:!0})},initNavigationItem=()=>{window.performance===void 0||window.performance.getEntriesByType===void 0||addEventListener("load",()=>{const $=window.performance.getEntriesByType("navigation")[0];if($===void 0)return;const _=[{key:MetricType.requestStart,value:$.requestStart},{key:MetricType.responseEnd,value:$.responseEnd},{key:MetricType.domInteractive,value:$.domInteractive},{key:MetricType.domContentLoaded,value:$.domContentLoadedEventStart},{key:MetricType.domComplete,value:$.domComplete}];sendMetrics(makePayload(_))})};var e,n,t,i,a=-1,o=function($){addEventListener("pageshow",function(_){_.persisted&&(a=_.timeStamp,$(_))},!0)},c=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},u=function(){var $=c();return $&&$.activationStart||0},f=function($,_){var j=c(),ee="navigate";return a>=0?ee="back-forward-cache":j&&(document.prerendering||u()>0?ee="prerender":document.wasDiscarded?ee="restore":j.type&&(ee=j.type.replace(/_/g,"-"))),{name:$,value:_===void 0?-1:_,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:ee}},s=function($,_,j){try{if(PerformanceObserver.supportedEntryTypes.includes($)){var ee=new PerformanceObserver(function(re){Promise.resolve().then(function(){_(re.getEntries())})});return ee.observe(Object.assign({type:$,buffered:!0},j||{})),ee}}catch{}},d=function($,_,j,ee){var re,le;return function(de){_.value>=0&&(de||ee)&&((le=_.value-(re||0))||re===void 0)&&(re=_.value,_.delta=le,_.rating=function(ge,ve){return ge>ve[1]?"poor":ge>ve[0]?"needs-improvement":"good"}(_.value,j),$(_))}},l$1=function($){requestAnimationFrame(function(){return requestAnimationFrame(function(){return $()})})},p$2=function($){var _=function(j){j.type!=="pagehide"&&document.visibilityState!=="hidden"||$(j)};addEventListener("visibilitychange",_,!0),addEventListener("pagehide",_,!0)},v$2=function($){var _=!1;return function(j){_||($(j),_=!0)}},m=-1,h$1=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},g=function($){document.visibilityState==="hidden"&&m>-1&&(m=$.type==="visibilitychange"?$.timeStamp:0,T$1())},y$1=function(){addEventListener("visibilitychange",g,!0),addEventListener("prerenderingchange",g,!0)},T$1=function(){removeEventListener("visibilitychange",g,!0),removeEventListener("prerenderingchange",g,!0)},E$1=function(){return m<0&&(m=h$1(),y$1(),o(function(){setTimeout(function(){m=h$1(),y$1()},0)})),{get firstHiddenTime(){return m}}},C$2=function($){document.prerendering?addEventListener("prerenderingchange",function(){return $()},!0):$()},L=[1800,3e3],w$1=function($,_){_=_||{},C$2(function(){var j,ee=E$1(),re=f("FCP"),le=s("paint",function(de){de.forEach(function(ge){ge.name==="first-contentful-paint"&&(le.disconnect(),ge.startTime<ee.firstHiddenTime&&(re.value=Math.max(ge.startTime-u(),0),re.entries.push(ge),j(!0)))})});le&&(j=d($,re,L,_.reportAllChanges),o(function(de){re=f("FCP"),j=d($,re,L,_.reportAllChanges),l$1(function(){re.value=performance.now()-de.timeStamp,j(!0)})}))})},b$1=[.1,.25],S$2=function($,_){_=_||{},w$1(v$2(function(){var j,ee=f("CLS",0),re=0,le=[],de=function(ve){ve.forEach(function(Ee){if(!Ee.hadRecentInput){var Ce=le[0],Ae=le[le.length-1];re&&Ee.startTime-Ae.startTime<1e3&&Ee.startTime-Ce.startTime<5e3?(re+=Ee.value,le.push(Ee)):(re=Ee.value,le=[Ee])}}),re>ee.value&&(ee.value=re,ee.entries=le,j())},ge=s("layout-shift",de);ge&&(j=d($,ee,b$1,_.reportAllChanges),p$2(function(){de(ge.takeRecords()),j(!0)}),o(function(){re=0,ee=f("CLS",0),j=d($,ee,b$1,_.reportAllChanges),l$1(function(){return j()})}),setTimeout(j,0))}))},A$1={passive:!0,capture:!0},I$1=new Date,P$1=function($,_){e||(e=_,n=$,t=new Date,k$1(removeEventListener),F$2())},F$2=function(){if(n>=0&&n<t-I$1){var $={entryType:"first-input",name:e.type,target:e.target,cancelable:e.cancelable,startTime:e.timeStamp,processingStart:e.timeStamp+n};i.forEach(function(_){_($)}),i=[]}},M$1=function($){if($.cancelable){var _=($.timeStamp>1e12?new Date:performance.now())-$.timeStamp;$.type=="pointerdown"?function(j,ee){var re=function(){P$1(j,ee),de()},le=function(){de()},de=function(){removeEventListener("pointerup",re,A$1),removeEventListener("pointercancel",le,A$1)};addEventListener("pointerup",re,A$1),addEventListener("pointercancel",le,A$1)}(_,$):P$1(_,$)}},k$1=function($){["mousedown","keydown","touchstart","pointerdown"].forEach(function(_){return $(_,M$1,A$1)})},D$2=[100,300],x$1=function($,_){_=_||{},C$2(function(){var j,ee=E$1(),re=f("FID"),le=function(ve){ve.startTime<ee.firstHiddenTime&&(re.value=ve.processingStart-ve.startTime,re.entries.push(ve),j(!0))},de=function(ve){ve.forEach(le)},ge=s("first-input",de);j=d($,re,D$2,_.reportAllChanges),ge&&p$2(v$2(function(){de(ge.takeRecords()),ge.disconnect()})),ge&&o(function(){var ve;re=f("FID"),j=d($,re,D$2,_.reportAllChanges),i=[],n=-1,e=null,k$1(addEventListener),ve=le,i.push(ve),F$2()})})},U$1=[2500,4e3],V$1={},W$1=function($,_){_=_||{},C$2(function(){var j,ee=E$1(),re=f("LCP"),le=function(ve){var Ee=ve[ve.length-1];Ee&&Ee.startTime<ee.firstHiddenTime&&(re.value=Math.max(Ee.startTime-u(),0),re.entries=[Ee],j())},de=s("largest-contentful-paint",le);if(de){j=d($,re,U$1,_.reportAllChanges);var ge=v$2(function(){V$1[re.id]||(le(de.takeRecords()),de.disconnect(),V$1[re.id]=!0,j(!0))});["keydown","click"].forEach(function(ve){addEventListener(ve,function(){return setTimeout(ge,0)},!0)}),p$2(ge),o(function(ve){re=f("LCP"),j=d($,re,U$1,_.reportAllChanges),l$1(function(){re.value=performance.now()-ve.timeStamp,V$1[re.id]=!0,j(!0)})})}})},X$1=[800,1800],Y$1=function $(_){document.prerendering?C$2(function(){return $(_)}):document.readyState!=="complete"?addEventListener("load",function(){return $(_)},!0):setTimeout(_,0)},Z$1=function($,_){_=_||{};var j=f("TTFB"),ee=d($,j,X$1,_.reportAllChanges);Y$1(function(){var re=c();if(re){var le=re.responseStart;if(le<=0||le>performance.now())return;j.value=Math.max(le-u(),0),j.entries=[re],ee(!0),o(function(){j=f("TTFB",0),(ee=d($,j,X$1,_.reportAllChanges))(!0)})}})};const senderForType=$=>function(_){sendMetrics(makePayload([{key:$,value:_.value}]))},initWebVitals=()=>{S$2(senderForType(MetricType.CLS)),x$1(senderForType(MetricType.FID)),W$1(senderForType(MetricType.LCP)),w$1(senderForType(MetricType.FCP)),Z$1(senderForType(MetricType.TTFB))};initNavigationItem();initWebVitals();/*! js-cookie v3.0.5 | MIT */function assign$3($){for(var _=1;_<arguments.length;_++){var j=arguments[_];for(var ee in j)$[ee]=j[ee]}return $}var defaultConverter={read:function($){return $[0]==='"'&&($=$.slice(1,-1)),$.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function($){return encodeURIComponent($).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init$2($,_){function j(re,le,de){if(!(typeof document>"u")){de=assign$3({},_,de),typeof de.expires=="number"&&(de.expires=new Date(Date.now()+de.expires*864e5)),de.expires&&(de.expires=de.expires.toUTCString()),re=encodeURIComponent(re).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var ge="";for(var ve in de)de[ve]&&(ge+="; "+ve,de[ve]!==!0&&(ge+="="+de[ve].split(";")[0]));return document.cookie=re+"="+$.write(le,re)+ge}}function ee(re){if(!(typeof document>"u"||arguments.length&&!re)){for(var le=document.cookie?document.cookie.split("; "):[],de={},ge=0;ge<le.length;ge++){var ve=le[ge].split("="),Ee=ve.slice(1).join("=");try{var Ce=decodeURIComponent(ve[0]);if(de[Ce]=$.read(Ee,Ce),re===Ce)break}catch{}}return re?de[re]:de}}return Object.create({set:j,get:ee,remove:function(re,le){j(re,"",assign$3({},le,{expires:-1}))},withAttributes:function(re){return init$2(this.converter,assign$3({},this.attributes,re))},withConverter:function(re){return init$2(assign$3({},this.converter,re),this.attributes)}},{attributes:{value:Object.freeze(_)},converter:{value:Object.freeze($)}})}var api=init$2(defaultConverter,{path:"/"}),Client=class{constructor($,_){this.url=$,this.fetcher=_}async fetch($,_,j=!1){const ee="POST",re={"Content-Type":"application/json","x-client-user-agent":"nu.nl/1.1 (web,5.0;1;100x100@1)"},le={...$};return new Promise(async(de,ge)=>{var ve,Ee;try{j||delete le.query;const Ce=await this.fetcher(this.url,{method:ee,headers:re,body:JSON.stringify(le)});if(!Ce.ok)throw new Error("Received error "+Ce.status+": "+Ce.statusText);const{data:Ae,errors:Se}=Ce.json;if(Se&&Se.length>0)if(Se.find(ke=>ke.message==="PersistedQueryNotFound")){const ke=await this.fetch($,_,!0);de(ke)}else throw new Error("Unhandled GraphQL error");else{const ke=_(Ae);if(ke)de(ke);else throw new Error("Empty response.")}}catch(Ce){ge(((Ee=(ve=Ce.response)==null?void 0:ve.data)==null?void 0:Ee.errors)||[Ce])}})}async changedBlocksByLiveblogId($){const re={query:"query ChangedBlocksByLiveblogId ($id: ID!) { changedBlocksByLiveblogId (id: $id) { __typename successState modifications{ __typename ... on BlockRemovalByGroupIdActionResponse { groupIds successState } ... on BlockReplacementByIdActionResponse { blockId successState blocks {...Block} } } } } fragment Block on Block { __typename groupIds id displayRule{ __typename ... on VariableEqualsRule { variableName variableValue } ... on VariableNotEqualsRule { variableName variableValue } } ... on AudioBlock { embedUrl } ... on BannerBlock { showOnDesktop showOnMobile slotName } ... on ButtonBarBlock { buttonBarPresentationStyle buttonsPresentationStyle buttons{ __typename linkWidth backgroundColorTheme {...ColorTheme} target {...TargetInception} title {...StyledText} } } ... on CarouselLinkBlock { legacySlideshowName viewAspectRatio links {...Link} } ... on ClientSideTimelineBlock { timelineId } ... on CommentBlock { likes replies commentText {...StyledText} dateLabel {...StyledText} likesText {...StyledText} repliesText {...StyledText} respondText {...StyledText} target {...TargetInception} username {...StyledText} usernameLabel{ __typename text {...StyledText} } } ... on ContainerBlock { sideLoadedBlockIds webContainerFlavor{ __typename ... on ArticleMetaContainer { location } ... on ContentListContainer { header template theme GTMTrackers {...GTMTrackers} } ... on StyledWebContainer { cssClass tag attributes{ __typename key value } } } } ... on DetailBlock { summary updatedAt icon {...Image} title {...StyledText} } ... on EmbedBlock { blockFlavor{ __typename ... on InfographicEmbedBlockFlavor { copyright heightHint provider providerUrl url usePym themedUrl{ __typename dark light } } ... on TrackingPixelEmbedBlockFlavor { embedCode } ... on TrackingPixelFlavor { url } ... on TwitterEmbedBlockFlavor { align cards conversation tweetId width } ... on WebEmbedBlockFlavor { embedCode heightHint url } } } ... on ErrorBlock { errorIdentifier message } ... on FormElementBlock { groupId inputValue borderColorTheme {...ColorTheme} fieldLabel {...StyledText} formElementFlavor{ __typename ... on TextFieldFlavor { borderWidth cornerRadius maxlength placeholder borderColorTheme {...ColorTheme} placeholderText {...StyledText} } } target {...TargetInception} value {...StyledText} } ... on HeaderBlock { headerLevel theme subtitle {...StyledText} target {...TargetInception} title {...StyledText} titlePrefixIcon {...Image} titleSuffixIcon {...Image} } ... on ImageBlock { imageStyle image {...Image} imageFlavor{ __typename ... on ArticleHeadImageFlavor { label {...StyledText} title {...StyledText} } ... on FigureImageFlavor { caption {...StyledText} copyright {...StyledText} } ... on SizedImageFlavor { height width } } target {...TargetInception} title {...StyledText} } ... on LinkBlock { grid template type link {...Link} } ... on MenuItemBlock { active icon {...Image} target {...TargetInception} title {...StyledText} } ... on ScoreboardBlock { activeWidgets{ __typename widgetId widgetSetId } widgetSets{ __typename id icon {...Image} title {...StyledText} widgets{ __typename ... on GraceNoteWidget { id leagueId matchId season title {...StyledText} } } } } ... on SourceBlock { icon {...Image} target {...TargetInception} title {...StyledText} } ... on TextBlock { readStateId textRole styledText {...StyledText} textFlavor{ __typename ... on IconTextFlavor { linkAlignment prefixIcon {...Image} suffixIcon {...Image} } ... on LabelTextFlavor { backgroundColor {...ColorTheme} prefixIcon {...Image} suffixIcon {...Image} } ... on LabeledListItemTextFlavor { leftPadding label {...StyledText} } ... on ListItemTextFlavor { leftPadding bulletColorTheme {...ColorTheme} } ... on SponsoredByTextFlavor { brandIcon {...Image} } } } ... on VideoBlock { caption createdAt duration isLivestream mediaId previewImage {...Image} title {...StyledText} videoFlavor{ __typename ... on ArticleHeaderVideoFlavor { caption createdAt } } videoPlayerFlavor{ __typename ... on EmbedPlayerFlavor { embedCode url } ... on JWPlayerFlavor { adSectionName disableAds playlist } ... on YouTubePlayerFlavor { url } } } ... on WidgetBarBlock { label updatedAt widgetBarStyle widgetBarIcons{ __typename label image {...Image} target {...TargetInception} } } ... on WidgetLinkBlock { link {...Link} } } fragment Link on Link { __typename groupIds linkFlavor{ __typename ... on ButtonLinkFlavor { alignment borderWidth cornerRadius linkWidth backgroundColorTheme {...ColorTheme} borderColorTheme {...ColorTheme} prefixIcon {...Image} suffixIcon {...Image} } ... on CTALinkFlavor { cta {...StyledText} icon {...Image} title {...StyledText} } ... on CTAWithLargeTextLinkFlavor { body {...StyledText} cta {...StyledText} icon {...Image} } ... on ImageLinkFlavor { image {...Image} } ... on LargeArticleLinkFlavor { estimatedDuration publishedAt icon {...Image} image {...Image} label {...StyledText} labelSuffixIcon {...Image} } ... on MoreLinkFlavor { theme chevronColorTheme {...ColorTheme} } ... on RightIconButtonLinkFlavor { buttonIcon {...Image} icon {...Image} label {...StyledText} } ... on SmallArticleLinkFlavor { estimatedDuration isPartner publishedAt brandIcon {...Image} byline {...StyledText} icon {...Image} image {...Image} label {...StyledText} } ... on SubtitleLinkFlavor { prefixIcon {...Image} subtitle {...StyledText} suffixIcon {...Image} } ... on TextLinkFlavor { linkWidth prefixIcon {...Image} suffixIcon {...Image} } ... on TimelineLinkFlavor { estimatedDuration brandIcon {...Image} byline {...StyledText} colorTheme {...ColorTheme} icon {...Image} image {...Image} label {...StyledText} } ... on ToggleLinkFlavor { enabled icon {...Image} subTitle {...StyledText} } } target {...TargetInception} title {...StyledText} } fragment StyledText on StyledText { __typename text textType linkTargets{ __typename id url target {...TargetInception} } } fragment Target on Target { __typename GTMTrackers {...GTMTrackers} ... on PushSubscribeTarget { pushTag successMessage } } fragment TargetInception on Target { ...Target ... on ActionMenuTarget { actionMenuId } ... on AudioTarget { audioId audioType createdAt duration id shareUrl title updatedAt url thumbnailMedia {...Image} } ... on ConsentTarget { trackers {...TargetTrackers} } ... on ContributionTarget { articleId } ... on FormSubmitTarget { groupId tagIds trackers {...TargetTrackers} } ... on InternalBlockTarget { blockId } ... on JWPlayerVideoTarget { shareUrl } ... on LoginTarget { failureTrackers {...TrackingEvent} successTrackers {...TrackingEvent} trackers {...TargetTrackers} } ... on LogoutTarget { failureTrackers {...TrackingEvent} successTrackers {...TrackingEvent} trackers {...TargetTrackers} } ... on PushSubscribeTarget { pushTag successMessage } ... on RemoteTarget { action permissions } ... on ScreenTarget { targetId url } ... on SetVariablesTarget { variables{ __typename name value } } ... on ShareTarget { shareText } ... on SlideshowTarget { id slideId } ... on UrlTarget { relation url } ... on VideoTarget { shareUrl } } fragment TargetTrackers on TargetTrackers { __typename activate {...TrackingEvent} } fragment TrackingEvent on TrackingEvent { __typename trackOnceId timerSettings{ __typename minimalTimeThreshold startPolicy stopPolicy timerId timerLeavePolicy timerPolicy } ... on BFFEvent { data eventType } ... on CookieEvent { cookieMaxAge cookieName cookieOperation cookieValue } ... on CxenseEvent { appPlatform category loc shareUrl title } ... on DataLayerScreenViewEvent { eventName fields{ __typename key value } } ... on FirebaseScreenViewEvent { eventName fields{ __typename key value } } ... on FirebaseTrackingEvent { eventName fields{ __typename key value } } ... on GoogleEvent { action alibi category label value customDimensions {...GoogleIndexedParam} customMetrics {...GoogleIndexedParam} customParams{ __typename key value } } ... on GooglePageviewEvent { alibi page } ... on HttpEvent { body method url headers{ __typename name value } } ... on NoboEvent { isFrontpage screen fields{ __typename key value } } ... on PipTrackingEvent { dpgCampaign dpgContent dpgMedium dpgSource dpgTerm } ... on ReadStateEvent { readStateId } ... on SacEvent { action category label value } ... on SacPageviewEvent { fields{ __typename key value } } ... on SetVariableEvent { variableName variableValue } ... on UsabillaEvent { action category label } } fragment GoogleIndexedParam on GoogleIndexedParam { __typename index value } fragment Image on Image { __typename copyright description id title url viewAspectRatio ... on GenericImage { mediaId } ... on Graphic { name tintColor {...ColorTheme} } ... on LottieAnimation { autoplay cornerRadius count loop repeatMode speed src backgroundColorTheme {...ColorTheme} } } fragment ColorTheme on ColorTheme { __typename id } fragment GTMTrackers on GTMTrackers { __typename click{ __typename action category contentId element isAlgorithmicItem itemId itemLabel itemUrl label list position teaserTitle teaserType } view{ __typename event data{ __typename key value } } }",extensions:{persistedQuery:{sha256Hash:"1e4b6c3ff8d4f428b14691af90684affa53d738ee76f43e56cf048631e46f4eb",version:1}},operationName:"ChangedBlocksByLiveblogId",variables:{id:$}},le=de=>de.changedBlocksByLiveblogId;return this.fetch(re,le)}async colorThemes(){const ee={query:"query ColorThemes { colorThemes { __typename id } }",extensions:{persistedQuery:{sha256Hash:"a58790fbd75f9690ee932eafe0f3e59d29870be83cadb5235481950c058b5551",version:1}},operationName:"ColorThemes",variables:{}},re=le=>le.colorThemes;return this.fetch(ee,re)}async fontInfo($){const re={query:"query FontInfo ($id: ID!) { fontInfo (id: $id) { __typename id ttf } }",extensions:{persistedQuery:{sha256Hash:"f4d8ec974763688d49b073b4b6c44ac826f55f44b3f4df98ca512c447ef09c08",version:1}},operationName:"FontInfo",variables:{id:$}},le=de=>de.fontInfo;return this.fetch(re,le)}async menus(){const ee={query:"query Menus { menus { __typename footerEditorials {...MenuItem} mainMenu {...MenuItem} mainMenuEditorials {...MenuItem} sectionsMenu {...MenuItem} siteOverview {...MenuItem} } } fragment MenuItem on MenuItem { __typename theme title url items{ __typename theme title url } }",extensions:{persistedQuery:{sha256Hash:"0f48166fdefd4f92de57cc99caac22cd4bd2d27e3a614f419acc0f6f2956a287",version:1}},operationName:"Menus",variables:{}},re=le=>le.menus;return this.fetch(ee,re)}async recommendationsByArticleID($){const re={query:"query RecommendationsByArticleID ($id: ID!) { recommendationsByArticleID (id: $id) { __typename blocks {...Block} sideLoadedBlocks {...Block} sidebarBlocks {...Block} topzoneBlocks {...Block} } } fragment Block on Block { __typename groupIds id displayRule{ __typename ... on VariableEqualsRule { variableName variableValue } ... on VariableNotEqualsRule { variableName variableValue } } ... on AudioBlock { embedUrl } ... on BannerBlock { showOnDesktop showOnMobile slotName } ... on ButtonBarBlock { buttonBarPresentationStyle buttonsPresentationStyle buttons{ __typename linkWidth backgroundColorTheme {...ColorTheme} target {...TargetInception} title {...StyledText} } } ... on CarouselLinkBlock { legacySlideshowName viewAspectRatio links {...Link} } ... on ClientSideTimelineBlock { timelineId } ... on CommentBlock { likes replies commentText {...StyledText} dateLabel {...StyledText} likesText {...StyledText} repliesText {...StyledText} respondText {...StyledText} target {...TargetInception} username {...StyledText} usernameLabel{ __typename text {...StyledText} } } ... on ContainerBlock { sideLoadedBlockIds webContainerFlavor{ __typename ... on ArticleMetaContainer { location } ... on ContentListContainer { header template theme GTMTrackers {...GTMTrackers} } ... on StyledWebContainer { cssClass tag attributes{ __typename key value } } } } ... on DetailBlock { summary updatedAt icon {...Image} title {...StyledText} } ... on EmbedBlock { blockFlavor{ __typename ... on InfographicEmbedBlockFlavor { copyright heightHint provider providerUrl url usePym themedUrl{ __typename dark light } } ... on TrackingPixelEmbedBlockFlavor { embedCode } ... on TrackingPixelFlavor { url } ... on TwitterEmbedBlockFlavor { align cards conversation tweetId width } ... on WebEmbedBlockFlavor { embedCode heightHint url } } } ... on ErrorBlock { errorIdentifier message } ... on FormElementBlock { groupId inputValue borderColorTheme {...ColorTheme} fieldLabel {...StyledText} formElementFlavor{ __typename ... on TextFieldFlavor { borderWidth cornerRadius maxlength placeholder borderColorTheme {...ColorTheme} placeholderText {...StyledText} } } target {...TargetInception} value {...StyledText} } ... on HeaderBlock { headerLevel theme subtitle {...StyledText} target {...TargetInception} title {...StyledText} titlePrefixIcon {...Image} titleSuffixIcon {...Image} } ... on ImageBlock { imageStyle image {...Image} imageFlavor{ __typename ... on ArticleHeadImageFlavor { label {...StyledText} title {...StyledText} } ... on FigureImageFlavor { caption {...StyledText} copyright {...StyledText} } ... on SizedImageFlavor { height width } } target {...TargetInception} title {...StyledText} } ... on LinkBlock { grid template type link {...Link} } ... on MenuItemBlock { active icon {...Image} target {...TargetInception} title {...StyledText} } ... on ScoreboardBlock { activeWidgets{ __typename widgetId widgetSetId } widgetSets{ __typename id icon {...Image} title {...StyledText} widgets{ __typename ... on GraceNoteWidget { id leagueId matchId season title {...StyledText} } } } } ... on SourceBlock { icon {...Image} target {...TargetInception} title {...StyledText} } ... on TextBlock { readStateId textRole styledText {...StyledText} textFlavor{ __typename ... on IconTextFlavor { linkAlignment prefixIcon {...Image} suffixIcon {...Image} } ... on LabelTextFlavor { backgroundColor {...ColorTheme} prefixIcon {...Image} suffixIcon {...Image} } ... on LabeledListItemTextFlavor { leftPadding label {...StyledText} } ... on ListItemTextFlavor { leftPadding bulletColorTheme {...ColorTheme} } ... on SponsoredByTextFlavor { brandIcon {...Image} } } } ... on VideoBlock { caption createdAt duration isLivestream mediaId previewImage {...Image} title {...StyledText} videoFlavor{ __typename ... on ArticleHeaderVideoFlavor { caption createdAt } } videoPlayerFlavor{ __typename ... on EmbedPlayerFlavor { embedCode url } ... on JWPlayerFlavor { adSectionName disableAds playlist } ... on YouTubePlayerFlavor { url } } } ... on WidgetBarBlock { label updatedAt widgetBarStyle widgetBarIcons{ __typename label image {...Image} target {...TargetInception} } } ... on WidgetLinkBlock { link {...Link} } } fragment Link on Link { __typename groupIds linkFlavor{ __typename ... on ButtonLinkFlavor { alignment borderWidth cornerRadius linkWidth backgroundColorTheme {...ColorTheme} borderColorTheme {...ColorTheme} prefixIcon {...Image} suffixIcon {...Image} } ... on CTALinkFlavor { cta {...StyledText} icon {...Image} title {...StyledText} } ... on CTAWithLargeTextLinkFlavor { body {...StyledText} cta {...StyledText} icon {...Image} } ... on ImageLinkFlavor { image {...Image} } ... on LargeArticleLinkFlavor { estimatedDuration publishedAt icon {...Image} image {...Image} label {...StyledText} labelSuffixIcon {...Image} } ... on MoreLinkFlavor { theme chevronColorTheme {...ColorTheme} } ... on RightIconButtonLinkFlavor { buttonIcon {...Image} icon {...Image} label {...StyledText} } ... on SmallArticleLinkFlavor { estimatedDuration isPartner publishedAt brandIcon {...Image} byline {...StyledText} icon {...Image} image {...Image} label {...StyledText} } ... on SubtitleLinkFlavor { prefixIcon {...Image} subtitle {...StyledText} suffixIcon {...Image} } ... on TextLinkFlavor { linkWidth prefixIcon {...Image} suffixIcon {...Image} } ... on TimelineLinkFlavor { estimatedDuration brandIcon {...Image} byline {...StyledText} colorTheme {...ColorTheme} icon {...Image} image {...Image} label {...StyledText} } ... on ToggleLinkFlavor { enabled icon {...Image} subTitle {...StyledText} } } target {...TargetInception} title {...StyledText} } fragment StyledText on StyledText { __typename text textType linkTargets{ __typename id url target {...TargetInception} } } fragment Target on Target { __typename GTMTrackers {...GTMTrackers} ... on PushSubscribeTarget { pushTag successMessage } } fragment TargetInception on Target { ...Target ... on ActionMenuTarget { actionMenuId } ... on AudioTarget { audioId audioType createdAt duration id shareUrl title updatedAt url thumbnailMedia {...Image} } ... on ConsentTarget { trackers {...TargetTrackers} } ... on ContributionTarget { articleId } ... on FormSubmitTarget { groupId tagIds trackers {...TargetTrackers} } ... on InternalBlockTarget { blockId } ... on JWPlayerVideoTarget { shareUrl } ... on LoginTarget { failureTrackers {...TrackingEvent} successTrackers {...TrackingEvent} trackers {...TargetTrackers} } ... on LogoutTarget { failureTrackers {...TrackingEvent} successTrackers {...TrackingEvent} trackers {...TargetTrackers} } ... on PushSubscribeTarget { pushTag successMessage } ... on RemoteTarget { action permissions } ... on ScreenTarget { targetId url } ... on SetVariablesTarget { variables{ __typename name value } } ... on ShareTarget { shareText } ... on SlideshowTarget { id slideId } ... on UrlTarget { relation url } ... on VideoTarget { shareUrl } } fragment TargetTrackers on TargetTrackers { __typename activate {...TrackingEvent} } fragment TrackingEvent on TrackingEvent { __typename trackOnceId timerSettings{ __typename minimalTimeThreshold startPolicy stopPolicy timerId timerLeavePolicy timerPolicy } ... on BFFEvent { data eventType } ... on CookieEvent { cookieMaxAge cookieName cookieOperation cookieValue } ... on CxenseEvent { appPlatform category loc shareUrl title } ... on DataLayerScreenViewEvent { eventName fields{ __typename key value } } ... on FirebaseScreenViewEvent { eventName fields{ __typename key value } } ... on FirebaseTrackingEvent { eventName fields{ __typename key value } } ... on GoogleEvent { action alibi category label value customDimensions {...GoogleIndexedParam} customMetrics {...GoogleIndexedParam} customParams{ __typename key value } } ... on GooglePageviewEvent { alibi page } ... on HttpEvent { body method url headers{ __typename name value } } ... on NoboEvent { isFrontpage screen fields{ __typename key value } } ... on PipTrackingEvent { dpgCampaign dpgContent dpgMedium dpgSource dpgTerm } ... on ReadStateEvent { readStateId } ... on SacEvent { action category label value } ... on SacPageviewEvent { fields{ __typename key value } } ... on SetVariableEvent { variableName variableValue } ... on UsabillaEvent { action category label } } fragment GoogleIndexedParam on GoogleIndexedParam { __typename index value } fragment Image on Image { __typename copyright description id title url viewAspectRatio ... on GenericImage { mediaId } ... on Graphic { name tintColor {...ColorTheme} } ... on LottieAnimation { autoplay cornerRadius count loop repeatMode speed src backgroundColorTheme {...ColorTheme} } } fragment ColorTheme on ColorTheme { __typename id } fragment GTMTrackers on GTMTrackers { __typename click{ __typename action category contentId element isAlgorithmicItem itemId itemLabel itemUrl label list position teaserTitle teaserType } view{ __typename event data{ __typename key value } } }",extensions:{persistedQuery:{sha256Hash:"f9e7d35c1857a2006d3e78c2981dbf52b9453f1524f2468771d3d52d6bc4da93",version:1}},operationName:"RecommendationsByArticleID",variables:{id:$}},le=de=>de.recommendationsByArticleID;return this.fetch(re,le)}async recommendedArticles($){const re={query:"query RecommendedArticles ($url: Url!) { recommendedArticles (url: $url) { __typename blocks {...Block} sideLoadedBlocks {...Block} sidebarBlocks {...Block} topzoneBlocks {...Block} } } fragment Block on Block { __typename groupIds id displayRule{ __typename ... on VariableEqualsRule { variableName variableValue } ... on VariableNotEqualsRule { variableName variableValue } } ... on AudioBlock { embedUrl } ... on BannerBlock { showOnDesktop showOnMobile slotName } ... on ButtonBarBlock { buttonBarPresentationStyle buttonsPresentationStyle buttons{ __typename linkWidth backgroundColorTheme {...ColorTheme} target {...TargetInception} title {...StyledText} } } ... on CarouselLinkBlock { legacySlideshowName viewAspectRatio links {...Link} } ... on ClientSideTimelineBlock { timelineId } ... on CommentBlock { likes replies commentText {...StyledText} dateLabel {...StyledText} likesText {...StyledText} repliesText {...StyledText} respondText {...StyledText} target {...TargetInception} username {...StyledText} usernameLabel{ __typename text {...StyledText} } } ... on ContainerBlock { sideLoadedBlockIds webContainerFlavor{ __typename ... on ArticleMetaContainer { location } ... on ContentListContainer { header template theme GTMTrackers {...GTMTrackers} } ... on StyledWebContainer { cssClass tag attributes{ __typename key value } } } } ... on DetailBlock { summary updatedAt icon {...Image} title {...StyledText} } ... on EmbedBlock { blockFlavor{ __typename ... on InfographicEmbedBlockFlavor { copyright heightHint provider providerUrl url usePym themedUrl{ __typename dark light } } ... on TrackingPixelEmbedBlockFlavor { embedCode } ... on TrackingPixelFlavor { url } ... on TwitterEmbedBlockFlavor { align cards conversation tweetId width } ... on WebEmbedBlockFlavor { embedCode heightHint url } } } ... on ErrorBlock { errorIdentifier message } ... on FormElementBlock { groupId inputValue borderColorTheme {...ColorTheme} fieldLabel {...StyledText} formElementFlavor{ __typename ... on TextFieldFlavor { borderWidth cornerRadius maxlength placeholder borderColorTheme {...ColorTheme} placeholderText {...StyledText} } } target {...TargetInception} value {...StyledText} } ... on HeaderBlock { headerLevel theme subtitle {...StyledText} target {...TargetInception} title {...StyledText} titlePrefixIcon {...Image} titleSuffixIcon {...Image} } ... on ImageBlock { imageStyle image {...Image} imageFlavor{ __typename ... on ArticleHeadImageFlavor { label {...StyledText} title {...StyledText} } ... on FigureImageFlavor { caption {...StyledText} copyright {...StyledText} } ... on SizedImageFlavor { height width } } target {...TargetInception} title {...StyledText} } ... on LinkBlock { grid template type link {...Link} } ... on MenuItemBlock { active icon {...Image} target {...TargetInception} title {...StyledText} } ... on ScoreboardBlock { activeWidgets{ __typename widgetId widgetSetId } widgetSets{ __typename id icon {...Image} title {...StyledText} widgets{ __typename ... on GraceNoteWidget { id leagueId matchId season title {...StyledText} } } } } ... on SourceBlock { icon {...Image} target {...TargetInception} title {...StyledText} } ... on TextBlock { readStateId textRole styledText {...StyledText} textFlavor{ __typename ... on IconTextFlavor { linkAlignment prefixIcon {...Image} suffixIcon {...Image} } ... on LabelTextFlavor { backgroundColor {...ColorTheme} prefixIcon {...Image} suffixIcon {...Image} } ... on LabeledListItemTextFlavor { leftPadding label {...StyledText} } ... on ListItemTextFlavor { leftPadding bulletColorTheme {...ColorTheme} } ... on SponsoredByTextFlavor { brandIcon {...Image} } } } ... on VideoBlock { caption createdAt duration isLivestream mediaId previewImage {...Image} title {...StyledText} videoFlavor{ __typename ... on ArticleHeaderVideoFlavor { caption createdAt } } videoPlayerFlavor{ __typename ... on EmbedPlayerFlavor { embedCode url } ... on JWPlayerFlavor { adSectionName disableAds playlist } ... on YouTubePlayerFlavor { url } } } ... on WidgetBarBlock { label updatedAt widgetBarStyle widgetBarIcons{ __typename label image {...Image} target {...TargetInception} } } ... on WidgetLinkBlock { link {...Link} } } fragment Link on Link { __typename groupIds linkFlavor{ __typename ... on ButtonLinkFlavor { alignment borderWidth cornerRadius linkWidth backgroundColorTheme {...ColorTheme} borderColorTheme {...ColorTheme} prefixIcon {...Image} suffixIcon {...Image} } ... on CTALinkFlavor { cta {...StyledText} icon {...Image} title {...StyledText} } ... on CTAWithLargeTextLinkFlavor { body {...StyledText} cta {...StyledText} icon {...Image} } ... on ImageLinkFlavor { image {...Image} } ... on LargeArticleLinkFlavor { estimatedDuration publishedAt icon {...Image} image {...Image} label {...StyledText} labelSuffixIcon {...Image} } ... on MoreLinkFlavor { theme chevronColorTheme {...ColorTheme} } ... on RightIconButtonLinkFlavor { buttonIcon {...Image} icon {...Image} label {...StyledText} } ... on SmallArticleLinkFlavor { estimatedDuration isPartner publishedAt brandIcon {...Image} byline {...StyledText} icon {...Image} image {...Image} label {...StyledText} } ... on SubtitleLinkFlavor { prefixIcon {...Image} subtitle {...StyledText} suffixIcon {...Image} } ... on TextLinkFlavor { linkWidth prefixIcon {...Image} suffixIcon {...Image} } ... on TimelineLinkFlavor { estimatedDuration brandIcon {...Image} byline {...StyledText} colorTheme {...ColorTheme} icon {...Image} image {...Image} label {...StyledText} } ... on ToggleLinkFlavor { enabled icon {...Image} subTitle {...StyledText} } } target {...TargetInception} title {...StyledText} } fragment StyledText on StyledText { __typename text textType linkTargets{ __typename id url target {...TargetInception} } } fragment Target on Target { __typename GTMTrackers {...GTMTrackers} ... on PushSubscribeTarget { pushTag successMessage } } fragment TargetInception on Target { ...Target ... on ActionMenuTarget { actionMenuId } ... on AudioTarget { audioId audioType createdAt duration id shareUrl title updatedAt url thumbnailMedia {...Image} } ... on ConsentTarget { trackers {...TargetTrackers} } ... on ContributionTarget { articleId } ... on FormSubmitTarget { groupId tagIds trackers {...TargetTrackers} } ... on InternalBlockTarget { blockId } ... on JWPlayerVideoTarget { shareUrl } ... on LoginTarget { failureTrackers {...TrackingEvent} successTrackers {...TrackingEvent} trackers {...TargetTrackers} } ... on LogoutTarget { failureTrackers {...TrackingEvent} successTrackers {...TrackingEvent} trackers {...TargetTrackers} } ... on PushSubscribeTarget { pushTag successMessage } ... on RemoteTarget { action permissions } ... on ScreenTarget { targetId url } ... on SetVariablesTarget { variables{ __typename name value } } ... on ShareTarget { shareText } ... on SlideshowTarget { id slideId } ... on UrlTarget { relation url } ... on VideoTarget { shareUrl } } fragment TargetTrackers on TargetTrackers { __typename activate {...TrackingEvent} } fragment TrackingEvent on TrackingEvent { __typename trackOnceId timerSettings{ __typename minimalTimeThreshold startPolicy stopPolicy timerId timerLeavePolicy timerPolicy } ... on BFFEvent { data eventType } ... on CookieEvent { cookieMaxAge cookieName cookieOperation cookieValue } ... on CxenseEvent { appPlatform category loc shareUrl title } ... on DataLayerScreenViewEvent { eventName fields{ __typename key value } } ... on FirebaseScreenViewEvent { eventName fields{ __typename key value } } ... on FirebaseTrackingEvent { eventName fields{ __typename key value } } ... on GoogleEvent { action alibi category label value customDimensions {...GoogleIndexedParam} customMetrics {...GoogleIndexedParam} customParams{ __typename key value } } ... on GooglePageviewEvent { alibi page } ... on HttpEvent { body method url headers{ __typename name value } } ... on NoboEvent { isFrontpage screen fields{ __typename key value } } ... on PipTrackingEvent { dpgCampaign dpgContent dpgMedium dpgSource dpgTerm } ... on ReadStateEvent { readStateId } ... on SacEvent { action category label value } ... on SacPageviewEvent { fields{ __typename key value } } ... on SetVariableEvent { variableName variableValue } ... on UsabillaEvent { action category label } } fragment GoogleIndexedParam on GoogleIndexedParam { __typename index value } fragment Image on Image { __typename copyright description id title url viewAspectRatio ... on GenericImage { mediaId } ... on Graphic { name tintColor {...ColorTheme} } ... on LottieAnimation { autoplay cornerRadius count loop repeatMode speed src backgroundColorTheme {...ColorTheme} } } fragment ColorTheme on ColorTheme { __typename id } fragment GTMTrackers on GTMTrackers { __typename click{ __typename action category contentId element isAlgorithmicItem itemId itemLabel itemUrl label list position teaserTitle teaserType } view{ __typename event data{ __typename key value } } }",extensions:{persistedQuery:{sha256Hash:"e7f432fff7cc0d8b03f88c49fe91d7407845cbaa8032d06c8628058603c71d0a",version:1}},operationName:"RecommendedArticles",variables:{url:$}},le=de=>de.recommendedArticles;return this.fetch(re,le)}async screenByEntryPoint($){const re={query:"query ScreenByEntryPoint ($entryPoint: ScreenEntryPoint!) { screenByEntryPoint (entryPoint: $entryPoint) { __typename commentsCount commentsEnabled id schemaOrgString screenCanonicalUrl sectionTheme title updatedAt actions{ __typename hide {...LocalAction} show {...LocalAction} } advertisementData{ __typename key value } firstBlockPage{ __typename blocks {...Block} sideLoadedBlocks {...Block} sidebarBlocks {...Block} topzoneBlocks {...Block} } grids{ __typename id narrowColumnCount wideColumnCount } httpResponse{ __typename redirectUrl statusCode } primaryColorTheme {...ColorTheme} screenMetadata{ __typename key value } screenOgData{ __typename key value } trackers{ __typename hide {...TrackingEvent} pullRefresh {...TrackingEvent} show {...TrackingEvent} } twitterCardData{ __typename key value } variables {...Variable} } } fragment Variable on Variable { __typename name value } fragment TrackingEvent on TrackingEvent { __typename trackOnceId timerSettings{ __typename minimalTimeThreshold startPolicy stopPolicy timerId timerLeavePolicy timerPolicy } ... on BFFEvent { data eventType } ... on CookieEvent { cookieMaxAge cookieName cookieOperation cookieValue } ... on CxenseEvent { appPlatform category loc shareUrl title } ... on DataLayerScreenViewEvent { eventName fields{ __typename key value } } ... on FirebaseScreenViewEvent { eventName fields{ __typename key value } } ... on FirebaseTrackingEvent { eventName fields{ __typename key value } } ... on GoogleEvent { action alibi category label value customDimensions {...GoogleIndexedParam} customMetrics {...GoogleIndexedParam} customParams{ __typename key value } } ... on GooglePageviewEvent { alibi page } ... on HttpEvent { body method url headers{ __typename name value } } ... on NoboEvent { isFrontpage screen fields{ __typename key value } } ... on PipTrackingEvent { dpgCampaign dpgContent dpgMedium dpgSource dpgTerm } ... on ReadStateEvent { readStateId } ... on SacEvent { action category label value } ... on SacPageviewEvent { fields{ __typename key value } } ... on SetVariableEvent { variableName variableValue } ... on UsabillaEvent { action category label } } fragment GoogleIndexedParam on GoogleIndexedParam { __typename index value } fragment ColorTheme on ColorTheme { __typename id } fragment Block on Block { __typename groupIds id displayRule{ __typename ... on VariableEqualsRule { variableName variableValue } ... on VariableNotEqualsRule { variableName variableValue } } ... on AudioBlock { embedUrl } ... on BannerBlock { showOnDesktop showOnMobile slotName } ... on ButtonBarBlock { buttonBarPresentationStyle buttonsPresentationStyle buttons{ __typename linkWidth backgroundColorTheme {...ColorTheme} target {...TargetInception} title {...StyledText} } } ... on CarouselLinkBlock { legacySlideshowName viewAspectRatio links {...Link} } ... on ClientSideTimelineBlock { timelineId } ... on CommentBlock { likes replies commentText {...StyledText} dateLabel {...StyledText} likesText {...StyledText} repliesText {...StyledText} respondText {...StyledText} target {...TargetInception} username {...StyledText} usernameLabel{ __typename text {...StyledText} } } ... on ContainerBlock { sideLoadedBlockIds webContainerFlavor{ __typename ... on ArticleMetaContainer { location } ... on ContentListContainer { header template theme GTMTrackers {...GTMTrackers} } ... on StyledWebContainer { cssClass tag attributes{ __typename key value } } } } ... on DetailBlock { summary updatedAt icon {...Image} title {...StyledText} } ... on EmbedBlock { blockFlavor{ __typename ... on InfographicEmbedBlockFlavor { copyright heightHint provider providerUrl url usePym themedUrl{ __typename dark light } } ... on TrackingPixelEmbedBlockFlavor { embedCode } ... on TrackingPixelFlavor { url } ... on TwitterEmbedBlockFlavor { align cards conversation tweetId width } ... on WebEmbedBlockFlavor { embedCode heightHint url } } } ... on ErrorBlock { errorIdentifier message } ... on FormElementBlock { groupId inputValue borderColorTheme {...ColorTheme} fieldLabel {...StyledText} formElementFlavor{ __typename ... on TextFieldFlavor { borderWidth cornerRadius maxlength placeholder borderColorTheme {...ColorTheme} placeholderText {...StyledText} } } target {...TargetInception} value {...StyledText} } ... on HeaderBlock { headerLevel theme subtitle {...StyledText} target {...TargetInception} title {...StyledText} titlePrefixIcon {...Image} titleSuffixIcon {...Image} } ... on ImageBlock { imageStyle image {...Image} imageFlavor{ __typename ... on ArticleHeadImageFlavor { label {...StyledText} title {...StyledText} } ... on FigureImageFlavor { caption {...StyledText} copyright {...StyledText} } ... on SizedImageFlavor { height width } } target {...TargetInception} title {...StyledText} } ... on LinkBlock { grid template type link {...Link} } ... on MenuItemBlock { active icon {...Image} target {...TargetInception} title {...StyledText} } ... on ScoreboardBlock { activeWidgets{ __typename widgetId widgetSetId } widgetSets{ __typename id icon {...Image} title {...StyledText} widgets{ __typename ... on GraceNoteWidget { id leagueId matchId season title {...StyledText} } } } } ... on SourceBlock { icon {...Image} target {...TargetInception} title {...StyledText} } ... on TextBlock { readStateId textRole styledText {...StyledText} textFlavor{ __typename ... on IconTextFlavor { linkAlignment prefixIcon {...Image} suffixIcon {...Image} } ... on LabelTextFlavor { backgroundColor {...ColorTheme} prefixIcon {...Image} suffixIcon {...Image} } ... on LabeledListItemTextFlavor { leftPadding label {...StyledText} } ... on ListItemTextFlavor { leftPadding bulletColorTheme {...ColorTheme} } ... on SponsoredByTextFlavor { brandIcon {...Image} } } } ... on VideoBlock { caption createdAt duration isLivestream mediaId previewImage {...Image} title {...StyledText} videoFlavor{ __typename ... on ArticleHeaderVideoFlavor { caption createdAt } } videoPlayerFlavor{ __typename ... on EmbedPlayerFlavor { embedCode url } ... on JWPlayerFlavor { adSectionName disableAds playlist } ... on YouTubePlayerFlavor { url } } } ... on WidgetBarBlock { label updatedAt widgetBarStyle widgetBarIcons{ __typename label image {...Image} target {...TargetInception} } } ... on WidgetLinkBlock { link {...Link} } } fragment Link on Link { __typename groupIds linkFlavor{ __typename ... on ButtonLinkFlavor { alignment borderWidth cornerRadius linkWidth backgroundColorTheme {...ColorTheme} borderColorTheme {...ColorTheme} prefixIcon {...Image} suffixIcon {...Image} } ... on CTALinkFlavor { cta {...StyledText} icon {...Image} title {...StyledText} } ... on CTAWithLargeTextLinkFlavor { body {...StyledText} cta {...StyledText} icon {...Image} } ... on ImageLinkFlavor { image {...Image} } ... on LargeArticleLinkFlavor { estimatedDuration publishedAt icon {...Image} image {...Image} label {...StyledText} labelSuffixIcon {...Image} } ... on MoreLinkFlavor { theme chevronColorTheme {...ColorTheme} } ... on RightIconButtonLinkFlavor { buttonIcon {...Image} icon {...Image} label {...StyledText} } ... on SmallArticleLinkFlavor { estimatedDuration isPartner publishedAt brandIcon {...Image} byline {...StyledText} icon {...Image} image {...Image} label {...StyledText} } ... on SubtitleLinkFlavor { prefixIcon {...Image} subtitle {...StyledText} suffixIcon {...Image} } ... on TextLinkFlavor { linkWidth prefixIcon {...Image} suffixIcon {...Image} } ... on TimelineLinkFlavor { estimatedDuration brandIcon {...Image} byline {...StyledText} colorTheme {...ColorTheme} icon {...Image} image {...Image} label {...StyledText} } ... on ToggleLinkFlavor { enabled icon {...Image} subTitle {...StyledText} } } target {...TargetInception} title {...StyledText} } fragment StyledText on StyledText { __typename text textType linkTargets{ __typename id url target {...TargetInception} } } fragment Target on Target { __typename GTMTrackers {...GTMTrackers} ... on PushSubscribeTarget { pushTag successMessage } } fragment TargetInception on Target { ...Target ... on ActionMenuTarget { actionMenuId } ... on AudioTarget { audioId audioType createdAt duration id shareUrl title updatedAt url thumbnailMedia {...Image} } ... on ConsentTarget { trackers {...TargetTrackers} } ... on ContributionTarget { articleId } ... on FormSubmitTarget { groupId tagIds trackers {...TargetTrackers} } ... on InternalBlockTarget { blockId } ... on JWPlayerVideoTarget { shareUrl } ... on LoginTarget { failureTrackers {...TrackingEvent} successTrackers {...TrackingEvent} trackers {...TargetTrackers} } ... on LogoutTarget { failureTrackers {...TrackingEvent} successTrackers {...TrackingEvent} trackers {...TargetTrackers} } ... on PushSubscribeTarget { pushTag successMessage } ... on RemoteTarget { action permissions } ... on ScreenTarget { targetId url } ... on SetVariablesTarget { variables {...Variable} } ... on ShareTarget { shareText } ... on SlideshowTarget { id slideId } ... on UrlTarget { relation url } ... on VideoTarget { shareUrl } } fragment TargetTrackers on TargetTrackers { __typename activate {...TrackingEvent} } fragment Image on Image { __typename copyright description id title url viewAspectRatio ... on GenericImage { mediaId } ... on Graphic { name tintColor {...ColorTheme} } ... on LottieAnimation { autoplay cornerRadius count loop repeatMode speed src backgroundColorTheme {...ColorTheme} } } fragment GTMTrackers on GTMTrackers { __typename click{ __typename action category contentId element isAlgorithmicItem itemId itemLabel itemUrl label list position teaserTitle teaserType } view{ __typename event data{ __typename key value } } } fragment LocalAction on LocalAction { __typename executeOnceId ... on LiveDataConnectionAction { actionHandler liveDataEventSource{ __typename ... on FirebaseRealTimeDataEventSource { connectionString itemId addTarget {...TargetInception} removeTarget {...TargetInception} updateTarget {...TargetInception} } } } }",extensions:{persistedQuery:{sha256Hash:"f3528b9c6434a07501eca3c2760360c43c7a569b3bb2d0c5bf7b950e849f6de7",version:1}},operationName:"ScreenByEntryPoint",variables:{entryPoint:$}},le=de=>de.screenByEntryPoint;return this.fetch(re,le)}async screenByUrl($){const re={query:"query ScreenByUrl ($url: Url!) { screenByUrl (url: $url) { __typename commentsCount commentsEnabled id schemaOrgString screenCanonicalUrl sectionTheme title updatedAt actions{ __typename hide {...LocalAction} show {...LocalAction} } advertisementData{ __typename key value } firstBlockPage{ __typename blocks {...Block} sideLoadedBlocks {...Block} sidebarBlocks {...Block} topzoneBlocks {...Block} } grids{ __typename id narrowColumnCount wideColumnCount } httpResponse{ __typename redirectUrl statusCode } primaryColorTheme {...ColorTheme} screenMetadata{ __typename key value } screenOgData{ __typename key value } trackers{ __typename hide {...TrackingEvent} pullRefresh {...TrackingEvent} show {...TrackingEvent} } twitterCardData{ __typename key value } variables {...Variable} } } fragment Variable on Variable { __typename name value } fragment TrackingEvent on TrackingEvent { __typename trackOnceId timerSettings{ __typename minimalTimeThreshold startPolicy stopPolicy timerId timerLeavePolicy timerPolicy } ... on BFFEvent { data eventType } ... on CookieEvent { cookieMaxAge cookieName cookieOperation cookieValue } ... on CxenseEvent { appPlatform category loc shareUrl title } ... on DataLayerScreenViewEvent { eventName fields{ __typename key value } } ... on FirebaseScreenViewEvent { eventName fields{ __typename key value } } ... on FirebaseTrackingEvent { eventName fields{ __typename key value } } ... on GoogleEvent { action alibi category label value customDimensions {...GoogleIndexedParam} customMetrics {...GoogleIndexedParam} customParams{ __typename key value } } ... on GooglePageviewEvent { alibi page } ... on HttpEvent { body method url headers{ __typename name value } } ... on NoboEvent { isFrontpage screen fields{ __typename key value } } ... on PipTrackingEvent { dpgCampaign dpgContent dpgMedium dpgSource dpgTerm } ... on ReadStateEvent { readStateId } ... on SacEvent { action category label value } ... on SacPageviewEvent { fields{ __typename key value } } ... on SetVariableEvent { variableName variableValue } ... on UsabillaEvent { action category label } } fragment GoogleIndexedParam on GoogleIndexedParam { __typename index value } fragment ColorTheme on ColorTheme { __typename id } fragment Block on Block { __typename groupIds id displayRule{ __typename ... on VariableEqualsRule { variableName variableValue } ... on VariableNotEqualsRule { variableName variableValue } } ... on AudioBlock { embedUrl } ... on BannerBlock { showOnDesktop showOnMobile slotName } ... on ButtonBarBlock { buttonBarPresentationStyle buttonsPresentationStyle buttons{ __typename linkWidth backgroundColorTheme {...ColorTheme} target {...TargetInception} title {...StyledText} } } ... on CarouselLinkBlock { legacySlideshowName viewAspectRatio links {...Link} } ... on ClientSideTimelineBlock { timelineId } ... on CommentBlock { likes replies commentText {...StyledText} dateLabel {...StyledText} likesText {...StyledText} repliesText {...StyledText} respondText {...StyledText} target {...TargetInception} username {...StyledText} usernameLabel{ __typename text {...StyledText} } } ... on ContainerBlock { sideLoadedBlockIds webContainerFlavor{ __typename ... on ArticleMetaContainer { location } ... on ContentListContainer { header template theme GTMTrackers {...GTMTrackers} } ... on StyledWebContainer { cssClass tag attributes{ __typename key value } } } } ... on DetailBlock { summary updatedAt icon {...Image} title {...StyledText} } ... on EmbedBlock { blockFlavor{ __typename ... on InfographicEmbedBlockFlavor { copyright heightHint provider providerUrl url usePym themedUrl{ __typename dark light } } ... on TrackingPixelEmbedBlockFlavor { embedCode } ... on TrackingPixelFlavor { url } ... on TwitterEmbedBlockFlavor { align cards conversation tweetId width } ... on WebEmbedBlockFlavor { embedCode heightHint url } } } ... on ErrorBlock { errorIdentifier message } ... on FormElementBlock { groupId inputValue borderColorTheme {...ColorTheme} fieldLabel {...StyledText} formElementFlavor{ __typename ... on TextFieldFlavor { borderWidth cornerRadius maxlength placeholder borderColorTheme {...ColorTheme} placeholderText {...StyledText} } } target {...TargetInception} value {...StyledText} } ... on HeaderBlock { headerLevel theme subtitle {...StyledText} target {...TargetInception} title {...StyledText} titlePrefixIcon {...Image} titleSuffixIcon {...Image} } ... on ImageBlock { imageStyle image {...Image} imageFlavor{ __typename ... on ArticleHeadImageFlavor { label {...StyledText} title {...StyledText} } ... on FigureImageFlavor { caption {...StyledText} copyright {...StyledText} } ... on SizedImageFlavor { height width } } target {...TargetInception} title {...StyledText} } ... on LinkBlock { grid template type link {...Link} } ... on MenuItemBlock { active icon {...Image} target {...TargetInception} title {...StyledText} } ... on ScoreboardBlock { activeWidgets{ __typename widgetId widgetSetId } widgetSets{ __typename id icon {...Image} title {...StyledText} widgets{ __typename ... on GraceNoteWidget { id leagueId matchId season title {...StyledText} } } } } ... on SourceBlock { icon {...Image} target {...TargetInception} title {...StyledText} } ... on TextBlock { readStateId textRole styledText {...StyledText} textFlavor{ __typename ... on IconTextFlavor { linkAlignment prefixIcon {...Image} suffixIcon {...Image} } ... on LabelTextFlavor { backgroundColor {...ColorTheme} prefixIcon {...Image} suffixIcon {...Image} } ... on LabeledListItemTextFlavor { leftPadding label {...StyledText} } ... on ListItemTextFlavor { leftPadding bulletColorTheme {...ColorTheme} } ... on SponsoredByTextFlavor { brandIcon {...Image} } } } ... on VideoBlock { caption createdAt duration isLivestream mediaId previewImage {...Image} title {...StyledText} videoFlavor{ __typename ... on ArticleHeaderVideoFlavor { caption createdAt } } videoPlayerFlavor{ __typename ... on EmbedPlayerFlavor { embedCode url } ... on JWPlayerFlavor { adSectionName disableAds playlist } ... on YouTubePlayerFlavor { url } } } ... on WidgetBarBlock { label updatedAt widgetBarStyle widgetBarIcons{ __typename label image {...Image} target {...TargetInception} } } ... on WidgetLinkBlock { link {...Link} } } fragment Link on Link { __typename groupIds linkFlavor{ __typename ... on ButtonLinkFlavor { alignment borderWidth cornerRadius linkWidth backgroundColorTheme {...ColorTheme} borderColorTheme {...ColorTheme} prefixIcon {...Image} suffixIcon {...Image} } ... on CTALinkFlavor { cta {...StyledText} icon {...Image} title {...StyledText} } ... on CTAWithLargeTextLinkFlavor { body {...StyledText} cta {...StyledText} icon {...Image} } ... on ImageLinkFlavor { image {...Image} } ... on LargeArticleLinkFlavor { estimatedDuration publishedAt icon {...Image} image {...Image} label {...StyledText} labelSuffixIcon {...Image} } ... on MoreLinkFlavor { theme chevronColorTheme {...ColorTheme} } ... on RightIconButtonLinkFlavor { buttonIcon {...Image} icon {...Image} label {...StyledText} } ... on SmallArticleLinkFlavor { estimatedDuration isPartner publishedAt brandIcon {...Image} byline {...StyledText} icon {...Image} image {...Image} label {...StyledText} } ... on SubtitleLinkFlavor { prefixIcon {...Image} subtitle {...StyledText} suffixIcon {...Image} } ... on TextLinkFlavor { linkWidth prefixIcon {...Image} suffixIcon {...Image} } ... on TimelineLinkFlavor { estimatedDuration brandIcon {...Image} byline {...StyledText} colorTheme {...ColorTheme} icon {...Image} image {...Image} label {...StyledText} } ... on ToggleLinkFlavor { enabled icon {...Image} subTitle {...StyledText} } } target {...TargetInception} title {...StyledText} } fragment StyledText on StyledText { __typename text textType linkTargets{ __typename id url target {...TargetInception} } } fragment Target on Target { __typename GTMTrackers {...GTMTrackers} ... on PushSubscribeTarget { pushTag successMessage } } fragment TargetInception on Target { ...Target ... on ActionMenuTarget { actionMenuId } ... on AudioTarget { audioId audioType createdAt duration id shareUrl title updatedAt url thumbnailMedia {...Image} } ... on ConsentTarget { trackers {...TargetTrackers} } ... on ContributionTarget { articleId } ... on FormSubmitTarget { groupId tagIds trackers {...TargetTrackers} } ... on InternalBlockTarget { blockId } ... on JWPlayerVideoTarget { shareUrl } ... on LoginTarget { failureTrackers {...TrackingEvent} successTrackers {...TrackingEvent} trackers {...TargetTrackers} } ... on LogoutTarget { failureTrackers {...TrackingEvent} successTrackers {...TrackingEvent} trackers {...TargetTrackers} } ... on PushSubscribeTarget { pushTag successMessage } ... on RemoteTarget { action permissions } ... on ScreenTarget { targetId url } ... on SetVariablesTarget { variables {...Variable} } ... on ShareTarget { shareText } ... on SlideshowTarget { id slideId } ... on UrlTarget { relation url } ... on VideoTarget { shareUrl } } fragment TargetTrackers on TargetTrackers { __typename activate {...TrackingEvent} } fragment Image on Image { __typename copyright description id title url viewAspectRatio ... on GenericImage { mediaId } ... on Graphic { name tintColor {...ColorTheme} } ... on LottieAnimation { autoplay cornerRadius count loop repeatMode speed src backgroundColorTheme {...ColorTheme} } } fragment GTMTrackers on GTMTrackers { __typename click{ __typename action category contentId element isAlgorithmicItem itemId itemLabel itemUrl label list position teaserTitle teaserType } view{ __typename event data{ __typename key value } } } fragment LocalAction on LocalAction { __typename executeOnceId ... on LiveDataConnectionAction { actionHandler liveDataEventSource{ __typename ... on FirebaseRealTimeDataEventSource { connectionString itemId addTarget {...TargetInception} removeTarget {...TargetInception} updateTarget {...TargetInception} } } } }",extensions:{persistedQuery:{sha256Hash:"a8aa972bec4f1a003263c6f5e1006817cf3f5dd18041747f5c3b69f702297d15",version:1}},operationName:"ScreenByUrl",variables:{url:$}},le=de=>de.screenByUrl;return this.fetch(re,le)}async slideshowById($){const re={query:"query SlideshowById ($id: ID!) { slideshowById (id: $id) { __typename slides {...SlideshowSlide} } } fragment SlideshowSlide on SlideshowSlide { __typename id ... on ImageSlideshowSlide { image {...Image} } } fragment Image on Image { __typename copyright description id title url viewAspectRatio ... on GenericImage { mediaId } ... on Graphic { name tintColor {...ColorTheme} } ... on LottieAnimation { autoplay cornerRadius count loop repeatMode speed src backgroundColorTheme {...ColorTheme} } } fragment ColorTheme on ColorTheme { __typename id }",extensions:{persistedQuery:{sha256Hash:"bb04e0d70d4a423405e89efa1d82b1faccf50237760d54950c2f184164202f21",version:1}},operationName:"SlideshowById",variables:{id:$}},le=de=>de.slideshowById;return this.fetch(re,le)}async handleAction($,_){const le={query:"mutation HandleAction ($actionData: ActionData!,$id: ID!) { handleAction (actionData: $actionData, id: $id) { __typename ... on BlockRemovalByGroupIdActionResponse { ...BlockRemovalByGroupIdActionResponse } ... on BlockReplacementActionResponse { ...BlockReplacementActionResponse } ... on BlockReplacementByIdActionResponse { ...BlockReplacementByIdActionResponse } ... on CompoundBlockModificationActionResponse { ...CompoundBlockModificationActionResponse } ... on ScreenReplacementActionResponse { ...ScreenReplacementActionResponse } ... on TargetActionResponse { ...TargetActionResponse } } } fragment TargetActionResponse on TargetActionResponse { __typename successState target {...TargetInception} } fragment Target on Target { __typename GTMTrackers {...GTMTrackers} ... on PushSubscribeTarget { pushTag successMessage } } fragment TargetInception on Target { ...Target ... on ActionMenuTarget { actionMenuId } ... on AudioTarget { audioId audioType createdAt duration id shareUrl title updatedAt url thumbnailMedia {...Image} } ... on ConsentTarget { trackers {...TargetTrackers} } ... on ContributionTarget { articleId } ... on FormSubmitTarget { groupId tagIds trackers {...TargetTrackers} } ... on InternalBlockTarget { blockId } ... on JWPlayerVideoTarget { shareUrl } ... on LoginTarget { failureTrackers {...TrackingEvent} successTrackers {...TrackingEvent} trackers {...TargetTrackers} } ... on LogoutTarget { failureTrackers {...TrackingEvent} successTrackers {...TrackingEvent} trackers {...TargetTrackers} } ... on PushSubscribeTarget { pushTag successMessage } ... on RemoteTarget { action permissions } ... on ScreenTarget { targetId url } ... on SetVariablesTarget { variables {...Variable} } ... on ShareTarget { shareText } ... on SlideshowTarget { id slideId } ... on UrlTarget { relation url } ... on VideoTarget { shareUrl } } fragment Variable on Variable { __typename name value } fragment TargetTrackers on TargetTrackers { __typename activate {...TrackingEvent} } fragment TrackingEvent on TrackingEvent { __typename trackOnceId timerSettings{ __typename minimalTimeThreshold startPolicy stopPolicy timerId timerLeavePolicy timerPolicy } ... on BFFEvent { data eventType } ... on CookieEvent { cookieMaxAge cookieName cookieOperation cookieValue } ... on CxenseEvent { appPlatform category loc shareUrl title } ... on DataLayerScreenViewEvent { eventName fields{ __typename key value } } ... on FirebaseScreenViewEvent { eventName fields{ __typename key value } } ... on FirebaseTrackingEvent { eventName fields{ __typename key value } } ... on GoogleEvent { action alibi category label value customDimensions {...GoogleIndexedParam} customMetrics {...GoogleIndexedParam} customParams{ __typename key value } } ... on GooglePageviewEvent { alibi page } ... on HttpEvent { body method url headers{ __typename name value } } ... on NoboEvent { isFrontpage screen fields{ __typename key value } } ... on PipTrackingEvent { dpgCampaign dpgContent dpgMedium dpgSource dpgTerm } ... on ReadStateEvent { readStateId } ... on SacEvent { action category label value } ... on SacPageviewEvent { fields{ __typename key value } } ... on SetVariableEvent { variableName variableValue } ... on UsabillaEvent { action category label } } fragment GoogleIndexedParam on GoogleIndexedParam { __typename index value } fragment Image on Image { __typename copyright description id title url viewAspectRatio ... on GenericImage { mediaId } ... on Graphic { name tintColor {...ColorTheme} } ... on LottieAnimation { autoplay cornerRadius count loop repeatMode speed src backgroundColorTheme {...ColorTheme} } } fragment ColorTheme on ColorTheme { __typename id } fragment GTMTrackers on GTMTrackers { __typename click{ __typename action category contentId element isAlgorithmicItem itemId itemLabel itemUrl label list position teaserTitle teaserType } view{ __typename event data{ __typename key value } } } fragment ScreenReplacementActionResponse on ScreenReplacementActionResponse { __typename screenPresentationStyle successState screen{ __typename commentsCount commentsEnabled id schemaOrgString screenCanonicalUrl sectionTheme title updatedAt actions{ __typename hide {...LocalAction} show {...LocalAction} } advertisementData{ __typename key value } firstBlockPage{ __typename blocks {...Block} sideLoadedBlocks {...Block} sidebarBlocks {...Block} topzoneBlocks {...Block} } grids{ __typename id narrowColumnCount wideColumnCount } httpResponse{ __typename redirectUrl statusCode } primaryColorTheme {...ColorTheme} screenMetadata{ __typename key value } screenOgData{ __typename key value } trackers{ __typename hide {...TrackingEvent} pullRefresh {...TrackingEvent} show {...TrackingEvent} } twitterCardData{ __typename key value } variables {...Variable} } } fragment Block on Block { __typename groupIds id displayRule{ __typename ... on VariableEqualsRule { variableName variableValue } ... on VariableNotEqualsRule { variableName variableValue } } ... on AudioBlock { embedUrl } ... on BannerBlock { showOnDesktop showOnMobile slotName } ... on ButtonBarBlock { buttonBarPresentationStyle buttonsPresentationStyle buttons{ __typename linkWidth backgroundColorTheme {...ColorTheme} target {...TargetInception} title {...StyledText} } } ... on CarouselLinkBlock { legacySlideshowName viewAspectRatio links {...Link} } ... on ClientSideTimelineBlock { timelineId } ... on CommentBlock { likes replies commentText {...StyledText} dateLabel {...StyledText} likesText {...StyledText} repliesText {...StyledText} respondText {...StyledText} target {...TargetInception} username {...StyledText} usernameLabel{ __typename text {...StyledText} } } ... on ContainerBlock { sideLoadedBlockIds webContainerFlavor{ __typename ... on ArticleMetaContainer { location } ... on ContentListContainer { header template theme GTMTrackers {...GTMTrackers} } ... on StyledWebContainer { cssClass tag attributes{ __typename key value } } } } ... on DetailBlock { summary updatedAt icon {...Image} title {...StyledText} } ... on EmbedBlock { blockFlavor{ __typename ... on InfographicEmbedBlockFlavor { copyright heightHint provider providerUrl url usePym themedUrl{ __typename dark light } } ... on TrackingPixelEmbedBlockFlavor { embedCode } ... on TrackingPixelFlavor { url } ... on TwitterEmbedBlockFlavor { align cards conversation tweetId width } ... on WebEmbedBlockFlavor { embedCode heightHint url } } } ... on ErrorBlock { errorIdentifier message } ... on FormElementBlock { groupId inputValue borderColorTheme {...ColorTheme} fieldLabel {...StyledText} formElementFlavor{ __typename ... on TextFieldFlavor { borderWidth cornerRadius maxlength placeholder borderColorTheme {...ColorTheme} placeholderText {...StyledText} } } target {...TargetInception} value {...StyledText} } ... on HeaderBlock { headerLevel theme subtitle {...StyledText} target {...TargetInception} title {...StyledText} titlePrefixIcon {...Image} titleSuffixIcon {...Image} } ... on ImageBlock { imageStyle image {...Image} imageFlavor{ __typename ... on ArticleHeadImageFlavor { label {...StyledText} title {...StyledText} } ... on FigureImageFlavor { caption {...StyledText} copyright {...StyledText} } ... on SizedImageFlavor { height width } } target {...TargetInception} title {...StyledText} } ... on LinkBlock { grid template type link {...Link} } ... on MenuItemBlock { active icon {...Image} target {...TargetInception} title {...StyledText} } ... on ScoreboardBlock { activeWidgets{ __typename widgetId widgetSetId } widgetSets{ __typename id icon {...Image} title {...StyledText} widgets{ __typename ... on GraceNoteWidget { id leagueId matchId season title {...StyledText} } } } } ... on SourceBlock { icon {...Image} target {...TargetInception} title {...StyledText} } ... on TextBlock { readStateId textRole styledText {...StyledText} textFlavor{ __typename ... on IconTextFlavor { linkAlignment prefixIcon {...Image} suffixIcon {...Image} } ... on LabelTextFlavor { backgroundColor {...ColorTheme} prefixIcon {...Image} suffixIcon {...Image} } ... on LabeledListItemTextFlavor { leftPadding label {...StyledText} } ... on ListItemTextFlavor { leftPadding bulletColorTheme {...ColorTheme} } ... on SponsoredByTextFlavor { brandIcon {...Image} } } } ... on VideoBlock { caption createdAt duration isLivestream mediaId previewImage {...Image} title {...StyledText} videoFlavor{ __typename ... on ArticleHeaderVideoFlavor { caption createdAt } } videoPlayerFlavor{ __typename ... on EmbedPlayerFlavor { embedCode url } ... on JWPlayerFlavor { adSectionName disableAds playlist } ... on YouTubePlayerFlavor { url } } } ... on WidgetBarBlock { label updatedAt widgetBarStyle widgetBarIcons{ __typename label image {...Image} target {...TargetInception} } } ... on WidgetLinkBlock { link {...Link} } } fragment Link on Link { __typename groupIds linkFlavor{ __typename ... on ButtonLinkFlavor { alignment borderWidth cornerRadius linkWidth backgroundColorTheme {...ColorTheme} borderColorTheme {...ColorTheme} prefixIcon {...Image} suffixIcon {...Image} } ... on CTALinkFlavor { cta {...StyledText} icon {...Image} title {...StyledText} } ... on CTAWithLargeTextLinkFlavor { body {...StyledText} cta {...StyledText} icon {...Image} } ... on ImageLinkFlavor { image {...Image} } ... on LargeArticleLinkFlavor { estimatedDuration publishedAt icon {...Image} image {...Image} label {...StyledText} labelSuffixIcon {...Image} } ... on MoreLinkFlavor { theme chevronColorTheme {...ColorTheme} } ... on RightIconButtonLinkFlavor { buttonIcon {...Image} icon {...Image} label {...StyledText} } ... on SmallArticleLinkFlavor { estimatedDuration isPartner publishedAt brandIcon {...Image} byline {...StyledText} icon {...Image} image {...Image} label {...StyledText} } ... on SubtitleLinkFlavor { prefixIcon {...Image} subtitle {...StyledText} suffixIcon {...Image} } ... on TextLinkFlavor { linkWidth prefixIcon {...Image} suffixIcon {...Image} } ... on TimelineLinkFlavor { estimatedDuration brandIcon {...Image} byline {...StyledText} colorTheme {...ColorTheme} icon {...Image} image {...Image} label {...StyledText} } ... on ToggleLinkFlavor { enabled icon {...Image} subTitle {...StyledText} } } target {...TargetInception} title {...StyledText} } fragment StyledText on StyledText { __typename text textType linkTargets{ __typename id url target {...TargetInception} } } fragment LocalAction on LocalAction { __typename executeOnceId ... on LiveDataConnectionAction { actionHandler liveDataEventSource{ __typename ... on FirebaseRealTimeDataEventSource { connectionString itemId addTarget {...TargetInception} removeTarget {...TargetInception} updateTarget {...TargetInception} } } } } fragment CompoundBlockModificationActionResponse on CompoundBlockModificationActionResponse { __typename successState modifications{ __typename ... on BlockRemovalByGroupIdActionResponse { ...BlockRemovalByGroupIdActionResponse } ... on BlockReplacementByIdActionResponse { ...BlockReplacementByIdActionResponse } } } fragment BlockReplacementByIdActionResponse on BlockReplacementByIdActionResponse { __typename blockId successState blocks {...Block} } fragment BlockRemovalByGroupIdActionResponse on BlockRemovalByGroupIdActionResponse { __typename groupIds successState } fragment BlockReplacementActionResponse on BlockReplacementActionResponse { __typename successState blocks {...Block} }",extensions:{persistedQuery:{sha256Hash:"281082ab97b8fa35101254b3a6958e28c410d351baa288a018585b60301a6639",version:1}},operationName:"HandleAction",variables:{actionData:$,id:_}},de=ge=>ge.handleAction;return this.fetch(le,de)}async handleEvent($,_){const le={query:"mutation HandleEvent ($eventData: String!,$eventType: ID!) { handleEvent (eventData: $eventData, eventType: $eventType) { __typename handled } }",extensions:{persistedQuery:{sha256Hash:"5c737eec02b9176690bcd73ed5d076c7546c1c0364089056fb1579ee33edc663",version:1}},operationName:"HandleEvent",variables:{eventData:$,eventType:_}},de=ge=>ge.handleEvent;return this.fetch(le,de)}async handleQuestionFormData($,_,j,ee){const ge={query:"mutation HandleQuestionFormData ($data: [FormDataKeyValue],$groupId: ID!,$id: ID!,$tagIds: [Int]) { handleQuestionFormData (data: $data, groupId: $groupId, id: $id, tagIds: $tagIds) { __typename ... on BlockRemovalByGroupIdActionResponse { ...BlockRemovalByGroupIdActionResponse } ... on BlockReplacementActionResponse { ...BlockReplacementActionResponse } ... on BlockReplacementByIdActionResponse { ...BlockReplacementByIdActionResponse } ... on CompoundBlockModificationActionResponse { ...CompoundBlockModificationActionResponse } ... on ScreenReplacementActionResponse { ...ScreenReplacementActionResponse } ... on TargetActionResponse { ...TargetActionResponse } } } fragment TargetActionResponse on TargetActionResponse { __typename successState target {...TargetInception} } fragment Target on Target { __typename GTMTrackers {...GTMTrackers} ... on PushSubscribeTarget { pushTag successMessage } } fragment TargetInception on Target { ...Target ... on ActionMenuTarget { actionMenuId } ... on AudioTarget { audioId audioType createdAt duration id shareUrl title updatedAt url thumbnailMedia {...Image} } ... on ConsentTarget { trackers {...TargetTrackers} } ... on ContributionTarget { articleId } ... on FormSubmitTarget { groupId tagIds trackers {...TargetTrackers} } ... on InternalBlockTarget { blockId } ... on JWPlayerVideoTarget { shareUrl } ... on LoginTarget { failureTrackers {...TrackingEvent} successTrackers {...TrackingEvent} trackers {...TargetTrackers} } ... on LogoutTarget { failureTrackers {...TrackingEvent} successTrackers {...TrackingEvent} trackers {...TargetTrackers} } ... on PushSubscribeTarget { pushTag successMessage } ... on RemoteTarget { action permissions } ... on ScreenTarget { targetId url } ... on SetVariablesTarget { variables {...Variable} } ... on ShareTarget { shareText } ... on SlideshowTarget { id slideId } ... on UrlTarget { relation url } ... on VideoTarget { shareUrl } } fragment Variable on Variable { __typename name value } fragment TargetTrackers on TargetTrackers { __typename activate {...TrackingEvent} } fragment TrackingEvent on TrackingEvent { __typename trackOnceId timerSettings{ __typename minimalTimeThreshold startPolicy stopPolicy timerId timerLeavePolicy timerPolicy } ... on BFFEvent { data eventType } ... on CookieEvent { cookieMaxAge cookieName cookieOperation cookieValue } ... on CxenseEvent { appPlatform category loc shareUrl title } ... on DataLayerScreenViewEvent { eventName fields{ __typename key value } } ... on FirebaseScreenViewEvent { eventName fields{ __typename key value } } ... on FirebaseTrackingEvent { eventName fields{ __typename key value } } ... on GoogleEvent { action alibi category label value customDimensions {...GoogleIndexedParam} customMetrics {...GoogleIndexedParam} customParams{ __typename key value } } ... on GooglePageviewEvent { alibi page } ... on HttpEvent { body method url headers{ __typename name value } } ... on NoboEvent { isFrontpage screen fields{ __typename key value } } ... on PipTrackingEvent { dpgCampaign dpgContent dpgMedium dpgSource dpgTerm } ... on ReadStateEvent { readStateId } ... on SacEvent { action category label value } ... on SacPageviewEvent { fields{ __typename key value } } ... on SetVariableEvent { variableName variableValue } ... on UsabillaEvent { action category label } } fragment GoogleIndexedParam on GoogleIndexedParam { __typename index value } fragment Image on Image { __typename copyright description id title url viewAspectRatio ... on GenericImage { mediaId } ... on Graphic { name tintColor {...ColorTheme} } ... on LottieAnimation { autoplay cornerRadius count loop repeatMode speed src backgroundColorTheme {...ColorTheme} } } fragment ColorTheme on ColorTheme { __typename id } fragment GTMTrackers on GTMTrackers { __typename click{ __typename action category contentId element isAlgorithmicItem itemId itemLabel itemUrl label list position teaserTitle teaserType } view{ __typename event data{ __typename key value } } } fragment ScreenReplacementActionResponse on ScreenReplacementActionResponse { __typename screenPresentationStyle successState screen{ __typename commentsCount commentsEnabled id schemaOrgString screenCanonicalUrl sectionTheme title updatedAt actions{ __typename hide {...LocalAction} show {...LocalAction} } advertisementData{ __typename key value } firstBlockPage{ __typename blocks {...Block} sideLoadedBlocks {...Block} sidebarBlocks {...Block} topzoneBlocks {...Block} } grids{ __typename id narrowColumnCount wideColumnCount } httpResponse{ __typename redirectUrl statusCode } primaryColorTheme {...ColorTheme} screenMetadata{ __typename key value } screenOgData{ __typename key value } trackers{ __typename hide {...TrackingEvent} pullRefresh {...TrackingEvent} show {...TrackingEvent} } twitterCardData{ __typename key value } variables {...Variable} } } fragment Block on Block { __typename groupIds id displayRule{ __typename ... on VariableEqualsRule { variableName variableValue } ... on VariableNotEqualsRule { variableName variableValue } } ... on AudioBlock { embedUrl } ... on BannerBlock { showOnDesktop showOnMobile slotName } ... on ButtonBarBlock { buttonBarPresentationStyle buttonsPresentationStyle buttons{ __typename linkWidth backgroundColorTheme {...ColorTheme} target {...TargetInception} title {...StyledText} } } ... on CarouselLinkBlock { legacySlideshowName viewAspectRatio links {...Link} } ... on ClientSideTimelineBlock { timelineId } ... on CommentBlock { likes replies commentText {...StyledText} dateLabel {...StyledText} likesText {...StyledText} repliesText {...StyledText} respondText {...StyledText} target {...TargetInception} username {...StyledText} usernameLabel{ __typename text {...StyledText} } } ... on ContainerBlock { sideLoadedBlockIds webContainerFlavor{ __typename ... on ArticleMetaContainer { location } ... on ContentListContainer { header template theme GTMTrackers {...GTMTrackers} } ... on StyledWebContainer { cssClass tag attributes{ __typename key value } } } } ... on DetailBlock { summary updatedAt icon {...Image} title {...StyledText} } ... on EmbedBlock { blockFlavor{ __typename ... on InfographicEmbedBlockFlavor { copyright heightHint provider providerUrl url usePym themedUrl{ __typename dark light } } ... on TrackingPixelEmbedBlockFlavor { embedCode } ... on TrackingPixelFlavor { url } ... on TwitterEmbedBlockFlavor { align cards conversation tweetId width } ... on WebEmbedBlockFlavor { embedCode heightHint url } } } ... on ErrorBlock { errorIdentifier message } ... on FormElementBlock { groupId inputValue borderColorTheme {...ColorTheme} fieldLabel {...StyledText} formElementFlavor{ __typename ... on TextFieldFlavor { borderWidth cornerRadius maxlength placeholder borderColorTheme {...ColorTheme} placeholderText {...StyledText} } } target {...TargetInception} value {...StyledText} } ... on HeaderBlock { headerLevel theme subtitle {...StyledText} target {...TargetInception} title {...StyledText} titlePrefixIcon {...Image} titleSuffixIcon {...Image} } ... on ImageBlock { imageStyle image {...Image} imageFlavor{ __typename ... on ArticleHeadImageFlavor { label {...StyledText} title {...StyledText} } ... on FigureImageFlavor { caption {...StyledText} copyright {...StyledText} } ... on SizedImageFlavor { height width } } target {...TargetInception} title {...StyledText} } ... on LinkBlock { grid template type link {...Link} } ... on MenuItemBlock { active icon {...Image} target {...TargetInception} title {...StyledText} } ... on ScoreboardBlock { activeWidgets{ __typename widgetId widgetSetId } widgetSets{ __typename id icon {...Image} title {...StyledText} widgets{ __typename ... on GraceNoteWidget { id leagueId matchId season title {...StyledText} } } } } ... on SourceBlock { icon {...Image} target {...TargetInception} title {...StyledText} } ... on TextBlock { readStateId textRole styledText {...StyledText} textFlavor{ __typename ... on IconTextFlavor { linkAlignment prefixIcon {...Image} suffixIcon {...Image} } ... on LabelTextFlavor { backgroundColor {...ColorTheme} prefixIcon {...Image} suffixIcon {...Image} } ... on LabeledListItemTextFlavor { leftPadding label {...StyledText} } ... on ListItemTextFlavor { leftPadding bulletColorTheme {...ColorTheme} } ... on SponsoredByTextFlavor { brandIcon {...Image} } } } ... on VideoBlock { caption createdAt duration isLivestream mediaId previewImage {...Image} title {...StyledText} videoFlavor{ __typename ... on ArticleHeaderVideoFlavor { caption createdAt } } videoPlayerFlavor{ __typename ... on EmbedPlayerFlavor { embedCode url } ... on JWPlayerFlavor { adSectionName disableAds playlist } ... on YouTubePlayerFlavor { url } } } ... on WidgetBarBlock { label updatedAt widgetBarStyle widgetBarIcons{ __typename label image {...Image} target {...TargetInception} } } ... on WidgetLinkBlock { link {...Link} } } fragment Link on Link { __typename groupIds linkFlavor{ __typename ... on ButtonLinkFlavor { alignment borderWidth cornerRadius linkWidth backgroundColorTheme {...ColorTheme} borderColorTheme {...ColorTheme} prefixIcon {...Image} suffixIcon {...Image} } ... on CTALinkFlavor { cta {...StyledText} icon {...Image} title {...StyledText} } ... on CTAWithLargeTextLinkFlavor { body {...StyledText} cta {...StyledText} icon {...Image} } ... on ImageLinkFlavor { image {...Image} } ... on LargeArticleLinkFlavor { estimatedDuration publishedAt icon {...Image} image {...Image} label {...StyledText} labelSuffixIcon {...Image} } ... on MoreLinkFlavor { theme chevronColorTheme {...ColorTheme} } ... on RightIconButtonLinkFlavor { buttonIcon {...Image} icon {...Image} label {...StyledText} } ... on SmallArticleLinkFlavor { estimatedDuration isPartner publishedAt brandIcon {...Image} byline {...StyledText} icon {...Image} image {...Image} label {...StyledText} } ... on SubtitleLinkFlavor { prefixIcon {...Image} subtitle {...StyledText} suffixIcon {...Image} } ... on TextLinkFlavor { linkWidth prefixIcon {...Image} suffixIcon {...Image} } ... on TimelineLinkFlavor { estimatedDuration brandIcon {...Image} byline {...StyledText} colorTheme {...ColorTheme} icon {...Image} image {...Image} label {...StyledText} } ... on ToggleLinkFlavor { enabled icon {...Image} subTitle {...StyledText} } } target {...TargetInception} title {...StyledText} } fragment StyledText on StyledText { __typename text textType linkTargets{ __typename id url target {...TargetInception} } } fragment LocalAction on LocalAction { __typename executeOnceId ... on LiveDataConnectionAction { actionHandler liveDataEventSource{ __typename ... on FirebaseRealTimeDataEventSource { connectionString itemId addTarget {...TargetInception} removeTarget {...TargetInception} updateTarget {...TargetInception} } } } } fragment CompoundBlockModificationActionResponse on CompoundBlockModificationActionResponse { __typename successState modifications{ __typename ... on BlockRemovalByGroupIdActionResponse { ...BlockRemovalByGroupIdActionResponse } ... on BlockReplacementByIdActionResponse { ...BlockReplacementByIdActionResponse } } } fragment BlockReplacementByIdActionResponse on BlockReplacementByIdActionResponse { __typename blockId successState blocks {...Block} } fragment BlockRemovalByGroupIdActionResponse on BlockRemovalByGroupIdActionResponse { __typename groupIds successState } fragment BlockReplacementActionResponse on BlockReplacementActionResponse { __typename successState blocks {...Block} }",extensions:{persistedQuery:{sha256Hash:"7063aded0df506d5d12915f78c985673158ded8928c6447452d89449f28de362",version:1}},operationName:"HandleQuestionFormData",variables:{data:$,groupId:_,id:j,tagIds:ee}},ve=Ee=>Ee.handleQuestionFormData;return this.fetch(ge,ve)}},AppNexusBannerType;(function($){$.Banner="BANNER",$.NativeSmarticle="NATIVE_SMARTICLE"})(AppNexusBannerType||(AppNexusBannerType={}));var ArticleMetaLocation;(function($){$.End="END",$.Top="TOP"})(ArticleMetaLocation||(ArticleMetaLocation={}));var ButtonBarPresentationStyle;(function($){$.StackVertical="STACK_VERTICAL",$.Tabs="TABS"})(ButtonBarPresentationStyle||(ButtonBarPresentationStyle={}));var ButtonsPresentationStyle;(function($){$.Default="DEFAULT",$.Tabs="TABS"})(ButtonsPresentationStyle||(ButtonsPresentationStyle={}));var CarouselStyle;(function($){$.Continuous="CONTINUOUS",$.Paginated="PAGINATED",$.Sections="SECTIONS",$.Stories="STORIES"})(CarouselStyle||(CarouselStyle={}));var CookieEventOperation;(function($){$.DeleteCookie="DELETE_COOKIE",$.SetCookie="SET_COOKIE"})(CookieEventOperation||(CookieEventOperation={}));var CoreScreenName;(function($){$.Frontpage="FRONTPAGE",$.Gasprices="GASPRICES",$.Traffic="TRAFFIC",$.Trains="TRAINS"})(CoreScreenName||(CoreScreenName={}));var FontStyle;(function($){$.Italic="ITALIC",$.Normal="NORMAL"})(FontStyle||(FontStyle={}));var FontWeight;(function($){$.Bold="BOLD",$.Light="LIGHT",$.Regular="REGULAR"})(FontWeight||(FontWeight={}));var GroupPosition;(function($){$.End="END",$.Middle="MIDDLE",$.Single="SINGLE",$.Start="START"})(GroupPosition||(GroupPosition={}));var HeaderLevel;(function($){$.H1="H1",$.H2="H2",$.H3="H3",$.H4="H4",$.H5="H5",$.H6="H6"})(HeaderLevel||(HeaderLevel={}));var HeaderStyle;(function($){$.CleanLarge="CLEAN_LARGE",$.Personalized="PERSONALIZED",$.Title="TITLE"})(HeaderStyle||(HeaderStyle={}));var ImageStyle;(function($){$.Hero="HERO",$.Inline="INLINE",$.Plain="PLAIN",$.Video="VIDEO"})(ImageStyle||(ImageStyle={}));var LinkAlignment;(function($){$.Center="CENTER",$.Left="LEFT",$.Right="RIGHT",$.Stretch="STRETCH"})(LinkAlignment||(LinkAlignment={}));var LinkStyle;(function($){$.Large="LARGE",$.More="MORE",$.PrimaryButton="PRIMARY_BUTTON",$.SecondaryButton="SECONDARY_BUTTON",$.Small="SMALL",$.TertiaryButton="TERTIARY_BUTTON",$.TextOnly="TEXT_ONLY",$.Timeline="TIMELINE"})(LinkStyle||(LinkStyle={}));var LinkWidth;(function($){$.FitContent="FIT_CONTENT",$.Stretch="STRETCH"})(LinkWidth||(LinkWidth={}));var LiveDataConnectionHandler;(function($){$.Close="CLOSE",$.Open="OPEN"})(LiveDataConnectionHandler||(LiveDataConnectionHandler={}));var LottieRepeatMode;(function($){$.Bounce="BOUNCE",$.Normal="NORMAL"})(LottieRepeatMode||(LottieRepeatMode={}));var NavigationButtonState;(function($){$.Deselected="DESELECTED",$.Selected="SELECTED"})(NavigationButtonState||(NavigationButtonState={}));var PresentationStyle;(function($){$.External="EXTERNAL"})(PresentationStyle||(PresentationStyle={}));var ScreenBackgroundImageFillStyle;(function($){$.AspectFill="ASPECT_FILL",$.Repeat="REPEAT",$.Stretch="STRETCH"})(ScreenBackgroundImageFillStyle||(ScreenBackgroundImageFillStyle={}));var ScreenBehavior;(function($){$.Slides="SLIDES",$.VerticalScrolling="VERTICAL_SCROLLING"})(ScreenBehavior||(ScreenBehavior={}));var ScreenBreakPoint;(function($){$.L="L",$.M="M",$.S="S"})(ScreenBreakPoint||(ScreenBreakPoint={}));var ScreenEntryPoint;(function($){$.Frontpage="FRONTPAGE",$.Gasprices="GASPRICES",$.MeestBesproken="MEEST_BESPROKEN",$.MeestGelezen="MEEST_GELEZEN",$.NetBinnen="NET_BINNEN",$.NotificationSettings="NOTIFICATION_SETTINGS",$.NuJij="NU_JIJ",$.OverviewSettings="OVERVIEW_SETTINGS",$.Search="SEARCH",$.SectionMenu="SECTION_MENU",$.SoccerNotificationSettings="SOCCER_NOTIFICATION_SETTINGS",$.Traffic="TRAFFIC",$.Trains="TRAINS",$.Weather="WEATHER"})(ScreenEntryPoint||(ScreenEntryPoint={}));var ScreenPresentationStyle;(function($){$.ReplaceCurrent="REPLACE_CURRENT",$.UpdateCurrent="UPDATE_CURRENT"})(ScreenPresentationStyle||(ScreenPresentationStyle={}));var SectionType;(function($){$.Achterklap="ACHTERKLAP",$.Economie="ECONOMIE",$.Geldzaken="GELDZAKEN",$.MediaEnCultuur="MEDIA_EN_CULTUUR",$.Nunl="NUNL",$.Overig="OVERIG",$.Sport="SPORT",$.Tech="TECH",$.Uit="UIT",$.Werk="WERK"})(SectionType||(SectionType={}));var SuccessState;(function($){$.Failure="FAILURE",$.Success="SUCCESS"})(SuccessState||(SuccessState={}));var TargetPermission;(function($){$.Notification="NOTIFICATION"})(TargetPermission||(TargetPermission={}));var TargetType;(function($){$.Article="ARTICLE",$.Audio="AUDIO",$.Livematches="LIVEMATCHES",$.Netbinnen="NETBINNEN",$.Search="SEARCH",$.Section="SECTION",$.Sectionoverview="SECTIONOVERVIEW",$.Slideshow="SLIDESHOW",$.Timeline="TIMELINE",$.Video="VIDEO",$.Weather="WEATHER"})(TargetType||(TargetType={}));var TextAlignment;(function($){$.Centered="CENTERED",$.Left="LEFT",$.Right="RIGHT"})(TextAlignment||(TextAlignment={}));var TextRole;(function($){$.ArticleAuthor="ARTICLE_AUTHOR",$.ArticleBody="ARTICLE_BODY",$.ArticleDatetime="ARTICLE_DATETIME",$.ArticleExcerpt="ARTICLE_EXCERPT",$.ArticleHeader="ARTICLE_HEADER",$.ArticleImageCopyright="ARTICLE_IMAGE_COPYRIGHT",$.ArticleImageTitle="ARTICLE_IMAGE_TITLE",$.ArticleQuoteAuthor="ARTICLE_QUOTE_AUTHOR",$.ArticleQuoteBody="ARTICLE_QUOTE_BODY",$.ArticleSubheader="ARTICLE_SUBHEADER",$.ArticleSummaryItem="ARTICLE_SUMMARY_ITEM",$.ArticleSummaryTitle="ARTICLE_SUMMARY_TITLE",$.ArticleTagTitle="ARTICLE_TAG_TITLE",$.LiveblogHeader="LIVEBLOG_HEADER",$.LiveblogLastseen="LIVEBLOG_LASTSEEN",$.LiveblogTimestamp="LIVEBLOG_TIMESTAMP",$.LiveblogTimestampNew="LIVEBLOG_TIMESTAMP_NEW"})(TextRole||(TextRole={}));var TextType;(function($){$.Plain="PLAIN",$.RestrictedHtml="RESTRICTED_HTML"})(TextType||(TextType={}));var TimerLeavePolicy;(function($){$.CancelOnLeaveApp="CANCEL_ON_LEAVE_APP",$.CancelOnLeaveScreen="CANCEL_ON_LEAVE_SCREEN",$.StopOnLeaveApp="STOP_ON_LEAVE_APP",$.StopOnLeaveScreen="STOP_ON_LEAVE_SCREEN"})(TimerLeavePolicy||(TimerLeavePolicy={}));var TimerPolicy;(function($){$.Ignore="IGNORE",$.Reset="RESET",$.Stop="STOP"})(TimerPolicy||(TimerPolicy={}));var TimerStartPolicy;(function($){$.Ignore="IGNORE",$.Reset="RESET",$.StopStart="STOP_START"})(TimerStartPolicy||(TimerStartPolicy={}));var TimerStopPolicy;(function($){$.CancelOnLeaveApp="CANCEL_ON_LEAVE_APP",$.CancelOnLeaveScreen="CANCEL_ON_LEAVE_SCREEN",$.StopOnLeaveApp="STOP_ON_LEAVE_APP",$.StopOnLeaveScreen="STOP_ON_LEAVE_SCREEN"})(TimerStopPolicy||(TimerStopPolicy={}));var TwitterAlign;(function($){$.Center="center",$.Left="left",$.Right="right"})(TwitterAlign||(TwitterAlign={}));var TwitterCards;(function($){$.Hidden="hidden",$.Visible="visible"})(TwitterCards||(TwitterCards={}));var TwitterConversation;(function($){$.None="none",$.Show="show"})(TwitterConversation||(TwitterConversation={}));var UrlRelation;(function($){$.Nofollow="NOFOLLOW",$.Noopener="NOOPENER",$.Noreferrer="NOREFERRER"})(UrlRelation||(UrlRelation={}));var VerticalAlignment;(function($){$.Bottom="BOTTOM",$.Middle="MIDDLE",$.Top="TOP"})(VerticalAlignment||(VerticalAlignment={}));var VideoTargetType;(function($){$.Embed="EMBED",$.Jw="JW",$.Youtube="YOUTUBE"})(VideoTargetType||(VideoTargetType={}));var WidgetBarStyle;(function($){$.OnlyWidgets="ONLY_WIDGETS",$.PrefixLabel="PREFIX_LABEL"})(WidgetBarStyle||(WidgetBarStyle={}));var isArticleHeadImageFlavor=$=>$?.__typename==="ArticleHeadImageFlavor",isArticleHeaderVideoFlavor=$=>$?.__typename==="ArticleHeaderVideoFlavor",isArticleMetaContainer=$=>$?.__typename==="ArticleMetaContainer",isAudioTarget=$=>$?.__typename==="AudioTarget",isBlockRemovalByGroupIdActionResponse=$=>$?.__typename==="BlockRemovalByGroupIdActionResponse",isBlockReplacementActionResponse=$=>$?.__typename==="BlockReplacementActionResponse",isBlockReplacementByIdActionResponse=$=>$?.__typename==="BlockReplacementByIdActionResponse",isButtonLinkFlavor=$=>$?.__typename==="ButtonLinkFlavor",isCompoundBlockModificationActionResponse=$=>$?.__typename==="CompoundBlockModificationActionResponse",isConsentTarget=$=>$?.__typename==="ConsentTarget",isContainerBlock=$=>$?.__typename==="ContainerBlock",isContentListContainer=$=>$?.__typename==="ContentListContainer",isDataLayerScreenViewEvent=$=>$?.__typename==="DataLayerScreenViewEvent",isEmbedPlayerFlavor=$=>$?.__typename==="EmbedPlayerFlavor",isFigureImageFlavor=$=>$?.__typename==="FigureImageFlavor",isFormSubmitTarget=$=>$?.__typename==="FormSubmitTarget",isGTMLinkAttributes=$=>$?.__typename==="GTMLinkAttributes",isGTMTrackers=$=>$?.__typename==="GTMTrackers",isGraphic=$=>$?.__typename==="Graphic",isIconTextFlavor=$=>$?.__typename==="IconTextFlavor",isImageLinkFlavor=$=>$?.__typename==="ImageLinkFlavor",isInfographicEmbedBlockFlavor=$=>$?.__typename==="InfographicEmbedBlockFlavor",isJWPlayerFlavor=$=>$?.__typename==="JWPlayerFlavor",isJWPlayerVideoTarget=$=>$?.__typename==="JWPlayerVideoTarget",isLargeArticleLinkFlavor=$=>$?.__typename==="LargeArticleLinkFlavor",isLinkBlock=$=>$?.__typename==="LinkBlock",isLiveDataConnectionAction=$=>$?.__typename==="LiveDataConnectionAction",isLoginTarget=$=>$?.__typename==="LoginTarget",isLottieAnimation=$=>$?.__typename==="LottieAnimation",isMoreLinkFlavor=$=>$?.__typename==="MoreLinkFlavor",isPlaceholderBlock=$=>$?.__typename==="PlaceholderBlock",isRemoteTarget=$=>$?.__typename==="RemoteTarget",isScreenTarget=$=>$?.__typename==="ScreenTarget",isSetVariablesTarget=$=>$?.__typename==="SetVariablesTarget",isSmallArticleLinkFlavor=$=>$?.__typename==="SmallArticleLinkFlavor",isStyledWebContainer=$=>$?.__typename==="StyledWebContainer",isTextLinkFlavor=$=>$?.__typename==="TextLinkFlavor",isTrackingPixelEmbedBlockFlavor=$=>$?.__typename==="TrackingPixelEmbedBlockFlavor",isTrackingPixelFlavor=$=>$?.__typename==="TrackingPixelFlavor",isTwitterEmbedBlockFlavor=$=>$?.__typename==="TwitterEmbedBlockFlavor",isUrlTarget=$=>$?.__typename==="UrlTarget",isVideoTarget=$=>$?.__typename==="VideoTarget",isWebEmbedBlockFlavor=$=>$?.__typename==="WebEmbedBlockFlavor",isYouTubePlayerFlavor=$=>$?.__typename==="YouTubePlayerFlavor";/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function makeMap($,_){const j=new Set($.split(","));return _?ee=>j.has(ee.toLowerCase()):ee=>j.has(ee)}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=$=>$.charCodeAt(0)===111&&$.charCodeAt(1)===110&&($.charCodeAt(2)>122||$.charCodeAt(2)<97),isModelListener=$=>$.startsWith("onUpdate:"),extend=Object.assign,remove=($,_)=>{const j=$.indexOf(_);j>-1&&$.splice(j,1)},hasOwnProperty$d=Object.prototype.hasOwnProperty,hasOwn=($,_)=>hasOwnProperty$d.call($,_),isArray$3=Array.isArray,isMap$2=$=>toTypeString($)==="[object Map]",isSet$2=$=>toTypeString($)==="[object Set]",isFunction$1=$=>typeof $=="function",isString$1=$=>typeof $=="string",isSymbol=$=>typeof $=="symbol",isObject$3=$=>$!==null&&typeof $=="object",isPromise=$=>(isObject$3($)||isFunction$1($))&&isFunction$1($.then)&&isFunction$1($.catch),objectToString$2=Object.prototype.toString,toTypeString=$=>objectToString$2.call($),toRawType=$=>toTypeString($).slice(8,-1),isPlainObject$2=$=>toTypeString($)==="[object Object]",isIntegerKey=$=>isString$1($)&&$!=="NaN"&&$[0]!=="-"&&""+parseInt($,10)===$,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=$=>{const _=Object.create(null);return j=>_[j]||(_[j]=$(j))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction($=>$.replace(camelizeRE,(_,j)=>j?j.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction($=>$.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction($=>$.charAt(0).toUpperCase()+$.slice(1)),toHandlerKey=cacheStringFunction($=>$?`on${capitalize($)}`:""),hasChanged=($,_)=>!Object.is($,_),invokeArrayFns=($,_)=>{for(let j=0;j<$.length;j++)$[j](_)},def=($,_,j)=>{Object.defineProperty($,_,{configurable:!0,enumerable:!1,value:j})},looseToNumber=$=>{const _=parseFloat($);return isNaN(_)?$:_},toNumber$1=$=>{const _=isString$1($)?Number($):NaN;return isNaN(_)?$:_};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle($){if(isArray$3($)){const _={};for(let j=0;j<$.length;j++){const ee=$[j],re=isString$1(ee)?parseStringStyle(ee):normalizeStyle(ee);if(re)for(const le in re)_[le]=re[le]}return _}else if(isString$1($)||isObject$3($))return $}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle($){const _={};return $.replace(styleCommentRE,"").split(listDelimiterRE).forEach(j=>{if(j){const ee=j.split(propertyDelimiterRE);ee.length>1&&(_[ee[0].trim()]=ee[1].trim())}}),_}function normalizeClass($){let _="";if(isString$1($))_=$;else if(isArray$3($))for(let j=0;j<$.length;j++){const ee=normalizeClass($[j]);ee&&(_+=ee+" ")}else if(isObject$3($))for(const j in $)$[j]&&(_+=j+" ");return _.trim()}function normalizeProps($){if(!$)return null;let{class:_,style:j}=$;return _&&!isString$1(_)&&($.class=normalizeClass(_)),j&&($.style=normalizeStyle(j)),$}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr($){return!!$||$===""}const toDisplayString=$=>isString$1($)?$:$==null?"":isArray$3($)||isObject$3($)&&($.toString===objectToString$2||!isFunction$1($.toString))?JSON.stringify($,replacer,2):String($),replacer=($,_)=>_&&_.__v_isRef?replacer($,_.value):isMap$2(_)?{[`Map(${_.size})`]:[..._.entries()].reduce((j,[ee,re],le)=>(j[stringifySymbol(ee,le)+" =>"]=re,j),{})}:isSet$2(_)?{[`Set(${_.size})`]:[..._.values()].map(j=>stringifySymbol(j))}:isSymbol(_)?stringifySymbol(_):isObject$3(_)&&!isArray$3(_)&&!isPlainObject$2(_)?String(_):_,stringifySymbol=($,_="")=>{var j;return isSymbol($)?`Symbol(${(j=$.description)!=null?j:_})`:$};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(_=!1){this.detached=_,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!_&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(_){if(this._active){const j=activeEffectScope;try{return activeEffectScope=this,_()}finally{activeEffectScope=j}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(_){if(this._active){let j,ee;for(j=0,ee=this.effects.length;j<ee;j++)this.effects[j].stop();for(j=0,ee=this.cleanups.length;j<ee;j++)this.cleanups[j]();if(this.scopes)for(j=0,ee=this.scopes.length;j<ee;j++)this.scopes[j].stop(!0);if(!this.detached&&this.parent&&!_){const re=this.parent.scopes.pop();re&&re!==this&&(this.parent.scopes[this.index]=re,re.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope($){return new EffectScope($)}function recordEffectScope($,_=activeEffectScope){_&&_.active&&_.effects.push($)}function getCurrentScope(){return activeEffectScope}function onScopeDispose($){activeEffectScope&&activeEffectScope.cleanups.push($)}let activeEffect;class ReactiveEffect{constructor(_,j,ee,re){this.fn=_,this.trigger=j,this.scheduler=ee,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,recordEffectScope(this,re)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,pauseTracking();for(let _=0;_<this._depsLength;_++){const j=this.deps[_];if(j.computed&&(triggerComputed(j.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),resetTracking()}return this._dirtyLevel>=4}set dirty(_){this._dirtyLevel=_?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let _=shouldTrack,j=activeEffect;try{return shouldTrack=!0,activeEffect=this,this._runnings++,preCleanupEffect(this),this.fn()}finally{postCleanupEffect(this),this._runnings--,activeEffect=j,shouldTrack=_}}stop(){var _;this.active&&(preCleanupEffect(this),postCleanupEffect(this),(_=this.onStop)==null||_.call(this),this.active=!1)}}function triggerComputed($){return $.value}function preCleanupEffect($){$._trackId++,$._depsLength=0}function postCleanupEffect($){if($.deps.length>$._depsLength){for(let _=$._depsLength;_<$.deps.length;_++)cleanupDepEffect($.deps[_],$);$.deps.length=$._depsLength}}function cleanupDepEffect($,_){const j=$.get(_);j!==void 0&&_._trackId!==j&&($.delete(_),$.size===0&&$.cleanup())}let shouldTrack=!0,pauseScheduleStack=0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const $=trackStack.pop();shouldTrack=$===void 0?!0:$}function pauseScheduling(){pauseScheduleStack++}function resetScheduling(){for(pauseScheduleStack--;!pauseScheduleStack&&queueEffectSchedulers.length;)queueEffectSchedulers.shift()()}function trackEffect($,_,j){if(_.get($)!==$._trackId){_.set($,$._trackId);const ee=$.deps[$._depsLength];ee!==_?(ee&&cleanupDepEffect(ee,$),$.deps[$._depsLength++]=_):$._depsLength++}}const queueEffectSchedulers=[];function triggerEffects($,_,j){pauseScheduling();for(const ee of $.keys()){let re;ee._dirtyLevel<_&&(re??(re=$.get(ee)===ee._trackId))&&(ee._shouldSchedule||(ee._shouldSchedule=ee._dirtyLevel===0),ee._dirtyLevel=_),ee._shouldSchedule&&(re??(re=$.get(ee)===ee._trackId))&&(ee.trigger(),(!ee._runnings||ee.allowRecurse)&&ee._dirtyLevel!==2&&(ee._shouldSchedule=!1,ee.scheduler&&queueEffectSchedulers.push(ee.scheduler)))}resetScheduling()}const createDep=($,_)=>{const j=new Map;return j.cleanup=$,j.computed=_,j},targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");function track($,_,j){if(shouldTrack&&activeEffect){let ee=targetMap.get($);ee||targetMap.set($,ee=new Map);let re=ee.get(j);re||ee.set(j,re=createDep(()=>ee.delete(j))),trackEffect(activeEffect,re)}}function trigger($,_,j,ee,re,le){const de=targetMap.get($);if(!de)return;let ge=[];if(_==="clear")ge=[...de.values()];else if(j==="length"&&isArray$3($)){const ve=Number(ee);de.forEach((Ee,Ce)=>{(Ce==="length"||!isSymbol(Ce)&&Ce>=ve)&&ge.push(Ee)})}else switch(j!==void 0&&ge.push(de.get(j)),_){case"add":isArray$3($)?isIntegerKey(j)&&ge.push(de.get("length")):(ge.push(de.get(ITERATE_KEY)),isMap$2($)&&ge.push(de.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$3($)||(ge.push(de.get(ITERATE_KEY)),isMap$2($)&&ge.push(de.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$2($)&&ge.push(de.get(ITERATE_KEY));break}pauseScheduling();for(const ve of ge)ve&&triggerEffects(ve,4);resetScheduling()}function getDepFromReactive($,_){var j;return(j=targetMap.get($))==null?void 0:j.get(_)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter($=>$!=="arguments"&&$!=="caller").map($=>Symbol[$]).filter(isSymbol)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const $={};return["includes","indexOf","lastIndexOf"].forEach(_=>{$[_]=function(...j){const ee=toRaw(this);for(let le=0,de=this.length;le<de;le++)track(ee,"get",le+"");const re=ee[_](...j);return re===-1||re===!1?ee[_](...j.map(toRaw)):re}}),["push","pop","shift","unshift","splice"].forEach(_=>{$[_]=function(...j){pauseTracking(),pauseScheduling();const ee=toRaw(this)[_].apply(this,j);return resetScheduling(),resetTracking(),ee}}),$}function hasOwnProperty$c($){const _=toRaw(this);return track(_,"has",$),_.hasOwnProperty($)}class BaseReactiveHandler{constructor(_=!1,j=!1){this._isReadonly=_,this._isShallow=j}get(_,j,ee){const re=this._isReadonly,le=this._isShallow;if(j==="__v_isReactive")return!re;if(j==="__v_isReadonly")return re;if(j==="__v_isShallow")return le;if(j==="__v_raw")return ee===(re?le?shallowReadonlyMap:readonlyMap:le?shallowReactiveMap:reactiveMap).get(_)||Object.getPrototypeOf(_)===Object.getPrototypeOf(ee)?_:void 0;const de=isArray$3(_);if(!re){if(de&&hasOwn(arrayInstrumentations,j))return Reflect.get(arrayInstrumentations,j,ee);if(j==="hasOwnProperty")return hasOwnProperty$c}const ge=Reflect.get(_,j,ee);return(isSymbol(j)?builtInSymbols.has(j):isNonTrackableKeys(j))||(re||track(_,"get",j),le)?ge:isRef(ge)?de&&isIntegerKey(j)?ge:ge.value:isObject$3(ge)?re?readonly(ge):reactive(ge):ge}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(_=!1){super(!1,_)}set(_,j,ee,re){let le=_[j];if(!this._isShallow){const ve=isReadonly(le);if(!isShallow(ee)&&!isReadonly(ee)&&(le=toRaw(le),ee=toRaw(ee)),!isArray$3(_)&&isRef(le)&&!isRef(ee))return ve?!1:(le.value=ee,!0)}const de=isArray$3(_)&&isIntegerKey(j)?Number(j)<_.length:hasOwn(_,j),ge=Reflect.set(_,j,ee,re);return _===toRaw(re)&&(de?hasChanged(ee,le)&&trigger(_,"set",j,ee):trigger(_,"add",j,ee)),ge}deleteProperty(_,j){const ee=hasOwn(_,j);_[j];const re=Reflect.deleteProperty(_,j);return re&&ee&&trigger(_,"delete",j,void 0),re}has(_,j){const ee=Reflect.has(_,j);return(!isSymbol(j)||!builtInSymbols.has(j))&&track(_,"has",j),ee}ownKeys(_){return track(_,"iterate",isArray$3(_)?"length":ITERATE_KEY),Reflect.ownKeys(_)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(_=!1){super(!0,_)}set(_,j){return!0}deleteProperty(_,j){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),toShallow=$=>$,getProto=$=>Reflect.getPrototypeOf($);function get($,_,j=!1,ee=!1){$=$.__v_raw;const re=toRaw($),le=toRaw(_);j||(hasChanged(_,le)&&track(re,"get",_),track(re,"get",le));const{has:de}=getProto(re),ge=ee?toShallow:j?toReadonly:toReactive;if(de.call(re,_))return ge($.get(_));if(de.call(re,le))return ge($.get(le));$!==re&&$.get(_)}function has($,_=!1){const j=this.__v_raw,ee=toRaw(j),re=toRaw($);return _||(hasChanged($,re)&&track(ee,"has",$),track(ee,"has",re)),$===re?j.has($):j.has($)||j.has(re)}function size($,_=!1){return $=$.__v_raw,!_&&track(toRaw($),"iterate",ITERATE_KEY),Reflect.get($,"size",$)}function add($){$=toRaw($);const _=toRaw(this);return getProto(_).has.call(_,$)||(_.add($),trigger(_,"add",$,$)),this}function set($,_){_=toRaw(_);const j=toRaw(this),{has:ee,get:re}=getProto(j);let le=ee.call(j,$);le||($=toRaw($),le=ee.call(j,$));const de=re.call(j,$);return j.set($,_),le?hasChanged(_,de)&&trigger(j,"set",$,_):trigger(j,"add",$,_),this}function deleteEntry($){const _=toRaw(this),{has:j,get:ee}=getProto(_);let re=j.call(_,$);re||($=toRaw($),re=j.call(_,$)),ee&&ee.call(_,$);const le=_.delete($);return re&&trigger(_,"delete",$,void 0),le}function clear(){const $=toRaw(this),_=$.size!==0,j=$.clear();return _&&trigger($,"clear",void 0,void 0),j}function createForEach($,_){return function(ee,re){const le=this,de=le.__v_raw,ge=toRaw(de),ve=_?toShallow:$?toReadonly:toReactive;return!$&&track(ge,"iterate",ITERATE_KEY),de.forEach((Ee,Ce)=>ee.call(re,ve(Ee),ve(Ce),le))}}function createIterableMethod($,_,j){return function(...ee){const re=this.__v_raw,le=toRaw(re),de=isMap$2(le),ge=$==="entries"||$===Symbol.iterator&&de,ve=$==="keys"&&de,Ee=re[$](...ee),Ce=j?toShallow:_?toReadonly:toReactive;return!_&&track(le,"iterate",ve?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:Ae,done:Se}=Ee.next();return Se?{value:Ae,done:Se}:{value:ge?[Ce(Ae[0]),Ce(Ae[1])]:Ce(Ae),done:Se}},[Symbol.iterator](){return this}}}}function createReadonlyMethod($){return function(..._){return $==="delete"?!1:$==="clear"?void 0:this}}function createInstrumentations(){const $={get(le){return get(this,le)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},_={get(le){return get(this,le,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},j={get(le){return get(this,le,!0)},get size(){return size(this,!0)},has(le){return has.call(this,le,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},ee={get(le){return get(this,le,!0,!0)},get size(){return size(this,!0)},has(le){return has.call(this,le,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(le=>{$[le]=createIterableMethod(le,!1,!1),j[le]=createIterableMethod(le,!0,!1),_[le]=createIterableMethod(le,!1,!0),ee[le]=createIterableMethod(le,!0,!0)}),[$,j,_,ee]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter($,_){const j=_?$?shallowReadonlyInstrumentations:shallowInstrumentations:$?readonlyInstrumentations:mutableInstrumentations;return(ee,re,le)=>re==="__v_isReactive"?!$:re==="__v_isReadonly"?$:re==="__v_raw"?ee:Reflect.get(hasOwn(j,re)&&re in ee?j:ee,re,le)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap($){switch($){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType($){return $.__v_skip||!Object.isExtensible($)?0:targetTypeMap(toRawType($))}function reactive($){return isReadonly($)?$:createReactiveObject($,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive($){return createReactiveObject($,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly($){return createReactiveObject($,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject($,_,j,ee,re){if(!isObject$3($)||$.__v_raw&&!(_&&$.__v_isReactive))return $;const le=re.get($);if(le)return le;const de=getTargetType($);if(de===0)return $;const ge=new Proxy($,de===2?ee:j);return re.set($,ge),ge}function isReactive($){return isReadonly($)?isReactive($.__v_raw):!!($&&$.__v_isReactive)}function isReadonly($){return!!($&&$.__v_isReadonly)}function isShallow($){return!!($&&$.__v_isShallow)}function isProxy($){return isReactive($)||isReadonly($)}function toRaw($){const _=$&&$.__v_raw;return _?toRaw(_):$}function markRaw($){return Object.isExtensible($)&&def($,"__v_skip",!0),$}const toReactive=$=>isObject$3($)?reactive($):$,toReadonly=$=>isObject$3($)?readonly($):$;class ComputedRefImpl{constructor(_,j,ee,re){this.getter=_,this._setter=j,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ReactiveEffect(()=>_(this._value),()=>triggerRefValue(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!re,this.__v_isReadonly=ee}get value(){const _=toRaw(this);return(!_._cacheable||_.effect.dirty)&&hasChanged(_._value,_._value=_.effect.run())&&triggerRefValue(_,4),trackRefValue(_),_.effect._dirtyLevel>=2&&triggerRefValue(_,2),_._value}set value(_){this._setter(_)}get _dirty(){return this.effect.dirty}set _dirty(_){this.effect.dirty=_}}function computed$1($,_,j=!1){let ee,re;const le=isFunction$1($);return le?(ee=$,re=NOOP):(ee=$.get,re=$.set),new ComputedRefImpl(ee,re,le||!re,j)}function trackRefValue($){var _;shouldTrack&&activeEffect&&($=toRaw($),trackEffect(activeEffect,(_=$.dep)!=null?_:$.dep=createDep(()=>$.dep=void 0,$ instanceof ComputedRefImpl?$:void 0)))}function triggerRefValue($,_=4,j){$=toRaw($);const ee=$.dep;ee&&triggerEffects(ee,_)}function isRef($){return!!($&&$.__v_isRef===!0)}function ref$1($){return createRef($,!1)}function shallowRef($){return createRef($,!0)}function createRef($,_){return isRef($)?$:new RefImpl($,_)}class RefImpl{constructor(_,j){this.__v_isShallow=j,this.dep=void 0,this.__v_isRef=!0,this._rawValue=j?_:toRaw(_),this._value=j?_:toReactive(_)}get value(){return trackRefValue(this),this._value}set value(_){const j=this.__v_isShallow||isShallow(_)||isReadonly(_);_=j?_:toRaw(_),hasChanged(_,this._rawValue)&&(this._rawValue=_,this._value=j?_:toReactive(_),triggerRefValue(this,4))}}function unref($){return isRef($)?$.value:$}const shallowUnwrapHandlers={get:($,_,j)=>unref(Reflect.get($,_,j)),set:($,_,j,ee)=>{const re=$[_];return isRef(re)&&!isRef(j)?(re.value=j,!0):Reflect.set($,_,j,ee)}};function proxyRefs($){return isReactive($)?$:new Proxy($,shallowUnwrapHandlers)}class CustomRefImpl{constructor(_){this.dep=void 0,this.__v_isRef=!0;const{get:j,set:ee}=_(()=>trackRefValue(this),()=>triggerRefValue(this));this._get=j,this._set=ee}get value(){return this._get()}set value(_){this._set(_)}}function customRef($){return new CustomRefImpl($)}function toRefs($){const _=isArray$3($)?new Array($.length):{};for(const j in $)_[j]=propertyToRef($,j);return _}class ObjectRefImpl{constructor(_,j,ee){this._object=_,this._key=j,this._defaultValue=ee,this.__v_isRef=!0}get value(){const _=this._object[this._key];return _===void 0?this._defaultValue:_}set value(_){this._object[this._key]=_}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(_){this._getter=_,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function toRef$1($,_,j){return isRef($)?$:isFunction$1($)?new GetterRefImpl($):isObject$3($)&&arguments.length>1?propertyToRef($,_,j):ref$1($)}function propertyToRef($,_,j){const ee=$[_];return isRef(ee)?ee:new ObjectRefImpl($,_,j)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];function warn$1($,..._){pauseTracking();const j=stack.length?stack[stack.length-1].component:null,ee=j&&j.appContext.config.warnHandler,re=getComponentTrace();if(ee)callWithErrorHandling(ee,j,11,[$+_.map(le=>{var de,ge;return(ge=(de=le.toString)==null?void 0:de.call(le))!=null?ge:JSON.stringify(le)}).join(""),j&&j.proxy,re.map(({vnode:le})=>`at <${formatComponentName$1(j,le.type)}>`).join(`
`),re]);else{const le=[`[Vue warn]: ${$}`,..._];re.length&&le.push(`
`,...formatTrace(re)),console.warn(...le)}resetTracking()}function getComponentTrace(){let $=stack[stack.length-1];if(!$)return[];const _=[];for(;$;){const j=_[0];j&&j.vnode===$?j.recurseCount++:_.push({vnode:$,recurseCount:0});const ee=$.component&&$.component.parent;$=ee&&ee.vnode}return _}function formatTrace($){const _=[];return $.forEach((j,ee)=>{_.push(...ee===0?[]:[`
`],...formatTraceEntry(j))}),_}function formatTraceEntry({vnode:$,recurseCount:_}){const j=_>0?`... (${_} recursive calls)`:"",ee=$.component?$.component.parent==null:!1,re=` at <${formatComponentName$1($.component,$.type,ee)}`,le=">"+j;return $.props?[re,...formatProps($.props),le]:[re+le]}function formatProps($){const _=[],j=Object.keys($);return j.slice(0,3).forEach(ee=>{_.push(...formatProp(ee,$[ee]))}),j.length>3&&_.push(" ..."),_}function formatProp($,_,j){return isString$1(_)?(_=JSON.stringify(_),j?_:[`${$}=${_}`]):typeof _=="number"||typeof _=="boolean"||_==null?j?_:[`${$}=${_}`]:isRef(_)?(_=formatProp($,toRaw(_.value),!0),j?_:[`${$}=Ref<`,_,">"]):isFunction$1(_)?[`${$}=fn${_.name?`<${_.name}>`:""}`]:(_=toRaw(_),j?_:[`${$}=`,_])}function callWithErrorHandling($,_,j,ee){try{return ee?$(...ee):$()}catch(re){handleError(re,_,j)}}function callWithAsyncErrorHandling($,_,j,ee){if(isFunction$1($)){const le=callWithErrorHandling($,_,j,ee);return le&&isPromise(le)&&le.catch(de=>{handleError(de,_,j)}),le}const re=[];for(let le=0;le<$.length;le++)re.push(callWithAsyncErrorHandling($[le],_,j,ee));return re}function handleError($,_,j,ee=!0){const re=_?_.vnode:null;if(_){let le=_.parent;const de=_.proxy,ge=`https://vuejs.org/error-reference/#runtime-${j}`;for(;le;){const Ee=le.ec;if(Ee){for(let Ce=0;Ce<Ee.length;Ce++)if(Ee[Ce]($,de,ge)===!1)return}le=le.parent}const ve=_.appContext.config.errorHandler;if(ve){callWithErrorHandling(ve,null,10,[$,de,ge]);return}}logError($,j,re,ee)}function logError($,_,j,ee=!0){console.error($)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick($){const _=currentFlushPromise||resolvedPromise;return $?_.then(this?$.bind(this):$):_}function findInsertionIndex($){let _=flushIndex+1,j=queue.length;for(;_<j;){const ee=_+j>>>1,re=queue[ee],le=getId$1(re);le<$||le===$&&re.pre?_=ee+1:j=ee}return _}function queueJob($){(!queue.length||!queue.includes($,isFlushing&&$.allowRecurse?flushIndex+1:flushIndex))&&($.id==null?queue.push($):queue.splice(findInsertionIndex($.id),0,$),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob($){const _=queue.indexOf($);_>flushIndex&&queue.splice(_,1)}function queuePostFlushCb($){isArray$3($)?pendingPostFlushCbs.push(...$):(!activePostFlushCbs||!activePostFlushCbs.includes($,$.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push($),queueFlush()}function flushPreFlushCbs($,_,j=isFlushing?flushIndex+1:0){for(;j<queue.length;j++){const ee=queue[j];if(ee&&ee.pre){if($&&ee.id!==$.uid)continue;queue.splice(j,1),j--,ee()}}}function flushPostFlushCbs($){if(pendingPostFlushCbs.length){const _=[...new Set(pendingPostFlushCbs)].sort((j,ee)=>getId$1(j)-getId$1(ee));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(..._);return}for(activePostFlushCbs=_,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId$1=$=>$.id==null?1/0:$.id,comparator=($,_)=>{const j=getId$1($)-getId$1(_);if(j===0){if($.pre&&!_.pre)return-1;if(_.pre&&!$.pre)return 1}return j};function flushJobs($){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const _=queue[flushIndex];_&&_.active!==!1&&callWithErrorHandling(_,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit($,_,...j){if($.isUnmounted)return;const ee=$.vnode.props||EMPTY_OBJ;let re=j;const le=_.startsWith("update:"),de=le&&_.slice(7);if(de&&de in ee){const Ce=`${de==="modelValue"?"model":de}Modifiers`,{number:Ae,trim:Se}=ee[Ce]||EMPTY_OBJ;Se&&(re=j.map(ke=>isString$1(ke)?ke.trim():ke)),Ae&&(re=j.map(looseToNumber))}let ge,ve=ee[ge=toHandlerKey(_)]||ee[ge=toHandlerKey(camelize(_))];!ve&&le&&(ve=ee[ge=toHandlerKey(hyphenate(_))]),ve&&callWithAsyncErrorHandling(ve,$,6,re);const Ee=ee[ge+"Once"];if(Ee){if(!$.emitted)$.emitted={};else if($.emitted[ge])return;$.emitted[ge]=!0,callWithAsyncErrorHandling(Ee,$,6,re)}}function normalizeEmitsOptions($,_,j=!1){const ee=_.emitsCache,re=ee.get($);if(re!==void 0)return re;const le=$.emits;let de={},ge=!1;if(!isFunction$1($)){const ve=Ee=>{const Ce=normalizeEmitsOptions(Ee,_,!0);Ce&&(ge=!0,extend(de,Ce))};!j&&_.mixins.length&&_.mixins.forEach(ve),$.extends&&ve($.extends),$.mixins&&$.mixins.forEach(ve)}return!le&&!ge?(isObject$3($)&&ee.set($,null),null):(isArray$3(le)?le.forEach(ve=>de[ve]=null):extend(de,le),isObject$3($)&&ee.set($,de),de)}function isEmitListener($,_){return!$||!isOn(_)?!1:(_=_.slice(2).replace(/Once$/,""),hasOwn($,_[0].toLowerCase()+_.slice(1))||hasOwn($,hyphenate(_))||hasOwn($,_))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance($){const _=currentRenderingInstance;return currentRenderingInstance=$,currentScopeId=$&&$.type.__scopeId||null,_}function pushScopeId($){currentScopeId=$}function popScopeId(){currentScopeId=null}function withCtx($,_=currentRenderingInstance,j){if(!_||$._n)return $;const ee=(...re)=>{ee._d&&setBlockTracking(-1);const le=setCurrentRenderingInstance(_);let de;try{de=$(...re)}finally{setCurrentRenderingInstance(le),ee._d&&setBlockTracking(1)}return de};return ee._n=!0,ee._c=!0,ee._d=!0,ee}function markAttrsAccessed(){}function renderComponentRoot($){const{type:_,vnode:j,proxy:ee,withProxy:re,props:le,propsOptions:[de],slots:ge,attrs:ve,emit:Ee,render:Ce,renderCache:Ae,data:Se,setupState:ke,ctx:we,inheritAttrs:Ne}=$;let Le,Me;const Fe=setCurrentRenderingInstance($);try{if(j.shapeFlag&4){const $e=re||ee,De=$e;Le=normalizeVNode(Ce.call(De,$e,Ae,le,ke,Se,we)),Me=ve}else{const $e=_;Le=normalizeVNode($e.length>1?$e(le,{attrs:ve,slots:ge,emit:Ee}):$e(le,null)),Me=_.props?ve:getFunctionalFallthrough(ve)}}catch($e){blockStack.length=0,handleError($e,$,1),Le=createVNode(Comment)}let xe=Le;if(Me&&Ne!==!1){const $e=Object.keys(Me),{shapeFlag:De}=xe;$e.length&&De&7&&(de&&$e.some(isModelListener)&&(Me=filterModelListeners(Me,de)),xe=cloneVNode(xe,Me))}return j.dirs&&(xe=cloneVNode(xe),xe.dirs=xe.dirs?xe.dirs.concat(j.dirs):j.dirs),j.transition&&(xe.transition=j.transition),Le=xe,setCurrentRenderingInstance(Fe),Le}const getFunctionalFallthrough=$=>{let _;for(const j in $)(j==="class"||j==="style"||isOn(j))&&((_||(_={}))[j]=$[j]);return _},filterModelListeners=($,_)=>{const j={};for(const ee in $)(!isModelListener(ee)||!(ee.slice(9)in _))&&(j[ee]=$[ee]);return j};function shouldUpdateComponent($,_,j){const{props:ee,children:re,component:le}=$,{props:de,children:ge,patchFlag:ve}=_,Ee=le.emitsOptions;if(_.dirs||_.transition)return!0;if(j&&ve>=0){if(ve&1024)return!0;if(ve&16)return ee?hasPropsChanged(ee,de,Ee):!!de;if(ve&8){const Ce=_.dynamicProps;for(let Ae=0;Ae<Ce.length;Ae++){const Se=Ce[Ae];if(de[Se]!==ee[Se]&&!isEmitListener(Ee,Se))return!0}}}else return(re||ge)&&(!ge||!ge.$stable)?!0:ee===de?!1:ee?de?hasPropsChanged(ee,de,Ee):!0:!!de;return!1}function hasPropsChanged($,_,j){const ee=Object.keys(_);if(ee.length!==Object.keys($).length)return!0;for(let re=0;re<ee.length;re++){const le=ee[re];if(_[le]!==$[le]&&!isEmitListener(j,le))return!0}return!1}function updateHOCHostEl({vnode:$,parent:_},j){for(;_;){const ee=_.subTree;if(ee.suspense&&ee.suspense.activeBranch===$&&(ee.el=$.el),ee===$)($=_.vnode).el=j,_=_.parent;else break}}const COMPONENTS="components";function resolveComponent($,_){return resolveAsset(COMPONENTS,$,!0,_)||$}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent($){return isString$1($)?resolveAsset(COMPONENTS,$,!1)||$:$||NULL_DYNAMIC_COMPONENT}function resolveAsset($,_,j=!0,ee=!1){const re=currentRenderingInstance||currentInstance;if(re){const le=re.type;if($===COMPONENTS){const ge=getComponentName(le,!1);if(ge&&(ge===_||ge===camelize(_)||ge===capitalize(camelize(_))))return le}const de=resolve(re[$]||le[$],_)||resolve(re.appContext[$],_);return!de&&ee?le:de}}function resolve($,_){return $&&($[_]||$[camelize(_)]||$[capitalize(camelize(_))])}const isSuspense=$=>$.__isSuspense;function queueEffectWithSuspense($,_){_&&_.pendingBranch?isArray$3($)?_.effects.push(...$):_.effects.push($):queuePostFlushCb($)}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchEffect($,_){return doWatch($,null,_)}const INITIAL_WATCHER_VALUE={};function watch($,_,j){return doWatch($,_,j)}function doWatch($,_,{immediate:j,deep:ee,flush:re,once:le,onTrack:de,onTrigger:ge}=EMPTY_OBJ){if(_&&le){const Oe=_;_=(...Ge)=>{Oe(...Ge),De()}}const ve=currentInstance,Ee=Oe=>ee===!0?Oe:traverse(Oe,ee===!1?1:void 0);let Ce,Ae=!1,Se=!1;if(isRef($)?(Ce=()=>$.value,Ae=isShallow($)):isReactive($)?(Ce=()=>Ee($),Ae=!0):isArray$3($)?(Se=!0,Ae=$.some(Oe=>isReactive(Oe)||isShallow(Oe)),Ce=()=>$.map(Oe=>{if(isRef(Oe))return Oe.value;if(isReactive(Oe))return Ee(Oe);if(isFunction$1(Oe))return callWithErrorHandling(Oe,ve,2)})):isFunction$1($)?_?Ce=()=>callWithErrorHandling($,ve,2):Ce=()=>(ke&&ke(),callWithAsyncErrorHandling($,ve,3,[we])):Ce=NOOP,_&&ee){const Oe=Ce;Ce=()=>traverse(Oe())}let ke,we=Oe=>{ke=xe.onStop=()=>{callWithErrorHandling(Oe,ve,4),ke=xe.onStop=void 0}},Ne;if(isInSSRComponentSetup)if(we=NOOP,_?j&&callWithAsyncErrorHandling(_,ve,3,[Ce(),Se?[]:void 0,we]):Ce(),re==="sync"){const Oe=useSSRContext();Ne=Oe.__watcherHandles||(Oe.__watcherHandles=[])}else return NOOP;let Le=Se?new Array($.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const Me=()=>{if(!(!xe.active||!xe.dirty))if(_){const Oe=xe.run();(ee||Ae||(Se?Oe.some((Ge,We)=>hasChanged(Ge,Le[We])):hasChanged(Oe,Le)))&&(ke&&ke(),callWithAsyncErrorHandling(_,ve,3,[Oe,Le===INITIAL_WATCHER_VALUE?void 0:Se&&Le[0]===INITIAL_WATCHER_VALUE?[]:Le,we]),Le=Oe)}else xe.run()};Me.allowRecurse=!!_;let Fe;re==="sync"?Fe=Me:re==="post"?Fe=()=>queuePostRenderEffect(Me,ve&&ve.suspense):(Me.pre=!0,ve&&(Me.id=ve.uid),Fe=()=>queueJob(Me));const xe=new ReactiveEffect(Ce,NOOP,Fe),$e=getCurrentScope(),De=()=>{xe.stop(),$e&&remove($e.effects,xe)};return _?j?Me():Le=xe.run():re==="post"?queuePostRenderEffect(xe.run.bind(xe),ve&&ve.suspense):xe.run(),Ne&&Ne.push(De),De}function instanceWatch($,_,j){const ee=this.proxy,re=isString$1($)?$.includes(".")?createPathGetter(ee,$):()=>ee[$]:$.bind(ee,ee);let le;isFunction$1(_)?le=_:(le=_.handler,j=_);const de=setCurrentInstance(this),ge=doWatch(re,le.bind(ee),j);return de(),ge}function createPathGetter($,_){const j=_.split(".");return()=>{let ee=$;for(let re=0;re<j.length&&ee;re++)ee=ee[j[re]];return ee}}function traverse($,_,j=0,ee){if(!isObject$3($)||$.__v_skip)return $;if(_&&_>0){if(j>=_)return $;j++}if(ee=ee||new Set,ee.has($))return $;if(ee.add($),isRef($))traverse($.value,_,j,ee);else if(isArray$3($))for(let re=0;re<$.length;re++)traverse($[re],_,j,ee);else if(isSet$2($)||isMap$2($))$.forEach(re=>{traverse(re,_,j,ee)});else if(isPlainObject$2($))for(const re in $)traverse($[re],_,j,ee);return $}function withDirectives($,_){if(currentRenderingInstance===null)return $;const j=getExposeProxy(currentRenderingInstance)||currentRenderingInstance.proxy,ee=$.dirs||($.dirs=[]);for(let re=0;re<_.length;re++){let[le,de,ge,ve=EMPTY_OBJ]=_[re];le&&(isFunction$1(le)&&(le={mounted:le,updated:le}),le.deep&&traverse(de),ee.push({dir:le,instance:j,value:de,oldValue:void 0,arg:ge,modifiers:ve}))}return $}function invokeDirectiveHook($,_,j,ee){const re=$.dirs,le=_&&_.dirs;for(let de=0;de<re.length;de++){const ge=re[de];le&&(ge.oldValue=le[de].value);let ve=ge.dir[ee];ve&&(pauseTracking(),callWithAsyncErrorHandling(ve,j,8,[$.el,ge,$,_]),resetTracking())}}const leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const $={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{$.isMounted=!0}),onBeforeUnmount(()=>{$.isUnmounting=!0}),$}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup($,{slots:_}){const j=getCurrentInstance(),ee=useTransitionState();return()=>{const re=_.default&&getTransitionRawChildren(_.default(),!0);if(!re||!re.length)return;let le=re[0];if(re.length>1){for(const Se of re)if(Se.type!==Comment){le=Se;break}}const de=toRaw($),{mode:ge}=de;if(ee.isLeaving)return emptyPlaceholder(le);const ve=getKeepAliveChild(le);if(!ve)return emptyPlaceholder(le);const Ee=resolveTransitionHooks(ve,de,ee,j);setTransitionHooks(ve,Ee);const Ce=j.subTree,Ae=Ce&&getKeepAliveChild(Ce);if(Ae&&Ae.type!==Comment&&!isSameVNodeType(ve,Ae)){const Se=resolveTransitionHooks(Ae,de,ee,j);if(setTransitionHooks(Ae,Se),ge==="out-in")return ee.isLeaving=!0,Se.afterLeave=()=>{ee.isLeaving=!1,j.update.active!==!1&&(j.effect.dirty=!0,j.update())},emptyPlaceholder(le);ge==="in-out"&&ve.type!==Comment&&(Se.delayLeave=(ke,we,Ne)=>{const Le=getLeavingNodesForType(ee,Ae);Le[String(Ae.key)]=Ae,ke[leaveCbKey]=()=>{we(),ke[leaveCbKey]=void 0,delete Ee.delayedLeave},Ee.delayedLeave=Ne})}return le}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType($,_){const{leavingVNodes:j}=$;let ee=j.get(_.type);return ee||(ee=Object.create(null),j.set(_.type,ee)),ee}function resolveTransitionHooks($,_,j,ee){const{appear:re,mode:le,persisted:de=!1,onBeforeEnter:ge,onEnter:ve,onAfterEnter:Ee,onEnterCancelled:Ce,onBeforeLeave:Ae,onLeave:Se,onAfterLeave:ke,onLeaveCancelled:we,onBeforeAppear:Ne,onAppear:Le,onAfterAppear:Me,onAppearCancelled:Fe}=_,xe=String($.key),$e=getLeavingNodesForType(j,$),De=(We,Ze)=>{We&&callWithAsyncErrorHandling(We,ee,9,Ze)},Oe=(We,Ze)=>{const Qe=Ze[1];De(We,Ze),isArray$3(We)?We.every(tt=>tt.length<=1)&&Qe():We.length<=1&&Qe()},Ge={mode:le,persisted:de,beforeEnter(We){let Ze=ge;if(!j.isMounted)if(re)Ze=Ne||ge;else return;We[leaveCbKey]&&We[leaveCbKey](!0);const Qe=$e[xe];Qe&&isSameVNodeType($,Qe)&&Qe.el[leaveCbKey]&&Qe.el[leaveCbKey](),De(Ze,[We])},enter(We){let Ze=ve,Qe=Ee,tt=Ce;if(!j.isMounted)if(re)Ze=Le||ve,Qe=Me||Ee,tt=Fe||Ce;else return;let Ke=!1;const Xe=We[enterCbKey]=ot=>{Ke||(Ke=!0,ot?De(tt,[We]):De(Qe,[We]),Ge.delayedLeave&&Ge.delayedLeave(),We[enterCbKey]=void 0)};Ze?Oe(Ze,[We,Xe]):Xe()},leave(We,Ze){const Qe=String($.key);if(We[enterCbKey]&&We[enterCbKey](!0),j.isUnmounting)return Ze();De(Ae,[We]);let tt=!1;const Ke=We[leaveCbKey]=Xe=>{tt||(tt=!0,Ze(),Xe?De(we,[We]):De(ke,[We]),We[leaveCbKey]=void 0,$e[Qe]===$&&delete $e[Qe])};$e[Qe]=$,Se?Oe(Se,[We,Ke]):Ke()},clone(We){return resolveTransitionHooks(We,_,j,ee)}};return Ge}function emptyPlaceholder($){if(isKeepAlive($))return $=cloneVNode($),$.children=null,$}function getKeepAliveChild($){return isKeepAlive($)?$.children?$.children[0]:void 0:$}function setTransitionHooks($,_){$.shapeFlag&6&&$.component?setTransitionHooks($.component.subTree,_):$.shapeFlag&128?($.ssContent.transition=_.clone($.ssContent),$.ssFallback.transition=_.clone($.ssFallback)):$.transition=_}function getTransitionRawChildren($,_=!1,j){let ee=[],re=0;for(let le=0;le<$.length;le++){let de=$[le];const ge=j==null?de.key:String(j)+String(de.key!=null?de.key:le);de.type===Fragment?(de.patchFlag&128&&re++,ee=ee.concat(getTransitionRawChildren(de.children,_,ge))):(_||de.type!==Comment)&&ee.push(ge!=null?cloneVNode(de,{key:ge}):de)}if(re>1)for(let le=0;le<ee.length;le++)ee[le].patchFlag=-2;return ee}/*! #__NO_SIDE_EFFECTS__ */function defineComponent($,_){return isFunction$1($)?extend({name:$.name},_,{setup:$}):$}const isAsyncWrapper=$=>!!$.type.__asyncLoader,isKeepAlive=$=>$.type.__isKeepAlive;function onActivated($,_){registerKeepAliveHook($,"a",_)}function onDeactivated($,_){registerKeepAliveHook($,"da",_)}function registerKeepAliveHook($,_,j=currentInstance){const ee=$.__wdc||($.__wdc=()=>{let re=j;for(;re;){if(re.isDeactivated)return;re=re.parent}return $()});if(injectHook(_,ee,j),j){let re=j.parent;for(;re&&re.parent;)isKeepAlive(re.parent.vnode)&&injectToKeepAliveRoot(ee,_,j,re),re=re.parent}}function injectToKeepAliveRoot($,_,j,ee){const re=injectHook(_,$,ee,!0);onUnmounted(()=>{remove(ee[_],re)},j)}function injectHook($,_,j=currentInstance,ee=!1){if(j){const re=j[$]||(j[$]=[]),le=_.__weh||(_.__weh=(...de)=>{if(j.isUnmounted)return;pauseTracking();const ge=setCurrentInstance(j),ve=callWithAsyncErrorHandling(_,j,$,de);return ge(),resetTracking(),ve});return ee?re.unshift(le):re.push(le),le}}const createHook=$=>(_,j=currentInstance)=>(!isInSSRComponentSetup||$==="sp")&&injectHook($,(...ee)=>_(...ee),j),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured($,_=currentInstance){injectHook("ec",$,_)}function renderList($,_,j,ee){let re;const le=j&&j[ee];if(isArray$3($)||isString$1($)){re=new Array($.length);for(let de=0,ge=$.length;de<ge;de++)re[de]=_($[de],de,void 0,le&&le[de])}else if(typeof $=="number"){re=new Array($);for(let de=0;de<$;de++)re[de]=_(de+1,de,void 0,le&&le[de])}else if(isObject$3($))if($[Symbol.iterator])re=Array.from($,(de,ge)=>_(de,ge,void 0,le&&le[ge]));else{const de=Object.keys($);re=new Array(de.length);for(let ge=0,ve=de.length;ge<ve;ge++){const Ee=de[ge];re[ge]=_($[Ee],Ee,ge,le&&le[ge])}}else re=[];return j&&(j[ee]=re),re}function createSlots($,_){for(let j=0;j<_.length;j++){const ee=_[j];if(isArray$3(ee))for(let re=0;re<ee.length;re++)$[ee[re].name]=ee[re].fn;else ee&&($[ee.name]=ee.key?(...re)=>{const le=ee.fn(...re);return le&&(le.key=ee.key),le}:ee.fn)}return $}function renderSlot($,_,j={},ee,re){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return _!=="default"&&(j.name=_),createVNode("slot",j,ee&&ee());let le=$[_];le&&le._c&&(le._d=!1),openBlock();const de=le&&ensureValidVNode(le(j)),ge=createBlock(Fragment,{key:j.key||de&&de.key||`_${_}`},de||(ee?ee():[]),de&&$._===1?64:-2);return!re&&ge.scopeId&&(ge.slotScopeIds=[ge.scopeId+"-s"]),le&&le._c&&(le._d=!0),ge}function ensureValidVNode($){return $.some(_=>isVNode(_)?!(_.type===Comment||_.type===Fragment&&!ensureValidVNode(_.children)):!0)?$:null}function toHandlers($,_){const j={};for(const ee in $)j[_&&/[A-Z]/.test(ee)?`on:${ee}`:toHandlerKey(ee)]=$[ee];return j}const getPublicInstance=$=>$?isStatefulComponent($)?getExposeProxy($)||$.proxy:getPublicInstance($.parent):null,publicPropertiesMap=extend(Object.create(null),{$:$=>$,$el:$=>$.vnode.el,$data:$=>$.data,$props:$=>$.props,$attrs:$=>$.attrs,$slots:$=>$.slots,$refs:$=>$.refs,$parent:$=>getPublicInstance($.parent),$root:$=>getPublicInstance($.root),$emit:$=>$.emit,$options:$=>resolveMergedOptions($),$forceUpdate:$=>$.f||($.f=()=>{$.effect.dirty=!0,queueJob($.update)}),$nextTick:$=>$.n||($.n=nextTick.bind($.proxy)),$watch:$=>instanceWatch.bind($)}),hasSetupBinding=($,_)=>$!==EMPTY_OBJ&&!$.__isScriptSetup&&hasOwn($,_),PublicInstanceProxyHandlers={get({_:$},_){const{ctx:j,setupState:ee,data:re,props:le,accessCache:de,type:ge,appContext:ve}=$;let Ee;if(_[0]!=="$"){const ke=de[_];if(ke!==void 0)switch(ke){case 1:return ee[_];case 2:return re[_];case 4:return j[_];case 3:return le[_]}else{if(hasSetupBinding(ee,_))return de[_]=1,ee[_];if(re!==EMPTY_OBJ&&hasOwn(re,_))return de[_]=2,re[_];if((Ee=$.propsOptions[0])&&hasOwn(Ee,_))return de[_]=3,le[_];if(j!==EMPTY_OBJ&&hasOwn(j,_))return de[_]=4,j[_];shouldCacheAccess&&(de[_]=0)}}const Ce=publicPropertiesMap[_];let Ae,Se;if(Ce)return _==="$attrs"&&track($,"get",_),Ce($);if((Ae=ge.__cssModules)&&(Ae=Ae[_]))return Ae;if(j!==EMPTY_OBJ&&hasOwn(j,_))return de[_]=4,j[_];if(Se=ve.config.globalProperties,hasOwn(Se,_))return Se[_]},set({_:$},_,j){const{data:ee,setupState:re,ctx:le}=$;return hasSetupBinding(re,_)?(re[_]=j,!0):ee!==EMPTY_OBJ&&hasOwn(ee,_)?(ee[_]=j,!0):hasOwn($.props,_)||_[0]==="$"&&_.slice(1)in $?!1:(le[_]=j,!0)},has({_:{data:$,setupState:_,accessCache:j,ctx:ee,appContext:re,propsOptions:le}},de){let ge;return!!j[de]||$!==EMPTY_OBJ&&hasOwn($,de)||hasSetupBinding(_,de)||(ge=le[0])&&hasOwn(ge,de)||hasOwn(ee,de)||hasOwn(publicPropertiesMap,de)||hasOwn(re.config.globalProperties,de)},defineProperty($,_,j){return j.get!=null?$._.accessCache[_]=0:hasOwn(j,"value")&&this.set($,_,j.value,null),Reflect.defineProperty($,_,j)}};function useSlots(){return getContext().slots}function getContext(){const $=getCurrentInstance();return $.setupContext||($.setupContext=createSetupContext($))}function normalizePropsOrEmits($){return isArray$3($)?$.reduce((_,j)=>(_[j]=null,_),{}):$}let shouldCacheAccess=!0;function applyOptions($){const _=resolveMergedOptions($),j=$.proxy,ee=$.ctx;shouldCacheAccess=!1,_.beforeCreate&&callHook$1(_.beforeCreate,$,"bc");const{data:re,computed:le,methods:de,watch:ge,provide:ve,inject:Ee,created:Ce,beforeMount:Ae,mounted:Se,beforeUpdate:ke,updated:we,activated:Ne,deactivated:Le,beforeDestroy:Me,beforeUnmount:Fe,destroyed:xe,unmounted:$e,render:De,renderTracked:Oe,renderTriggered:Ge,errorCaptured:We,serverPrefetch:Ze,expose:Qe,inheritAttrs:tt,components:Ke,directives:Xe,filters:ot}=_;if(Ee&&resolveInjections(Ee,ee,null),de)for(const qe in de){const Be=de[qe];isFunction$1(Be)&&(ee[qe]=Be.bind(j))}if(re){const qe=re.call(j,j);isObject$3(qe)&&($.data=reactive(qe))}if(shouldCacheAccess=!0,le)for(const qe in le){const Be=le[qe],Ue=isFunction$1(Be)?Be.bind(j,j):isFunction$1(Be.get)?Be.get.bind(j,j):NOOP,Je=!isFunction$1(Be)&&isFunction$1(Be.set)?Be.set.bind(j):NOOP,Ye=computed({get:Ue,set:Je});Object.defineProperty(ee,qe,{enumerable:!0,configurable:!0,get:()=>Ye.value,set:at=>Ye.value=at})}if(ge)for(const qe in ge)createWatcher(ge[qe],ee,j,qe);if(ve){const qe=isFunction$1(ve)?ve.call(j):ve;Reflect.ownKeys(qe).forEach(Be=>{provide(Be,qe[Be])})}Ce&&callHook$1(Ce,$,"c");function He(qe,Be){isArray$3(Be)?Be.forEach(Ue=>qe(Ue.bind(j))):Be&&qe(Be.bind(j))}if(He(onBeforeMount,Ae),He(onMounted,Se),He(onBeforeUpdate,ke),He(onUpdated,we),He(onActivated,Ne),He(onDeactivated,Le),He(onErrorCaptured,We),He(onRenderTracked,Oe),He(onRenderTriggered,Ge),He(onBeforeUnmount,Fe),He(onUnmounted,$e),He(onServerPrefetch,Ze),isArray$3(Qe))if(Qe.length){const qe=$.exposed||($.exposed={});Qe.forEach(Be=>{Object.defineProperty(qe,Be,{get:()=>j[Be],set:Ue=>j[Be]=Ue})})}else $.exposed||($.exposed={});De&&$.render===NOOP&&($.render=De),tt!=null&&($.inheritAttrs=tt),Ke&&($.components=Ke),Xe&&($.directives=Xe)}function resolveInjections($,_,j=NOOP){isArray$3($)&&($=normalizeInject($));for(const ee in $){const re=$[ee];let le;isObject$3(re)?"default"in re?le=inject(re.from||ee,re.default,!0):le=inject(re.from||ee):le=inject(re),isRef(le)?Object.defineProperty(_,ee,{enumerable:!0,configurable:!0,get:()=>le.value,set:de=>le.value=de}):_[ee]=le}}function callHook$1($,_,j){callWithAsyncErrorHandling(isArray$3($)?$.map(ee=>ee.bind(_.proxy)):$.bind(_.proxy),_,j)}function createWatcher($,_,j,ee){const re=ee.includes(".")?createPathGetter(j,ee):()=>j[ee];if(isString$1($)){const le=_[$];isFunction$1(le)&&watch(re,le)}else if(isFunction$1($))watch(re,$.bind(j));else if(isObject$3($))if(isArray$3($))$.forEach(le=>createWatcher(le,_,j,ee));else{const le=isFunction$1($.handler)?$.handler.bind(j):_[$.handler];isFunction$1(le)&&watch(re,le,$)}}function resolveMergedOptions($){const _=$.type,{mixins:j,extends:ee}=_,{mixins:re,optionsCache:le,config:{optionMergeStrategies:de}}=$.appContext,ge=le.get(_);let ve;return ge?ve=ge:!re.length&&!j&&!ee?ve=_:(ve={},re.length&&re.forEach(Ee=>mergeOptions$1(ve,Ee,de,!0)),mergeOptions$1(ve,_,de)),isObject$3(_)&&le.set(_,ve),ve}function mergeOptions$1($,_,j,ee=!1){const{mixins:re,extends:le}=_;le&&mergeOptions$1($,le,j,!0),re&&re.forEach(de=>mergeOptions$1($,de,j,!0));for(const de in _)if(!(ee&&de==="expose")){const ge=internalOptionMergeStrats[de]||j&&j[de];$[de]=ge?ge($[de],_[de]):_[de]}return $}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn($,_){return _?$?function(){return extend(isFunction$1($)?$.call(this,this):$,isFunction$1(_)?_.call(this,this):_)}:_:$}function mergeInject($,_){return mergeObjectOptions(normalizeInject($),normalizeInject(_))}function normalizeInject($){if(isArray$3($)){const _={};for(let j=0;j<$.length;j++)_[$[j]]=$[j];return _}return $}function mergeAsArray($,_){return $?[...new Set([].concat($,_))]:_}function mergeObjectOptions($,_){return $?extend(Object.create(null),$,_):_}function mergeEmitsOrPropsOptions($,_){return $?isArray$3($)&&isArray$3(_)?[...new Set([...$,..._])]:extend(Object.create(null),normalizePropsOrEmits($),normalizePropsOrEmits(_??{})):_}function mergeWatchOptions($,_){if(!$)return _;if(!_)return $;const j=extend(Object.create(null),$);for(const ee in _)j[ee]=mergeAsArray($[ee],_[ee]);return j}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI($,_){return function(ee,re=null){isFunction$1(ee)||(ee=extend({},ee)),re!=null&&!isObject$3(re)&&(re=null);const le=createAppContext(),de=new WeakSet;let ge=!1;const ve=le.app={_uid:uid$1++,_component:ee,_props:re,_container:null,_context:le,_instance:null,version:version$4,get config(){return le.config},set config(Ee){},use(Ee,...Ce){return de.has(Ee)||(Ee&&isFunction$1(Ee.install)?(de.add(Ee),Ee.install(ve,...Ce)):isFunction$1(Ee)&&(de.add(Ee),Ee(ve,...Ce))),ve},mixin(Ee){return le.mixins.includes(Ee)||le.mixins.push(Ee),ve},component(Ee,Ce){return Ce?(le.components[Ee]=Ce,ve):le.components[Ee]},directive(Ee,Ce){return Ce?(le.directives[Ee]=Ce,ve):le.directives[Ee]},mount(Ee,Ce,Ae){if(!ge){const Se=createVNode(ee,re);return Se.appContext=le,Ae===!0?Ae="svg":Ae===!1&&(Ae=void 0),Ce&&_?_(Se,Ee):$(Se,Ee,Ae),ge=!0,ve._container=Ee,Ee.__vue_app__=ve,getExposeProxy(Se.component)||Se.component.proxy}},unmount(){ge&&($(null,ve._container),delete ve._container.__vue_app__)},provide(Ee,Ce){return le.provides[Ee]=Ce,ve},runWithContext(Ee){const Ce=currentApp;currentApp=ve;try{return Ee()}finally{currentApp=Ce}}};return ve}}let currentApp=null;function provide($,_){if(currentInstance){let j=currentInstance.provides;const ee=currentInstance.parent&&currentInstance.parent.provides;ee===j&&(j=currentInstance.provides=Object.create(ee)),j[$]=_}}function inject($,_,j=!1){const ee=currentInstance||currentRenderingInstance;if(ee||currentApp){const re=ee?ee.parent==null?ee.vnode.appContext&&ee.vnode.appContext.provides:ee.parent.provides:currentApp._context.provides;if(re&&$ in re)return re[$];if(arguments.length>1)return j&&isFunction$1(_)?_.call(ee&&ee.proxy):_}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}function initProps($,_,j,ee=!1){const re={},le={};def(le,InternalObjectKey,1),$.propsDefaults=Object.create(null),setFullProps($,_,re,le);for(const de in $.propsOptions[0])de in re||(re[de]=void 0);j?$.props=ee?re:shallowReactive(re):$.type.props?$.props=re:$.props=le,$.attrs=le}function updateProps($,_,j,ee){const{props:re,attrs:le,vnode:{patchFlag:de}}=$,ge=toRaw(re),[ve]=$.propsOptions;let Ee=!1;if((ee||de>0)&&!(de&16)){if(de&8){const Ce=$.vnode.dynamicProps;for(let Ae=0;Ae<Ce.length;Ae++){let Se=Ce[Ae];if(isEmitListener($.emitsOptions,Se))continue;const ke=_[Se];if(ve)if(hasOwn(le,Se))ke!==le[Se]&&(le[Se]=ke,Ee=!0);else{const we=camelize(Se);re[we]=resolvePropValue(ve,ge,we,ke,$,!1)}else ke!==le[Se]&&(le[Se]=ke,Ee=!0)}}}else{setFullProps($,_,re,le)&&(Ee=!0);let Ce;for(const Ae in ge)(!_||!hasOwn(_,Ae)&&((Ce=hyphenate(Ae))===Ae||!hasOwn(_,Ce)))&&(ve?j&&(j[Ae]!==void 0||j[Ce]!==void 0)&&(re[Ae]=resolvePropValue(ve,ge,Ae,void 0,$,!0)):delete re[Ae]);if(le!==ge)for(const Ae in le)(!_||!hasOwn(_,Ae))&&(delete le[Ae],Ee=!0)}Ee&&trigger($,"set","$attrs")}function setFullProps($,_,j,ee){const[re,le]=$.propsOptions;let de=!1,ge;if(_)for(let ve in _){if(isReservedProp(ve))continue;const Ee=_[ve];let Ce;re&&hasOwn(re,Ce=camelize(ve))?!le||!le.includes(Ce)?j[Ce]=Ee:(ge||(ge={}))[Ce]=Ee:isEmitListener($.emitsOptions,ve)||(!(ve in ee)||Ee!==ee[ve])&&(ee[ve]=Ee,de=!0)}if(le){const ve=toRaw(j),Ee=ge||EMPTY_OBJ;for(let Ce=0;Ce<le.length;Ce++){const Ae=le[Ce];j[Ae]=resolvePropValue(re,ve,Ae,Ee[Ae],$,!hasOwn(Ee,Ae))}}return de}function resolvePropValue($,_,j,ee,re,le){const de=$[j];if(de!=null){const ge=hasOwn(de,"default");if(ge&&ee===void 0){const ve=de.default;if(de.type!==Function&&!de.skipFactory&&isFunction$1(ve)){const{propsDefaults:Ee}=re;if(j in Ee)ee=Ee[j];else{const Ce=setCurrentInstance(re);ee=Ee[j]=ve.call(null,_),Ce()}}else ee=ve}de[0]&&(le&&!ge?ee=!1:de[1]&&(ee===""||ee===hyphenate(j))&&(ee=!0))}return ee}function normalizePropsOptions($,_,j=!1){const ee=_.propsCache,re=ee.get($);if(re)return re;const le=$.props,de={},ge=[];let ve=!1;if(!isFunction$1($)){const Ce=Ae=>{ve=!0;const[Se,ke]=normalizePropsOptions(Ae,_,!0);extend(de,Se),ke&&ge.push(...ke)};!j&&_.mixins.length&&_.mixins.forEach(Ce),$.extends&&Ce($.extends),$.mixins&&$.mixins.forEach(Ce)}if(!le&&!ve)return isObject$3($)&&ee.set($,EMPTY_ARR),EMPTY_ARR;if(isArray$3(le))for(let Ce=0;Ce<le.length;Ce++){const Ae=camelize(le[Ce]);validatePropName(Ae)&&(de[Ae]=EMPTY_OBJ)}else if(le)for(const Ce in le){const Ae=camelize(Ce);if(validatePropName(Ae)){const Se=le[Ce],ke=de[Ae]=isArray$3(Se)||isFunction$1(Se)?{type:Se}:extend({},Se);if(ke){const we=getTypeIndex(Boolean,ke.type),Ne=getTypeIndex(String,ke.type);ke[0]=we>-1,ke[1]=Ne<0||we<Ne,(we>-1||hasOwn(ke,"default"))&&ge.push(Ae)}}}const Ee=[de,ge];return isObject$3($)&&ee.set($,Ee),Ee}function validatePropName($){return $[0]!=="$"&&!isReservedProp($)}function getType($){return $===null?"null":typeof $=="function"?$.name||"":typeof $=="object"&&$.constructor&&$.constructor.name||""}function isSameType($,_){return getType($)===getType(_)}function getTypeIndex($,_){return isArray$3(_)?_.findIndex(j=>isSameType(j,$)):isFunction$1(_)&&isSameType(_,$)?0:-1}const isInternalKey=$=>$[0]==="_"||$==="$stable",normalizeSlotValue=$=>isArray$3($)?$.map(normalizeVNode):[normalizeVNode($)],normalizeSlot$1=($,_,j)=>{if(_._n)return _;const ee=withCtx((...re)=>normalizeSlotValue(_(...re)),j);return ee._c=!1,ee},normalizeObjectSlots=($,_,j)=>{const ee=$._ctx;for(const re in $){if(isInternalKey(re))continue;const le=$[re];if(isFunction$1(le))_[re]=normalizeSlot$1(re,le,ee);else if(le!=null){const de=normalizeSlotValue(le);_[re]=()=>de}}},normalizeVNodeSlots=($,_)=>{const j=normalizeSlotValue(_);$.slots.default=()=>j},initSlots=($,_)=>{if($.vnode.shapeFlag&32){const j=_._;j?($.slots=toRaw(_),def(_,"_",j)):normalizeObjectSlots(_,$.slots={})}else $.slots={},_&&normalizeVNodeSlots($,_);def($.slots,InternalObjectKey,1)},updateSlots=($,_,j)=>{const{vnode:ee,slots:re}=$;let le=!0,de=EMPTY_OBJ;if(ee.shapeFlag&32){const ge=_._;ge?j&&ge===1?le=!1:(extend(re,_),!j&&ge===1&&delete re._):(le=!_.$stable,normalizeObjectSlots(_,re)),de=_}else _&&(normalizeVNodeSlots($,_),de={default:1});if(le)for(const ge in re)!isInternalKey(ge)&&de[ge]==null&&delete re[ge]};function setRef($,_,j,ee,re=!1){if(isArray$3($)){$.forEach((Se,ke)=>setRef(Se,_&&(isArray$3(_)?_[ke]:_),j,ee,re));return}if(isAsyncWrapper(ee)&&!re)return;const le=ee.shapeFlag&4?getExposeProxy(ee.component)||ee.component.proxy:ee.el,de=re?null:le,{i:ge,r:ve}=$,Ee=_&&_.r,Ce=ge.refs===EMPTY_OBJ?ge.refs={}:ge.refs,Ae=ge.setupState;if(Ee!=null&&Ee!==ve&&(isString$1(Ee)?(Ce[Ee]=null,hasOwn(Ae,Ee)&&(Ae[Ee]=null)):isRef(Ee)&&(Ee.value=null)),isFunction$1(ve))callWithErrorHandling(ve,ge,12,[de,Ce]);else{const Se=isString$1(ve),ke=isRef(ve);if(Se||ke){const we=()=>{if($.f){const Ne=Se?hasOwn(Ae,ve)?Ae[ve]:Ce[ve]:ve.value;re?isArray$3(Ne)&&remove(Ne,le):isArray$3(Ne)?Ne.includes(le)||Ne.push(le):Se?(Ce[ve]=[le],hasOwn(Ae,ve)&&(Ae[ve]=Ce[ve])):(ve.value=[le],$.k&&(Ce[$.k]=ve.value))}else Se?(Ce[ve]=de,hasOwn(Ae,ve)&&(Ae[ve]=de)):ke&&(ve.value=de,$.k&&(Ce[$.k]=de))};de?(we.id=-1,queuePostRenderEffect(we,j)):we()}}}let hasMismatch=!1;const isSVGContainer=$=>$.namespaceURI.includes("svg")&&$.tagName!=="foreignObject",isMathMLContainer=$=>$.namespaceURI.includes("MathML"),getContainerType=$=>{if(isSVGContainer($))return"svg";if(isMathMLContainer($))return"mathml"},isComment=$=>$.nodeType===8;function createHydrationFunctions($){const{mt:_,p:j,o:{patchProp:ee,createText:re,nextSibling:le,parentNode:de,remove:ge,insert:ve,createComment:Ee}}=$,Ce=(xe,$e)=>{if(!$e.hasChildNodes()){j(null,xe,$e),flushPostFlushCbs(),$e._vnode=xe;return}hasMismatch=!1,Ae($e.firstChild,xe,null,null,null),flushPostFlushCbs(),$e._vnode=xe,hasMismatch&&console.error("Hydration completed but contains mismatches.")},Ae=(xe,$e,De,Oe,Ge,We=!1)=>{const Ze=isComment(xe)&&xe.data==="[",Qe=()=>Ne(xe,$e,De,Oe,Ge,Ze),{type:tt,ref:Ke,shapeFlag:Xe,patchFlag:ot}=$e;let et=xe.nodeType;$e.el=xe,ot===-2&&(We=!1,$e.dynamicChildren=null);let He=null;switch(tt){case Text:et!==3?$e.children===""?(ve($e.el=re(""),de(xe),xe),He=xe):He=Qe():(xe.data!==$e.children&&(hasMismatch=!0,xe.data=$e.children),He=le(xe));break;case Comment:Fe(xe)?(He=le(xe),Me($e.el=xe.content.firstChild,xe,De)):et!==8||Ze?He=Qe():He=le(xe);break;case Static:if(Ze&&(xe=le(xe),et=xe.nodeType),et===1||et===3){He=xe;const qe=!$e.children.length;for(let Be=0;Be<$e.staticCount;Be++)qe&&($e.children+=He.nodeType===1?He.outerHTML:He.data),Be===$e.staticCount-1&&($e.anchor=He),He=le(He);return Ze?le(He):He}else Qe();break;case Fragment:Ze?He=we(xe,$e,De,Oe,Ge,We):He=Qe();break;default:if(Xe&1)(et!==1||$e.type.toLowerCase()!==xe.tagName.toLowerCase())&&!Fe(xe)?He=Qe():He=Se(xe,$e,De,Oe,Ge,We);else if(Xe&6){$e.slotScopeIds=Ge;const qe=de(xe);if(Ze?He=Le(xe):isComment(xe)&&xe.data==="teleport start"?He=Le(xe,xe.data,"teleport end"):He=le(xe),_($e,qe,null,De,Oe,getContainerType(qe),We),isAsyncWrapper($e)){let Be;Ze?(Be=createVNode(Fragment),Be.anchor=He?He.previousSibling:qe.lastChild):Be=xe.nodeType===3?createTextVNode(""):createVNode("div"),Be.el=xe,$e.component.subTree=Be}}else Xe&64?et!==8?He=Qe():He=$e.type.hydrate(xe,$e,De,Oe,Ge,We,$,ke):Xe&128&&(He=$e.type.hydrate(xe,$e,De,Oe,getContainerType(de(xe)),Ge,We,$,Ae))}return Ke!=null&&setRef(Ke,null,Oe,$e),He},Se=(xe,$e,De,Oe,Ge,We)=>{We=We||!!$e.dynamicChildren;const{type:Ze,props:Qe,patchFlag:tt,shapeFlag:Ke,dirs:Xe,transition:ot}=$e,et=Ze==="input"||Ze==="option";if(et||tt!==-1){Xe&&invokeDirectiveHook($e,null,De,"created");let He=!1;if(Fe(xe)){He=needTransition(Oe,ot)&&De&&De.vnode.props&&De.vnode.props.appear;const Be=xe.content.firstChild;He&&ot.beforeEnter(Be),Me(Be,xe,De),$e.el=xe=Be}if(Ke&16&&!(Qe&&(Qe.innerHTML||Qe.textContent))){let Be=ke(xe.firstChild,$e,xe,De,Oe,Ge,We);for(;Be;){hasMismatch=!0;const Ue=Be;Be=Be.nextSibling,ge(Ue)}}else Ke&8&&xe.textContent!==$e.children&&(hasMismatch=!0,xe.textContent=$e.children);if(Qe)if(et||!We||tt&48)for(const Be in Qe)(et&&(Be.endsWith("value")||Be==="indeterminate")||isOn(Be)&&!isReservedProp(Be)||Be[0]===".")&&ee(xe,Be,null,Qe[Be],void 0,void 0,De);else Qe.onClick&&ee(xe,"onClick",null,Qe.onClick,void 0,void 0,De);let qe;(qe=Qe&&Qe.onVnodeBeforeMount)&&invokeVNodeHook(qe,De,$e),Xe&&invokeDirectiveHook($e,null,De,"beforeMount"),((qe=Qe&&Qe.onVnodeMounted)||Xe||He)&&queueEffectWithSuspense(()=>{qe&&invokeVNodeHook(qe,De,$e),He&&ot.enter(xe),Xe&&invokeDirectiveHook($e,null,De,"mounted")},Oe)}return xe.nextSibling},ke=(xe,$e,De,Oe,Ge,We,Ze)=>{Ze=Ze||!!$e.dynamicChildren;const Qe=$e.children,tt=Qe.length;for(let Ke=0;Ke<tt;Ke++){const Xe=Ze?Qe[Ke]:Qe[Ke]=normalizeVNode(Qe[Ke]);if(xe)xe=Ae(xe,Xe,Oe,Ge,We,Ze);else{if(Xe.type===Text&&!Xe.children)continue;hasMismatch=!0,j(null,Xe,De,null,Oe,Ge,getContainerType(De),We)}}return xe},we=(xe,$e,De,Oe,Ge,We)=>{const{slotScopeIds:Ze}=$e;Ze&&(Ge=Ge?Ge.concat(Ze):Ze);const Qe=de(xe),tt=ke(le(xe),$e,Qe,De,Oe,Ge,We);return tt&&isComment(tt)&&tt.data==="]"?le($e.anchor=tt):(hasMismatch=!0,ve($e.anchor=Ee("]"),Qe,tt),tt)},Ne=(xe,$e,De,Oe,Ge,We)=>{if(hasMismatch=!0,$e.el=null,We){const tt=Le(xe);for(;;){const Ke=le(xe);if(Ke&&Ke!==tt)ge(Ke);else break}}const Ze=le(xe),Qe=de(xe);return ge(xe),j(null,$e,Qe,Ze,De,Oe,getContainerType(Qe),Ge),Ze},Le=(xe,$e="[",De="]")=>{let Oe=0;for(;xe;)if(xe=le(xe),xe&&isComment(xe)&&(xe.data===$e&&Oe++,xe.data===De)){if(Oe===0)return le(xe);Oe--}return xe},Me=(xe,$e,De)=>{const Oe=$e.parentNode;Oe&&Oe.replaceChild(xe,$e);let Ge=De;for(;Ge;)Ge.vnode.el===$e&&(Ge.vnode.el=Ge.subTree.el=xe),Ge=Ge.parent},Fe=xe=>xe.nodeType===1&&xe.tagName.toLowerCase()==="template";return[Ce,Ae]}const queuePostRenderEffect=queueEffectWithSuspense;function createHydrationRenderer($){return baseCreateRenderer($,createHydrationFunctions)}function baseCreateRenderer($,_){const j=getGlobalThis();j.__VUE__=!0;const{insert:ee,remove:re,patchProp:le,createElement:de,createText:ge,createComment:ve,setText:Ee,setElementText:Ce,parentNode:Ae,nextSibling:Se,setScopeId:ke=NOOP,insertStaticContent:we}=$,Ne=(je,ze,nt,st=null,it=null,mt=null,gt=void 0,pt=null,_t=!!ze.dynamicChildren)=>{if(je===ze)return;je&&!isSameVNodeType(je,ze)&&(st=rt(je),at(je,it,mt,!0),je=null),ze.patchFlag===-2&&(_t=!1,ze.dynamicChildren=null);const{type:ut,ref:yt,shapeFlag:Tt}=ze;switch(ut){case Text:Le(je,ze,nt,st);break;case Comment:Me(je,ze,nt,st);break;case Static:je==null&&Fe(ze,nt,st,gt);break;case Fragment:Ke(je,ze,nt,st,it,mt,gt,pt,_t);break;default:Tt&1?De(je,ze,nt,st,it,mt,gt,pt,_t):Tt&6?Xe(je,ze,nt,st,it,mt,gt,pt,_t):(Tt&64||Tt&128)&&ut.process(je,ze,nt,st,it,mt,gt,pt,_t,ct)}yt!=null&&it&&setRef(yt,je&&je.ref,mt,ze||je,!ze)},Le=(je,ze,nt,st)=>{if(je==null)ee(ze.el=ge(ze.children),nt,st);else{const it=ze.el=je.el;ze.children!==je.children&&Ee(it,ze.children)}},Me=(je,ze,nt,st)=>{je==null?ee(ze.el=ve(ze.children||""),nt,st):ze.el=je.el},Fe=(je,ze,nt,st)=>{[je.el,je.anchor]=we(je.children,ze,nt,st,je.el,je.anchor)},xe=({el:je,anchor:ze},nt,st)=>{let it;for(;je&&je!==ze;)it=Se(je),ee(je,nt,st),je=it;ee(ze,nt,st)},$e=({el:je,anchor:ze})=>{let nt;for(;je&&je!==ze;)nt=Se(je),re(je),je=nt;re(ze)},De=(je,ze,nt,st,it,mt,gt,pt,_t)=>{ze.type==="svg"?gt="svg":ze.type==="math"&&(gt="mathml"),je==null?Oe(ze,nt,st,it,mt,gt,pt,_t):Ze(je,ze,it,mt,gt,pt,_t)},Oe=(je,ze,nt,st,it,mt,gt,pt)=>{let _t,ut;const{props:yt,shapeFlag:Tt,transition:It,dirs:bt}=je;if(_t=je.el=de(je.type,mt,yt&&yt.is,yt),Tt&8?Ce(_t,je.children):Tt&16&&We(je.children,_t,null,st,it,resolveChildrenNamespace(je,mt),gt,pt),bt&&invokeDirectiveHook(je,null,st,"created"),Ge(_t,je,je.scopeId,gt,st),yt){for(const kt in yt)kt!=="value"&&!isReservedProp(kt)&&le(_t,kt,null,yt[kt],mt,je.children,st,it,ft);"value"in yt&&le(_t,"value",null,yt.value,mt),(ut=yt.onVnodeBeforeMount)&&invokeVNodeHook(ut,st,je)}bt&&invokeDirectiveHook(je,null,st,"beforeMount");const At=needTransition(it,It);At&&It.beforeEnter(_t),ee(_t,ze,nt),((ut=yt&&yt.onVnodeMounted)||At||bt)&&queuePostRenderEffect(()=>{ut&&invokeVNodeHook(ut,st,je),At&&It.enter(_t),bt&&invokeDirectiveHook(je,null,st,"mounted")},it)},Ge=(je,ze,nt,st,it)=>{if(nt&&ke(je,nt),st)for(let mt=0;mt<st.length;mt++)ke(je,st[mt]);if(it){let mt=it.subTree;if(ze===mt){const gt=it.vnode;Ge(je,gt,gt.scopeId,gt.slotScopeIds,it.parent)}}},We=(je,ze,nt,st,it,mt,gt,pt,_t=0)=>{for(let ut=_t;ut<je.length;ut++){const yt=je[ut]=pt?cloneIfMounted(je[ut]):normalizeVNode(je[ut]);Ne(null,yt,ze,nt,st,it,mt,gt,pt)}},Ze=(je,ze,nt,st,it,mt,gt)=>{const pt=ze.el=je.el;let{patchFlag:_t,dynamicChildren:ut,dirs:yt}=ze;_t|=je.patchFlag&16;const Tt=je.props||EMPTY_OBJ,It=ze.props||EMPTY_OBJ;let bt;if(nt&&toggleRecurse(nt,!1),(bt=It.onVnodeBeforeUpdate)&&invokeVNodeHook(bt,nt,ze,je),yt&&invokeDirectiveHook(ze,je,nt,"beforeUpdate"),nt&&toggleRecurse(nt,!0),ut?Qe(je.dynamicChildren,ut,pt,nt,st,resolveChildrenNamespace(ze,it),mt):gt||Be(je,ze,pt,null,nt,st,resolveChildrenNamespace(ze,it),mt,!1),_t>0){if(_t&16)tt(pt,ze,Tt,It,nt,st,it);else if(_t&2&&Tt.class!==It.class&&le(pt,"class",null,It.class,it),_t&4&&le(pt,"style",Tt.style,It.style,it),_t&8){const At=ze.dynamicProps;for(let kt=0;kt<At.length;kt++){const Pt=At[kt],wt=Tt[Pt],xt=It[Pt];(xt!==wt||Pt==="value")&&le(pt,Pt,wt,xt,it,je.children,nt,st,ft)}}_t&1&&je.children!==ze.children&&Ce(pt,ze.children)}else!gt&&ut==null&&tt(pt,ze,Tt,It,nt,st,it);((bt=It.onVnodeUpdated)||yt)&&queuePostRenderEffect(()=>{bt&&invokeVNodeHook(bt,nt,ze,je),yt&&invokeDirectiveHook(ze,je,nt,"updated")},st)},Qe=(je,ze,nt,st,it,mt,gt)=>{for(let pt=0;pt<ze.length;pt++){const _t=je[pt],ut=ze[pt],yt=_t.el&&(_t.type===Fragment||!isSameVNodeType(_t,ut)||_t.shapeFlag&70)?Ae(_t.el):nt;Ne(_t,ut,yt,null,st,it,mt,gt,!0)}},tt=(je,ze,nt,st,it,mt,gt)=>{if(nt!==st){if(nt!==EMPTY_OBJ)for(const pt in nt)!isReservedProp(pt)&&!(pt in st)&&le(je,pt,nt[pt],null,gt,ze.children,it,mt,ft);for(const pt in st){if(isReservedProp(pt))continue;const _t=st[pt],ut=nt[pt];_t!==ut&&pt!=="value"&&le(je,pt,ut,_t,gt,ze.children,it,mt,ft)}"value"in st&&le(je,"value",nt.value,st.value,gt)}},Ke=(je,ze,nt,st,it,mt,gt,pt,_t)=>{const ut=ze.el=je?je.el:ge(""),yt=ze.anchor=je?je.anchor:ge("");let{patchFlag:Tt,dynamicChildren:It,slotScopeIds:bt}=ze;bt&&(pt=pt?pt.concat(bt):bt),je==null?(ee(ut,nt,st),ee(yt,nt,st),We(ze.children||[],nt,yt,it,mt,gt,pt,_t)):Tt>0&&Tt&64&&It&&je.dynamicChildren?(Qe(je.dynamicChildren,It,nt,it,mt,gt,pt),(ze.key!=null||it&&ze===it.subTree)&&traverseStaticChildren(je,ze,!0)):Be(je,ze,nt,yt,it,mt,gt,pt,_t)},Xe=(je,ze,nt,st,it,mt,gt,pt,_t)=>{ze.slotScopeIds=pt,je==null?ze.shapeFlag&512?it.ctx.activate(ze,nt,st,gt,_t):ot(ze,nt,st,it,mt,gt,_t):et(je,ze,_t)},ot=(je,ze,nt,st,it,mt,gt)=>{const pt=je.component=createComponentInstance(je,st,it);if(isKeepAlive(je)&&(pt.ctx.renderer=ct),setupComponent(pt),pt.asyncDep){if(it&&it.registerDep(pt,He),!je.el){const _t=pt.subTree=createVNode(Comment);Me(null,_t,ze,nt)}}else He(pt,je,ze,nt,it,mt,gt)},et=(je,ze,nt)=>{const st=ze.component=je.component;if(shouldUpdateComponent(je,ze,nt))if(st.asyncDep&&!st.asyncResolved){qe(st,ze,nt);return}else st.next=ze,invalidateJob(st.update),st.effect.dirty=!0,st.update();else ze.el=je.el,st.vnode=ze},He=(je,ze,nt,st,it,mt,gt)=>{const pt=()=>{if(je.isMounted){let{next:yt,bu:Tt,u:It,parent:bt,vnode:At}=je;{const Vt=locateNonHydratedAsyncRoot(je);if(Vt){yt&&(yt.el=At.el,qe(je,yt,gt)),Vt.asyncDep.then(()=>{je.isUnmounted||pt()});return}}let kt=yt,Pt;toggleRecurse(je,!1),yt?(yt.el=At.el,qe(je,yt,gt)):yt=At,Tt&&invokeArrayFns(Tt),(Pt=yt.props&&yt.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Pt,bt,yt,At),toggleRecurse(je,!0);const wt=renderComponentRoot(je),xt=je.subTree;je.subTree=wt,Ne(xt,wt,Ae(xt.el),rt(xt),je,it,mt),yt.el=wt.el,kt===null&&updateHOCHostEl(je,wt.el),It&&queuePostRenderEffect(It,it),(Pt=yt.props&&yt.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Pt,bt,yt,At),it)}else{let yt;const{el:Tt,props:It}=ze,{bm:bt,m:At,parent:kt}=je,Pt=isAsyncWrapper(ze);if(toggleRecurse(je,!1),bt&&invokeArrayFns(bt),!Pt&&(yt=It&&It.onVnodeBeforeMount)&&invokeVNodeHook(yt,kt,ze),toggleRecurse(je,!0),Tt&&St){const wt=()=>{je.subTree=renderComponentRoot(je),St(Tt,je.subTree,je,it,null)};Pt?ze.type.__asyncLoader().then(()=>!je.isUnmounted&&wt()):wt()}else{const wt=je.subTree=renderComponentRoot(je);Ne(null,wt,nt,st,je,it,mt),ze.el=wt.el}if(At&&queuePostRenderEffect(At,it),!Pt&&(yt=It&&It.onVnodeMounted)){const wt=ze;queuePostRenderEffect(()=>invokeVNodeHook(yt,kt,wt),it)}(ze.shapeFlag&256||kt&&isAsyncWrapper(kt.vnode)&&kt.vnode.shapeFlag&256)&&je.a&&queuePostRenderEffect(je.a,it),je.isMounted=!0,ze=nt=st=null}},_t=je.effect=new ReactiveEffect(pt,NOOP,()=>queueJob(ut),je.scope),ut=je.update=()=>{_t.dirty&&_t.run()};ut.id=je.uid,toggleRecurse(je,!0),ut()},qe=(je,ze,nt)=>{ze.component=je;const st=je.vnode.props;je.vnode=ze,je.next=null,updateProps(je,ze.props,st,nt),updateSlots(je,ze.children,nt),pauseTracking(),flushPreFlushCbs(je),resetTracking()},Be=(je,ze,nt,st,it,mt,gt,pt,_t=!1)=>{const ut=je&&je.children,yt=je?je.shapeFlag:0,Tt=ze.children,{patchFlag:It,shapeFlag:bt}=ze;if(It>0){if(It&128){Je(ut,Tt,nt,st,it,mt,gt,pt,_t);return}else if(It&256){Ue(ut,Tt,nt,st,it,mt,gt,pt,_t);return}}bt&8?(yt&16&&ft(ut,it,mt),Tt!==ut&&Ce(nt,Tt)):yt&16?bt&16?Je(ut,Tt,nt,st,it,mt,gt,pt,_t):ft(ut,it,mt,!0):(yt&8&&Ce(nt,""),bt&16&&We(Tt,nt,st,it,mt,gt,pt,_t))},Ue=(je,ze,nt,st,it,mt,gt,pt,_t)=>{je=je||EMPTY_ARR,ze=ze||EMPTY_ARR;const ut=je.length,yt=ze.length,Tt=Math.min(ut,yt);let It;for(It=0;It<Tt;It++){const bt=ze[It]=_t?cloneIfMounted(ze[It]):normalizeVNode(ze[It]);Ne(je[It],bt,nt,null,it,mt,gt,pt,_t)}ut>yt?ft(je,it,mt,!0,!1,Tt):We(ze,nt,st,it,mt,gt,pt,_t,Tt)},Je=(je,ze,nt,st,it,mt,gt,pt,_t)=>{let ut=0;const yt=ze.length;let Tt=je.length-1,It=yt-1;for(;ut<=Tt&&ut<=It;){const bt=je[ut],At=ze[ut]=_t?cloneIfMounted(ze[ut]):normalizeVNode(ze[ut]);if(isSameVNodeType(bt,At))Ne(bt,At,nt,null,it,mt,gt,pt,_t);else break;ut++}for(;ut<=Tt&&ut<=It;){const bt=je[Tt],At=ze[It]=_t?cloneIfMounted(ze[It]):normalizeVNode(ze[It]);if(isSameVNodeType(bt,At))Ne(bt,At,nt,null,it,mt,gt,pt,_t);else break;Tt--,It--}if(ut>Tt){if(ut<=It){const bt=It+1,At=bt<yt?ze[bt].el:st;for(;ut<=It;)Ne(null,ze[ut]=_t?cloneIfMounted(ze[ut]):normalizeVNode(ze[ut]),nt,At,it,mt,gt,pt,_t),ut++}}else if(ut>It)for(;ut<=Tt;)at(je[ut],it,mt,!0),ut++;else{const bt=ut,At=ut,kt=new Map;for(ut=At;ut<=It;ut++){const Rt=ze[ut]=_t?cloneIfMounted(ze[ut]):normalizeVNode(ze[ut]);Rt.key!=null&&kt.set(Rt.key,ut)}let Pt,wt=0;const xt=It-At+1;let Vt=!1,Lt=0;const Ft=new Array(xt);for(ut=0;ut<xt;ut++)Ft[ut]=0;for(ut=bt;ut<=Tt;ut++){const Rt=je[ut];if(wt>=xt){at(Rt,it,mt,!0);continue}let Mt;if(Rt.key!=null)Mt=kt.get(Rt.key);else for(Pt=At;Pt<=It;Pt++)if(Ft[Pt-At]===0&&isSameVNodeType(Rt,ze[Pt])){Mt=Pt;break}Mt===void 0?at(Rt,it,mt,!0):(Ft[Mt-At]=ut+1,Mt>=Lt?Lt=Mt:Vt=!0,Ne(Rt,ze[Mt],nt,null,it,mt,gt,pt,_t),wt++)}const Bt=Vt?getSequence(Ft):EMPTY_ARR;for(Pt=Bt.length-1,ut=xt-1;ut>=0;ut--){const Rt=At+ut,Mt=ze[Rt],Ot=Rt+1<yt?ze[Rt+1].el:st;Ft[ut]===0?Ne(null,Mt,nt,Ot,it,mt,gt,pt,_t):Vt&&(Pt<0||ut!==Bt[Pt]?Ye(Mt,nt,Ot,2):Pt--)}}},Ye=(je,ze,nt,st,it=null)=>{const{el:mt,type:gt,transition:pt,children:_t,shapeFlag:ut}=je;if(ut&6){Ye(je.component.subTree,ze,nt,st);return}if(ut&128){je.suspense.move(ze,nt,st);return}if(ut&64){gt.move(je,ze,nt,ct);return}if(gt===Fragment){ee(mt,ze,nt);for(let Tt=0;Tt<_t.length;Tt++)Ye(_t[Tt],ze,nt,st);ee(je.anchor,ze,nt);return}if(gt===Static){xe(je,ze,nt);return}if(st!==2&&ut&1&&pt)if(st===0)pt.beforeEnter(mt),ee(mt,ze,nt),queuePostRenderEffect(()=>pt.enter(mt),it);else{const{leave:Tt,delayLeave:It,afterLeave:bt}=pt,At=()=>ee(mt,ze,nt),kt=()=>{Tt(mt,()=>{At(),bt&&bt()})};It?It(mt,At,kt):kt()}else ee(mt,ze,nt)},at=(je,ze,nt,st=!1,it=!1)=>{const{type:mt,props:gt,ref:pt,children:_t,dynamicChildren:ut,shapeFlag:yt,patchFlag:Tt,dirs:It}=je;if(pt!=null&&setRef(pt,null,nt,je,!0),yt&256){ze.ctx.deactivate(je);return}const bt=yt&1&&It,At=!isAsyncWrapper(je);let kt;if(At&&(kt=gt&&gt.onVnodeBeforeUnmount)&&invokeVNodeHook(kt,ze,je),yt&6)ht(je.component,nt,st);else{if(yt&128){je.suspense.unmount(nt,st);return}bt&&invokeDirectiveHook(je,null,ze,"beforeUnmount"),yt&64?je.type.remove(je,ze,nt,it,ct,st):ut&&(mt!==Fragment||Tt>0&&Tt&64)?ft(ut,ze,nt,!1,!0):(mt===Fragment&&Tt&384||!it&&yt&16)&&ft(_t,ze,nt),st&&vt(je)}(At&&(kt=gt&&gt.onVnodeUnmounted)||bt)&&queuePostRenderEffect(()=>{kt&&invokeVNodeHook(kt,ze,je),bt&&invokeDirectiveHook(je,null,ze,"unmounted")},nt)},vt=je=>{const{type:ze,el:nt,anchor:st,transition:it}=je;if(ze===Fragment){Et(nt,st);return}if(ze===Static){$e(je);return}const mt=()=>{re(nt),it&&!it.persisted&&it.afterLeave&&it.afterLeave()};if(je.shapeFlag&1&&it&&!it.persisted){const{leave:gt,delayLeave:pt}=it,_t=()=>gt(nt,mt);pt?pt(je.el,mt,_t):_t()}else mt()},Et=(je,ze)=>{let nt;for(;je!==ze;)nt=Se(je),re(je),je=nt;re(ze)},ht=(je,ze,nt)=>{const{bum:st,scope:it,update:mt,subTree:gt,um:pt}=je;st&&invokeArrayFns(st),it.stop(),mt&&(mt.active=!1,at(gt,je,ze,nt)),pt&&queuePostRenderEffect(pt,ze),queuePostRenderEffect(()=>{je.isUnmounted=!0},ze),ze&&ze.pendingBranch&&!ze.isUnmounted&&je.asyncDep&&!je.asyncResolved&&je.suspenseId===ze.pendingId&&(ze.deps--,ze.deps===0&&ze.resolve())},ft=(je,ze,nt,st=!1,it=!1,mt=0)=>{for(let gt=mt;gt<je.length;gt++)at(je[gt],ze,nt,st,it)},rt=je=>je.shapeFlag&6?rt(je.component.subTree):je.shapeFlag&128?je.suspense.next():Se(je.anchor||je.el);let lt=!1;const dt=(je,ze,nt)=>{je==null?ze._vnode&&at(ze._vnode,null,null,!0):Ne(ze._vnode||null,je,ze,null,null,null,nt),lt||(lt=!0,flushPreFlushCbs(),flushPostFlushCbs(),lt=!1),ze._vnode=je},ct={p:Ne,um:at,m:Ye,r:vt,mt:ot,mc:We,pc:Be,pbc:Qe,n:rt,o:$};let Ct,St;return _&&([Ct,St]=_(ct)),{render:dt,hydrate:Ct,createApp:createAppAPI(dt,Ct)}}function resolveChildrenNamespace({type:$,props:_},j){return j==="svg"&&$==="foreignObject"||j==="mathml"&&$==="annotation-xml"&&_&&_.encoding&&_.encoding.includes("html")?void 0:j}function toggleRecurse({effect:$,update:_},j){$.allowRecurse=_.allowRecurse=j}function needTransition($,_){return(!$||$&&!$.pendingBranch)&&_&&!_.persisted}function traverseStaticChildren($,_,j=!1){const ee=$.children,re=_.children;if(isArray$3(ee)&&isArray$3(re))for(let le=0;le<ee.length;le++){const de=ee[le];let ge=re[le];ge.shapeFlag&1&&!ge.dynamicChildren&&((ge.patchFlag<=0||ge.patchFlag===32)&&(ge=re[le]=cloneIfMounted(re[le]),ge.el=de.el),j||traverseStaticChildren(de,ge)),ge.type===Text&&(ge.el=de.el)}}function getSequence($){const _=$.slice(),j=[0];let ee,re,le,de,ge;const ve=$.length;for(ee=0;ee<ve;ee++){const Ee=$[ee];if(Ee!==0){if(re=j[j.length-1],$[re]<Ee){_[ee]=re,j.push(ee);continue}for(le=0,de=j.length-1;le<de;)ge=le+de>>1,$[j[ge]]<Ee?le=ge+1:de=ge;Ee<$[j[le]]&&(le>0&&(_[ee]=j[le-1]),j[le]=ee)}}for(le=j.length,de=j[le-1];le-- >0;)j[le]=de,de=_[de];return j}function locateNonHydratedAsyncRoot($){const _=$.subTree.component;if(_)return _.asyncDep&&!_.asyncResolved?_:locateNonHydratedAsyncRoot(_)}const isTeleport=$=>$.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock($=!1){blockStack.push(currentBlock=$?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking($){isBlockTreeEnabled+=$}function setupBlock($){return $.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push($),$}function createElementBlock($,_,j,ee,re,le){return setupBlock(createBaseVNode($,_,j,ee,re,le,!0))}function createBlock($,_,j,ee,re){return setupBlock(createVNode($,_,j,ee,re,!0))}function isVNode($){return $?$.__v_isVNode===!0:!1}function isSameVNodeType($,_){return $.type===_.type&&$.key===_.key}const InternalObjectKey="__vInternal",normalizeKey=({key:$})=>$??null,normalizeRef=({ref:$,ref_key:_,ref_for:j})=>(typeof $=="number"&&($=""+$),$!=null?isString$1($)||isRef($)||isFunction$1($)?{i:currentRenderingInstance,r:$,k:_,f:!!j}:$:null);function createBaseVNode($,_=null,j=null,ee=0,re=null,le=$===Fragment?0:1,de=!1,ge=!1){const ve={__v_isVNode:!0,__v_skip:!0,type:$,props:_,key:_&&normalizeKey(_),ref:_&&normalizeRef(_),scopeId:currentScopeId,slotScopeIds:null,children:j,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:le,patchFlag:ee,dynamicProps:re,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return ge?(normalizeChildren(ve,j),le&128&&$.normalize(ve)):j&&(ve.shapeFlag|=isString$1(j)?8:16),isBlockTreeEnabled>0&&!de&&currentBlock&&(ve.patchFlag>0||le&6)&&ve.patchFlag!==32&&currentBlock.push(ve),ve}const createVNode=_createVNode;function _createVNode($,_=null,j=null,ee=0,re=null,le=!1){if((!$||$===NULL_DYNAMIC_COMPONENT)&&($=Comment),isVNode($)){const ge=cloneVNode($,_,!0);return j&&normalizeChildren(ge,j),isBlockTreeEnabled>0&&!le&&currentBlock&&(ge.shapeFlag&6?currentBlock[currentBlock.indexOf($)]=ge:currentBlock.push(ge)),ge.patchFlag|=-2,ge}if(isClassComponent($)&&($=$.__vccOpts),_){_=guardReactiveProps(_);let{class:ge,style:ve}=_;ge&&!isString$1(ge)&&(_.class=normalizeClass(ge)),isObject$3(ve)&&(isProxy(ve)&&!isArray$3(ve)&&(ve=extend({},ve)),_.style=normalizeStyle(ve))}const de=isString$1($)?1:isSuspense($)?128:isTeleport($)?64:isObject$3($)?4:isFunction$1($)?2:0;return createBaseVNode($,_,j,ee,re,de,le,!0)}function guardReactiveProps($){return $?isProxy($)||InternalObjectKey in $?extend({},$):$:null}function cloneVNode($,_,j=!1){const{props:ee,ref:re,patchFlag:le,children:de}=$,ge=_?mergeProps(ee||{},_):ee;return{__v_isVNode:!0,__v_skip:!0,type:$.type,props:ge,key:ge&&normalizeKey(ge),ref:_&&_.ref?j&&re?isArray$3(re)?re.concat(normalizeRef(_)):[re,normalizeRef(_)]:normalizeRef(_):re,scopeId:$.scopeId,slotScopeIds:$.slotScopeIds,children:de,target:$.target,targetAnchor:$.targetAnchor,staticCount:$.staticCount,shapeFlag:$.shapeFlag,patchFlag:_&&$.type!==Fragment?le===-1?16:le|16:le,dynamicProps:$.dynamicProps,dynamicChildren:$.dynamicChildren,appContext:$.appContext,dirs:$.dirs,transition:$.transition,component:$.component,suspense:$.suspense,ssContent:$.ssContent&&cloneVNode($.ssContent),ssFallback:$.ssFallback&&cloneVNode($.ssFallback),el:$.el,anchor:$.anchor,ctx:$.ctx,ce:$.ce}}function createTextVNode($=" ",_=0){return createVNode(Text,null,$,_)}function createCommentVNode($="",_=!1){return _?(openBlock(),createBlock(Comment,null,$)):createVNode(Comment,null,$)}function normalizeVNode($){return $==null||typeof $=="boolean"?createVNode(Comment):isArray$3($)?createVNode(Fragment,null,$.slice()):typeof $=="object"?cloneIfMounted($):createVNode(Text,null,String($))}function cloneIfMounted($){return $.el===null&&$.patchFlag!==-1||$.memo?$:cloneVNode($)}function normalizeChildren($,_){let j=0;const{shapeFlag:ee}=$;if(_==null)_=null;else if(isArray$3(_))j=16;else if(typeof _=="object")if(ee&65){const re=_.default;re&&(re._c&&(re._d=!1),normalizeChildren($,re()),re._c&&(re._d=!0));return}else{j=32;const re=_._;!re&&!(InternalObjectKey in _)?_._ctx=currentRenderingInstance:re===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?_._=1:(_._=2,$.patchFlag|=1024))}else isFunction$1(_)?(_={default:_,_ctx:currentRenderingInstance},j=32):(_=String(_),ee&64?(j=16,_=[createTextVNode(_)]):j=8);$.children=_,$.shapeFlag|=j}function mergeProps(...$){const _={};for(let j=0;j<$.length;j++){const ee=$[j];for(const re in ee)if(re==="class")_.class!==ee.class&&(_.class=normalizeClass([_.class,ee.class]));else if(re==="style")_.style=normalizeStyle([_.style,ee.style]);else if(isOn(re)){const le=_[re],de=ee[re];de&&le!==de&&!(isArray$3(le)&&le.includes(de))&&(_[re]=le?[].concat(le,de):de)}else re!==""&&(_[re]=ee[re])}return _}function invokeVNodeHook($,_,j,ee=null){callWithAsyncErrorHandling($,_,7,[j,ee])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance($,_,j){const ee=$.type,re=(_?_.appContext:$.appContext)||emptyAppContext,le={uid:uid++,vnode:$,type:ee,parent:_,appContext:re,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:_?_.provides:Object.create(re.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(ee,re),emitsOptions:normalizeEmitsOptions(ee,re),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:ee.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:j,suspenseId:j?j.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return le.ctx={_:le},le.root=_?_.root:le,le.emit=emit.bind(null,le),$.ce&&$.ce(le),le}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const $=getGlobalThis(),_=(j,ee)=>{let re;return(re=$[j])||(re=$[j]=[]),re.push(ee),le=>{re.length>1?re.forEach(de=>de(le)):re[0](le)}};internalSetCurrentInstance=_("__VUE_INSTANCE_SETTERS__",j=>currentInstance=j),setInSSRSetupState=_("__VUE_SSR_SETTERS__",j=>isInSSRComponentSetup=j)}const setCurrentInstance=$=>{const _=currentInstance;return internalSetCurrentInstance($),$.scope.on(),()=>{$.scope.off(),internalSetCurrentInstance(_)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent($){return $.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent($,_=!1){_&&setInSSRSetupState(_);const{props:j,children:ee}=$.vnode,re=isStatefulComponent($);initProps($,j,re,_),initSlots($,ee);const le=re?setupStatefulComponent($,_):void 0;return _&&setInSSRSetupState(!1),le}function setupStatefulComponent($,_){const j=$.type;$.accessCache=Object.create(null),$.proxy=markRaw(new Proxy($.ctx,PublicInstanceProxyHandlers));const{setup:ee}=j;if(ee){const re=$.setupContext=ee.length>1?createSetupContext($):null,le=setCurrentInstance($);pauseTracking();const de=callWithErrorHandling(ee,$,0,[$.props,re]);if(resetTracking(),le(),isPromise(de)){if(de.then(unsetCurrentInstance,unsetCurrentInstance),_)return de.then(ge=>{handleSetupResult($,ge,_)}).catch(ge=>{handleError(ge,$,0)});$.asyncDep=de}else handleSetupResult($,de,_)}else finishComponentSetup($,_)}function handleSetupResult($,_,j){isFunction$1(_)?$.type.__ssrInlineRender?$.ssrRender=_:$.render=_:isObject$3(_)&&($.setupState=proxyRefs(_)),finishComponentSetup($,j)}let compile;function finishComponentSetup($,_,j){const ee=$.type;if(!$.render){if(!_&&compile&&!ee.render){const re=ee.template||resolveMergedOptions($).template;if(re){const{isCustomElement:le,compilerOptions:de}=$.appContext.config,{delimiters:ge,compilerOptions:ve}=ee,Ee=extend(extend({isCustomElement:le,delimiters:ge},de),ve);ee.render=compile(re,Ee)}}$.render=ee.render||NOOP}{const re=setCurrentInstance($);pauseTracking();try{applyOptions($)}finally{resetTracking(),re()}}}function getAttrsProxy($){return $.attrsProxy||($.attrsProxy=new Proxy($.attrs,{get(_,j){return track($,"get","$attrs"),_[j]}}))}function createSetupContext($){const _=j=>{$.exposed=j||{}};return{get attrs(){return getAttrsProxy($)},slots:$.slots,emit:$.emit,expose:_}}function getExposeProxy($){if($.exposed)return $.exposeProxy||($.exposeProxy=new Proxy(proxyRefs(markRaw($.exposed)),{get(_,j){if(j in _)return _[j];if(j in publicPropertiesMap)return publicPropertiesMap[j]($)},has(_,j){return j in _||j in publicPropertiesMap}}))}const classifyRE$1=/(?:^|[-_])(\w)/g,classify$1=$=>$.replace(classifyRE$1,_=>_.toUpperCase()).replace(/[-_]/g,"");function getComponentName($,_=!0){return isFunction$1($)?$.displayName||$.name:$.name||_&&$.__name}function formatComponentName$1($,_,j=!1){let ee=getComponentName(_);if(!ee&&_.__file){const re=_.__file.match(/([^/\\]+)\.\w+$/);re&&(ee=re[1])}if(!ee&&$&&$.parent){const re=le=>{for(const de in le)if(le[de]===_)return de};ee=re($.components||$.parent.type.components)||re($.appContext.components)}return ee?classify$1(ee):j?"App":"Anonymous"}function isClassComponent($){return isFunction$1($)&&"__vccOpts"in $}const computed=($,_)=>computed$1($,_,isInSSRComponentSetup);function h($,_,j){const ee=arguments.length;return ee===2?isObject$3(_)&&!isArray$3(_)?isVNode(_)?createVNode($,null,[_]):createVNode($,_):createVNode($,null,_):(ee>3?j=Array.prototype.slice.call(arguments,2):ee===3&&isVNode(j)&&(j=[j]),createVNode($,_,j))}const version$4="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc$1=typeof document<"u"?document:null,templateContainer=doc$1&&doc$1.createElement("template"),nodeOps={insert:($,_,j)=>{_.insertBefore($,j||null)},remove:$=>{const _=$.parentNode;_&&_.removeChild($)},createElement:($,_,j,ee)=>{const re=_==="svg"?doc$1.createElementNS(svgNS,$):_==="mathml"?doc$1.createElementNS(mathmlNS,$):doc$1.createElement($,j?{is:j}:void 0);return $==="select"&&ee&&ee.multiple!=null&&re.setAttribute("multiple",ee.multiple),re},createText:$=>doc$1.createTextNode($),createComment:$=>doc$1.createComment($),setText:($,_)=>{$.nodeValue=_},setElementText:($,_)=>{$.textContent=_},parentNode:$=>$.parentNode,nextSibling:$=>$.nextSibling,querySelector:$=>doc$1.querySelector($),setScopeId($,_){$.setAttribute(_,"")},insertStaticContent($,_,j,ee,re,le){const de=j?j.previousSibling:_.lastChild;if(re&&(re===le||re.nextSibling))for(;_.insertBefore(re.cloneNode(!0),j),!(re===le||!(re=re.nextSibling)););else{templateContainer.innerHTML=ee==="svg"?`<svg>${$}</svg>`:ee==="mathml"?`<math>${$}</math>`:$;const ge=templateContainer.content;if(ee==="svg"||ee==="mathml"){const ve=ge.firstChild;for(;ve.firstChild;)ge.appendChild(ve.firstChild);ge.removeChild(ve)}_.insertBefore(ge,j)}return[de?de.nextSibling:_.firstChild,j?j.previousSibling:_.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),Transition=($,{slots:_})=>h(BaseTransition,resolveTransitionProps($),_);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Transition.props=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators);const callHook=($,_=[])=>{isArray$3($)?$.forEach(j=>j(..._)):$&&$(..._)},hasExplicitCallback=$=>$?isArray$3($)?$.some(_=>_.length>1):$.length>1:!1;function resolveTransitionProps($){const _={};for(const Ke in $)Ke in DOMTransitionPropsValidators||(_[Ke]=$[Ke]);if($.css===!1)return _;const{name:j="v",type:ee,duration:re,enterFromClass:le=`${j}-enter-from`,enterActiveClass:de=`${j}-enter-active`,enterToClass:ge=`${j}-enter-to`,appearFromClass:ve=le,appearActiveClass:Ee=de,appearToClass:Ce=ge,leaveFromClass:Ae=`${j}-leave-from`,leaveActiveClass:Se=`${j}-leave-active`,leaveToClass:ke=`${j}-leave-to`}=$,we=normalizeDuration(re),Ne=we&&we[0],Le=we&&we[1],{onBeforeEnter:Me,onEnter:Fe,onEnterCancelled:xe,onLeave:$e,onLeaveCancelled:De,onBeforeAppear:Oe=Me,onAppear:Ge=Fe,onAppearCancelled:We=xe}=_,Ze=(Ke,Xe,ot)=>{removeTransitionClass(Ke,Xe?Ce:ge),removeTransitionClass(Ke,Xe?Ee:de),ot&&ot()},Qe=(Ke,Xe)=>{Ke._isLeaving=!1,removeTransitionClass(Ke,Ae),removeTransitionClass(Ke,ke),removeTransitionClass(Ke,Se),Xe&&Xe()},tt=Ke=>(Xe,ot)=>{const et=Ke?Ge:Fe,He=()=>Ze(Xe,Ke,ot);callHook(et,[Xe,He]),nextFrame(()=>{removeTransitionClass(Xe,Ke?ve:le),addTransitionClass(Xe,Ke?Ce:ge),hasExplicitCallback(et)||whenTransitionEnds(Xe,ee,Ne,He)})};return extend(_,{onBeforeEnter(Ke){callHook(Me,[Ke]),addTransitionClass(Ke,le),addTransitionClass(Ke,de)},onBeforeAppear(Ke){callHook(Oe,[Ke]),addTransitionClass(Ke,ve),addTransitionClass(Ke,Ee)},onEnter:tt(!1),onAppear:tt(!0),onLeave(Ke,Xe){Ke._isLeaving=!0;const ot=()=>Qe(Ke,Xe);addTransitionClass(Ke,Ae),forceReflow(),addTransitionClass(Ke,Se),nextFrame(()=>{Ke._isLeaving&&(removeTransitionClass(Ke,Ae),addTransitionClass(Ke,ke),hasExplicitCallback($e)||whenTransitionEnds(Ke,ee,Le,ot))}),callHook($e,[Ke,ot])},onEnterCancelled(Ke){Ze(Ke,!1),callHook(xe,[Ke])},onAppearCancelled(Ke){Ze(Ke,!0),callHook(We,[Ke])},onLeaveCancelled(Ke){Qe(Ke),callHook(De,[Ke])}})}function normalizeDuration($){if($==null)return null;if(isObject$3($))return[NumberOf($.enter),NumberOf($.leave)];{const _=NumberOf($);return[_,_]}}function NumberOf($){return toNumber$1($)}function addTransitionClass($,_){_.split(/\s+/).forEach(j=>j&&$.classList.add(j)),($[vtcKey]||($[vtcKey]=new Set)).add(_)}function removeTransitionClass($,_){_.split(/\s+/).forEach(ee=>ee&&$.classList.remove(ee));const j=$[vtcKey];j&&(j.delete(_),j.size||($[vtcKey]=void 0))}function nextFrame($){requestAnimationFrame(()=>{requestAnimationFrame($)})}let endId=0;function whenTransitionEnds($,_,j,ee){const re=$._endId=++endId,le=()=>{re===$._endId&&ee()};if(j)return setTimeout(le,j);const{type:de,timeout:ge,propCount:ve}=getTransitionInfo($,_);if(!de)return ee();const Ee=de+"end";let Ce=0;const Ae=()=>{$.removeEventListener(Ee,Se),le()},Se=ke=>{ke.target===$&&++Ce>=ve&&Ae()};setTimeout(()=>{Ce<ve&&Ae()},ge+1),$.addEventListener(Ee,Se)}function getTransitionInfo($,_){const j=window.getComputedStyle($),ee=we=>(j[we]||"").split(", "),re=ee(`${TRANSITION}Delay`),le=ee(`${TRANSITION}Duration`),de=getTimeout(re,le),ge=ee(`${ANIMATION}Delay`),ve=ee(`${ANIMATION}Duration`),Ee=getTimeout(ge,ve);let Ce=null,Ae=0,Se=0;_===TRANSITION?de>0&&(Ce=TRANSITION,Ae=de,Se=le.length):_===ANIMATION?Ee>0&&(Ce=ANIMATION,Ae=Ee,Se=ve.length):(Ae=Math.max(de,Ee),Ce=Ae>0?de>Ee?TRANSITION:ANIMATION:null,Se=Ce?Ce===TRANSITION?le.length:ve.length:0);const ke=Ce===TRANSITION&&/\b(transform|all)(,|$)/.test(ee(`${TRANSITION}Property`).toString());return{type:Ce,timeout:Ae,propCount:Se,hasTransform:ke}}function getTimeout($,_){for(;$.length<_.length;)$=$.concat($);return Math.max(..._.map((j,ee)=>toMs(j)+toMs($[ee])))}function toMs($){return $==="auto"?0:Number($.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass($,_,j){const ee=$[vtcKey];ee&&(_=(_?[_,...ee]:[...ee]).join(" ")),_==null?$.removeAttribute("class"):j?$.setAttribute("class",_):$.className=_}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount($,{value:_},{transition:j}){$[vShowOriginalDisplay]=$.style.display==="none"?"":$.style.display,j&&_?j.beforeEnter($):setDisplay($,_)},mounted($,{value:_},{transition:j}){j&&_&&j.enter($)},updated($,{value:_,oldValue:j},{transition:ee}){!_!=!j&&(ee?_?(ee.beforeEnter($),setDisplay($,!0),ee.enter($)):ee.leave($,()=>{setDisplay($,!1)}):setDisplay($,_))},beforeUnmount($,{value:_}){setDisplay($,_)}};function setDisplay($,_){$.style.display=_?$[vShowOriginalDisplay]:"none",$[vShowHidden]=!_}const CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle($,_,j){const ee=$.style,re=isString$1(j);let le=!1;if(j&&!re){if(_)if(isString$1(_))for(const de of _.split(";")){const ge=de.slice(0,de.indexOf(":")).trim();j[ge]==null&&setStyle(ee,ge,"")}else for(const de in _)j[de]==null&&setStyle(ee,de,"");for(const de in j)de==="display"&&(le=!0),setStyle(ee,de,j[de])}else if(re){if(_!==j){const de=ee[CSS_VAR_TEXT];de&&(j+=";"+de),ee.cssText=j,le=displayRE.test(j)}}else _&&$.removeAttribute("style");vShowOriginalDisplay in $&&($[vShowOriginalDisplay]=le?ee.display:"",$[vShowHidden]&&(ee.display="none"))}const importantRE=/\s*!important$/;function setStyle($,_,j){if(isArray$3(j))j.forEach(ee=>setStyle($,_,ee));else if(j==null&&(j=""),_.startsWith("--"))$.setProperty(_,j);else{const ee=autoPrefix($,_);importantRE.test(j)?$.setProperty(hyphenate(ee),j.replace(importantRE,""),"important"):$[ee]=j}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix($,_){const j=prefixCache[_];if(j)return j;let ee=camelize(_);if(ee!=="filter"&&ee in $)return prefixCache[_]=ee;ee=capitalize(ee);for(let re=0;re<prefixes.length;re++){const le=prefixes[re]+ee;if(le in $)return prefixCache[_]=le}return _}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr($,_,j,ee,re){if(ee&&_.startsWith("xlink:"))j==null?$.removeAttributeNS(xlinkNS,_.slice(6,_.length)):$.setAttributeNS(xlinkNS,_,j);else{const le=isSpecialBooleanAttr(_);j==null||le&&!includeBooleanAttr(j)?$.removeAttribute(_):$.setAttribute(_,le?"":j)}}function patchDOMProp($,_,j,ee,re,le,de){if(_==="innerHTML"||_==="textContent"){ee&&de(ee,re,le),$[_]=j??"";return}const ge=$.tagName;if(_==="value"&&ge!=="PROGRESS"&&!ge.includes("-")){const Ee=ge==="OPTION"?$.getAttribute("value")||"":$.value,Ce=j??"";(Ee!==Ce||!("_value"in $))&&($.value=Ce),j==null&&$.removeAttribute(_),$._value=j;return}let ve=!1;if(j===""||j==null){const Ee=typeof $[_];Ee==="boolean"?j=includeBooleanAttr(j):j==null&&Ee==="string"?(j="",ve=!0):Ee==="number"&&(j=0,ve=!0)}try{$[_]=j}catch{}ve&&$.removeAttribute(_)}function addEventListener$2($,_,j,ee){$.addEventListener(_,j,ee)}function removeEventListener$1($,_,j,ee){$.removeEventListener(_,j,ee)}const veiKey=Symbol("_vei");function patchEvent($,_,j,ee,re=null){const le=$[veiKey]||($[veiKey]={}),de=le[_];if(ee&&de)de.value=ee;else{const[ge,ve]=parseName(_);if(ee){const Ee=le[_]=createInvoker(ee,re);addEventListener$2($,ge,Ee,ve)}else de&&(removeEventListener$1($,ge,de,ve),le[_]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName($){let _;if(optionsModifierRE.test($)){_={};let ee;for(;ee=$.match(optionsModifierRE);)$=$.slice(0,$.length-ee[0].length),_[ee[0].toLowerCase()]=!0}return[$[2]===":"?$.slice(3):hyphenate($.slice(2)),_]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker($,_){const j=ee=>{if(!ee._vts)ee._vts=Date.now();else if(ee._vts<=j.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(ee,j.value),_,5,[ee])};return j.value=$,j.attached=getNow(),j}function patchStopImmediatePropagation($,_){if(isArray$3(_)){const j=$.stopImmediatePropagation;return $.stopImmediatePropagation=()=>{j.call($),$._stopped=!0},_.map(ee=>re=>!re._stopped&&ee&&ee(re))}else return _}const isNativeOn=$=>$.charCodeAt(0)===111&&$.charCodeAt(1)===110&&$.charCodeAt(2)>96&&$.charCodeAt(2)<123,patchProp=($,_,j,ee,re,le,de,ge,ve)=>{const Ee=re==="svg";_==="class"?patchClass($,ee,Ee):_==="style"?patchStyle($,j,ee):isOn(_)?isModelListener(_)||patchEvent($,_,j,ee,de):(_[0]==="."?(_=_.slice(1),!0):_[0]==="^"?(_=_.slice(1),!1):shouldSetAsProp($,_,ee,Ee))?patchDOMProp($,_,ee,le,de,ge,ve):(_==="true-value"?$._trueValue=ee:_==="false-value"&&($._falseValue=ee),patchAttr($,_,ee,Ee))};function shouldSetAsProp($,_,j,ee){if(ee)return!!(_==="innerHTML"||_==="textContent"||_ in $&&isNativeOn(_)&&isFunction$1(j));if(_==="spellcheck"||_==="draggable"||_==="translate"||_==="form"||_==="list"&&$.tagName==="INPUT"||_==="type"&&$.tagName==="TEXTAREA")return!1;if(_==="width"||_==="height"){const re=$.tagName;if(re==="IMG"||re==="VIDEO"||re==="CANVAS"||re==="SOURCE")return!1}return isNativeOn(_)&&isString$1(j)?!1:_ in $}const getModelAssigner=$=>{const _=$.props["onUpdate:modelValue"]||!1;return isArray$3(_)?j=>invokeArrayFns(_,j):_};function onCompositionStart($){$.target.composing=!0}function onCompositionEnd($){const _=$.target;_.composing&&(_.composing=!1,_.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created($,{modifiers:{lazy:_,trim:j,number:ee}},re){$[assignKey]=getModelAssigner(re);const le=ee||re.props&&re.props.type==="number";addEventListener$2($,_?"change":"input",de=>{if(de.target.composing)return;let ge=$.value;j&&(ge=ge.trim()),le&&(ge=looseToNumber(ge)),$[assignKey](ge)}),j&&addEventListener$2($,"change",()=>{$.value=$.value.trim()}),_||(addEventListener$2($,"compositionstart",onCompositionStart),addEventListener$2($,"compositionend",onCompositionEnd),addEventListener$2($,"change",onCompositionEnd))},mounted($,{value:_}){$.value=_??""},beforeUpdate($,{value:_,modifiers:{lazy:j,trim:ee,number:re}},le){if($[assignKey]=getModelAssigner(le),$.composing)return;const de=re||$.type==="number"?looseToNumber($.value):$.value,ge=_??"";de!==ge&&(document.activeElement===$&&$.type!=="range"&&(j||ee&&$.value.trim()===ge)||($.value=ge))}},systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:$=>$.stopPropagation(),prevent:$=>$.preventDefault(),self:$=>$.target!==$.currentTarget,ctrl:$=>!$.ctrlKey,shift:$=>!$.shiftKey,alt:$=>!$.altKey,meta:$=>!$.metaKey,left:$=>"button"in $&&$.button!==0,middle:$=>"button"in $&&$.button!==1,right:$=>"button"in $&&$.button!==2,exact:($,_)=>systemModifiers.some(j=>$[`${j}Key`]&&!_.includes(j))},withModifiers=($,_)=>{const j=$._withMods||($._withMods={}),ee=_.join(".");return j[ee]||(j[ee]=(re,...le)=>{for(let de=0;de<_.length;de++){const ge=modifierGuards[_[de]];if(ge&&ge(re,_))return}return $(re,...le)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=($,_)=>{const j=$._withKeys||($._withKeys={}),ee=_.join(".");return j[ee]||(j[ee]=re=>{if(!("key"in re))return;const le=hyphenate(re.key);if(_.some(de=>de===le||keyNames[de]===le))return $(re)})},rendererOptions=extend({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}const createSSRApp=(...$)=>{const _=ensureHydrationRenderer().createApp(...$),{mount:j}=_;return _.mount=ee=>{const re=normalizeContainer(ee);if(re)return j(re,!0,resolveRootNamespace(re))},_};function resolveRootNamespace($){if($ instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&$ instanceof MathMLElement)return"mathml"}function normalizeContainer($){return isString$1($)?document.querySelector($):$}var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs($){return $&&$.__esModule&&Object.prototype.hasOwnProperty.call($,"default")?$.default:$}var lottie={exports:{}};(function(module,exports){typeof navigator<"u"&&function($,_){module.exports=_()}(commonjsGlobal$1,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(_){_useWebWorker=!!_},getWebWorker=function(){return _useWebWorker},setLocationHref=function(_){locationHref=_},getLocationHref=function(){return locationHref};function createTag($){return document.createElement($)}function extendPrototype($,_){var j,ee=$.length,re;for(j=0;j<ee;j+=1){re=$[j].prototype;for(var le in re)Object.prototype.hasOwnProperty.call(re,le)&&(_.prototype[le]=re[le])}}function getDescriptor($,_){return Object.getOwnPropertyDescriptor($,_)}function createProxyFunction($){function _(){}return _.prototype=$,_}var audioControllerFactory=function(){function $(_){this.audios=[],this.audioFactory=_,this._volume=1,this._isMuted=!1}return $.prototype={addAudio:function(j){this.audios.push(j)},pause:function(){var j,ee=this.audios.length;for(j=0;j<ee;j+=1)this.audios[j].pause()},resume:function(){var j,ee=this.audios.length;for(j=0;j<ee;j+=1)this.audios[j].resume()},setRate:function(j){var ee,re=this.audios.length;for(ee=0;ee<re;ee+=1)this.audios[ee].setRate(j)},createAudio:function(j){return this.audioFactory?this.audioFactory(j):window.Howl?new window.Howl({src:[j]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(j){this.audioFactory=j},setVolume:function(j){this._volume=j,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var j,ee=this.audios.length;for(j=0;j<ee;j+=1)this.audios[j].volume(this._volume*(this._isMuted?0:1))}},function(){return new $}}(),createTypedArray=function(){function $(j,ee){var re=0,le=[],de;switch(j){case"int16":case"uint8c":de=1;break;default:de=1.1;break}for(re=0;re<ee;re+=1)le.push(de);return le}function _(j,ee){return j==="float32"?new Float32Array(ee):j==="int16"?new Int16Array(ee):j==="uint8c"?new Uint8ClampedArray(ee):$(j,ee)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?_:$}();function createSizedArray($){return Array.apply(null,{length:$})}function _typeof$6($){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(j){return typeof j}:_typeof$6=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},_typeof$6($)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var $=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],_,j=$.length;for(_=0;_<j;_+=1)BMMath[$[_]]=Math[$[_]]})(),BMMath.random=Math.random,BMMath.abs=function($){var _=_typeof$6($);if(_==="object"&&$.length){var j=createSizedArray($.length),ee,re=$.length;for(ee=0;ee<re;ee+=1)j[ee]=Math.abs($[ee]);return j}return Math.abs($)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv($){$.style.position="absolute",$.style.top=0,$.style.left=0,$.style.display="block",$.style.transformOrigin="0 0",$.style.webkitTransformOrigin="0 0",$.style.backfaceVisibility="visible",$.style.webkitBackfaceVisibility="visible",$.style.transformStyle="preserve-3d",$.style.webkitTransformStyle="preserve-3d",$.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent($,_,j,ee){this.type=$,this.currentTime=_,this.totalTime=j,this.direction=ee<0?-1:1}function BMCompleteEvent($,_){this.type=$,this.direction=_<0?-1:1}function BMCompleteLoopEvent($,_,j,ee){this.type=$,this.currentLoop=j,this.totalLoops=_,this.direction=ee<0?-1:1}function BMSegmentStartEvent($,_,j){this.type=$,this.firstFrame=_,this.totalFrames=j}function BMDestroyEvent($,_){this.type=$,this.target=_}function BMRenderFrameErrorEvent($,_){this.type="renderFrameError",this.nativeError=$,this.currentTime=_}function BMConfigErrorEvent($){this.type="configError",this.nativeError=$}var createElementID=function(){var $=0;return function(){return $+=1,idPrefix$1+"__lottie_element_"+$}}();function HSVtoRGB($,_,j){var ee,re,le,de,ge,ve,Ee,Ce;switch(de=Math.floor($*6),ge=$*6-de,ve=j*(1-_),Ee=j*(1-ge*_),Ce=j*(1-(1-ge)*_),de%6){case 0:ee=j,re=Ce,le=ve;break;case 1:ee=Ee,re=j,le=ve;break;case 2:ee=ve,re=j,le=Ce;break;case 3:ee=ve,re=Ee,le=j;break;case 4:ee=Ce,re=ve,le=j;break;case 5:ee=j,re=ve,le=Ee;break}return[ee,re,le]}function RGBtoHSV($,_,j){var ee=Math.max($,_,j),re=Math.min($,_,j),le=ee-re,de,ge=ee===0?0:le/ee,ve=ee/255;switch(ee){case re:de=0;break;case $:de=_-j+le*(_<j?6:0),de/=6*le;break;case _:de=j-$+le*2,de/=6*le;break;case j:de=$-_+le*4,de/=6*le;break}return[de,ge,ve]}function addSaturationToRGB($,_){var j=RGBtoHSV($[0]*255,$[1]*255,$[2]*255);return j[1]+=_,j[1]>1?j[1]=1:j[1]<=0&&(j[1]=0),HSVtoRGB(j[0],j[1],j[2])}function addBrightnessToRGB($,_){var j=RGBtoHSV($[0]*255,$[1]*255,$[2]*255);return j[2]+=_,j[2]>1?j[2]=1:j[2]<0&&(j[2]=0),HSVtoRGB(j[0],j[1],j[2])}function addHueToRGB($,_){var j=RGBtoHSV($[0]*255,$[1]*255,$[2]*255);return j[0]+=_/360,j[0]>1?j[0]-=1:j[0]<0&&(j[0]+=1),HSVtoRGB(j[0],j[1],j[2])}var rgbToHex=function(){var $=[],_,j;for(_=0;_<256;_+=1)j=_.toString(16),$[_]=j.length===1?"0"+j:j;return function(ee,re,le){return ee<0&&(ee=0),re<0&&(re=0),le<0&&(le=0),"#"+$[ee]+$[re]+$[le]}}(),setSubframeEnabled=function(_){subframeEnabled=!!_},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(_){expressionsPlugin=_},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(_){expressionsInterfaces=_},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(_){defaultCurveSegments=_},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(_){idPrefix$1=_};function createNS($){return document.createElementNS(svgNS,$)}function _typeof$5($){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(j){return typeof j}:_typeof$5=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},_typeof$5($)}var dataManager=function(){var $=1,_=[],j,ee,re={onmessage:function(){},postMessage:function(ke){j({data:ke})}},le={postMessage:function(ke){re.onmessage({data:ke})}};function de(Se){if(window.Worker&&window.Blob&&getWebWorker()){var ke=new Blob(["var _workerSelf = self; self.onmessage = ",Se.toString()],{type:"text/javascript"}),we=URL.createObjectURL(ke);return new Worker(we)}return j=Se,re}function ge(){ee||(ee=de(function(ke){function we(){function Le(et,He){var qe,Be,Ue=et.length,Je,Ye,at,vt;for(Be=0;Be<Ue;Be+=1)if(qe=et[Be],"ks"in qe&&!qe.completed){if(qe.completed=!0,qe.hasMask){var Et=qe.masksProperties;for(Ye=Et.length,Je=0;Je<Ye;Je+=1)if(Et[Je].pt.k.i)De(Et[Je].pt.k);else for(vt=Et[Je].pt.k.length,at=0;at<vt;at+=1)Et[Je].pt.k[at].s&&De(Et[Je].pt.k[at].s[0]),Et[Je].pt.k[at].e&&De(Et[Je].pt.k[at].e[0])}qe.ty===0?(qe.layers=xe(qe.refId,He),Le(qe.layers,He)):qe.ty===4?$e(qe.shapes):qe.ty===5&&Xe(qe)}}function Me(et,He){if(et){var qe=0,Be=et.length;for(qe=0;qe<Be;qe+=1)et[qe].t===1&&(et[qe].data.layers=xe(et[qe].data.refId,He),Le(et[qe].data.layers,He))}}function Fe(et,He){for(var qe=0,Be=He.length;qe<Be;){if(He[qe].id===et)return He[qe];qe+=1}return null}function xe(et,He){var qe=Fe(et,He);return qe?qe.layers.__used?JSON.parse(JSON.stringify(qe.layers)):(qe.layers.__used=!0,qe.layers):null}function $e(et){var He,qe=et.length,Be,Ue;for(He=qe-1;He>=0;He-=1)if(et[He].ty==="sh")if(et[He].ks.k.i)De(et[He].ks.k);else for(Ue=et[He].ks.k.length,Be=0;Be<Ue;Be+=1)et[He].ks.k[Be].s&&De(et[He].ks.k[Be].s[0]),et[He].ks.k[Be].e&&De(et[He].ks.k[Be].e[0]);else et[He].ty==="gr"&&$e(et[He].it)}function De(et){var He,qe=et.i.length;for(He=0;He<qe;He+=1)et.i[He][0]+=et.v[He][0],et.i[He][1]+=et.v[He][1],et.o[He][0]+=et.v[He][0],et.o[He][1]+=et.v[He][1]}function Oe(et,He){var qe=He?He.split("."):[100,100,100];return et[0]>qe[0]?!0:qe[0]>et[0]?!1:et[1]>qe[1]?!0:qe[1]>et[1]?!1:et[2]>qe[2]?!0:qe[2]>et[2]?!1:null}var Ge=function(){var et=[4,4,14];function He(Be){var Ue=Be.t.d;Be.t.d={k:[{s:Ue,t:0}]}}function qe(Be){var Ue,Je=Be.length;for(Ue=0;Ue<Je;Ue+=1)Be[Ue].ty===5&&He(Be[Ue])}return function(Be){if(Oe(et,Be.v)&&(qe(Be.layers),Be.assets)){var Ue,Je=Be.assets.length;for(Ue=0;Ue<Je;Ue+=1)Be.assets[Ue].layers&&qe(Be.assets[Ue].layers)}}}(),We=function(){var et=[4,7,99];return function(He){if(He.chars&&!Oe(et,He.v)){var qe,Be=He.chars.length;for(qe=0;qe<Be;qe+=1){var Ue=He.chars[qe];Ue.data&&Ue.data.shapes&&($e(Ue.data.shapes),Ue.data.ip=0,Ue.data.op=99999,Ue.data.st=0,Ue.data.sr=1,Ue.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},He.chars[qe].t||(Ue.data.shapes.push({ty:"no"}),Ue.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),Ze=function(){var et=[5,7,15];function He(Be){var Ue=Be.t.p;typeof Ue.a=="number"&&(Ue.a={a:0,k:Ue.a}),typeof Ue.p=="number"&&(Ue.p={a:0,k:Ue.p}),typeof Ue.r=="number"&&(Ue.r={a:0,k:Ue.r})}function qe(Be){var Ue,Je=Be.length;for(Ue=0;Ue<Je;Ue+=1)Be[Ue].ty===5&&He(Be[Ue])}return function(Be){if(Oe(et,Be.v)&&(qe(Be.layers),Be.assets)){var Ue,Je=Be.assets.length;for(Ue=0;Ue<Je;Ue+=1)Be.assets[Ue].layers&&qe(Be.assets[Ue].layers)}}}(),Qe=function(){var et=[4,1,9];function He(Be){var Ue,Je=Be.length,Ye,at;for(Ue=0;Ue<Je;Ue+=1)if(Be[Ue].ty==="gr")He(Be[Ue].it);else if(Be[Ue].ty==="fl"||Be[Ue].ty==="st")if(Be[Ue].c.k&&Be[Ue].c.k[0].i)for(at=Be[Ue].c.k.length,Ye=0;Ye<at;Ye+=1)Be[Ue].c.k[Ye].s&&(Be[Ue].c.k[Ye].s[0]/=255,Be[Ue].c.k[Ye].s[1]/=255,Be[Ue].c.k[Ye].s[2]/=255,Be[Ue].c.k[Ye].s[3]/=255),Be[Ue].c.k[Ye].e&&(Be[Ue].c.k[Ye].e[0]/=255,Be[Ue].c.k[Ye].e[1]/=255,Be[Ue].c.k[Ye].e[2]/=255,Be[Ue].c.k[Ye].e[3]/=255);else Be[Ue].c.k[0]/=255,Be[Ue].c.k[1]/=255,Be[Ue].c.k[2]/=255,Be[Ue].c.k[3]/=255}function qe(Be){var Ue,Je=Be.length;for(Ue=0;Ue<Je;Ue+=1)Be[Ue].ty===4&&He(Be[Ue].shapes)}return function(Be){if(Oe(et,Be.v)&&(qe(Be.layers),Be.assets)){var Ue,Je=Be.assets.length;for(Ue=0;Ue<Je;Ue+=1)Be.assets[Ue].layers&&qe(Be.assets[Ue].layers)}}}(),tt=function(){var et=[4,4,18];function He(Be){var Ue,Je=Be.length,Ye,at;for(Ue=Je-1;Ue>=0;Ue-=1)if(Be[Ue].ty==="sh")if(Be[Ue].ks.k.i)Be[Ue].ks.k.c=Be[Ue].closed;else for(at=Be[Ue].ks.k.length,Ye=0;Ye<at;Ye+=1)Be[Ue].ks.k[Ye].s&&(Be[Ue].ks.k[Ye].s[0].c=Be[Ue].closed),Be[Ue].ks.k[Ye].e&&(Be[Ue].ks.k[Ye].e[0].c=Be[Ue].closed);else Be[Ue].ty==="gr"&&He(Be[Ue].it)}function qe(Be){var Ue,Je,Ye=Be.length,at,vt,Et,ht;for(Je=0;Je<Ye;Je+=1){if(Ue=Be[Je],Ue.hasMask){var ft=Ue.masksProperties;for(vt=ft.length,at=0;at<vt;at+=1)if(ft[at].pt.k.i)ft[at].pt.k.c=ft[at].cl;else for(ht=ft[at].pt.k.length,Et=0;Et<ht;Et+=1)ft[at].pt.k[Et].s&&(ft[at].pt.k[Et].s[0].c=ft[at].cl),ft[at].pt.k[Et].e&&(ft[at].pt.k[Et].e[0].c=ft[at].cl)}Ue.ty===4&&He(Ue.shapes)}}return function(Be){if(Oe(et,Be.v)&&(qe(Be.layers),Be.assets)){var Ue,Je=Be.assets.length;for(Ue=0;Ue<Je;Ue+=1)Be.assets[Ue].layers&&qe(Be.assets[Ue].layers)}}}();function Ke(et){et.__complete||(Qe(et),Ge(et),We(et),Ze(et),tt(et),Le(et.layers,et.assets),Me(et.chars,et.assets),et.__complete=!0)}function Xe(et){et.t.a.length===0&&"m"in et.t.p}var ot={};return ot.completeData=Ke,ot.checkColors=Qe,ot.checkChars=We,ot.checkPathProperties=Ze,ot.checkShapes=tt,ot.completeLayers=Le,ot}if(le.dataManager||(le.dataManager=we()),le.assetLoader||(le.assetLoader=function(){function Le(Fe){var xe=Fe.getResponseHeader("content-type");return xe&&Fe.responseType==="json"&&xe.indexOf("json")!==-1||Fe.response&&_typeof$5(Fe.response)==="object"?Fe.response:Fe.response&&typeof Fe.response=="string"?JSON.parse(Fe.response):Fe.responseText?JSON.parse(Fe.responseText):null}function Me(Fe,xe,$e,De){var Oe,Ge=new XMLHttpRequest;try{Ge.responseType="json"}catch{}Ge.onreadystatechange=function(){if(Ge.readyState===4)if(Ge.status===200)Oe=Le(Ge),$e(Oe);else try{Oe=Le(Ge),$e(Oe)}catch(We){De&&De(We)}};try{Ge.open(["G","E","T"].join(""),Fe,!0)}catch{Ge.open(["G","E","T"].join(""),xe+"/"+Fe,!0)}Ge.send()}return{load:Me}}()),ke.data.type==="loadAnimation")le.assetLoader.load(ke.data.path,ke.data.fullPath,function(Le){le.dataManager.completeData(Le),le.postMessage({id:ke.data.id,payload:Le,status:"success"})},function(){le.postMessage({id:ke.data.id,status:"error"})});else if(ke.data.type==="complete"){var Ne=ke.data.animation;le.dataManager.completeData(Ne),le.postMessage({id:ke.data.id,payload:Ne,status:"success"})}else ke.data.type==="loadData"&&le.assetLoader.load(ke.data.path,ke.data.fullPath,function(Le){le.postMessage({id:ke.data.id,payload:Le,status:"success"})},function(){le.postMessage({id:ke.data.id,status:"error"})})}),ee.onmessage=function(Se){var ke=Se.data,we=ke.id,Ne=_[we];_[we]=null,ke.status==="success"?Ne.onComplete(ke.payload):Ne.onError&&Ne.onError()})}function ve(Se,ke){$+=1;var we="processId_"+$;return _[we]={onComplete:Se,onError:ke},we}function Ee(Se,ke,we){ge();var Ne=ve(ke,we);ee.postMessage({type:"loadAnimation",path:Se,fullPath:window.location.origin+window.location.pathname,id:Ne})}function Ce(Se,ke,we){ge();var Ne=ve(ke,we);ee.postMessage({type:"loadData",path:Se,fullPath:window.location.origin+window.location.pathname,id:Ne})}function Ae(Se,ke,we){ge();var Ne=ve(ke,we);ee.postMessage({type:"complete",animation:Se,id:Ne})}return{loadAnimation:Ee,loadData:Ce,completeAnimation:Ae}}(),ImagePreloader=function(){var $=function(){var Me=createTag("canvas");Me.width=1,Me.height=1;var Fe=Me.getContext("2d");return Fe.fillStyle="rgba(0,0,0,0)",Fe.fillRect(0,0,1,1),Me}();function _(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function j(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function ee(Me,Fe,xe){var $e="";if(Me.e)$e=Me.p;else if(Fe){var De=Me.p;De.indexOf("images/")!==-1&&(De=De.split("/")[1]),$e=Fe+De}else $e=xe,$e+=Me.u?Me.u:"",$e+=Me.p;return $e}function re(Me){var Fe=0,xe=setInterval(function(){var $e=Me.getBBox();($e.width||Fe>500)&&(this._imageLoaded(),clearInterval(xe)),Fe+=1}.bind(this),50)}function le(Me){var Fe=ee(Me,this.assetsPath,this.path),xe=createNS("image");isSafari?this.testImageLoaded(xe):xe.addEventListener("load",this._imageLoaded,!1),xe.addEventListener("error",function(){$e.img=$,this._imageLoaded()}.bind(this),!1),xe.setAttributeNS("http://www.w3.org/1999/xlink","href",Fe),this._elementHelper.append?this._elementHelper.append(xe):this._elementHelper.appendChild(xe);var $e={img:xe,assetData:Me};return $e}function de(Me){var Fe=ee(Me,this.assetsPath,this.path),xe=createTag("img");xe.crossOrigin="anonymous",xe.addEventListener("load",this._imageLoaded,!1),xe.addEventListener("error",function(){$e.img=$,this._imageLoaded()}.bind(this),!1),xe.src=Fe;var $e={img:xe,assetData:Me};return $e}function ge(Me){var Fe={assetData:Me},xe=ee(Me,this.assetsPath,this.path);return dataManager.loadData(xe,function($e){Fe.img=$e,this._footageLoaded()}.bind(this),function(){Fe.img={},this._footageLoaded()}.bind(this)),Fe}function ve(Me,Fe){this.imagesLoadedCb=Fe;var xe,$e=Me.length;for(xe=0;xe<$e;xe+=1)Me[xe].layers||(!Me[xe].t||Me[xe].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Me[xe]))):Me[xe].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Me[xe]))))}function Ee(Me){this.path=Me||""}function Ce(Me){this.assetsPath=Me||""}function Ae(Me){for(var Fe=0,xe=this.images.length;Fe<xe;){if(this.images[Fe].assetData===Me)return this.images[Fe].img;Fe+=1}return null}function Se(){this.imagesLoadedCb=null,this.images.length=0}function ke(){return this.totalImages===this.loadedAssets}function we(){return this.totalFootages===this.loadedFootagesCount}function Ne(Me,Fe){Me==="svg"?(this._elementHelper=Fe,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Le(){this._imageLoaded=_.bind(this),this._footageLoaded=j.bind(this),this.testImageLoaded=re.bind(this),this.createFootageData=ge.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Le.prototype={loadAssets:ve,setAssetsPath:Ce,setPath:Ee,loadedImages:ke,loadedFootages:we,destroy:Se,getAsset:Ae,createImgData:de,createImageData:le,imageLoaded:_,footageLoaded:j,setCacheType:Ne},Le}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(_,j){if(this._cbs[_])for(var ee=this._cbs[_],re=0;re<ee.length;re+=1)ee[re](j)},addEventListener:function(_,j){return this._cbs[_]||(this._cbs[_]=[]),this._cbs[_].push(j),function(){this.removeEventListener(_,j)}.bind(this)},removeEventListener:function(_,j){if(!j)this._cbs[_]=null;else if(this._cbs[_]){for(var ee=0,re=this._cbs[_].length;ee<re;)this._cbs[_][ee]===j&&(this._cbs[_].splice(ee,1),ee-=1,re-=1),ee+=1;this._cbs[_].length||(this._cbs[_]=null)}}};var markerParser=function(){function $(_){for(var j=_.split(`\r
`),ee={},re,le=0,de=0;de<j.length;de+=1)re=j[de].split(":"),re.length===2&&(ee[re[0]]=re[1].trim(),le+=1);if(le===0)throw new Error;return ee}return function(_){for(var j=[],ee=0;ee<_.length;ee+=1){var re=_[ee],le={time:re.tm,duration:re.dr};try{le.payload=JSON.parse(_[ee].cm)}catch{try{le.payload=$(_[ee].cm)}catch{le.payload={name:_[ee].cm}}}j.push(le)}return j}}(),ProjectInterface=function(){function $(_){this.compositions.push(_)}return function(){function _(j){for(var ee=0,re=this.compositions.length;ee<re;){if(this.compositions[ee].data&&this.compositions[ee].data.nm===j)return this.compositions[ee].prepareFrame&&this.compositions[ee].data.xt&&this.compositions[ee].prepareFrame(this.currentFrame),this.compositions[ee].compInterface;ee+=1}return null}return _.compositions=[],_.currentFrame=0,_.registerComposition=$,_}}(),renderers={},registerRenderer=function(_,j){renderers[_]=j};function getRenderer($){return renderers[$]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var $ in renderers)if(renderers[$])return $;return""}function _typeof$4($){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(j){return typeof j}:_typeof$4=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},_typeof$4($)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function($){($.wrapper||$.container)&&(this.wrapper=$.wrapper||$.container);var _="svg";$.animType?_=$.animType:$.renderer&&(_=$.renderer);var j=getRenderer(_);this.renderer=new j(this,$.rendererSettings),this.imagePreloader.setCacheType(_,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=_,$.loop===""||$.loop===null||$.loop===void 0||$.loop===!0?this.loop=!0:$.loop===!1?this.loop=!1:this.loop=parseInt($.loop,10),this.autoplay="autoplay"in $?$.autoplay:!0,this.name=$.name?$.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call($,"autoloadSegments")?$.autoloadSegments:!0,this.assetsPath=$.assetsPath,this.initialSegment=$.initialSegment,$.audioFactory&&this.audioController.setAudioFactory($.audioFactory),$.animationData?this.setupAnimation($.animationData):$.path&&($.path.lastIndexOf("\\")!==-1?this.path=$.path.substr(0,$.path.lastIndexOf("\\")+1):this.path=$.path.substr(0,$.path.lastIndexOf("/")+1),this.fileName=$.path.substr($.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation($.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function($){dataManager.completeAnimation($,this.configAnimation)},AnimationItem.prototype.setData=function($,_){_&&_typeof$4(_)!=="object"&&(_=JSON.parse(_));var j={wrapper:$,animationData:_},ee=$.attributes;j.path=ee.getNamedItem("data-animation-path")?ee.getNamedItem("data-animation-path").value:ee.getNamedItem("data-bm-path")?ee.getNamedItem("data-bm-path").value:ee.getNamedItem("bm-path")?ee.getNamedItem("bm-path").value:"",j.animType=ee.getNamedItem("data-anim-type")?ee.getNamedItem("data-anim-type").value:ee.getNamedItem("data-bm-type")?ee.getNamedItem("data-bm-type").value:ee.getNamedItem("bm-type")?ee.getNamedItem("bm-type").value:ee.getNamedItem("data-bm-renderer")?ee.getNamedItem("data-bm-renderer").value:ee.getNamedItem("bm-renderer")?ee.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var re=ee.getNamedItem("data-anim-loop")?ee.getNamedItem("data-anim-loop").value:ee.getNamedItem("data-bm-loop")?ee.getNamedItem("data-bm-loop").value:ee.getNamedItem("bm-loop")?ee.getNamedItem("bm-loop").value:"";re==="false"?j.loop=!1:re==="true"?j.loop=!0:re!==""&&(j.loop=parseInt(re,10));var le=ee.getNamedItem("data-anim-autoplay")?ee.getNamedItem("data-anim-autoplay").value:ee.getNamedItem("data-bm-autoplay")?ee.getNamedItem("data-bm-autoplay").value:ee.getNamedItem("bm-autoplay")?ee.getNamedItem("bm-autoplay").value:!0;j.autoplay=le!=="false",j.name=ee.getNamedItem("data-name")?ee.getNamedItem("data-name").value:ee.getNamedItem("data-bm-name")?ee.getNamedItem("data-bm-name").value:ee.getNamedItem("bm-name")?ee.getNamedItem("bm-name").value:"";var de=ee.getNamedItem("data-anim-prerender")?ee.getNamedItem("data-anim-prerender").value:ee.getNamedItem("data-bm-prerender")?ee.getNamedItem("data-bm-prerender").value:ee.getNamedItem("bm-prerender")?ee.getNamedItem("bm-prerender").value:"";de==="false"&&(j.prerender=!1),j.path?this.setParams(j):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function($){$.op>this.animationData.op&&(this.animationData.op=$.op,this.totalFrames=Math.floor($.op-this.animationData.ip));var _=this.animationData.layers,j,ee=_.length,re=$.layers,le,de=re.length;for(le=0;le<de;le+=1)for(j=0;j<ee;){if(_[j].id===re[le].id){_[j]=re[le];break}j+=1}if(($.chars||$.fonts)&&(this.renderer.globalData.fontManager.addChars($.chars),this.renderer.globalData.fontManager.addFonts($.fonts,this.renderer.globalData.defs)),$.assets)for(ee=$.assets.length,j=0;j<ee;j+=1)this.animationData.assets.push($.assets[j]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function($){this.animationData=$;var _=getExpressionsPlugin();_&&_.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var $=this.animationData.segments;if(!$||$.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var _=$.shift();this.timeCompleted=_.time*this.frameRate;var j=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(j,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var $=this.animationData.segments;$||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function($){if(this.renderer)try{this.animationData=$,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation($),$.assets||($.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions($.assets),this.markers=markerParser($.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(_){this.triggerConfigError(_)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var $=getExpressionsPlugin();$&&$.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function($,_){var j=typeof $=="number"?$:void 0,ee=typeof _=="number"?_:void 0;this.renderer.updateContainerSize(j,ee)},AnimationItem.prototype.setSubframe=function($){this.isSubframeEnabled=!!$},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch($){this.triggerRenderFrameError($)}},AnimationItem.prototype.play=function($){$&&this.name!==$||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function($){$&&this.name!==$||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function($){$&&this.name!==$||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function($){$&&this.name!==$||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function($){for(var _,j=0;j<this.markers.length;j+=1)if(_=this.markers[j],_.payload&&_.payload.name===$)return _;return null},AnimationItem.prototype.goToAndStop=function($,_,j){if(!(j&&this.name!==j)){var ee=Number($);if(isNaN(ee)){var re=this.getMarkerData($);re&&this.goToAndStop(re.time,!0)}else _?this.setCurrentRawFrameValue($):this.setCurrentRawFrameValue($*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function($,_,j){if(!(j&&this.name!==j)){var ee=Number($);if(isNaN(ee)){var re=this.getMarkerData($);re&&(re.duration?this.playSegments([re.time,re.time+re.duration],!0):this.goToAndStop(re.time,!0))}else this.goToAndStop(ee,_,j);this.play()}},AnimationItem.prototype.advanceTime=function($){if(!(this.isPaused===!0||this.isLoaded===!1)){var _=this.currentRawFrame+$*this.frameModifier,j=!1;_>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(_>this.totalFrames?_%this.totalFrames:0)||(j=!0,_=this.totalFrames-1):_>=this.totalFrames?(this.playCount+=1,this.checkSegments(_%this.totalFrames)||(this.setCurrentRawFrameValue(_%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(_):_<0?this.checkSegments(_%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+_%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(j=!0,_=0)):this.setCurrentRawFrameValue(_),j&&(this.setCurrentRawFrameValue(_),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function($,_){this.playCount=0,$[1]<$[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=$[0]-$[1],this.timeCompleted=this.totalFrames,this.firstFrame=$[1],this.setCurrentRawFrameValue(this.totalFrames-.001-_)):$[1]>$[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=$[1]-$[0],this.timeCompleted=this.totalFrames,this.firstFrame=$[0],this.setCurrentRawFrameValue(.001+_)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function($,_){var j=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<$?j=$:this.currentRawFrame+this.firstFrame>_&&(j=_-$)),this.firstFrame=$,this.totalFrames=_-$,this.timeCompleted=this.totalFrames,j!==-1&&this.goToAndStop(j,!0)},AnimationItem.prototype.playSegments=function($,_){if(_&&(this.segments.length=0),_typeof$4($[0])==="object"){var j,ee=$.length;for(j=0;j<ee;j+=1)this.segments.push($[j])}else this.segments.push($);this.segments.length&&_&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function($){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),$&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function($){return this.segments.length?(this.adjustSegment(this.segments.shift(),$),!0):!1},AnimationItem.prototype.destroy=function($){$&&this.name!==$||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function($){this.currentRawFrame=$,this.gotoFrame()},AnimationItem.prototype.setSpeed=function($){this.playSpeed=$,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function($){this.playDirection=$<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function($){this.loop=$},AnimationItem.prototype.setVolume=function($,_){_&&this.name!==_||this.audioController.setVolume($)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function($){$&&this.name!==$||this.audioController.mute()},AnimationItem.prototype.unmute=function($){$&&this.name!==$||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function($){var _="";if($.e)_=$.p;else if(this.assetsPath){var j=$.p;j.indexOf("images/")!==-1&&(j=j.split("/")[1]),_=this.assetsPath+j}else _=this.path,_+=$.u?$.u:"",_+=$.p;return _},AnimationItem.prototype.getAssetData=function($){for(var _=0,j=this.assets.length;_<j;){if($===this.assets[_].id)return this.assets[_];_+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function($){return $?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function($,_,j){try{var ee=this.renderer.getElementByPath($);ee.updateDocumentData(_,j)}catch{}},AnimationItem.prototype.trigger=function($){if(this._cbs&&this._cbs[$])switch($){case"enterFrame":this.triggerEvent($,new BMEnterFrameEvent($,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent($,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent($,new BMCompleteLoopEvent($,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent($,new BMCompleteEvent($,this.frameMult));break;case"segmentStart":this.triggerEvent($,new BMSegmentStartEvent($,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent($,new BMDestroyEvent($,this));break;default:this.triggerEvent($)}$==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent($,this.currentFrame,this.totalFrames,this.frameMult)),$==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent($,this.loop,this.playCount,this.frameMult)),$==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent($,this.frameMult)),$==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent($,this.firstFrame,this.totalFrames)),$==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent($,this))},AnimationItem.prototype.triggerRenderFrameError=function($){var _=new BMRenderFrameErrorEvent($,this.currentFrame);this.triggerEvent("error",_),this.onError&&this.onError.call(this,_)},AnimationItem.prototype.triggerConfigError=function($){var _=new BMConfigErrorEvent($,this.currentFrame);this.triggerEvent("error",_),this.onError&&this.onError.call(this,_)};var animationManager=function(){var $={},_=[],j=0,ee=0,re=0,le=!0,de=!1;function ge(He){for(var qe=0,Be=He.target;qe<ee;)_[qe].animation===Be&&(_.splice(qe,1),qe-=1,ee-=1,Be.isPaused||Ae()),qe+=1}function ve(He,qe){if(!He)return null;for(var Be=0;Be<ee;){if(_[Be].elem===He&&_[Be].elem!==null)return _[Be].animation;Be+=1}var Ue=new AnimationItem;return Se(Ue,He),Ue.setData(He,qe),Ue}function Ee(){var He,qe=_.length,Be=[];for(He=0;He<qe;He+=1)Be.push(_[He].animation);return Be}function Ce(){re+=1,Qe()}function Ae(){re-=1}function Se(He,qe){He.addEventListener("destroy",ge),He.addEventListener("_active",Ce),He.addEventListener("_idle",Ae),_.push({elem:qe,animation:He}),ee+=1}function ke(He){var qe=new AnimationItem;return Se(qe,null),qe.setParams(He),qe}function we(He,qe){var Be;for(Be=0;Be<ee;Be+=1)_[Be].animation.setSpeed(He,qe)}function Ne(He,qe){var Be;for(Be=0;Be<ee;Be+=1)_[Be].animation.setDirection(He,qe)}function Le(He){var qe;for(qe=0;qe<ee;qe+=1)_[qe].animation.play(He)}function Me(He){var qe=He-j,Be;for(Be=0;Be<ee;Be+=1)_[Be].animation.advanceTime(qe);j=He,re&&!de?window.requestAnimationFrame(Me):le=!0}function Fe(He){j=He,window.requestAnimationFrame(Me)}function xe(He){var qe;for(qe=0;qe<ee;qe+=1)_[qe].animation.pause(He)}function $e(He,qe,Be){var Ue;for(Ue=0;Ue<ee;Ue+=1)_[Ue].animation.goToAndStop(He,qe,Be)}function De(He){var qe;for(qe=0;qe<ee;qe+=1)_[qe].animation.stop(He)}function Oe(He){var qe;for(qe=0;qe<ee;qe+=1)_[qe].animation.togglePause(He)}function Ge(He){var qe;for(qe=ee-1;qe>=0;qe-=1)_[qe].animation.destroy(He)}function We(He,qe,Be){var Ue=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Je,Ye=Ue.length;for(Je=0;Je<Ye;Je+=1)Be&&Ue[Je].setAttribute("data-bm-type",Be),ve(Ue[Je],He);if(qe&&Ye===0){Be||(Be="svg");var at=document.getElementsByTagName("body")[0];at.innerText="";var vt=createTag("div");vt.style.width="100%",vt.style.height="100%",vt.setAttribute("data-bm-type",Be),at.appendChild(vt),ve(vt,He)}}function Ze(){var He;for(He=0;He<ee;He+=1)_[He].animation.resize()}function Qe(){!de&&re&&le&&(window.requestAnimationFrame(Fe),le=!1)}function tt(){de=!0}function Ke(){de=!1,Qe()}function Xe(He,qe){var Be;for(Be=0;Be<ee;Be+=1)_[Be].animation.setVolume(He,qe)}function ot(He){var qe;for(qe=0;qe<ee;qe+=1)_[qe].animation.mute(He)}function et(He){var qe;for(qe=0;qe<ee;qe+=1)_[qe].animation.unmute(He)}return $.registerAnimation=ve,$.loadAnimation=ke,$.setSpeed=we,$.setDirection=Ne,$.play=Le,$.pause=xe,$.stop=De,$.togglePause=Oe,$.searchAnimations=We,$.resize=Ze,$.goToAndStop=$e,$.destroy=Ge,$.freeze=tt,$.unfreeze=Ke,$.setVolume=Xe,$.mute=ot,$.unmute=et,$.getRegisteredAnimations=Ee,$}(),BezierFactory=function(){var $={};$.getBezierEasing=j;var _={};function j(Fe,xe,$e,De,Oe){var Ge=Oe||("bez_"+Fe+"_"+xe+"_"+$e+"_"+De).replace(/\./g,"p");if(_[Ge])return _[Ge];var We=new Me([Fe,xe,$e,De]);return _[Ge]=We,We}var ee=4,re=.001,le=1e-7,de=10,ge=11,ve=1/(ge-1),Ee=typeof Float32Array=="function";function Ce(Fe,xe){return 1-3*xe+3*Fe}function Ae(Fe,xe){return 3*xe-6*Fe}function Se(Fe){return 3*Fe}function ke(Fe,xe,$e){return((Ce(xe,$e)*Fe+Ae(xe,$e))*Fe+Se(xe))*Fe}function we(Fe,xe,$e){return 3*Ce(xe,$e)*Fe*Fe+2*Ae(xe,$e)*Fe+Se(xe)}function Ne(Fe,xe,$e,De,Oe){var Ge,We,Ze=0;do We=xe+($e-xe)/2,Ge=ke(We,De,Oe)-Fe,Ge>0?$e=We:xe=We;while(Math.abs(Ge)>le&&++Ze<de);return We}function Le(Fe,xe,$e,De){for(var Oe=0;Oe<ee;++Oe){var Ge=we(xe,$e,De);if(Ge===0)return xe;var We=ke(xe,$e,De)-Fe;xe-=We/Ge}return xe}function Me(Fe){this._p=Fe,this._mSampleValues=Ee?new Float32Array(ge):new Array(ge),this._precomputed=!1,this.get=this.get.bind(this)}return Me.prototype={get:function(xe){var $e=this._p[0],De=this._p[1],Oe=this._p[2],Ge=this._p[3];return this._precomputed||this._precompute(),$e===De&&Oe===Ge?xe:xe===0?0:xe===1?1:ke(this._getTForX(xe),De,Ge)},_precompute:function(){var xe=this._p[0],$e=this._p[1],De=this._p[2],Oe=this._p[3];this._precomputed=!0,(xe!==$e||De!==Oe)&&this._calcSampleValues()},_calcSampleValues:function(){for(var xe=this._p[0],$e=this._p[2],De=0;De<ge;++De)this._mSampleValues[De]=ke(De*ve,xe,$e)},_getTForX:function(xe){for(var $e=this._p[0],De=this._p[2],Oe=this._mSampleValues,Ge=0,We=1,Ze=ge-1;We!==Ze&&Oe[We]<=xe;++We)Ge+=ve;--We;var Qe=(xe-Oe[We])/(Oe[We+1]-Oe[We]),tt=Ge+Qe*ve,Ke=we(tt,$e,De);return Ke>=re?Le(xe,tt,$e,De):Ke===0?tt:Ne(xe,Ge,Ge+ve,$e,De)}},$}(),pooling=function(){function $(_){return _.concat(createSizedArray(_.length))}return{double:$}}(),poolFactory=function(){return function($,_,j){var ee=0,re=$,le=createSizedArray(re),de={newElement:ge,release:ve};function ge(){var Ee;return ee?(ee-=1,Ee=le[ee]):Ee=_(),Ee}function ve(Ee){ee===re&&(le=pooling.double(le),re*=2),j&&j(Ee),le[ee]=Ee,ee+=1}return de}}(),bezierLengthPool=function(){function $(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,$)}(),segmentsLengthPool=function(){function $(){return{lengths:[],totalLength:0}}function _(j){var ee,re=j.lengths.length;for(ee=0;ee<re;ee+=1)bezierLengthPool.release(j.lengths[ee]);j.lengths.length=0}return poolFactory(8,$,_)}();function bezFunction(){var $=Math;function _(Se,ke,we,Ne,Le,Me){var Fe=Se*Ne+ke*Le+we*Me-Le*Ne-Me*Se-we*ke;return Fe>-.001&&Fe<.001}function j(Se,ke,we,Ne,Le,Me,Fe,xe,$e){if(we===0&&Me===0&&$e===0)return _(Se,ke,Ne,Le,Fe,xe);var De=$.sqrt($.pow(Ne-Se,2)+$.pow(Le-ke,2)+$.pow(Me-we,2)),Oe=$.sqrt($.pow(Fe-Se,2)+$.pow(xe-ke,2)+$.pow($e-we,2)),Ge=$.sqrt($.pow(Fe-Ne,2)+$.pow(xe-Le,2)+$.pow($e-Me,2)),We;return De>Oe?De>Ge?We=De-Oe-Ge:We=Ge-Oe-De:Ge>Oe?We=Ge-Oe-De:We=Oe-De-Ge,We>-1e-4&&We<1e-4}var ee=function(){return function(Se,ke,we,Ne){var Le=getDefaultCurveSegments(),Me,Fe,xe,$e,De,Oe=0,Ge,We=[],Ze=[],Qe=bezierLengthPool.newElement();for(xe=we.length,Me=0;Me<Le;Me+=1){for(De=Me/(Le-1),Ge=0,Fe=0;Fe<xe;Fe+=1)$e=bmPow(1-De,3)*Se[Fe]+3*bmPow(1-De,2)*De*we[Fe]+3*(1-De)*bmPow(De,2)*Ne[Fe]+bmPow(De,3)*ke[Fe],We[Fe]=$e,Ze[Fe]!==null&&(Ge+=bmPow(We[Fe]-Ze[Fe],2)),Ze[Fe]=We[Fe];Ge&&(Ge=bmSqrt(Ge),Oe+=Ge),Qe.percents[Me]=De,Qe.lengths[Me]=Oe}return Qe.addedLength=Oe,Qe}}();function re(Se){var ke=segmentsLengthPool.newElement(),we=Se.c,Ne=Se.v,Le=Se.o,Me=Se.i,Fe,xe=Se._length,$e=ke.lengths,De=0;for(Fe=0;Fe<xe-1;Fe+=1)$e[Fe]=ee(Ne[Fe],Ne[Fe+1],Le[Fe],Me[Fe+1]),De+=$e[Fe].addedLength;return we&&xe&&($e[Fe]=ee(Ne[Fe],Ne[0],Le[Fe],Me[0]),De+=$e[Fe].addedLength),ke.totalLength=De,ke}function le(Se){this.segmentLength=0,this.points=new Array(Se)}function de(Se,ke){this.partialLength=Se,this.point=ke}var ge=function(){var Se={};return function(ke,we,Ne,Le){var Me=(ke[0]+"_"+ke[1]+"_"+we[0]+"_"+we[1]+"_"+Ne[0]+"_"+Ne[1]+"_"+Le[0]+"_"+Le[1]).replace(/\./g,"p");if(!Se[Me]){var Fe=getDefaultCurveSegments(),xe,$e,De,Oe,Ge,We=0,Ze,Qe,tt=null;ke.length===2&&(ke[0]!==we[0]||ke[1]!==we[1])&&_(ke[0],ke[1],we[0],we[1],ke[0]+Ne[0],ke[1]+Ne[1])&&_(ke[0],ke[1],we[0],we[1],we[0]+Le[0],we[1]+Le[1])&&(Fe=2);var Ke=new le(Fe);for(De=Ne.length,xe=0;xe<Fe;xe+=1){for(Qe=createSizedArray(De),Ge=xe/(Fe-1),Ze=0,$e=0;$e<De;$e+=1)Oe=bmPow(1-Ge,3)*ke[$e]+3*bmPow(1-Ge,2)*Ge*(ke[$e]+Ne[$e])+3*(1-Ge)*bmPow(Ge,2)*(we[$e]+Le[$e])+bmPow(Ge,3)*we[$e],Qe[$e]=Oe,tt!==null&&(Ze+=bmPow(Qe[$e]-tt[$e],2));Ze=bmSqrt(Ze),We+=Ze,Ke.points[xe]=new de(Ze,Qe),tt=Qe}Ke.segmentLength=We,Se[Me]=Ke}return Se[Me]}}();function ve(Se,ke){var we=ke.percents,Ne=ke.lengths,Le=we.length,Me=bmFloor((Le-1)*Se),Fe=Se*ke.addedLength,xe=0;if(Me===Le-1||Me===0||Fe===Ne[Me])return we[Me];for(var $e=Ne[Me]>Fe?-1:1,De=!0;De;)if(Ne[Me]<=Fe&&Ne[Me+1]>Fe?(xe=(Fe-Ne[Me])/(Ne[Me+1]-Ne[Me]),De=!1):Me+=$e,Me<0||Me>=Le-1){if(Me===Le-1)return we[Me];De=!1}return we[Me]+(we[Me+1]-we[Me])*xe}function Ee(Se,ke,we,Ne,Le,Me){var Fe=ve(Le,Me),xe=1-Fe,$e=$.round((xe*xe*xe*Se[0]+(Fe*xe*xe+xe*Fe*xe+xe*xe*Fe)*we[0]+(Fe*Fe*xe+xe*Fe*Fe+Fe*xe*Fe)*Ne[0]+Fe*Fe*Fe*ke[0])*1e3)/1e3,De=$.round((xe*xe*xe*Se[1]+(Fe*xe*xe+xe*Fe*xe+xe*xe*Fe)*we[1]+(Fe*Fe*xe+xe*Fe*Fe+Fe*xe*Fe)*Ne[1]+Fe*Fe*Fe*ke[1])*1e3)/1e3;return[$e,De]}var Ce=createTypedArray("float32",8);function Ae(Se,ke,we,Ne,Le,Me,Fe){Le<0?Le=0:Le>1&&(Le=1);var xe=ve(Le,Fe);Me=Me>1?1:Me;var $e=ve(Me,Fe),De,Oe=Se.length,Ge=1-xe,We=1-$e,Ze=Ge*Ge*Ge,Qe=xe*Ge*Ge*3,tt=xe*xe*Ge*3,Ke=xe*xe*xe,Xe=Ge*Ge*We,ot=xe*Ge*We+Ge*xe*We+Ge*Ge*$e,et=xe*xe*We+Ge*xe*$e+xe*Ge*$e,He=xe*xe*$e,qe=Ge*We*We,Be=xe*We*We+Ge*$e*We+Ge*We*$e,Ue=xe*$e*We+Ge*$e*$e+xe*We*$e,Je=xe*$e*$e,Ye=We*We*We,at=$e*We*We+We*$e*We+We*We*$e,vt=$e*$e*We+We*$e*$e+$e*We*$e,Et=$e*$e*$e;for(De=0;De<Oe;De+=1)Ce[De*4]=$.round((Ze*Se[De]+Qe*we[De]+tt*Ne[De]+Ke*ke[De])*1e3)/1e3,Ce[De*4+1]=$.round((Xe*Se[De]+ot*we[De]+et*Ne[De]+He*ke[De])*1e3)/1e3,Ce[De*4+2]=$.round((qe*Se[De]+Be*we[De]+Ue*Ne[De]+Je*ke[De])*1e3)/1e3,Ce[De*4+3]=$.round((Ye*Se[De]+at*we[De]+vt*Ne[De]+Et*ke[De])*1e3)/1e3;return Ce}return{getSegmentsLength:re,getNewSegment:Ae,getPointInSegment:Ee,buildBezierData:ge,pointOnLine2D:_,pointOnLine3D:j}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue($,_){var j=this.offsetTime,ee;this.propType==="multidimensional"&&(ee=createTypedArray("float32",this.pv.length));for(var re=_.lastIndex,le=re,de=this.keyframes.length-1,ge=!0,ve,Ee,Ce;ge;){if(ve=this.keyframes[le],Ee=this.keyframes[le+1],le===de-1&&$>=Ee.t-j){ve.h&&(ve=Ee),re=0;break}if(Ee.t-j>$){re=le;break}le<de-1?le+=1:(re=0,ge=!1)}Ce=this.keyframesMetadata[le]||{};var Ae,Se,ke,we,Ne,Le,Me=Ee.t-j,Fe=ve.t-j,xe;if(ve.to){Ce.bezierData||(Ce.bezierData=bez.buildBezierData(ve.s,Ee.s||ve.e,ve.to,ve.ti));var $e=Ce.bezierData;if($>=Me||$<Fe){var De=$>=Me?$e.points.length-1:0;for(Se=$e.points[De].point.length,Ae=0;Ae<Se;Ae+=1)ee[Ae]=$e.points[De].point[Ae]}else{Ce.__fnct?Le=Ce.__fnct:(Le=BezierFactory.getBezierEasing(ve.o.x,ve.o.y,ve.i.x,ve.i.y,ve.n).get,Ce.__fnct=Le),ke=Le(($-Fe)/(Me-Fe));var Oe=$e.segmentLength*ke,Ge,We=_.lastFrame<$&&_._lastKeyframeIndex===le?_._lastAddedLength:0;for(Ne=_.lastFrame<$&&_._lastKeyframeIndex===le?_._lastPoint:0,ge=!0,we=$e.points.length;ge;){if(We+=$e.points[Ne].partialLength,Oe===0||ke===0||Ne===$e.points.length-1){for(Se=$e.points[Ne].point.length,Ae=0;Ae<Se;Ae+=1)ee[Ae]=$e.points[Ne].point[Ae];break}else if(Oe>=We&&Oe<We+$e.points[Ne+1].partialLength){for(Ge=(Oe-We)/$e.points[Ne+1].partialLength,Se=$e.points[Ne].point.length,Ae=0;Ae<Se;Ae+=1)ee[Ae]=$e.points[Ne].point[Ae]+($e.points[Ne+1].point[Ae]-$e.points[Ne].point[Ae])*Ge;break}Ne<we-1?Ne+=1:ge=!1}_._lastPoint=Ne,_._lastAddedLength=We-$e.points[Ne].partialLength,_._lastKeyframeIndex=le}}else{var Ze,Qe,tt,Ke,Xe;if(de=ve.s.length,xe=Ee.s||ve.e,this.sh&&ve.h!==1)if($>=Me)ee[0]=xe[0],ee[1]=xe[1],ee[2]=xe[2];else if($<=Fe)ee[0]=ve.s[0],ee[1]=ve.s[1],ee[2]=ve.s[2];else{var ot=createQuaternion(ve.s),et=createQuaternion(xe),He=($-Fe)/(Me-Fe);quaternionToEuler(ee,slerp(ot,et,He))}else for(le=0;le<de;le+=1)ve.h!==1&&($>=Me?ke=1:$<Fe?ke=0:(ve.o.x.constructor===Array?(Ce.__fnct||(Ce.__fnct=[]),Ce.__fnct[le]?Le=Ce.__fnct[le]:(Ze=ve.o.x[le]===void 0?ve.o.x[0]:ve.o.x[le],Qe=ve.o.y[le]===void 0?ve.o.y[0]:ve.o.y[le],tt=ve.i.x[le]===void 0?ve.i.x[0]:ve.i.x[le],Ke=ve.i.y[le]===void 0?ve.i.y[0]:ve.i.y[le],Le=BezierFactory.getBezierEasing(Ze,Qe,tt,Ke).get,Ce.__fnct[le]=Le)):Ce.__fnct?Le=Ce.__fnct:(Ze=ve.o.x,Qe=ve.o.y,tt=ve.i.x,Ke=ve.i.y,Le=BezierFactory.getBezierEasing(Ze,Qe,tt,Ke).get,ve.keyframeMetadata=Le),ke=Le(($-Fe)/(Me-Fe)))),xe=Ee.s||ve.e,Xe=ve.h===1?ve.s[le]:ve.s[le]+(xe[le]-ve.s[le])*ke,this.propType==="multidimensional"?ee[le]=Xe:ee=Xe}return _.lastIndex=re,ee}function slerp($,_,j){var ee=[],re=$[0],le=$[1],de=$[2],ge=$[3],ve=_[0],Ee=_[1],Ce=_[2],Ae=_[3],Se,ke,we,Ne,Le;return ke=re*ve+le*Ee+de*Ce+ge*Ae,ke<0&&(ke=-ke,ve=-ve,Ee=-Ee,Ce=-Ce,Ae=-Ae),1-ke>1e-6?(Se=Math.acos(ke),we=Math.sin(Se),Ne=Math.sin((1-j)*Se)/we,Le=Math.sin(j*Se)/we):(Ne=1-j,Le=j),ee[0]=Ne*re+Le*ve,ee[1]=Ne*le+Le*Ee,ee[2]=Ne*de+Le*Ce,ee[3]=Ne*ge+Le*Ae,ee}function quaternionToEuler($,_){var j=_[0],ee=_[1],re=_[2],le=_[3],de=Math.atan2(2*ee*le-2*j*re,1-2*ee*ee-2*re*re),ge=Math.asin(2*j*ee+2*re*le),ve=Math.atan2(2*j*le-2*ee*re,1-2*j*j-2*re*re);$[0]=de/degToRads,$[1]=ge/degToRads,$[2]=ve/degToRads}function createQuaternion($){var _=$[0]*degToRads,j=$[1]*degToRads,ee=$[2]*degToRads,re=Math.cos(_/2),le=Math.cos(j/2),de=Math.cos(ee/2),ge=Math.sin(_/2),ve=Math.sin(j/2),Ee=Math.sin(ee/2),Ce=re*le*de-ge*ve*Ee,Ae=ge*ve*de+re*le*Ee,Se=ge*le*de+re*ve*Ee,ke=re*ve*de-ge*le*Ee;return[Ae,Se,ke,Ce]}function getValueAtCurrentTime(){var $=this.comp.renderedFrame-this.offsetTime,_=this.keyframes[0].t-this.offsetTime,j=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!($===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=j&&$>=j||this._caching.lastFrame<_&&$<_))){this._caching.lastFrame>=$&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var ee=this.interpolateValue($,this._caching);this.pv=ee}return this._caching.lastFrame=$,this.pv}function setVValue($){var _;if(this.propType==="unidimensional")_=$*this.mult,mathAbs(this.v-_)>1e-5&&(this.v=_,this._mdf=!0);else for(var j=0,ee=this.v.length;j<ee;)_=$[j]*this.mult,mathAbs(this.v[j]-_)>1e-5&&(this.v[j]=_,this._mdf=!0),j+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var $,_=this.effectsSequence.length,j=this.kf?this.pv:this.data.k;for($=0;$<_;$+=1)j=this.effectsSequence[$](j);this.setVValue(j),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect($){this.effectsSequence.push($),this.container.addDynamicProperty(this)}function ValueProperty($,_,j,ee){this.propType="unidimensional",this.mult=j||1,this.data=_,this.v=j?_.k*j:_.k,this.pv=_.k,this._mdf=!1,this.elem=$,this.container=ee,this.comp=$.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty($,_,j,ee){this.propType="multidimensional",this.mult=j||1,this.data=_,this._mdf=!1,this.elem=$,this.container=ee,this.comp=$.comp,this.k=!1,this.kf=!1,this.frameId=-1;var re,le=_.k.length;for(this.v=createTypedArray("float32",le),this.pv=createTypedArray("float32",le),this.vel=createTypedArray("float32",le),re=0;re<le;re+=1)this.v[re]=_.k[re]*this.mult,this.pv[re]=_.k[re];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty($,_,j,ee){this.propType="unidimensional",this.keyframes=_.k,this.keyframesMetadata=[],this.offsetTime=$.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=_,this.mult=j||1,this.elem=$,this.container=ee,this.comp=$.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty($,_,j,ee){this.propType="multidimensional";var re,le=_.k.length,de,ge,ve,Ee;for(re=0;re<le-1;re+=1)_.k[re].to&&_.k[re].s&&_.k[re+1]&&_.k[re+1].s&&(de=_.k[re].s,ge=_.k[re+1].s,ve=_.k[re].to,Ee=_.k[re].ti,(de.length===2&&!(de[0]===ge[0]&&de[1]===ge[1])&&bez.pointOnLine2D(de[0],de[1],ge[0],ge[1],de[0]+ve[0],de[1]+ve[1])&&bez.pointOnLine2D(de[0],de[1],ge[0],ge[1],ge[0]+Ee[0],ge[1]+Ee[1])||de.length===3&&!(de[0]===ge[0]&&de[1]===ge[1]&&de[2]===ge[2])&&bez.pointOnLine3D(de[0],de[1],de[2],ge[0],ge[1],ge[2],de[0]+ve[0],de[1]+ve[1],de[2]+ve[2])&&bez.pointOnLine3D(de[0],de[1],de[2],ge[0],ge[1],ge[2],ge[0]+Ee[0],ge[1]+Ee[1],ge[2]+Ee[2]))&&(_.k[re].to=null,_.k[re].ti=null),de[0]===ge[0]&&de[1]===ge[1]&&ve[0]===0&&ve[1]===0&&Ee[0]===0&&Ee[1]===0&&(de.length===2||de[2]===ge[2]&&ve[2]===0&&Ee[2]===0)&&(_.k[re].to=null,_.k[re].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=_,this.keyframes=_.k,this.keyframesMetadata=[],this.offsetTime=$.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=j||1,this.elem=$,this.container=ee,this.comp=$.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var Ce=_.k[0].s.length;for(this.v=createTypedArray("float32",Ce),this.pv=createTypedArray("float32",Ce),re=0;re<Ce;re+=1)this.v[re]=initFrame,this.pv[re]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",Ce)},this.addEffect=addEffect}var PropertyFactory=function(){function $(j,ee,re,le,de){ee.sid&&(ee=j.globalData.slotManager.getProp(ee));var ge;if(!ee.k.length)ge=new ValueProperty(j,ee,le,de);else if(typeof ee.k[0]=="number")ge=new MultiDimensionalProperty(j,ee,le,de);else switch(re){case 0:ge=new KeyframedValueProperty(j,ee,le,de);break;case 1:ge=new KeyframedMultidimensionalProperty(j,ee,le,de);break}return ge.effectsSequence.length&&de.addDynamicProperty(ge),ge}var _={getProp:$};return _}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(_){this.dynamicProperties.indexOf(_)===-1&&(this.dynamicProperties.push(_),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var _,j=this.dynamicProperties.length;for(_=0;_<j;_+=1)this.dynamicProperties[_].getValue(),this.dynamicProperties[_]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(_){this.container=_,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function $(){return createTypedArray("float32",2)}return poolFactory(8,$)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function($,_){this.c=$,this.setLength(_);for(var j=0;j<_;)this.v[j]=pointPool.newElement(),this.o[j]=pointPool.newElement(),this.i[j]=pointPool.newElement(),j+=1},ShapePath.prototype.setLength=function($){for(;this._maxLength<$;)this.doubleArrayLength();this._length=$},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function($,_,j,ee,re){var le;switch(this._length=Math.max(this._length,ee+1),this._length>=this._maxLength&&this.doubleArrayLength(),j){case"v":le=this.v;break;case"i":le=this.i;break;case"o":le=this.o;break;default:le=[];break}(!le[ee]||le[ee]&&!re)&&(le[ee]=pointPool.newElement()),le[ee][0]=$,le[ee][1]=_},ShapePath.prototype.setTripleAt=function($,_,j,ee,re,le,de,ge){this.setXYAt($,_,"v",de,ge),this.setXYAt(j,ee,"o",de,ge),this.setXYAt(re,le,"i",de,ge)},ShapePath.prototype.reverse=function(){var $=new ShapePath;$.setPathData(this.c,this._length);var _=this.v,j=this.o,ee=this.i,re=0;this.c&&($.setTripleAt(_[0][0],_[0][1],ee[0][0],ee[0][1],j[0][0],j[0][1],0,!1),re=1);var le=this._length-1,de=this._length,ge;for(ge=re;ge<de;ge+=1)$.setTripleAt(_[le][0],_[le][1],ee[le][0],ee[le][1],j[le][0],j[le][1],ge,!1),le-=1;return $},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function $(){return new ShapePath}function _(re){var le=re._length,de;for(de=0;de<le;de+=1)pointPool.release(re.v[de]),pointPool.release(re.i[de]),pointPool.release(re.o[de]),re.v[de]=null,re.i[de]=null,re.o[de]=null;re._length=0,re.c=!1}function j(re){var le=ee.newElement(),de,ge=re._length===void 0?re.v.length:re._length;for(le.setLength(ge),le.c=re.c,de=0;de<ge;de+=1)le.setTripleAt(re.v[de][0],re.v[de][1],re.o[de][0],re.o[de][1],re.i[de][0],re.i[de][1],de);return le}var ee=poolFactory(4,$,_);return ee.clone=j,ee}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function($){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=$,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var $;for($=0;$<this._length;$+=1)shapePool.release(this.shapes[$]);this._length=0};var shapeCollectionPool=function(){var $={newShapeCollection:re,release:le},_=0,j=4,ee=createSizedArray(j);function re(){var de;return _?(_-=1,de=ee[_]):de=new ShapeCollection,de}function le(de){var ge,ve=de._length;for(ge=0;ge<ve;ge+=1)shapePool.release(de.shapes[ge]);de._length=0,_===j&&(ee=pooling.double(ee),j*=2),ee[_]=de,_+=1}return $}(),ShapePropertyFactory=function(){var $=-999999;function _(Me,Fe,xe){var $e=xe.lastIndex,De,Oe,Ge,We,Ze,Qe,tt,Ke,Xe,ot=this.keyframes;if(Me<ot[0].t-this.offsetTime)De=ot[0].s[0],Ge=!0,$e=0;else if(Me>=ot[ot.length-1].t-this.offsetTime)De=ot[ot.length-1].s?ot[ot.length-1].s[0]:ot[ot.length-2].e[0],Ge=!0;else{for(var et=$e,He=ot.length-1,qe=!0,Be,Ue,Je;qe&&(Be=ot[et],Ue=ot[et+1],!(Ue.t-this.offsetTime>Me));)et<He-1?et+=1:qe=!1;if(Je=this.keyframesMetadata[et]||{},Ge=Be.h===1,$e=et,!Ge){if(Me>=Ue.t-this.offsetTime)Ke=1;else if(Me<Be.t-this.offsetTime)Ke=0;else{var Ye;Je.__fnct?Ye=Je.__fnct:(Ye=BezierFactory.getBezierEasing(Be.o.x,Be.o.y,Be.i.x,Be.i.y).get,Je.__fnct=Ye),Ke=Ye((Me-(Be.t-this.offsetTime))/(Ue.t-this.offsetTime-(Be.t-this.offsetTime)))}Oe=Ue.s?Ue.s[0]:Be.e[0]}De=Be.s[0]}for(Qe=Fe._length,tt=De.i[0].length,xe.lastIndex=$e,We=0;We<Qe;We+=1)for(Ze=0;Ze<tt;Ze+=1)Xe=Ge?De.i[We][Ze]:De.i[We][Ze]+(Oe.i[We][Ze]-De.i[We][Ze])*Ke,Fe.i[We][Ze]=Xe,Xe=Ge?De.o[We][Ze]:De.o[We][Ze]+(Oe.o[We][Ze]-De.o[We][Ze])*Ke,Fe.o[We][Ze]=Xe,Xe=Ge?De.v[We][Ze]:De.v[We][Ze]+(Oe.v[We][Ze]-De.v[We][Ze])*Ke,Fe.v[We][Ze]=Xe}function j(){var Me=this.comp.renderedFrame-this.offsetTime,Fe=this.keyframes[0].t-this.offsetTime,xe=this.keyframes[this.keyframes.length-1].t-this.offsetTime,$e=this._caching.lastFrame;return $e!==$&&($e<Fe&&Me<Fe||$e>xe&&Me>xe)||(this._caching.lastIndex=$e<Me?this._caching.lastIndex:0,this.interpolateShape(Me,this.pv,this._caching)),this._caching.lastFrame=Me,this.pv}function ee(){this.paths=this.localShapeCollection}function re(Me,Fe){if(Me._length!==Fe._length||Me.c!==Fe.c)return!1;var xe,$e=Me._length;for(xe=0;xe<$e;xe+=1)if(Me.v[xe][0]!==Fe.v[xe][0]||Me.v[xe][1]!==Fe.v[xe][1]||Me.o[xe][0]!==Fe.o[xe][0]||Me.o[xe][1]!==Fe.o[xe][1]||Me.i[xe][0]!==Fe.i[xe][0]||Me.i[xe][1]!==Fe.i[xe][1])return!1;return!0}function le(Me){re(this.v,Me)||(this.v=shapePool.clone(Me),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function de(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Me;this.kf?Me=this.pv:this.data.ks?Me=this.data.ks.k:Me=this.data.pt.k;var Fe,xe=this.effectsSequence.length;for(Fe=0;Fe<xe;Fe+=1)Me=this.effectsSequence[Fe](Me);this.setVValue(Me),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ge(Me,Fe,xe){this.propType="shape",this.comp=Me.comp,this.container=Me,this.elem=Me,this.data=Fe,this.k=!1,this.kf=!1,this._mdf=!1;var $e=xe===3?Fe.pt.k:Fe.ks.k;this.v=shapePool.clone($e),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=ee,this.effectsSequence=[]}function ve(Me){this.effectsSequence.push(Me),this.container.addDynamicProperty(this)}ge.prototype.interpolateShape=_,ge.prototype.getValue=de,ge.prototype.setVValue=le,ge.prototype.addEffect=ve;function Ee(Me,Fe,xe){this.propType="shape",this.comp=Me.comp,this.elem=Me,this.container=Me,this.offsetTime=Me.data.st,this.keyframes=xe===3?Fe.pt.k:Fe.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var $e=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,$e),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=$,this.reset=ee,this._caching={lastFrame:$,lastIndex:0},this.effectsSequence=[j.bind(this)]}Ee.prototype.getValue=de,Ee.prototype.interpolateShape=_,Ee.prototype.setVValue=le,Ee.prototype.addEffect=ve;var Ce=function(){var Me=roundCorner;function Fe(xe,$e){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=$e.d,this.elem=xe,this.comp=xe.comp,this.frameId=-1,this.initDynamicPropertyContainer(xe),this.p=PropertyFactory.getProp(xe,$e.p,1,0,this),this.s=PropertyFactory.getProp(xe,$e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Fe.prototype={reset:ee,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var $e=this.p.v[0],De=this.p.v[1],Oe=this.s.v[0]/2,Ge=this.s.v[1]/2,We=this.d!==3,Ze=this.v;Ze.v[0][0]=$e,Ze.v[0][1]=De-Ge,Ze.v[1][0]=We?$e+Oe:$e-Oe,Ze.v[1][1]=De,Ze.v[2][0]=$e,Ze.v[2][1]=De+Ge,Ze.v[3][0]=We?$e-Oe:$e+Oe,Ze.v[3][1]=De,Ze.i[0][0]=We?$e-Oe*Me:$e+Oe*Me,Ze.i[0][1]=De-Ge,Ze.i[1][0]=We?$e+Oe:$e-Oe,Ze.i[1][1]=De-Ge*Me,Ze.i[2][0]=We?$e+Oe*Me:$e-Oe*Me,Ze.i[2][1]=De+Ge,Ze.i[3][0]=We?$e-Oe:$e+Oe,Ze.i[3][1]=De+Ge*Me,Ze.o[0][0]=We?$e+Oe*Me:$e-Oe*Me,Ze.o[0][1]=De-Ge,Ze.o[1][0]=We?$e+Oe:$e-Oe,Ze.o[1][1]=De+Ge*Me,Ze.o[2][0]=We?$e-Oe*Me:$e+Oe*Me,Ze.o[2][1]=De+Ge,Ze.o[3][0]=We?$e-Oe:$e+Oe,Ze.o[3][1]=De-Ge*Me}},extendPrototype([DynamicPropertyContainer],Fe),Fe}(),Ae=function(){function Me(Fe,xe){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Fe,this.comp=Fe.comp,this.data=xe,this.frameId=-1,this.d=xe.d,this.initDynamicPropertyContainer(Fe),xe.sy===1?(this.ir=PropertyFactory.getProp(Fe,xe.ir,0,0,this),this.is=PropertyFactory.getProp(Fe,xe.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Fe,xe.pt,0,0,this),this.p=PropertyFactory.getProp(Fe,xe.p,1,0,this),this.r=PropertyFactory.getProp(Fe,xe.r,0,degToRads,this),this.or=PropertyFactory.getProp(Fe,xe.or,0,0,this),this.os=PropertyFactory.getProp(Fe,xe.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Me.prototype={reset:ee,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var xe=Math.floor(this.pt.v)*2,$e=Math.PI*2/xe,De=!0,Oe=this.or.v,Ge=this.ir.v,We=this.os.v,Ze=this.is.v,Qe=2*Math.PI*Oe/(xe*2),tt=2*Math.PI*Ge/(xe*2),Ke,Xe,ot,et,He=-Math.PI/2;He+=this.r.v;var qe=this.data.d===3?-1:1;for(this.v._length=0,Ke=0;Ke<xe;Ke+=1){Xe=De?Oe:Ge,ot=De?We:Ze,et=De?Qe:tt;var Be=Xe*Math.cos(He),Ue=Xe*Math.sin(He),Je=Be===0&&Ue===0?0:Ue/Math.sqrt(Be*Be+Ue*Ue),Ye=Be===0&&Ue===0?0:-Be/Math.sqrt(Be*Be+Ue*Ue);Be+=+this.p.v[0],Ue+=+this.p.v[1],this.v.setTripleAt(Be,Ue,Be-Je*et*ot*qe,Ue-Ye*et*ot*qe,Be+Je*et*ot*qe,Ue+Ye*et*ot*qe,Ke,!0),De=!De,He+=$e*qe}},convertPolygonToPath:function(){var xe=Math.floor(this.pt.v),$e=Math.PI*2/xe,De=this.or.v,Oe=this.os.v,Ge=2*Math.PI*De/(xe*4),We,Ze=-Math.PI*.5,Qe=this.data.d===3?-1:1;for(Ze+=this.r.v,this.v._length=0,We=0;We<xe;We+=1){var tt=De*Math.cos(Ze),Ke=De*Math.sin(Ze),Xe=tt===0&&Ke===0?0:Ke/Math.sqrt(tt*tt+Ke*Ke),ot=tt===0&&Ke===0?0:-tt/Math.sqrt(tt*tt+Ke*Ke);tt+=+this.p.v[0],Ke+=+this.p.v[1],this.v.setTripleAt(tt,Ke,tt-Xe*Ge*Oe*Qe,Ke-ot*Ge*Oe*Qe,tt+Xe*Ge*Oe*Qe,Ke+ot*Ge*Oe*Qe,We,!0),Ze+=$e*Qe}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Me),Me}(),Se=function(){function Me(Fe,xe){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Fe,this.comp=Fe.comp,this.frameId=-1,this.d=xe.d,this.initDynamicPropertyContainer(Fe),this.p=PropertyFactory.getProp(Fe,xe.p,1,0,this),this.s=PropertyFactory.getProp(Fe,xe.s,1,0,this),this.r=PropertyFactory.getProp(Fe,xe.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Me.prototype={convertRectToPath:function(){var xe=this.p.v[0],$e=this.p.v[1],De=this.s.v[0]/2,Oe=this.s.v[1]/2,Ge=bmMin(De,Oe,this.r.v),We=Ge*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(xe+De,$e-Oe+Ge,xe+De,$e-Oe+Ge,xe+De,$e-Oe+We,0,!0),this.v.setTripleAt(xe+De,$e+Oe-Ge,xe+De,$e+Oe-We,xe+De,$e+Oe-Ge,1,!0),Ge!==0?(this.v.setTripleAt(xe+De-Ge,$e+Oe,xe+De-Ge,$e+Oe,xe+De-We,$e+Oe,2,!0),this.v.setTripleAt(xe-De+Ge,$e+Oe,xe-De+We,$e+Oe,xe-De+Ge,$e+Oe,3,!0),this.v.setTripleAt(xe-De,$e+Oe-Ge,xe-De,$e+Oe-Ge,xe-De,$e+Oe-We,4,!0),this.v.setTripleAt(xe-De,$e-Oe+Ge,xe-De,$e-Oe+We,xe-De,$e-Oe+Ge,5,!0),this.v.setTripleAt(xe-De+Ge,$e-Oe,xe-De+Ge,$e-Oe,xe-De+We,$e-Oe,6,!0),this.v.setTripleAt(xe+De-Ge,$e-Oe,xe+De-We,$e-Oe,xe+De-Ge,$e-Oe,7,!0)):(this.v.setTripleAt(xe-De,$e+Oe,xe-De+We,$e+Oe,xe-De,$e+Oe,2),this.v.setTripleAt(xe-De,$e-Oe,xe-De,$e-Oe+We,xe-De,$e-Oe,3))):(this.v.setTripleAt(xe+De,$e-Oe+Ge,xe+De,$e-Oe+We,xe+De,$e-Oe+Ge,0,!0),Ge!==0?(this.v.setTripleAt(xe+De-Ge,$e-Oe,xe+De-Ge,$e-Oe,xe+De-We,$e-Oe,1,!0),this.v.setTripleAt(xe-De+Ge,$e-Oe,xe-De+We,$e-Oe,xe-De+Ge,$e-Oe,2,!0),this.v.setTripleAt(xe-De,$e-Oe+Ge,xe-De,$e-Oe+Ge,xe-De,$e-Oe+We,3,!0),this.v.setTripleAt(xe-De,$e+Oe-Ge,xe-De,$e+Oe-We,xe-De,$e+Oe-Ge,4,!0),this.v.setTripleAt(xe-De+Ge,$e+Oe,xe-De+Ge,$e+Oe,xe-De+We,$e+Oe,5,!0),this.v.setTripleAt(xe+De-Ge,$e+Oe,xe+De-We,$e+Oe,xe+De-Ge,$e+Oe,6,!0),this.v.setTripleAt(xe+De,$e+Oe-Ge,xe+De,$e+Oe-Ge,xe+De,$e+Oe-We,7,!0)):(this.v.setTripleAt(xe-De,$e-Oe,xe-De+We,$e-Oe,xe-De,$e-Oe,1,!0),this.v.setTripleAt(xe-De,$e+Oe,xe-De,$e+Oe-We,xe-De,$e+Oe,2,!0),this.v.setTripleAt(xe+De,$e+Oe,xe+De-We,$e+Oe,xe+De,$e+Oe,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:ee},extendPrototype([DynamicPropertyContainer],Me),Me}();function ke(Me,Fe,xe){var $e;if(xe===3||xe===4){var De=xe===3?Fe.pt:Fe.ks,Oe=De.k;Oe.length?$e=new Ee(Me,Fe,xe):$e=new ge(Me,Fe,xe)}else xe===5?$e=new Se(Me,Fe):xe===6?$e=new Ce(Me,Fe):xe===7&&($e=new Ae(Me,Fe));return $e.k&&Me.addDynamicProperty($e),$e}function we(){return ge}function Ne(){return Ee}var Le={};return Le.getShapeProp=ke,Le.getConstructorFunction=we,Le.getKeyframedConstructorFunction=Ne,Le}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var $=Math.cos,_=Math.sin,j=Math.tan,ee=Math.round;function re(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function le(Be){if(Be===0)return this;var Ue=$(Be),Je=_(Be);return this._t(Ue,-Je,0,0,Je,Ue,0,0,0,0,1,0,0,0,0,1)}function de(Be){if(Be===0)return this;var Ue=$(Be),Je=_(Be);return this._t(1,0,0,0,0,Ue,-Je,0,0,Je,Ue,0,0,0,0,1)}function ge(Be){if(Be===0)return this;var Ue=$(Be),Je=_(Be);return this._t(Ue,0,Je,0,0,1,0,0,-Je,0,Ue,0,0,0,0,1)}function ve(Be){if(Be===0)return this;var Ue=$(Be),Je=_(Be);return this._t(Ue,-Je,0,0,Je,Ue,0,0,0,0,1,0,0,0,0,1)}function Ee(Be,Ue){return this._t(1,Ue,Be,1,0,0)}function Ce(Be,Ue){return this.shear(j(Be),j(Ue))}function Ae(Be,Ue){var Je=$(Ue),Ye=_(Ue);return this._t(Je,Ye,0,0,-Ye,Je,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,j(Be),1,0,0,0,0,1,0,0,0,0,1)._t(Je,-Ye,0,0,Ye,Je,0,0,0,0,1,0,0,0,0,1)}function Se(Be,Ue,Je){return!Je&&Je!==0&&(Je=1),Be===1&&Ue===1&&Je===1?this:this._t(Be,0,0,0,0,Ue,0,0,0,0,Je,0,0,0,0,1)}function ke(Be,Ue,Je,Ye,at,vt,Et,ht,ft,rt,lt,dt,ct,Ct,St,je){return this.props[0]=Be,this.props[1]=Ue,this.props[2]=Je,this.props[3]=Ye,this.props[4]=at,this.props[5]=vt,this.props[6]=Et,this.props[7]=ht,this.props[8]=ft,this.props[9]=rt,this.props[10]=lt,this.props[11]=dt,this.props[12]=ct,this.props[13]=Ct,this.props[14]=St,this.props[15]=je,this}function we(Be,Ue,Je){return Je=Je||0,Be!==0||Ue!==0||Je!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Be,Ue,Je,1):this}function Ne(Be,Ue,Je,Ye,at,vt,Et,ht,ft,rt,lt,dt,ct,Ct,St,je){var ze=this.props;if(Be===1&&Ue===0&&Je===0&&Ye===0&&at===0&&vt===1&&Et===0&&ht===0&&ft===0&&rt===0&&lt===1&&dt===0)return ze[12]=ze[12]*Be+ze[15]*ct,ze[13]=ze[13]*vt+ze[15]*Ct,ze[14]=ze[14]*lt+ze[15]*St,ze[15]*=je,this._identityCalculated=!1,this;var nt=ze[0],st=ze[1],it=ze[2],mt=ze[3],gt=ze[4],pt=ze[5],_t=ze[6],ut=ze[7],yt=ze[8],Tt=ze[9],It=ze[10],bt=ze[11],At=ze[12],kt=ze[13],Pt=ze[14],wt=ze[15];return ze[0]=nt*Be+st*at+it*ft+mt*ct,ze[1]=nt*Ue+st*vt+it*rt+mt*Ct,ze[2]=nt*Je+st*Et+it*lt+mt*St,ze[3]=nt*Ye+st*ht+it*dt+mt*je,ze[4]=gt*Be+pt*at+_t*ft+ut*ct,ze[5]=gt*Ue+pt*vt+_t*rt+ut*Ct,ze[6]=gt*Je+pt*Et+_t*lt+ut*St,ze[7]=gt*Ye+pt*ht+_t*dt+ut*je,ze[8]=yt*Be+Tt*at+It*ft+bt*ct,ze[9]=yt*Ue+Tt*vt+It*rt+bt*Ct,ze[10]=yt*Je+Tt*Et+It*lt+bt*St,ze[11]=yt*Ye+Tt*ht+It*dt+bt*je,ze[12]=At*Be+kt*at+Pt*ft+wt*ct,ze[13]=At*Ue+kt*vt+Pt*rt+wt*Ct,ze[14]=At*Je+kt*Et+Pt*lt+wt*St,ze[15]=At*Ye+kt*ht+Pt*dt+wt*je,this._identityCalculated=!1,this}function Le(Be){var Ue=Be.props;return this.transform(Ue[0],Ue[1],Ue[2],Ue[3],Ue[4],Ue[5],Ue[6],Ue[7],Ue[8],Ue[9],Ue[10],Ue[11],Ue[12],Ue[13],Ue[14],Ue[15])}function Me(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Fe(Be){for(var Ue=0;Ue<16;){if(Be.props[Ue]!==this.props[Ue])return!1;Ue+=1}return!0}function xe(Be){var Ue;for(Ue=0;Ue<16;Ue+=1)Be.props[Ue]=this.props[Ue];return Be}function $e(Be){var Ue;for(Ue=0;Ue<16;Ue+=1)this.props[Ue]=Be[Ue]}function De(Be,Ue,Je){return{x:Be*this.props[0]+Ue*this.props[4]+Je*this.props[8]+this.props[12],y:Be*this.props[1]+Ue*this.props[5]+Je*this.props[9]+this.props[13],z:Be*this.props[2]+Ue*this.props[6]+Je*this.props[10]+this.props[14]}}function Oe(Be,Ue,Je){return Be*this.props[0]+Ue*this.props[4]+Je*this.props[8]+this.props[12]}function Ge(Be,Ue,Je){return Be*this.props[1]+Ue*this.props[5]+Je*this.props[9]+this.props[13]}function We(Be,Ue,Je){return Be*this.props[2]+Ue*this.props[6]+Je*this.props[10]+this.props[14]}function Ze(){var Be=this.props[0]*this.props[5]-this.props[1]*this.props[4],Ue=this.props[5]/Be,Je=-this.props[1]/Be,Ye=-this.props[4]/Be,at=this.props[0]/Be,vt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Be,Et=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Be,ht=new Matrix;return ht.props[0]=Ue,ht.props[1]=Je,ht.props[4]=Ye,ht.props[5]=at,ht.props[12]=vt,ht.props[13]=Et,ht}function Qe(Be){var Ue=this.getInverseMatrix();return Ue.applyToPointArray(Be[0],Be[1],Be[2]||0)}function tt(Be){var Ue,Je=Be.length,Ye=[];for(Ue=0;Ue<Je;Ue+=1)Ye[Ue]=Qe(Be[Ue]);return Ye}function Ke(Be,Ue,Je){var Ye=createTypedArray("float32",6);if(this.isIdentity())Ye[0]=Be[0],Ye[1]=Be[1],Ye[2]=Ue[0],Ye[3]=Ue[1],Ye[4]=Je[0],Ye[5]=Je[1];else{var at=this.props[0],vt=this.props[1],Et=this.props[4],ht=this.props[5],ft=this.props[12],rt=this.props[13];Ye[0]=Be[0]*at+Be[1]*Et+ft,Ye[1]=Be[0]*vt+Be[1]*ht+rt,Ye[2]=Ue[0]*at+Ue[1]*Et+ft,Ye[3]=Ue[0]*vt+Ue[1]*ht+rt,Ye[4]=Je[0]*at+Je[1]*Et+ft,Ye[5]=Je[0]*vt+Je[1]*ht+rt}return Ye}function Xe(Be,Ue,Je){var Ye;return this.isIdentity()?Ye=[Be,Ue,Je]:Ye=[Be*this.props[0]+Ue*this.props[4]+Je*this.props[8]+this.props[12],Be*this.props[1]+Ue*this.props[5]+Je*this.props[9]+this.props[13],Be*this.props[2]+Ue*this.props[6]+Je*this.props[10]+this.props[14]],Ye}function ot(Be,Ue){if(this.isIdentity())return Be+","+Ue;var Je=this.props;return Math.round((Be*Je[0]+Ue*Je[4]+Je[12])*100)/100+","+Math.round((Be*Je[1]+Ue*Je[5]+Je[13])*100)/100}function et(){for(var Be=0,Ue=this.props,Je="matrix3d(",Ye=1e4;Be<16;)Je+=ee(Ue[Be]*Ye)/Ye,Je+=Be===15?")":",",Be+=1;return Je}function He(Be){var Ue=1e4;return Be<1e-6&&Be>0||Be>-1e-6&&Be<0?ee(Be*Ue)/Ue:Be}function qe(){var Be=this.props,Ue=He(Be[0]),Je=He(Be[1]),Ye=He(Be[4]),at=He(Be[5]),vt=He(Be[12]),Et=He(Be[13]);return"matrix("+Ue+","+Je+","+Ye+","+at+","+vt+","+Et+")"}return function(){this.reset=re,this.rotate=le,this.rotateX=de,this.rotateY=ge,this.rotateZ=ve,this.skew=Ce,this.skewFromAxis=Ae,this.shear=Ee,this.scale=Se,this.setTransform=ke,this.translate=we,this.transform=Ne,this.multiply=Le,this.applyToPoint=De,this.applyToX=Oe,this.applyToY=Ge,this.applyToZ=We,this.applyToPointArray=Xe,this.applyToTriplePoints=Ke,this.applyToPointStringified=ot,this.toCSS=et,this.to2dCSS=qe,this.clone=xe,this.cloneFromProps=$e,this.equals=Fe,this.inversePoints=tt,this.inversePoint=Qe,this.getInverseMatrix=Ze,this._t=this.transform,this.isIdentity=Me,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3($){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(j){return typeof j}:_typeof$3=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},_typeof$3($)}var lottie={};function setLocation($){setLocationHref($)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering($){setSubframeEnabled($)}function setPrefix($){setIdPrefix($)}function loadAnimation($){return animationManager.loadAnimation($)}function setQuality($){if(typeof $=="string")switch($){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN($)&&$>1&&setDefaultCurveSegments($)}function inBrowser(){return typeof navigator<"u"}function installPlugin($,_){$==="expressions"&&setExpressionsPlugin(_)}function getFactory($){switch($){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable($){for(var _=queryString.split("&"),j=0;j<_.length;j+=1){var ee=_[j].split("=");if(decodeURIComponent(ee[0])==$)return decodeURIComponent(ee[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch($){}var ShapeModifiers=function(){var $={},_={};$.registerModifier=j,$.getModifier=ee;function j(re,le){_[re]||(_[re]=le)}function ee(re,le,de){return new _[re](le,de)}return $}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function($){if(!this.closed){$.sh.container.addDynamicProperty($.sh);var _={shape:$.sh,data:$,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(_),this.addShapeToModifier(_),this._isAnimated&&$.setAsAnimated()}},ShapeModifier.prototype.init=function($,_){this.shapes=[],this.elem=$,this.initDynamicPropertyContainer($),this.initModifierProperties($,_),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function($,_){this.s=PropertyFactory.getProp($,_.s,0,.01,this),this.e=PropertyFactory.getProp($,_.e,0,.01,this),this.o=PropertyFactory.getProp($,_.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=_.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function($){$.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function($,_,j,ee,re){var le=[];_<=1?le.push({s:$,e:_}):$>=1?le.push({s:$-1,e:_-1}):(le.push({s:$,e:1}),le.push({s:0,e:_-1}));var de=[],ge,ve=le.length,Ee;for(ge=0;ge<ve;ge+=1)if(Ee=le[ge],!(Ee.e*re<ee||Ee.s*re>ee+j)){var Ce,Ae;Ee.s*re<=ee?Ce=0:Ce=(Ee.s*re-ee)/j,Ee.e*re>=ee+j?Ae=1:Ae=(Ee.e*re-ee)/j,de.push([Ce,Ae])}return de.length||de.push([0,0]),de},TrimModifier.prototype.releasePathsData=function($){var _,j=$.length;for(_=0;_<j;_+=1)segmentsLengthPool.release($[_]);return $.length=0,$},TrimModifier.prototype.processShapes=function($){var _,j;if(this._mdf||$){var ee=this.o.v%360/360;if(ee<0&&(ee+=1),this.s.v>1?_=1+ee:this.s.v<0?_=0+ee:_=this.s.v+ee,this.e.v>1?j=1+ee:this.e.v<0?j=0+ee:j=this.e.v+ee,_>j){var re=_;_=j,j=re}_=Math.round(_*1e4)*1e-4,j=Math.round(j*1e4)*1e-4,this.sValue=_,this.eValue=j}else _=this.sValue,j=this.eValue;var le,de,ge=this.shapes.length,ve,Ee,Ce,Ae,Se,ke=0;if(j===_)for(de=0;de<ge;de+=1)this.shapes[de].localShapeCollection.releaseShapes(),this.shapes[de].shape._mdf=!0,this.shapes[de].shape.paths=this.shapes[de].localShapeCollection,this._mdf&&(this.shapes[de].pathsData.length=0);else if(j===1&&_===0||j===0&&_===1){if(this._mdf)for(de=0;de<ge;de+=1)this.shapes[de].pathsData.length=0,this.shapes[de].shape._mdf=!0}else{var we=[],Ne,Le;for(de=0;de<ge;de+=1)if(Ne=this.shapes[de],!Ne.shape._mdf&&!this._mdf&&!$&&this.m!==2)Ne.shape.paths=Ne.localShapeCollection;else{if(le=Ne.shape.paths,Ee=le._length,Se=0,!Ne.shape._mdf&&Ne.pathsData.length)Se=Ne.totalShapeLength;else{for(Ce=this.releasePathsData(Ne.pathsData),ve=0;ve<Ee;ve+=1)Ae=bez.getSegmentsLength(le.shapes[ve]),Ce.push(Ae),Se+=Ae.totalLength;Ne.totalShapeLength=Se,Ne.pathsData=Ce}ke+=Se,Ne.shape._mdf=!0}var Me=_,Fe=j,xe=0,$e;for(de=ge-1;de>=0;de-=1)if(Ne=this.shapes[de],Ne.shape._mdf){for(Le=Ne.localShapeCollection,Le.releaseShapes(),this.m===2&&ge>1?($e=this.calculateShapeEdges(_,j,Ne.totalShapeLength,xe,ke),xe+=Ne.totalShapeLength):$e=[[Me,Fe]],Ee=$e.length,ve=0;ve<Ee;ve+=1){Me=$e[ve][0],Fe=$e[ve][1],we.length=0,Fe<=1?we.push({s:Ne.totalShapeLength*Me,e:Ne.totalShapeLength*Fe}):Me>=1?we.push({s:Ne.totalShapeLength*(Me-1),e:Ne.totalShapeLength*(Fe-1)}):(we.push({s:Ne.totalShapeLength*Me,e:Ne.totalShapeLength}),we.push({s:0,e:Ne.totalShapeLength*(Fe-1)}));var De=this.addShapes(Ne,we[0]);if(we[0].s!==we[0].e){if(we.length>1){var Oe=Ne.shape.paths.shapes[Ne.shape.paths._length-1];if(Oe.c){var Ge=De.pop();this.addPaths(De,Le),De=this.addShapes(Ne,we[1],Ge)}else this.addPaths(De,Le),De=this.addShapes(Ne,we[1])}this.addPaths(De,Le)}}Ne.shape.paths=Le}}},TrimModifier.prototype.addPaths=function($,_){var j,ee=$.length;for(j=0;j<ee;j+=1)_.addShape($[j])},TrimModifier.prototype.addSegment=function($,_,j,ee,re,le,de){re.setXYAt(_[0],_[1],"o",le),re.setXYAt(j[0],j[1],"i",le+1),de&&re.setXYAt($[0],$[1],"v",le),re.setXYAt(ee[0],ee[1],"v",le+1)},TrimModifier.prototype.addSegmentFromArray=function($,_,j,ee){_.setXYAt($[1],$[5],"o",j),_.setXYAt($[2],$[6],"i",j+1),ee&&_.setXYAt($[0],$[4],"v",j),_.setXYAt($[3],$[7],"v",j+1)},TrimModifier.prototype.addShapes=function($,_,j){var ee=$.pathsData,re=$.shape.paths.shapes,le,de=$.shape.paths._length,ge,ve,Ee=0,Ce,Ae,Se,ke,we=[],Ne,Le=!0;for(j?(Ae=j._length,Ne=j._length):(j=shapePool.newElement(),Ae=0,Ne=0),we.push(j),le=0;le<de;le+=1){for(Se=ee[le].lengths,j.c=re[le].c,ve=re[le].c?Se.length:Se.length+1,ge=1;ge<ve;ge+=1)if(Ce=Se[ge-1],Ee+Ce.addedLength<_.s)Ee+=Ce.addedLength,j.c=!1;else if(Ee>_.e){j.c=!1;break}else _.s<=Ee&&_.e>=Ee+Ce.addedLength?(this.addSegment(re[le].v[ge-1],re[le].o[ge-1],re[le].i[ge],re[le].v[ge],j,Ae,Le),Le=!1):(ke=bez.getNewSegment(re[le].v[ge-1],re[le].v[ge],re[le].o[ge-1],re[le].i[ge],(_.s-Ee)/Ce.addedLength,(_.e-Ee)/Ce.addedLength,Se[ge-1]),this.addSegmentFromArray(ke,j,Ae,Le),Le=!1,j.c=!1),Ee+=Ce.addedLength,Ae+=1;if(re[le].c&&Se.length){if(Ce=Se[ge-1],Ee<=_.e){var Me=Se[ge-1].addedLength;_.s<=Ee&&_.e>=Ee+Me?(this.addSegment(re[le].v[ge-1],re[le].o[ge-1],re[le].i[0],re[le].v[0],j,Ae,Le),Le=!1):(ke=bez.getNewSegment(re[le].v[ge-1],re[le].v[0],re[le].o[ge-1],re[le].i[0],(_.s-Ee)/Me,(_.e-Ee)/Me,Se[ge-1]),this.addSegmentFromArray(ke,j,Ae,Le),Le=!1,j.c=!1)}else j.c=!1;Ee+=Ce.addedLength,Ae+=1}if(j._length&&(j.setXYAt(j.v[Ne][0],j.v[Ne][1],"i",Ne),j.setXYAt(j.v[j._length-1][0],j.v[j._length-1][1],"o",j._length-1)),Ee>_.e)break;le<de-1&&(j=shapePool.newElement(),Le=!0,we.push(j),Ae=0)}return we};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function($,_){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp($,_.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function($,_){var j=_/100,ee=[0,0],re=$._length,le=0;for(le=0;le<re;le+=1)ee[0]+=$.v[le][0],ee[1]+=$.v[le][1];ee[0]/=re,ee[1]/=re;var de=shapePool.newElement();de.c=$.c;var ge,ve,Ee,Ce,Ae,Se;for(le=0;le<re;le+=1)ge=$.v[le][0]+(ee[0]-$.v[le][0])*j,ve=$.v[le][1]+(ee[1]-$.v[le][1])*j,Ee=$.o[le][0]+(ee[0]-$.o[le][0])*-j,Ce=$.o[le][1]+(ee[1]-$.o[le][1])*-j,Ae=$.i[le][0]+(ee[0]-$.i[le][0])*-j,Se=$.i[le][1]+(ee[1]-$.i[le][1])*-j,de.setTripleAt(ge,ve,Ee,Ce,Ae,Se,le);return de},PuckerAndBloatModifier.prototype.processShapes=function($){var _,j,ee=this.shapes.length,re,le,de=this.amount.v;if(de!==0){var ge,ve;for(j=0;j<ee;j+=1){if(ge=this.shapes[j],ve=ge.localShapeCollection,!(!ge.shape._mdf&&!this._mdf&&!$))for(ve.releaseShapes(),ge.shape._mdf=!0,_=ge.shape.paths.shapes,le=ge.shape.paths._length,re=0;re<le;re+=1)ve.addShape(this.processPath(_[re],de));ge.shape.paths=ge.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var $=[0,0];function _(ve){var Ee=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||Ee,this.a&&ve.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&ve.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&ve.skewFromAxis(-this.sk.v,this.sa.v),this.r?ve.rotate(-this.r.v):ve.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?ve.translate(this.px.v,this.py.v,-this.pz.v):ve.translate(this.px.v,this.py.v,0):ve.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function j(ve){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||ve){var Ee;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var Ce,Ae;if(Ee=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(Ce=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/Ee,0),Ae=this.p.getValueAtTime(this.p.keyframes[0].t/Ee,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(Ce=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/Ee,0),Ae=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/Ee,0)):(Ce=this.p.pv,Ae=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/Ee,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){Ce=[],Ae=[];var Se=this.px,ke=this.py;Se._caching.lastFrame+Se.offsetTime<=Se.keyframes[0].t?(Ce[0]=Se.getValueAtTime((Se.keyframes[0].t+.01)/Ee,0),Ce[1]=ke.getValueAtTime((ke.keyframes[0].t+.01)/Ee,0),Ae[0]=Se.getValueAtTime(Se.keyframes[0].t/Ee,0),Ae[1]=ke.getValueAtTime(ke.keyframes[0].t/Ee,0)):Se._caching.lastFrame+Se.offsetTime>=Se.keyframes[Se.keyframes.length-1].t?(Ce[0]=Se.getValueAtTime(Se.keyframes[Se.keyframes.length-1].t/Ee,0),Ce[1]=ke.getValueAtTime(ke.keyframes[ke.keyframes.length-1].t/Ee,0),Ae[0]=Se.getValueAtTime((Se.keyframes[Se.keyframes.length-1].t-.01)/Ee,0),Ae[1]=ke.getValueAtTime((ke.keyframes[ke.keyframes.length-1].t-.01)/Ee,0)):(Ce=[Se.pv,ke.pv],Ae[0]=Se.getValueAtTime((Se._caching.lastFrame+Se.offsetTime-.01)/Ee,Se.offsetTime),Ae[1]=ke.getValueAtTime((ke._caching.lastFrame+ke.offsetTime-.01)/Ee,ke.offsetTime))}else Ae=$,Ce=Ae;this.v.rotate(-Math.atan2(Ce[1]-Ae[1],Ce[0]-Ae[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function ee(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function re(){}function le(ve){this._addDynamicProperty(ve),this.elem.addDynamicProperty(ve),this._isDirty=!0}function de(ve,Ee,Ce){if(this.elem=ve,this.frameId=-1,this.propType="transform",this.data=Ee,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(Ce||ve),Ee.p&&Ee.p.s?(this.px=PropertyFactory.getProp(ve,Ee.p.x,0,0,this),this.py=PropertyFactory.getProp(ve,Ee.p.y,0,0,this),Ee.p.z&&(this.pz=PropertyFactory.getProp(ve,Ee.p.z,0,0,this))):this.p=PropertyFactory.getProp(ve,Ee.p||{k:[0,0,0]},1,0,this),Ee.rx){if(this.rx=PropertyFactory.getProp(ve,Ee.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(ve,Ee.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(ve,Ee.rz,0,degToRads,this),Ee.or.k[0].ti){var Ae,Se=Ee.or.k.length;for(Ae=0;Ae<Se;Ae+=1)Ee.or.k[Ae].to=null,Ee.or.k[Ae].ti=null}this.or=PropertyFactory.getProp(ve,Ee.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(ve,Ee.r||{k:0},0,degToRads,this);Ee.sk&&(this.sk=PropertyFactory.getProp(ve,Ee.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(ve,Ee.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(ve,Ee.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(ve,Ee.s||{k:[100,100,100]},1,.01,this),Ee.o?this.o=PropertyFactory.getProp(ve,Ee.o,0,.01,ve):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}de.prototype={applyToMatrix:_,getValue:j,precalculateMatrix:ee,autoOrient:re},extendPrototype([DynamicPropertyContainer],de),de.prototype.addDynamicProperty=le,de.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function ge(ve,Ee,Ce){return new de(ve,Ee,Ce)}return{getTransformProperty:ge}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function($,_){this.getValue=this.processKeys,this.c=PropertyFactory.getProp($,_.c,0,null,this),this.o=PropertyFactory.getProp($,_.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty($,_.tr,this),this.so=PropertyFactory.getProp($,_.tr.so,0,.01,this),this.eo=PropertyFactory.getProp($,_.tr.eo,0,.01,this),this.data=_,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function($,_,j,ee,re,le){var de=le?-1:1,ge=ee.s.v[0]+(1-ee.s.v[0])*(1-re),ve=ee.s.v[1]+(1-ee.s.v[1])*(1-re);$.translate(ee.p.v[0]*de*re,ee.p.v[1]*de*re,ee.p.v[2]),_.translate(-ee.a.v[0],-ee.a.v[1],ee.a.v[2]),_.rotate(-ee.r.v*de*re),_.translate(ee.a.v[0],ee.a.v[1],ee.a.v[2]),j.translate(-ee.a.v[0],-ee.a.v[1],ee.a.v[2]),j.scale(le?1/ge:ge,le?1/ve:ve),j.translate(ee.a.v[0],ee.a.v[1],ee.a.v[2])},RepeaterModifier.prototype.init=function($,_,j,ee){for(this.elem=$,this.arr=_,this.pos=j,this.elemsData=ee,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer($),this.initModifierProperties($,_[j]);j>0;)j-=1,this._elements.unshift(_[j]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function($){var _,j=$.length;for(_=0;_<j;_+=1)$[_]._processed=!1,$[_].ty==="gr"&&this.resetElements($[_].it)},RepeaterModifier.prototype.cloneElements=function($){var _=JSON.parse(JSON.stringify($));return this.resetElements(_),_},RepeaterModifier.prototype.changeGroupRender=function($,_){var j,ee=$.length;for(j=0;j<ee;j+=1)$[j]._render=_,$[j].ty==="gr"&&this.changeGroupRender($[j].it,_)},RepeaterModifier.prototype.processShapes=function($){var _,j,ee,re,le,de=!1;if(this._mdf||$){var ge=Math.ceil(this.c.v);if(this._groups.length<ge){for(;this._groups.length<ge;){var ve={it:this.cloneElements(this._elements),ty:"gr"};ve.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,ve),this._groups.splice(0,0,ve),this._currentCopies+=1}this.elem.reloadShapes(),de=!0}le=0;var Ee;for(ee=0;ee<=this._groups.length-1;ee+=1){if(Ee=le<ge,this._groups[ee]._render=Ee,this.changeGroupRender(this._groups[ee].it,Ee),!Ee){var Ce=this.elemsData[ee].it,Ae=Ce[Ce.length-1];Ae.transform.op.v!==0?(Ae.transform.op._mdf=!0,Ae.transform.op.v=0):Ae.transform.op._mdf=!1}le+=1}this._currentCopies=ge;var Se=this.o.v,ke=Se%1,we=Se>0?Math.floor(Se):Math.ceil(Se),Ne=this.pMatrix.props,Le=this.rMatrix.props,Me=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Fe=0;if(Se>0){for(;Fe<we;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Fe+=1;ke&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,ke,!1),Fe+=ke)}else if(Se<0){for(;Fe>we;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Fe-=1;ke&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-ke,!0),Fe-=ke)}ee=this.data.m===1?0:this._currentCopies-1,re=this.data.m===1?1:-1,le=this._currentCopies;for(var xe,$e;le;){if(_=this.elemsData[ee].it,j=_[_.length-1].transform.mProps.v.props,$e=j.length,_[_.length-1].transform.mProps._mdf=!0,_[_.length-1].transform.op._mdf=!0,_[_.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(ee/(this._currentCopies-1)),Fe!==0){for((ee!==0&&re===1||ee!==this._currentCopies-1&&re===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Le[0],Le[1],Le[2],Le[3],Le[4],Le[5],Le[6],Le[7],Le[8],Le[9],Le[10],Le[11],Le[12],Le[13],Le[14],Le[15]),this.matrix.transform(Me[0],Me[1],Me[2],Me[3],Me[4],Me[5],Me[6],Me[7],Me[8],Me[9],Me[10],Me[11],Me[12],Me[13],Me[14],Me[15]),this.matrix.transform(Ne[0],Ne[1],Ne[2],Ne[3],Ne[4],Ne[5],Ne[6],Ne[7],Ne[8],Ne[9],Ne[10],Ne[11],Ne[12],Ne[13],Ne[14],Ne[15]),xe=0;xe<$e;xe+=1)j[xe]=this.matrix.props[xe];this.matrix.reset()}else for(this.matrix.reset(),xe=0;xe<$e;xe+=1)j[xe]=this.matrix.props[xe];Fe+=1,le-=1,ee+=re}}else for(le=this._currentCopies,ee=0,re=1;le;)_=this.elemsData[ee].it,j=_[_.length-1].transform.mProps.v.props,_[_.length-1].transform.mProps._mdf=!1,_[_.length-1].transform.op._mdf=!1,le-=1,ee+=re;return de},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function($,_){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp($,_.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function($,_){var j=shapePool.newElement();j.c=$.c;var ee,re=$._length,le,de,ge,ve,Ee,Ce,Ae=0,Se,ke,we,Ne,Le,Me;for(ee=0;ee<re;ee+=1)le=$.v[ee],ge=$.o[ee],de=$.i[ee],le[0]===ge[0]&&le[1]===ge[1]&&le[0]===de[0]&&le[1]===de[1]?(ee===0||ee===re-1)&&!$.c?(j.setTripleAt(le[0],le[1],ge[0],ge[1],de[0],de[1],Ae),Ae+=1):(ee===0?ve=$.v[re-1]:ve=$.v[ee-1],Ee=Math.sqrt(Math.pow(le[0]-ve[0],2)+Math.pow(le[1]-ve[1],2)),Ce=Ee?Math.min(Ee/2,_)/Ee:0,Le=le[0]+(ve[0]-le[0])*Ce,Se=Le,Me=le[1]-(le[1]-ve[1])*Ce,ke=Me,we=Se-(Se-le[0])*roundCorner,Ne=ke-(ke-le[1])*roundCorner,j.setTripleAt(Se,ke,we,Ne,Le,Me,Ae),Ae+=1,ee===re-1?ve=$.v[0]:ve=$.v[ee+1],Ee=Math.sqrt(Math.pow(le[0]-ve[0],2)+Math.pow(le[1]-ve[1],2)),Ce=Ee?Math.min(Ee/2,_)/Ee:0,we=le[0]+(ve[0]-le[0])*Ce,Se=we,Ne=le[1]+(ve[1]-le[1])*Ce,ke=Ne,Le=Se-(Se-le[0])*roundCorner,Me=ke-(ke-le[1])*roundCorner,j.setTripleAt(Se,ke,we,Ne,Le,Me,Ae),Ae+=1):(j.setTripleAt($.v[ee][0],$.v[ee][1],$.o[ee][0],$.o[ee][1],$.i[ee][0],$.i[ee][1],Ae),Ae+=1);return j},RoundCornersModifier.prototype.processShapes=function($){var _,j,ee=this.shapes.length,re,le,de=this.rd.v;if(de!==0){var ge,ve;for(j=0;j<ee;j+=1){if(ge=this.shapes[j],ve=ge.localShapeCollection,!(!ge.shape._mdf&&!this._mdf&&!$))for(ve.releaseShapes(),ge.shape._mdf=!0,_=ge.shape.paths.shapes,le=ge.shape.paths._length,re=0;re<le;re+=1)ve.addShape(this.processPath(_[re],de));ge.shape.paths=ge.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual($,_){return Math.abs($-_)*1e5<=Math.min(Math.abs($),Math.abs(_))}function floatZero($){return Math.abs($)<=1e-5}function lerp($,_,j){return $*(1-j)+_*j}function lerpPoint($,_,j){return[lerp($[0],_[0],j),lerp($[1],_[1],j)]}function quadRoots($,_,j){if($===0)return[];var ee=_*_-4*$*j;if(ee<0)return[];var re=-_/(2*$);if(ee===0)return[re];var le=Math.sqrt(ee)/(2*$);return[re-le,re+le]}function polynomialCoefficients($,_,j,ee){return[-$+3*_-3*j+ee,3*$-6*_+3*j,-3*$+3*_,$]}function singlePoint($){return new PolynomialBezier($,$,$,$,!1)}function PolynomialBezier($,_,j,ee,re){re&&pointEqual($,_)&&(_=lerpPoint($,ee,1/3)),re&&pointEqual(j,ee)&&(j=lerpPoint($,ee,2/3));var le=polynomialCoefficients($[0],_[0],j[0],ee[0]),de=polynomialCoefficients($[1],_[1],j[1],ee[1]);this.a=[le[0],de[0]],this.b=[le[1],de[1]],this.c=[le[2],de[2]],this.d=[le[3],de[3]],this.points=[$,_,j,ee]}PolynomialBezier.prototype.point=function($){return[((this.a[0]*$+this.b[0])*$+this.c[0])*$+this.d[0],((this.a[1]*$+this.b[1])*$+this.c[1])*$+this.d[1]]},PolynomialBezier.prototype.derivative=function($){return[(3*$*this.a[0]+2*this.b[0])*$+this.c[0],(3*$*this.a[1]+2*this.b[1])*$+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function($){var _=this.derivative($);return Math.atan2(_[1],_[0])},PolynomialBezier.prototype.normalAngle=function($){var _=this.derivative($);return Math.atan2(_[0],_[1])},PolynomialBezier.prototype.inflectionPoints=function(){var $=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero($))return[];var _=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/$,j=_*_-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/$;if(j<0)return[];var ee=Math.sqrt(j);return floatZero(ee)?ee>0&&ee<1?[_]:[]:[_-ee,_+ee].filter(function(re){return re>0&&re<1})},PolynomialBezier.prototype.split=function($){if($<=0)return[singlePoint(this.points[0]),this];if($>=1)return[this,singlePoint(this.points[this.points.length-1])];var _=lerpPoint(this.points[0],this.points[1],$),j=lerpPoint(this.points[1],this.points[2],$),ee=lerpPoint(this.points[2],this.points[3],$),re=lerpPoint(_,j,$),le=lerpPoint(j,ee,$),de=lerpPoint(re,le,$);return[new PolynomialBezier(this.points[0],_,re,de,!0),new PolynomialBezier(de,le,ee,this.points[3],!0)]};function extrema($,_){var j=$.points[0][_],ee=$.points[$.points.length-1][_];if(j>ee){var re=ee;ee=j,j=re}for(var le=quadRoots(3*$.a[_],2*$.b[_],$.c[_]),de=0;de<le.length;de+=1)if(le[de]>0&&le[de]<1){var ge=$.point(le[de])[_];ge<j?j=ge:ge>ee&&(ee=ge)}return{min:j,max:ee}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var $=this.bounds();return{left:$.x.min,right:$.x.max,top:$.y.min,bottom:$.y.max,width:$.x.max-$.x.min,height:$.y.max-$.y.min,cx:($.x.max+$.x.min)/2,cy:($.y.max+$.y.min)/2}};function intersectData($,_,j){var ee=$.boundingBox();return{cx:ee.cx,cy:ee.cy,width:ee.width,height:ee.height,bez:$,t:(_+j)/2,t1:_,t2:j}}function splitData($){var _=$.bez.split(.5);return[intersectData(_[0],$.t1,$.t),intersectData(_[1],$.t,$.t2)]}function boxIntersect($,_){return Math.abs($.cx-_.cx)*2<$.width+_.width&&Math.abs($.cy-_.cy)*2<$.height+_.height}function intersectsImpl($,_,j,ee,re,le){if(boxIntersect($,_)){if(j>=le||$.width<=ee&&$.height<=ee&&_.width<=ee&&_.height<=ee){re.push([$.t,_.t]);return}var de=splitData($),ge=splitData(_);intersectsImpl(de[0],ge[0],j+1,ee,re,le),intersectsImpl(de[0],ge[1],j+1,ee,re,le),intersectsImpl(de[1],ge[0],j+1,ee,re,le),intersectsImpl(de[1],ge[1],j+1,ee,re,le)}}PolynomialBezier.prototype.intersections=function($,_,j){_===void 0&&(_=2),j===void 0&&(j=7);var ee=[];return intersectsImpl(intersectData(this,0,1),intersectData($,0,1),0,_,ee,j),ee},PolynomialBezier.shapeSegment=function($,_){var j=(_+1)%$.length();return new PolynomialBezier($.v[_],$.o[_],$.i[j],$.v[j],!0)},PolynomialBezier.shapeSegmentInverted=function($,_){var j=(_+1)%$.length();return new PolynomialBezier($.v[j],$.i[j],$.o[_],$.v[_],!0)};function crossProduct($,_){return[$[1]*_[2]-$[2]*_[1],$[2]*_[0]-$[0]*_[2],$[0]*_[1]-$[1]*_[0]]}function lineIntersection($,_,j,ee){var re=[$[0],$[1],1],le=[_[0],_[1],1],de=[j[0],j[1],1],ge=[ee[0],ee[1],1],ve=crossProduct(crossProduct(re,le),crossProduct(de,ge));return floatZero(ve[2])?null:[ve[0]/ve[2],ve[1]/ve[2]]}function polarOffset($,_,j){return[$[0]+Math.cos(_)*j,$[1]-Math.sin(_)*j]}function pointDistance($,_){return Math.hypot($[0]-_[0],$[1]-_[1])}function pointEqual($,_){return floatEqual($[0],_[0])&&floatEqual($[1],_[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function($,_){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp($,_.s,0,null,this),this.frequency=PropertyFactory.getProp($,_.r,0,null,this),this.pointsType=PropertyFactory.getProp($,_.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint($,_,j,ee,re,le,de){var ge=j-Math.PI/2,ve=j+Math.PI/2,Ee=_[0]+Math.cos(j)*ee*re,Ce=_[1]-Math.sin(j)*ee*re;$.setTripleAt(Ee,Ce,Ee+Math.cos(ge)*le,Ce-Math.sin(ge)*le,Ee+Math.cos(ve)*de,Ce-Math.sin(ve)*de,$.length())}function getPerpendicularVector($,_){var j=[_[0]-$[0],_[1]-$[1]],ee=-Math.PI*.5,re=[Math.cos(ee)*j[0]-Math.sin(ee)*j[1],Math.sin(ee)*j[0]+Math.cos(ee)*j[1]];return re}function getProjectingAngle($,_){var j=_===0?$.length()-1:_-1,ee=(_+1)%$.length(),re=$.v[j],le=$.v[ee],de=getPerpendicularVector(re,le);return Math.atan2(0,1)-Math.atan2(de[1],de[0])}function zigZagCorner($,_,j,ee,re,le,de){var ge=getProjectingAngle(_,j),ve=_.v[j%_._length],Ee=_.v[j===0?_._length-1:j-1],Ce=_.v[(j+1)%_._length],Ae=le===2?Math.sqrt(Math.pow(ve[0]-Ee[0],2)+Math.pow(ve[1]-Ee[1],2)):0,Se=le===2?Math.sqrt(Math.pow(ve[0]-Ce[0],2)+Math.pow(ve[1]-Ce[1],2)):0;setPoint($,_.v[j%_._length],ge,de,ee,Se/((re+1)*2),Ae/((re+1)*2))}function zigZagSegment($,_,j,ee,re,le){for(var de=0;de<ee;de+=1){var ge=(de+1)/(ee+1),ve=re===2?Math.sqrt(Math.pow(_.points[3][0]-_.points[0][0],2)+Math.pow(_.points[3][1]-_.points[0][1],2)):0,Ee=_.normalAngle(ge),Ce=_.point(ge);setPoint($,Ce,Ee,le,j,ve/((ee+1)*2),ve/((ee+1)*2)),le=-le}return le}ZigZagModifier.prototype.processPath=function($,_,j,ee){var re=$._length,le=shapePool.newElement();if(le.c=$.c,$.c||(re-=1),re===0)return le;var de=-1,ge=PolynomialBezier.shapeSegment($,0);zigZagCorner(le,$,0,_,j,ee,de);for(var ve=0;ve<re;ve+=1)de=zigZagSegment(le,ge,_,j,ee,-de),ve===re-1&&!$.c?ge=null:ge=PolynomialBezier.shapeSegment($,(ve+1)%re),zigZagCorner(le,$,ve+1,_,j,ee,de);return le},ZigZagModifier.prototype.processShapes=function($){var _,j,ee=this.shapes.length,re,le,de=this.amplitude.v,ge=Math.max(0,Math.round(this.frequency.v)),ve=this.pointsType.v;if(de!==0){var Ee,Ce;for(j=0;j<ee;j+=1){if(Ee=this.shapes[j],Ce=Ee.localShapeCollection,!(!Ee.shape._mdf&&!this._mdf&&!$))for(Ce.releaseShapes(),Ee.shape._mdf=!0,_=Ee.shape.paths.shapes,le=Ee.shape.paths._length,re=0;re<le;re+=1)Ce.addShape(this.processPath(_[re],de,ge,ve));Ee.shape.paths=Ee.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset($,_,j){var ee=Math.atan2(_[0]-$[0],_[1]-$[1]);return[polarOffset($,ee,j),polarOffset(_,ee,j)]}function offsetSegment($,_){var j,ee,re,le,de,ge,ve;ve=linearOffset($.points[0],$.points[1],_),j=ve[0],ee=ve[1],ve=linearOffset($.points[1],$.points[2],_),re=ve[0],le=ve[1],ve=linearOffset($.points[2],$.points[3],_),de=ve[0],ge=ve[1];var Ee=lineIntersection(j,ee,re,le);Ee===null&&(Ee=ee);var Ce=lineIntersection(de,ge,re,le);return Ce===null&&(Ce=de),new PolynomialBezier(j,Ee,Ce,ge)}function joinLines($,_,j,ee,re){var le=_.points[3],de=j.points[0];if(ee===3||pointEqual(le,de))return le;if(ee===2){var ge=-_.tangentAngle(1),ve=-j.tangentAngle(0)+Math.PI,Ee=lineIntersection(le,polarOffset(le,ge+Math.PI/2,100),de,polarOffset(de,ge+Math.PI/2,100)),Ce=Ee?pointDistance(Ee,le):pointDistance(le,de)/2,Ae=polarOffset(le,ge,2*Ce*roundCorner);return $.setXYAt(Ae[0],Ae[1],"o",$.length()-1),Ae=polarOffset(de,ve,2*Ce*roundCorner),$.setTripleAt(de[0],de[1],de[0],de[1],Ae[0],Ae[1],$.length()),de}var Se=pointEqual(le,_.points[2])?_.points[0]:_.points[2],ke=pointEqual(de,j.points[1])?j.points[3]:j.points[1],we=lineIntersection(Se,le,de,ke);return we&&pointDistance(we,le)<re?($.setTripleAt(we[0],we[1],we[0],we[1],we[0],we[1],$.length()),we):le}function getIntersection($,_){var j=$.intersections(_);return j.length&&floatEqual(j[0][0],1)&&j.shift(),j.length?j[0]:null}function pruneSegmentIntersection($,_){var j=$.slice(),ee=_.slice(),re=getIntersection($[$.length-1],_[0]);return re&&(j[$.length-1]=$[$.length-1].split(re[0])[0],ee[0]=_[0].split(re[1])[1]),$.length>1&&_.length>1&&(re=getIntersection($[0],_[_.length-1]),re)?[[$[0].split(re[0])[0]],[_[_.length-1].split(re[1])[1]]]:[j,ee]}function pruneIntersections($){for(var _,j=1;j<$.length;j+=1)_=pruneSegmentIntersection($[j-1],$[j]),$[j-1]=_[0],$[j]=_[1];return $.length>1&&(_=pruneSegmentIntersection($[$.length-1],$[0]),$[$.length-1]=_[0],$[0]=_[1]),$}function offsetSegmentSplit($,_){var j=$.inflectionPoints(),ee,re,le,de;if(j.length===0)return[offsetSegment($,_)];if(j.length===1||floatEqual(j[1],1))return le=$.split(j[0]),ee=le[0],re=le[1],[offsetSegment(ee,_),offsetSegment(re,_)];le=$.split(j[0]),ee=le[0];var ge=(j[1]-j[0])/(1-j[0]);return le=le[1].split(ge),de=le[0],re=le[1],[offsetSegment(ee,_),offsetSegment(de,_),offsetSegment(re,_)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function($,_){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp($,_.a,0,null,this),this.miterLimit=PropertyFactory.getProp($,_.ml,0,null,this),this.lineJoin=_.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function($,_,j,ee){var re=shapePool.newElement();re.c=$.c;var le=$.length();$.c||(le-=1);var de,ge,ve,Ee=[];for(de=0;de<le;de+=1)ve=PolynomialBezier.shapeSegment($,de),Ee.push(offsetSegmentSplit(ve,_));if(!$.c)for(de=le-1;de>=0;de-=1)ve=PolynomialBezier.shapeSegmentInverted($,de),Ee.push(offsetSegmentSplit(ve,_));Ee=pruneIntersections(Ee);var Ce=null,Ae=null;for(de=0;de<Ee.length;de+=1){var Se=Ee[de];for(Ae&&(Ce=joinLines(re,Ae,Se[0],j,ee)),Ae=Se[Se.length-1],ge=0;ge<Se.length;ge+=1)ve=Se[ge],Ce&&pointEqual(ve.points[0],Ce)?re.setXYAt(ve.points[1][0],ve.points[1][1],"o",re.length()-1):re.setTripleAt(ve.points[0][0],ve.points[0][1],ve.points[1][0],ve.points[1][1],ve.points[0][0],ve.points[0][1],re.length()),re.setTripleAt(ve.points[3][0],ve.points[3][1],ve.points[3][0],ve.points[3][1],ve.points[2][0],ve.points[2][1],re.length()),Ce=ve.points[3]}return Ee.length&&joinLines(re,Ae,Ee[0][0],j,ee),re},OffsetPathModifier.prototype.processShapes=function($){var _,j,ee=this.shapes.length,re,le,de=this.amount.v,ge=this.miterLimit.v,ve=this.lineJoin;if(de!==0){var Ee,Ce;for(j=0;j<ee;j+=1){if(Ee=this.shapes[j],Ce=Ee.localShapeCollection,!(!Ee.shape._mdf&&!this._mdf&&!$))for(Ce.releaseShapes(),Ee.shape._mdf=!0,_=Ee.shape.paths.shapes,le=Ee.shape.paths._length,re=0;re<le;re+=1)Ce.addShape(this.processPath(_[re],de,ve,ge));Ee.shape.paths=Ee.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties($){for(var _=$.fStyle?$.fStyle.split(" "):[],j="normal",ee="normal",re=_.length,le,de=0;de<re;de+=1)switch(le=_[de].toLowerCase(),le){case"italic":ee="italic";break;case"bold":j="700";break;case"black":j="900";break;case"medium":j="500";break;case"regular":case"normal":j="400";break;case"light":case"thin":j="200";break}return{style:ee,weight:$.fWeight||j}}var FontManager=function(){var $=5e3,_={w:0,size:0,shapes:[],data:{shapes:[]}},j=[];j=j.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var ee=127988,re=917631,le=917601,de=917626,ge=65039,ve=8205,Ee=127462,Ce=127487,Ae=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function Se(He){var qe=He.split(","),Be,Ue=qe.length,Je=[];for(Be=0;Be<Ue;Be+=1)qe[Be]!=="sans-serif"&&qe[Be]!=="monospace"&&Je.push(qe[Be]);return Je.join(",")}function ke(He,qe){var Be=createTag("span");Be.setAttribute("aria-hidden",!0),Be.style.fontFamily=qe;var Ue=createTag("span");Ue.innerText="giItT1WQy@!-/#",Be.style.position="absolute",Be.style.left="-10000px",Be.style.top="-10000px",Be.style.fontSize="300px",Be.style.fontVariant="normal",Be.style.fontStyle="normal",Be.style.fontWeight="normal",Be.style.letterSpacing="0",Be.appendChild(Ue),document.body.appendChild(Be);var Je=Ue.offsetWidth;return Ue.style.fontFamily=Se(He)+", "+qe,{node:Ue,w:Je,parent:Be}}function we(){var He,qe=this.fonts.length,Be,Ue,Je=qe;for(He=0;He<qe;He+=1)this.fonts[He].loaded?Je-=1:this.fonts[He].fOrigin==="n"||this.fonts[He].origin===0?this.fonts[He].loaded=!0:(Be=this.fonts[He].monoCase.node,Ue=this.fonts[He].monoCase.w,Be.offsetWidth!==Ue?(Je-=1,this.fonts[He].loaded=!0):(Be=this.fonts[He].sansCase.node,Ue=this.fonts[He].sansCase.w,Be.offsetWidth!==Ue&&(Je-=1,this.fonts[He].loaded=!0)),this.fonts[He].loaded&&(this.fonts[He].sansCase.parent.parentNode.removeChild(this.fonts[He].sansCase.parent),this.fonts[He].monoCase.parent.parentNode.removeChild(this.fonts[He].monoCase.parent)));Je!==0&&Date.now()-this.initTime<$?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function Ne(He,qe){var Be=document.body&&qe?"svg":"canvas",Ue,Je=getFontProperties(He);if(Be==="svg"){var Ye=createNS("text");Ye.style.fontSize="100px",Ye.setAttribute("font-family",He.fFamily),Ye.setAttribute("font-style",Je.style),Ye.setAttribute("font-weight",Je.weight),Ye.textContent="1",He.fClass?(Ye.style.fontFamily="inherit",Ye.setAttribute("class",He.fClass)):Ye.style.fontFamily=He.fFamily,qe.appendChild(Ye),Ue=Ye}else{var at=new OffscreenCanvas(500,500).getContext("2d");at.font=Je.style+" "+Je.weight+" 100px "+He.fFamily,Ue=at}function vt(Et){return Be==="svg"?(Ue.textContent=Et,Ue.getComputedTextLength()):Ue.measureText(Et).width}return{measureText:vt}}function Le(He,qe){if(!He){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=He.list;return}if(!document.body){this.isLoaded=!0,He.list.forEach(function(lt){lt.helper=Ne(lt),lt.cache={}}),this.fonts=He.list;return}var Be=He.list,Ue,Je=Be.length,Ye=Je;for(Ue=0;Ue<Je;Ue+=1){var at=!0,vt,Et;if(Be[Ue].loaded=!1,Be[Ue].monoCase=ke(Be[Ue].fFamily,"monospace"),Be[Ue].sansCase=ke(Be[Ue].fFamily,"sans-serif"),!Be[Ue].fPath)Be[Ue].loaded=!0,Ye-=1;else if(Be[Ue].fOrigin==="p"||Be[Ue].origin===3){if(vt=document.querySelectorAll('style[f-forigin="p"][f-family="'+Be[Ue].fFamily+'"], style[f-origin="3"][f-family="'+Be[Ue].fFamily+'"]'),vt.length>0&&(at=!1),at){var ht=createTag("style");ht.setAttribute("f-forigin",Be[Ue].fOrigin),ht.setAttribute("f-origin",Be[Ue].origin),ht.setAttribute("f-family",Be[Ue].fFamily),ht.type="text/css",ht.innerText="@font-face {font-family: "+Be[Ue].fFamily+"; font-style: normal; src: url('"+Be[Ue].fPath+"');}",qe.appendChild(ht)}}else if(Be[Ue].fOrigin==="g"||Be[Ue].origin===1){for(vt=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Et=0;Et<vt.length;Et+=1)vt[Et].href.indexOf(Be[Ue].fPath)!==-1&&(at=!1);if(at){var ft=createTag("link");ft.setAttribute("f-forigin",Be[Ue].fOrigin),ft.setAttribute("f-origin",Be[Ue].origin),ft.type="text/css",ft.rel="stylesheet",ft.href=Be[Ue].fPath,document.body.appendChild(ft)}}else if(Be[Ue].fOrigin==="t"||Be[Ue].origin===2){for(vt=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Et=0;Et<vt.length;Et+=1)Be[Ue].fPath===vt[Et].src&&(at=!1);if(at){var rt=createTag("link");rt.setAttribute("f-forigin",Be[Ue].fOrigin),rt.setAttribute("f-origin",Be[Ue].origin),rt.setAttribute("rel","stylesheet"),rt.setAttribute("href",Be[Ue].fPath),qe.appendChild(rt)}}Be[Ue].helper=Ne(Be[Ue],qe),Be[Ue].cache={},this.fonts.push(Be[Ue])}Ye===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function Me(He){if(He){this.chars||(this.chars=[]);var qe,Be=He.length,Ue,Je=this.chars.length,Ye;for(qe=0;qe<Be;qe+=1){for(Ue=0,Ye=!1;Ue<Je;)this.chars[Ue].style===He[qe].style&&this.chars[Ue].fFamily===He[qe].fFamily&&this.chars[Ue].ch===He[qe].ch&&(Ye=!0),Ue+=1;Ye||(this.chars.push(He[qe]),Je+=1)}}}function Fe(He,qe,Be){for(var Ue=0,Je=this.chars.length;Ue<Je;){if(this.chars[Ue].ch===He&&this.chars[Ue].style===qe&&this.chars[Ue].fFamily===Be)return this.chars[Ue];Ue+=1}return(typeof He=="string"&&He.charCodeAt(0)!==13||!He)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",He,qe,Be)),_}function xe(He,qe,Be){var Ue=this.getFontByName(qe),Je=He;if(!Ue.cache[Je]){var Ye=Ue.helper;if(He===" "){var at=Ye.measureText("|"+He+"|"),vt=Ye.measureText("||");Ue.cache[Je]=(at-vt)/100}else Ue.cache[Je]=Ye.measureText(He)/100}return Ue.cache[Je]*Be}function $e(He){for(var qe=0,Be=this.fonts.length;qe<Be;){if(this.fonts[qe].fName===He)return this.fonts[qe];qe+=1}return this.fonts[0]}function De(He){var qe=0,Be=He.charCodeAt(0);if(Be>=55296&&Be<=56319){var Ue=He.charCodeAt(1);Ue>=56320&&Ue<=57343&&(qe=(Be-55296)*1024+Ue-56320+65536)}return qe}function Oe(He,qe){var Be=He.toString(16)+qe.toString(16);return Ae.indexOf(Be)!==-1}function Ge(He){return He===ve}function We(He){return He===ge}function Ze(He){var qe=De(He);return qe>=Ee&&qe<=Ce}function Qe(He){return Ze(He.substr(0,2))&&Ze(He.substr(2,2))}function tt(He){return j.indexOf(He)!==-1}function Ke(He,qe){var Be=De(He.substr(qe,2));if(Be!==ee)return!1;var Ue=0;for(qe+=2;Ue<5;){if(Be=De(He.substr(qe,2)),Be<le||Be>de)return!1;Ue+=1,qe+=2}return De(He.substr(qe,2))===re}function Xe(){this.isLoaded=!0}var ot=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};ot.isModifier=Oe,ot.isZeroWidthJoiner=Ge,ot.isFlagEmoji=Qe,ot.isRegionalCode=Ze,ot.isCombinedCharacter=tt,ot.isRegionalFlag=Ke,ot.isVariationSelector=We,ot.BLACK_FLAG_CODE_POINT=ee;var et={addChars:Me,addFonts:Le,getCharData:Fe,getFontByName:$e,measureText:xe,checkLoadedFonts:we,setIsLoaded:Xe};return ot.prototype=et,ot}();function SlotManager($){this.animationData=$}SlotManager.prototype.getProp=function($){return this.animationData.slots&&this.animationData.slots[$.sid]?Object.assign($,this.animationData.slots[$.sid].p):$};function slotFactory($){return new SlotManager($)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(_){this.renderableComponents.indexOf(_)===-1&&this.renderableComponents.push(_)},removeRenderableComponent:function(_){this.renderableComponents.indexOf(_)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(_),1)},prepareRenderableFrame:function(_){this.checkLayerLimits(_)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(_){this.data.ip-this.data.st<=_&&this.data.op-this.data.st>_?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var _,j=this.renderableComponents.length;for(_=0;_<j;_+=1)this.renderableComponents[_].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var $={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(_){return $[_]||""}}();function SliderEffect($,_,j){this.p=PropertyFactory.getProp(_,$.v,0,0,j)}function AngleEffect($,_,j){this.p=PropertyFactory.getProp(_,$.v,0,0,j)}function ColorEffect($,_,j){this.p=PropertyFactory.getProp(_,$.v,1,0,j)}function PointEffect($,_,j){this.p=PropertyFactory.getProp(_,$.v,1,0,j)}function LayerIndexEffect($,_,j){this.p=PropertyFactory.getProp(_,$.v,0,0,j)}function MaskIndexEffect($,_,j){this.p=PropertyFactory.getProp(_,$.v,0,0,j)}function CheckboxEffect($,_,j){this.p=PropertyFactory.getProp(_,$.v,0,0,j)}function NoValueEffect(){this.p={}}function EffectsManager($,_){var j=$.ef||[];this.effectElements=[];var ee,re=j.length,le;for(ee=0;ee<re;ee+=1)le=new GroupEffect(j[ee],_),this.effectElements.push(le)}function GroupEffect($,_){this.init($,_)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function($,_){this.data=$,this.effectElements=[],this.initDynamicPropertyContainer(_);var j,ee=this.data.ef.length,re,le=this.data.ef;for(j=0;j<ee;j+=1){switch(re=null,le[j].ty){case 0:re=new SliderEffect(le[j],_,this);break;case 1:re=new AngleEffect(le[j],_,this);break;case 2:re=new ColorEffect(le[j],_,this);break;case 3:re=new PointEffect(le[j],_,this);break;case 4:case 7:re=new CheckboxEffect(le[j],_,this);break;case 10:re=new LayerIndexEffect(le[j],_,this);break;case 11:re=new MaskIndexEffect(le[j],_,this);break;case 5:re=new EffectsManager(le[j],_);break;default:re=new NoValueEffect(le[j]);break}re&&this.effectElements.push(re)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var _=0,j=this.data.masksProperties.length;_<j;){if(this.data.masksProperties[_].mode!=="n"&&this.data.masksProperties[_].cl!==!1)return!0;_+=1}return!1},initExpressions:function(){var _=getExpressionInterfaces();if(_){var j=_("layer"),ee=_("effects"),re=_("shape"),le=_("text"),de=_("comp");this.layerInterface=j(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var ge=ee.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(ge),this.data.ty===0||this.data.xt?this.compInterface=de(this):this.data.ty===4?(this.layerInterface.shapeInterface=re(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=le(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var _=getBlendMode(this.data.bm),j=this.baseElement||this.layerElement;j.style["mix-blend-mode"]=_},initBaseData:function(_,j,ee){this.globalData=j,this.comp=ee,this.data=_,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(_,j){var ee,re=this.dynamicProperties.length;for(ee=0;ee<re;ee+=1)(j||this._isParent&&this.dynamicProperties[ee].propType==="transform")&&(this.dynamicProperties[ee].getValue(),this.dynamicProperties[ee]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(_){this.dynamicProperties.indexOf(_)===-1&&this.dynamicProperties.push(_)}};function FootageElement($,_,j){this.initFrame(),this.initRenderable(),this.assetData=_.getAssetData($.refId),this.footageData=_.imageLoader.getAsset(this.assetData),this.initBaseData($,_,j)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var $=getExpressionInterfaces();if($){var _=$("footage");this.layerInterface=_(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement($,_,j){this.initFrame(),this.initRenderable(),this.assetData=_.getAssetData($.refId),this.initBaseData($,_,j),this._isPlaying=!1,this._canPlay=!1;var ee=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(ee),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=$.tm?PropertyFactory.getProp(this,$.tm,0,_.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,$.au&&$.au.lv?$.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function($){if(this.prepareRenderableFrame($,!0),this.prepareProperties($,!0),this.tm._placeholder)this._currentTime=$/this.data.sr;else{var _=this.tm.v;this._currentTime=_}this._volume=this.lv.v[0];var j=this._volume*this._volumeMultiplier;this._previousVolume!==j&&(this._previousVolume=j,this.audio.volume(j))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function($){this.audio.rate($)},AudioElement.prototype.volume=function($){this._volumeMultiplier=$,this._previousVolume=$*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function($){var _,j=this.layers.length,ee;for(this.completeLayers=!0,_=j-1;_>=0;_-=1)this.elements[_]||(ee=this.layers[_],ee.ip-ee.st<=$-this.layers[_].st&&ee.op-ee.st>$-this.layers[_].st&&this.buildItem(_)),this.completeLayers=this.elements[_]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function($){switch($.ty){case 2:return this.createImage($);case 0:return this.createComp($);case 1:return this.createSolid($);case 3:return this.createNull($);case 4:return this.createShape($);case 5:return this.createText($);case 6:return this.createAudio($);case 13:return this.createCamera($);case 15:return this.createFootage($);default:return this.createNull($)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function($){return new AudioElement($,this.globalData,this)},BaseRenderer.prototype.createFootage=function($){return new FootageElement($,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var $,_=this.layers.length;for($=0;$<_;$+=1)this.buildItem($);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function($){this.completeLayers=!1;var _,j=$.length,ee,re=this.layers.length;for(_=0;_<j;_+=1)for(ee=0;ee<re;){if(this.layers[ee].id===$[_].id){this.layers[ee]=$[_];break}ee+=1}},BaseRenderer.prototype.setProjectInterface=function($){this.globalData.projectInterface=$},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function($,_,j){for(var ee=this.elements,re=this.layers,le=0,de=re.length;le<de;)re[le].ind==_&&(!ee[le]||ee[le]===!0?(this.buildItem(le),this.addPendingElement($)):(j.push(ee[le]),ee[le].setAsParent(),re[le].parent!==void 0?this.buildElementParenting($,re[le].parent,j):$.setHierarchy(j))),le+=1},BaseRenderer.prototype.addPendingElement=function($){this.pendingElements.push($)},BaseRenderer.prototype.searchExtraCompositions=function($){var _,j=$.length;for(_=0;_<j;_+=1)if($[_].xt){var ee=this.createComp($[_]);ee.initExpressions(),this.globalData.projectInterface.registerComposition(ee)}},BaseRenderer.prototype.getElementById=function($){var _,j=this.elements.length;for(_=0;_<j;_+=1)if(this.elements[_].data.ind===$)return this.elements[_];return null},BaseRenderer.prototype.getElementByPath=function($){var _=$.shift(),j;if(typeof _=="number")j=this.elements[_];else{var ee,re=this.elements.length;for(ee=0;ee<re;ee+=1)if(this.elements[ee].data.nm===_){j=this.elements[ee];break}}return $.length===0?j:j.getElementByPath($)},BaseRenderer.prototype.setupGlobalData=function($,_){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory($),this.globalData.fontManager.addChars($.chars),this.globalData.fontManager.addFonts($.fonts,_),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=$.fr,this.globalData.nm=$.nm,this.globalData.compSize={w:$.w,h:$.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var _=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:_,localMat:_,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var _,j=this.finalTransform.mat,ee=0,re=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;ee<re;){if(this.hierarchy[ee].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}ee+=1}if(this.finalTransform._matMdf)for(_=this.finalTransform.mProp.v.props,j.cloneFromProps(_),ee=0;ee<re;ee+=1)j.multiply(this.hierarchy[ee].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var _=0,j=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;_<j;)this.localTransforms[_]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[_]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),_+=1;if(this.finalTransform._localMatMdf){var ee=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(ee),_=1;_<j;_+=1){var re=this.localTransforms[_].matrix;ee.multiply(re)}ee.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var le=this.finalTransform.localOpacity;for(_=0;_<j;_+=1)le*=this.localTransforms[_].opacity*.01;this.finalTransform.localOpacity=le}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var _=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(_.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var j=0,ee=_.length;for(j=0;j<ee;j+=1)this.localTransforms.push(_[j])}}},globalToLocal:function(_){var j=[];j.push(this.finalTransform);for(var ee=!0,re=this.comp;ee;)re.finalTransform?(re.data.hasMask&&j.splice(0,0,re.finalTransform),re=re.comp):ee=!1;var le,de=j.length,ge;for(le=0;le<de;le+=1)ge=j[le].mat.applyToPointArray(0,0,0),_=[_[0]-ge[0],_[1]-ge[1],0];return _},mHelper:new Matrix};function MaskElement($,_,j){this.data=$,this.element=_,this.globalData=j,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var ee=this.globalData.defs,re,le=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(le),this.solidPath="";var de,ge=this.masksProperties,ve=0,Ee=[],Ce,Ae,Se=createElementID(),ke,we,Ne,Le,Me="clipPath",Fe="clip-path";for(re=0;re<le;re+=1)if((ge[re].mode!=="a"&&ge[re].mode!=="n"||ge[re].inv||ge[re].o.k!==100||ge[re].o.x)&&(Me="mask",Fe="mask"),(ge[re].mode==="s"||ge[re].mode==="i")&&ve===0?(ke=createNS("rect"),ke.setAttribute("fill","#ffffff"),ke.setAttribute("width",this.element.comp.data.w||0),ke.setAttribute("height",this.element.comp.data.h||0),Ee.push(ke)):ke=null,de=createNS("path"),ge[re].mode==="n")this.viewData[re]={op:PropertyFactory.getProp(this.element,ge[re].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ge[re],3),elem:de,lastPath:""},ee.appendChild(de);else{ve+=1,de.setAttribute("fill",ge[re].mode==="s"?"#000000":"#ffffff"),de.setAttribute("clip-rule","nonzero");var xe;if(ge[re].x.k!==0?(Me="mask",Fe="mask",Le=PropertyFactory.getProp(this.element,ge[re].x,0,null,this.element),xe=createElementID(),we=createNS("filter"),we.setAttribute("id",xe),Ne=createNS("feMorphology"),Ne.setAttribute("operator","erode"),Ne.setAttribute("in","SourceGraphic"),Ne.setAttribute("radius","0"),we.appendChild(Ne),ee.appendChild(we),de.setAttribute("stroke",ge[re].mode==="s"?"#000000":"#ffffff")):(Ne=null,Le=null),this.storedData[re]={elem:de,x:Le,expan:Ne,lastPath:"",lastOperator:"",filterId:xe,lastRadius:0},ge[re].mode==="i"){Ae=Ee.length;var $e=createNS("g");for(Ce=0;Ce<Ae;Ce+=1)$e.appendChild(Ee[Ce]);var De=createNS("mask");De.setAttribute("mask-type","alpha"),De.setAttribute("id",Se+"_"+ve),De.appendChild(de),ee.appendChild(De),$e.setAttribute("mask","url("+getLocationHref()+"#"+Se+"_"+ve+")"),Ee.length=0,Ee.push($e)}else Ee.push(de);ge[re].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[re]={elem:de,lastPath:"",op:PropertyFactory.getProp(this.element,ge[re].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ge[re],3),invRect:ke},this.viewData[re].prop.k||this.drawPath(ge[re],this.viewData[re].prop.v,this.viewData[re])}for(this.maskElement=createNS(Me),le=Ee.length,re=0;re<le;re+=1)this.maskElement.appendChild(Ee[re]);ve>0&&(this.maskElement.setAttribute("id",Se),this.element.maskedElement.setAttribute(Fe,"url("+getLocationHref()+"#"+Se+")"),ee.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function($){return this.viewData[$].prop},MaskElement.prototype.renderFrame=function($){var _=this.element.finalTransform.mat,j,ee=this.masksProperties.length;for(j=0;j<ee;j+=1)if((this.viewData[j].prop._mdf||$)&&this.drawPath(this.masksProperties[j],this.viewData[j].prop.v,this.viewData[j]),(this.viewData[j].op._mdf||$)&&this.viewData[j].elem.setAttribute("fill-opacity",this.viewData[j].op.v),this.masksProperties[j].mode!=="n"&&(this.viewData[j].invRect&&(this.element.finalTransform.mProp._mdf||$)&&this.viewData[j].invRect.setAttribute("transform",_.getInverseMatrix().to2dCSS()),this.storedData[j].x&&(this.storedData[j].x._mdf||$))){var re=this.storedData[j].expan;this.storedData[j].x.v<0?(this.storedData[j].lastOperator!=="erode"&&(this.storedData[j].lastOperator="erode",this.storedData[j].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[j].filterId+")")),re.setAttribute("radius",-this.storedData[j].x.v)):(this.storedData[j].lastOperator!=="dilate"&&(this.storedData[j].lastOperator="dilate",this.storedData[j].elem.setAttribute("filter",null)),this.storedData[j].elem.setAttribute("stroke-width",this.storedData[j].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var $="M0,0 ";return $+=" h"+this.globalData.compSize.w,$+=" v"+this.globalData.compSize.h,$+=" h-"+this.globalData.compSize.w,$+=" v-"+this.globalData.compSize.h+" ",$},MaskElement.prototype.drawPath=function($,_,j){var ee=" M"+_.v[0][0]+","+_.v[0][1],re,le;for(le=_._length,re=1;re<le;re+=1)ee+=" C"+_.o[re-1][0]+","+_.o[re-1][1]+" "+_.i[re][0]+","+_.i[re][1]+" "+_.v[re][0]+","+_.v[re][1];if(_.c&&le>1&&(ee+=" C"+_.o[re-1][0]+","+_.o[re-1][1]+" "+_.i[0][0]+","+_.i[0][1]+" "+_.v[0][0]+","+_.v[0][1]),j.lastPath!==ee){var de="";j.elem&&(_.c&&(de=$.inv?this.solidPath+ee:ee),j.elem.setAttribute("d",de)),j.lastPath=ee}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var $={};$.createFilter=_,$.createAlphaToLuminanceFilter=j;function _(ee,re){var le=createNS("filter");return le.setAttribute("id",ee),re!==!0&&(le.setAttribute("filterUnits","objectBoundingBox"),le.setAttribute("x","0%"),le.setAttribute("y","0%"),le.setAttribute("width","100%"),le.setAttribute("height","100%")),le}function j(){var ee=createNS("feColorMatrix");return ee.setAttribute("type","matrix"),ee.setAttribute("color-interpolation-filters","sRGB"),ee.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),ee}return $}(),featureSupport=function(){var $={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&($.maskType=!1),/firefox/i.test(navigator.userAgent)&&($.svgLumaHidden=!1),$}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects($){var _,j="SourceGraphic",ee=$.data.ef?$.data.ef.length:0,re=createElementID(),le=filtersFactory.createFilter(re,!0),de=0;this.filters=[];var ge;for(_=0;_<ee;_+=1){ge=null;var ve=$.data.ef[_].ty;if(registeredEffects$1[ve]){var Ee=registeredEffects$1[ve].effect;ge=new Ee(le,$.effectsManager.effectElements[_],$,idPrefix+de,j),j=idPrefix+de,registeredEffects$1[ve].countsAsEffect&&(de+=1)}ge&&this.filters.push(ge)}de&&($.globalData.defs.appendChild(le),$.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+re+")")),this.filters.length&&$.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function($){var _,j=this.filters.length;for(_=0;_<j;_+=1)this.filters[_].renderFrame($)},SVGEffects.prototype.getEffects=function($){var _,j=this.filters.length,ee=[];for(_=0;_<j;_+=1)this.filters[_].type===$&&ee.push(this.filters[_]);return ee};function registerEffect$1($,_,j){registeredEffects$1[$]={effect:_,countsAsEffect:j}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var _=null;if(this.data.td){this.matteMasks={};var j=createNS("g");j.setAttribute("id",this.layerId),j.appendChild(this.layerElement),_=j,this.globalData.defs.appendChild(j)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),_=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var ee=createNS("clipPath"),re=createNS("path");re.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var le=createElementID();if(ee.setAttribute("id",le),ee.appendChild(re),this.globalData.defs.appendChild(ee),this.checkMasks()){var de=createNS("g");de.setAttribute("clip-path","url("+getLocationHref()+"#"+le+")"),de.appendChild(this.layerElement),this.transformedElement=de,_?_.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+le+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(_){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[_]){var j=this.layerId+"_"+_,ee,re,le,de;if(_===1||_===3){var ge=createNS("mask");ge.setAttribute("id",j),ge.setAttribute("mask-type",_===3?"luminance":"alpha"),le=createNS("use"),le.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ge.appendChild(le),this.globalData.defs.appendChild(ge),!featureSupport.maskType&&_===1&&(ge.setAttribute("mask-type","luminance"),ee=createElementID(),re=filtersFactory.createFilter(ee),this.globalData.defs.appendChild(re),re.appendChild(filtersFactory.createAlphaToLuminanceFilter()),de=createNS("g"),de.appendChild(le),ge.appendChild(de),de.setAttribute("filter","url("+getLocationHref()+"#"+ee+")"))}else if(_===2){var ve=createNS("mask");ve.setAttribute("id",j),ve.setAttribute("mask-type","alpha");var Ee=createNS("g");ve.appendChild(Ee),ee=createElementID(),re=filtersFactory.createFilter(ee);var Ce=createNS("feComponentTransfer");Ce.setAttribute("in","SourceGraphic"),re.appendChild(Ce);var Ae=createNS("feFuncA");Ae.setAttribute("type","table"),Ae.setAttribute("tableValues","1.0 0.0"),Ce.appendChild(Ae),this.globalData.defs.appendChild(re);var Se=createNS("rect");Se.setAttribute("width",this.comp.data.w),Se.setAttribute("height",this.comp.data.h),Se.setAttribute("x","0"),Se.setAttribute("y","0"),Se.setAttribute("fill","#ffffff"),Se.setAttribute("opacity","0"),Ee.setAttribute("filter","url("+getLocationHref()+"#"+ee+")"),Ee.appendChild(Se),le=createNS("use"),le.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Ee.appendChild(le),featureSupport.maskType||(ve.setAttribute("mask-type","luminance"),re.appendChild(filtersFactory.createAlphaToLuminanceFilter()),de=createNS("g"),Ee.appendChild(Se),de.appendChild(this.layerElement),Ee.appendChild(de)),this.globalData.defs.appendChild(ve)}this.matteMasks[_]=j}return this.matteMasks[_]},setMatte:function(_){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+_+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(_){this.hierarchy=_},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var $={initElement:function(j,ee,re){this.initFrame(),this.initBaseData(j,ee,re),this.initTransform(j,ee,re),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var j=this.baseElement||this.layerElement;j.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var j=this.baseElement||this.layerElement;j.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(j){this._mdf=!1,this.prepareRenderableFrame(j),this.prepareProperties(j,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction($)],RenderableDOMElement)})();function IImageElement($,_,j){this.assetData=_.getAssetData($.refId),this.assetData&&this.assetData.sid&&(this.assetData=_.slotManager.getProp(this.assetData)),this.initElement($,_,j),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var $=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",$),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement($,_){this.elem=$,this.pos=_}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(_){var j,ee=this.shapeModifiers.length;for(j=0;j<ee;j+=1)this.shapeModifiers[j].addShape(_)},isShapeInAnimatedModifiers:function(_){for(var j=0,ee=this.shapeModifiers.length;j<ee;)if(this.shapeModifiers[j].isAnimatedWithShape(_))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var _,j=this.shapes.length;for(_=0;_<j;_+=1)this.shapes[_].sh.reset();j=this.shapeModifiers.length;var ee;for(_=j-1;_>=0&&(ee=this.shapeModifiers[_].processShapes(this._isFirstFrame),!ee);_-=1);}},searchProcessedElement:function(_){for(var j=this.processedElements,ee=0,re=j.length;ee<re;){if(j[ee].elem===_)return j[ee].pos;ee+=1}return 0},addProcessedElement:function(_,j){for(var ee=this.processedElements,re=ee.length;re;)if(re-=1,ee[re].elem===_){ee[re].pos=j;return}ee.push(new ProcessedElement(_,j))},prepareFrame:function(_){this.prepareRenderableFrame(_),this.prepareProperties(_,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData($,_,j){this.caches=[],this.styles=[],this.transformers=$,this.lStr="",this.sh=j,this.lvl=_,this._isAnimated=!!j.k;for(var ee=0,re=$.length;ee<re;){if($[ee].mProps.dynamicProperties.length){this._isAnimated=!0;break}ee+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData($,_){this.data=$,this.type=$.ty,this.d="",this.lvl=_,this._mdf=!1,this.closed=$.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty($,_,j,ee){this.elem=$,this.frameId=-1,this.dataProps=createSizedArray(_.length),this.renderer=j,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",_.length?_.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(ee);var re,le=_.length||0,de;for(re=0;re<le;re+=1)de=PropertyFactory.getProp($,_[re].v,0,0,this),this.k=de.k||this.k,this.dataProps[re]={n:_[re].n,p:de};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function($){if(!(this.elem.globalData.frameId===this.frameId&&!$)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||$,this._mdf)){var _=0,j=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),_=0;_<j;_+=1)this.dataProps[_].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[_].p.v:this.dashArray[_]=this.dataProps[_].p.v:this.dashoffset[0]=this.dataProps[_].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData($,_,j){this.initDynamicPropertyContainer($),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp($,_.o,0,.01,this),this.w=PropertyFactory.getProp($,_.w,0,null,this),this.d=new DashProperty($,_.d||{},"svg",this),this.c=PropertyFactory.getProp($,_.c,1,255,this),this.style=j,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData($,_,j){this.initDynamicPropertyContainer($),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp($,_.o,0,.01,this),this.c=PropertyFactory.getProp($,_.c,1,255,this),this.style=j}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData($,_,j){this.initDynamicPropertyContainer($),this.getValue=this.iterateDynamicProperties,this.style=j}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty($,_,j){this.data=_,this.c=createTypedArray("uint8c",_.p*4);var ee=_.k.k[0].s?_.k.k[0].s.length-_.p*4:_.k.k.length-_.p*4;this.o=createTypedArray("float32",ee),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=ee,this.initDynamicPropertyContainer(j),this.prop=PropertyFactory.getProp($,_.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function($,_){for(var j=0,ee=this.o.length/2,re;j<ee;){if(re=Math.abs($[j*4]-$[_*4+j*2]),re>.01)return!1;j+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var $=0,_=this.data.k.k.length;$<_;){if(!this.comparePoints(this.data.k.k[$].s,this.data.p))return!1;$+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function($){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||$){var _,j=this.data.p*4,ee,re;for(_=0;_<j;_+=1)ee=_%4===0?100:255,re=Math.round(this.prop.v[_]*ee),this.c[_]!==re&&(this.c[_]=re,this._cmdf=!$);if(this.o.length)for(j=this.prop.v.length,_=this.data.p*4;_<j;_+=1)ee=_%2===0?100:1,re=_%2===0?Math.round(this.prop.v[_]*100):this.prop.v[_],this.o[_-this.data.p*4]!==re&&(this.o[_-this.data.p*4]=re,this._omdf=!$);this._mdf=!$}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData($,_,j){this.initDynamicPropertyContainer($),this.getValue=this.iterateDynamicProperties,this.initGradientData($,_,j)}SVGGradientFillStyleData.prototype.initGradientData=function($,_,j){this.o=PropertyFactory.getProp($,_.o,0,.01,this),this.s=PropertyFactory.getProp($,_.s,1,null,this),this.e=PropertyFactory.getProp($,_.e,1,null,this),this.h=PropertyFactory.getProp($,_.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp($,_.a||{k:0},0,degToRads,this),this.g=new GradientProperty($,_.g,this),this.style=j,this.stops=[],this.setGradientData(j.pElem,_),this.setGradientOpacity(_,j),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function($,_){var j=createElementID(),ee=createNS(_.t===1?"linearGradient":"radialGradient");ee.setAttribute("id",j),ee.setAttribute("spreadMethod","pad"),ee.setAttribute("gradientUnits","userSpaceOnUse");var re=[],le,de,ge;for(ge=_.g.p*4,de=0;de<ge;de+=4)le=createNS("stop"),ee.appendChild(le),re.push(le);$.setAttribute(_.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+j+")"),this.gf=ee,this.cst=re},SVGGradientFillStyleData.prototype.setGradientOpacity=function($,_){if(this.g._hasOpacity&&!this.g._collapsable){var j,ee,re,le=createNS("mask"),de=createNS("path");le.appendChild(de);var ge=createElementID(),ve=createElementID();le.setAttribute("id",ve);var Ee=createNS($.t===1?"linearGradient":"radialGradient");Ee.setAttribute("id",ge),Ee.setAttribute("spreadMethod","pad"),Ee.setAttribute("gradientUnits","userSpaceOnUse"),re=$.g.k.k[0].s?$.g.k.k[0].s.length:$.g.k.k.length;var Ce=this.stops;for(ee=$.g.p*4;ee<re;ee+=2)j=createNS("stop"),j.setAttribute("stop-color","rgb(255,255,255)"),Ee.appendChild(j),Ce.push(j);de.setAttribute($.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ge+")"),$.ty==="gs"&&(de.setAttribute("stroke-linecap",lineCapEnum[$.lc||2]),de.setAttribute("stroke-linejoin",lineJoinEnum[$.lj||2]),$.lj===1&&de.setAttribute("stroke-miterlimit",$.ml)),this.of=Ee,this.ms=le,this.ost=Ce,this.maskId=ve,_.msElem=de}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData($,_,j){this.initDynamicPropertyContainer($),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp($,_.w,0,null,this),this.d=new DashProperty($,_.d||{},"svg",this),this.initGradientData($,_,j),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData($,_,j){this.transform={mProps:$,op:_,container:j},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(_,j,ee,re){if(j===0)return"";var le=_.o,de=_.i,ge=_.v,ve,Ee=" M"+re.applyToPointStringified(ge[0][0],ge[0][1]);for(ve=1;ve<j;ve+=1)Ee+=" C"+re.applyToPointStringified(le[ve-1][0],le[ve-1][1])+" "+re.applyToPointStringified(de[ve][0],de[ve][1])+" "+re.applyToPointStringified(ge[ve][0],ge[ve][1]);return ee&&j&&(Ee+=" C"+re.applyToPointStringified(le[ve-1][0],le[ve-1][1])+" "+re.applyToPointStringified(de[0][0],de[0][1])+" "+re.applyToPointStringified(ge[0][0],ge[0][1]),Ee+="z"),Ee},SVGElementsRenderer=function(){var $=new Matrix,_=new Matrix,j={createRenderFunction:ee};function ee(Ae){switch(Ae.ty){case"fl":return ge;case"gf":return Ee;case"gs":return ve;case"st":return Ce;case"sh":case"el":case"rc":case"sr":return de;case"tr":return re;case"no":return le;default:return null}}function re(Ae,Se,ke){(ke||Se.transform.op._mdf)&&Se.transform.container.setAttribute("opacity",Se.transform.op.v),(ke||Se.transform.mProps._mdf)&&Se.transform.container.setAttribute("transform",Se.transform.mProps.v.to2dCSS())}function le(){}function de(Ae,Se,ke){var we,Ne,Le,Me,Fe,xe,$e=Se.styles.length,De=Se.lvl,Oe,Ge,We,Ze;for(xe=0;xe<$e;xe+=1){if(Me=Se.sh._mdf||ke,Se.styles[xe].lvl<De){for(Ge=_.reset(),We=De-Se.styles[xe].lvl,Ze=Se.transformers.length-1;!Me&&We>0;)Me=Se.transformers[Ze].mProps._mdf||Me,We-=1,Ze-=1;if(Me)for(We=De-Se.styles[xe].lvl,Ze=Se.transformers.length-1;We>0;)Ge.multiply(Se.transformers[Ze].mProps.v),We-=1,Ze-=1}else Ge=$;if(Oe=Se.sh.paths,Ne=Oe._length,Me){for(Le="",we=0;we<Ne;we+=1)Fe=Oe.shapes[we],Fe&&Fe._length&&(Le+=buildShapeString(Fe,Fe._length,Fe.c,Ge));Se.caches[xe]=Le}else Le=Se.caches[xe];Se.styles[xe].d+=Ae.hd===!0?"":Le,Se.styles[xe]._mdf=Me||Se.styles[xe]._mdf}}function ge(Ae,Se,ke){var we=Se.style;(Se.c._mdf||ke)&&we.pElem.setAttribute("fill","rgb("+bmFloor(Se.c.v[0])+","+bmFloor(Se.c.v[1])+","+bmFloor(Se.c.v[2])+")"),(Se.o._mdf||ke)&&we.pElem.setAttribute("fill-opacity",Se.o.v)}function ve(Ae,Se,ke){Ee(Ae,Se,ke),Ce(Ae,Se,ke)}function Ee(Ae,Se,ke){var we=Se.gf,Ne=Se.g._hasOpacity,Le=Se.s.v,Me=Se.e.v;if(Se.o._mdf||ke){var Fe=Ae.ty==="gf"?"fill-opacity":"stroke-opacity";Se.style.pElem.setAttribute(Fe,Se.o.v)}if(Se.s._mdf||ke){var xe=Ae.t===1?"x1":"cx",$e=xe==="x1"?"y1":"cy";we.setAttribute(xe,Le[0]),we.setAttribute($e,Le[1]),Ne&&!Se.g._collapsable&&(Se.of.setAttribute(xe,Le[0]),Se.of.setAttribute($e,Le[1]))}var De,Oe,Ge,We;if(Se.g._cmdf||ke){De=Se.cst;var Ze=Se.g.c;for(Ge=De.length,Oe=0;Oe<Ge;Oe+=1)We=De[Oe],We.setAttribute("offset",Ze[Oe*4]+"%"),We.setAttribute("stop-color","rgb("+Ze[Oe*4+1]+","+Ze[Oe*4+2]+","+Ze[Oe*4+3]+")")}if(Ne&&(Se.g._omdf||ke)){var Qe=Se.g.o;for(Se.g._collapsable?De=Se.cst:De=Se.ost,Ge=De.length,Oe=0;Oe<Ge;Oe+=1)We=De[Oe],Se.g._collapsable||We.setAttribute("offset",Qe[Oe*2]+"%"),We.setAttribute("stop-opacity",Qe[Oe*2+1])}if(Ae.t===1)(Se.e._mdf||ke)&&(we.setAttribute("x2",Me[0]),we.setAttribute("y2",Me[1]),Ne&&!Se.g._collapsable&&(Se.of.setAttribute("x2",Me[0]),Se.of.setAttribute("y2",Me[1])));else{var tt;if((Se.s._mdf||Se.e._mdf||ke)&&(tt=Math.sqrt(Math.pow(Le[0]-Me[0],2)+Math.pow(Le[1]-Me[1],2)),we.setAttribute("r",tt),Ne&&!Se.g._collapsable&&Se.of.setAttribute("r",tt)),Se.e._mdf||Se.h._mdf||Se.a._mdf||ke){tt||(tt=Math.sqrt(Math.pow(Le[0]-Me[0],2)+Math.pow(Le[1]-Me[1],2)));var Ke=Math.atan2(Me[1]-Le[1],Me[0]-Le[0]),Xe=Se.h.v;Xe>=1?Xe=.99:Xe<=-1&&(Xe=-.99);var ot=tt*Xe,et=Math.cos(Ke+Se.a.v)*ot+Le[0],He=Math.sin(Ke+Se.a.v)*ot+Le[1];we.setAttribute("fx",et),we.setAttribute("fy",He),Ne&&!Se.g._collapsable&&(Se.of.setAttribute("fx",et),Se.of.setAttribute("fy",He))}}}function Ce(Ae,Se,ke){var we=Se.style,Ne=Se.d;Ne&&(Ne._mdf||ke)&&Ne.dashStr&&(we.pElem.setAttribute("stroke-dasharray",Ne.dashStr),we.pElem.setAttribute("stroke-dashoffset",Ne.dashoffset[0])),Se.c&&(Se.c._mdf||ke)&&we.pElem.setAttribute("stroke","rgb("+bmFloor(Se.c.v[0])+","+bmFloor(Se.c.v[1])+","+bmFloor(Se.c.v[2])+")"),(Se.o._mdf||ke)&&we.pElem.setAttribute("stroke-opacity",Se.o.v),(Se.w._mdf||ke)&&(we.pElem.setAttribute("stroke-width",Se.w.v),we.msElem&&we.msElem.setAttribute("stroke-width",Se.w.v))}return j}();function SVGShapeElement($,_,j){this.shapes=[],this.shapesData=$.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement($,_,j),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var $,_=this.shapes.length,j,ee,re=this.stylesList.length,le,de=[],ge=!1;for(ee=0;ee<re;ee+=1){for(le=this.stylesList[ee],ge=!1,de.length=0,$=0;$<_;$+=1)j=this.shapes[$],j.styles.indexOf(le)!==-1&&(de.push(j),ge=j._isAnimated||ge);de.length>1&&ge&&this.setShapesAsAnimated(de)}},SVGShapeElement.prototype.setShapesAsAnimated=function($){var _,j=$.length;for(_=0;_<j;_+=1)$[_].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function($,_){var j,ee=new SVGStyleData($,_),re=ee.pElem;if($.ty==="st")j=new SVGStrokeStyleData(this,$,ee);else if($.ty==="fl")j=new SVGFillStyleData(this,$,ee);else if($.ty==="gf"||$.ty==="gs"){var le=$.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;j=new le(this,$,ee),this.globalData.defs.appendChild(j.gf),j.maskId&&(this.globalData.defs.appendChild(j.ms),this.globalData.defs.appendChild(j.of),re.setAttribute("mask","url("+getLocationHref()+"#"+j.maskId+")"))}else $.ty==="no"&&(j=new SVGNoStyleData(this,$,ee));return($.ty==="st"||$.ty==="gs")&&(re.setAttribute("stroke-linecap",lineCapEnum[$.lc||2]),re.setAttribute("stroke-linejoin",lineJoinEnum[$.lj||2]),re.setAttribute("fill-opacity","0"),$.lj===1&&re.setAttribute("stroke-miterlimit",$.ml)),$.r===2&&re.setAttribute("fill-rule","evenodd"),$.ln&&re.setAttribute("id",$.ln),$.cl&&re.setAttribute("class",$.cl),$.bm&&(re.style["mix-blend-mode"]=getBlendMode($.bm)),this.stylesList.push(ee),this.addToAnimatedContents($,j),j},SVGShapeElement.prototype.createGroupElement=function($){var _=new ShapeGroupData;return $.ln&&_.gr.setAttribute("id",$.ln),$.cl&&_.gr.setAttribute("class",$.cl),$.bm&&(_.gr.style["mix-blend-mode"]=getBlendMode($.bm)),_},SVGShapeElement.prototype.createTransformElement=function($,_){var j=TransformPropertyFactory.getTransformProperty(this,$,this),ee=new SVGTransformData(j,j.o,_);return this.addToAnimatedContents($,ee),ee},SVGShapeElement.prototype.createShapeElement=function($,_,j){var ee=4;$.ty==="rc"?ee=5:$.ty==="el"?ee=6:$.ty==="sr"&&(ee=7);var re=ShapePropertyFactory.getShapeProp(this,$,ee,this),le=new SVGShapeData(_,j,re);return this.shapes.push(le),this.addShapeToModifiers(le),this.addToAnimatedContents($,le),le},SVGShapeElement.prototype.addToAnimatedContents=function($,_){for(var j=0,ee=this.animatedContents.length;j<ee;){if(this.animatedContents[j].element===_)return;j+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction($),element:_,data:$})},SVGShapeElement.prototype.setElementStyles=function($){var _=$.styles,j,ee=this.stylesList.length;for(j=0;j<ee;j+=1)this.stylesList[j].closed||_.push(this.stylesList[j])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var $,_=this.itemsData.length;for($=0;$<_;$+=1)this.prevViewData[$]=this.itemsData[$];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),_=this.dynamicProperties.length,$=0;$<_;$+=1)this.dynamicProperties[$].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function($,_,j,ee,re,le,de){var ge=[].concat(le),ve,Ee=$.length-1,Ce,Ae,Se=[],ke=[],we,Ne,Le;for(ve=Ee;ve>=0;ve-=1){if(Le=this.searchProcessedElement($[ve]),Le?_[ve]=j[Le-1]:$[ve]._render=de,$[ve].ty==="fl"||$[ve].ty==="st"||$[ve].ty==="gf"||$[ve].ty==="gs"||$[ve].ty==="no")Le?_[ve].style.closed=!1:_[ve]=this.createStyleElement($[ve],re),$[ve]._render&&_[ve].style.pElem.parentNode!==ee&&ee.appendChild(_[ve].style.pElem),Se.push(_[ve].style);else if($[ve].ty==="gr"){if(!Le)_[ve]=this.createGroupElement($[ve]);else for(Ae=_[ve].it.length,Ce=0;Ce<Ae;Ce+=1)_[ve].prevViewData[Ce]=_[ve].it[Ce];this.searchShapes($[ve].it,_[ve].it,_[ve].prevViewData,_[ve].gr,re+1,ge,de),$[ve]._render&&_[ve].gr.parentNode!==ee&&ee.appendChild(_[ve].gr)}else $[ve].ty==="tr"?(Le||(_[ve]=this.createTransformElement($[ve],ee)),we=_[ve].transform,ge.push(we)):$[ve].ty==="sh"||$[ve].ty==="rc"||$[ve].ty==="el"||$[ve].ty==="sr"?(Le||(_[ve]=this.createShapeElement($[ve],ge,re)),this.setElementStyles(_[ve])):$[ve].ty==="tm"||$[ve].ty==="rd"||$[ve].ty==="ms"||$[ve].ty==="pb"||$[ve].ty==="zz"||$[ve].ty==="op"?(Le?(Ne=_[ve],Ne.closed=!1):(Ne=ShapeModifiers.getModifier($[ve].ty),Ne.init(this,$[ve]),_[ve]=Ne,this.shapeModifiers.push(Ne)),ke.push(Ne)):$[ve].ty==="rp"&&(Le?(Ne=_[ve],Ne.closed=!0):(Ne=ShapeModifiers.getModifier($[ve].ty),_[ve]=Ne,Ne.init(this,$,ve,_),this.shapeModifiers.push(Ne),de=!1),ke.push(Ne));this.addProcessedElement($[ve],ve+1)}for(Ee=Se.length,ve=0;ve<Ee;ve+=1)Se[ve].closed=!0;for(Ee=ke.length,ve=0;ve<Ee;ve+=1)ke[ve].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var $,_=this.stylesList.length;for($=0;$<_;$+=1)this.stylesList[$].reset();for(this.renderShape(),$=0;$<_;$+=1)(this.stylesList[$]._mdf||this._isFirstFrame)&&(this.stylesList[$].msElem&&(this.stylesList[$].msElem.setAttribute("d",this.stylesList[$].d),this.stylesList[$].d="M0 0"+this.stylesList[$].d),this.stylesList[$].pElem.setAttribute("d",this.stylesList[$].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var $,_=this.animatedContents.length,j;for($=0;$<_;$+=1)j=this.animatedContents[$],(this._isFirstFrame||j.element._isAnimated)&&j.data!==!0&&j.fn(j.data,j.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps($,_,j,ee,re,le){this.o=$,this.sw=_,this.sc=j,this.fc=ee,this.m=re,this.p=le,this._mdf={o:!0,sw:!!_,sc:!!j,fc:!!ee,m:!0,p:!0}}LetterProps.prototype.update=function($,_,j,ee,re,le){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var de=!1;return this.o!==$&&(this.o=$,this._mdf.o=!0,de=!0),this.sw!==_&&(this.sw=_,this._mdf.sw=!0,de=!0),this.sc!==j&&(this.sc=j,this._mdf.sc=!0,de=!0),this.fc!==ee&&(this.fc=ee,this._mdf.fc=!0,de=!0),this.m!==re&&(this.m=re,this._mdf.m=!0,de=!0),le.length&&(this.p[0]!==le[0]||this.p[1]!==le[1]||this.p[4]!==le[4]||this.p[5]!==le[5]||this.p[12]!==le[12]||this.p[13]!==le[13])&&(this.p=le,this._mdf.p=!0,de=!0),de};function TextProperty($,_){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,_.d&&_.d.sid&&(_.d=$.globalData.slotManager.getProp(_.d)),this.data=_,this.elem=$,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function($,_){for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&($[j]=_[j]);return $},TextProperty.prototype.setCurrentData=function($){$.__complete||this.completeTextData($),this.currentData=$,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function($){this.effectsSequence.push($),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function($){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!$)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var _=this.currentData,j=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var ee,re=this.effectsSequence.length,le=$||this.data.d.k[this.keysIndex].s;for(ee=0;ee<re;ee+=1)j!==this.keysIndex?le=this.effectsSequence[ee](le,le.t):le=this.effectsSequence[ee](this.currentData,le.t);_!==le&&this.setCurrentData(le),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var $=this.data.d.k,_=this.elem.comp.renderedFrame,j=0,ee=$.length;j<=ee-1&&!(j===ee-1||$[j+1].t>_);)j+=1;return this.keysIndex!==j&&(this.keysIndex=j),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function($){for(var _=[],j=0,ee=$.length,re,le,de=!1,ge=!1,ve="";j<ee;)de=ge,ge=!1,re=$.charCodeAt(j),ve=$.charAt(j),FontManager.isCombinedCharacter(re)?de=!0:re>=55296&&re<=56319?FontManager.isRegionalFlag($,j)?ve=$.substr(j,14):(le=$.charCodeAt(j+1),le>=56320&&le<=57343&&(FontManager.isModifier(re,le)?(ve=$.substr(j,2),de=!0):FontManager.isFlagEmoji($.substr(j,4))?ve=$.substr(j,4):ve=$.substr(j,2))):re>56319?(le=$.charCodeAt(j+1),FontManager.isVariationSelector(re)&&(de=!0)):FontManager.isZeroWidthJoiner(re)&&(de=!0,ge=!0),de?(_[_.length-1]+=ve,de=!1):_.push(ve),j+=ve.length;return _},TextProperty.prototype.completeTextData=function($){$.__complete=!0;var _=this.elem.globalData.fontManager,j=this.data,ee=[],re,le,de,ge=0,ve,Ee=j.m.g,Ce=0,Ae=0,Se=0,ke=[],we=0,Ne=0,Le,Me,Fe=_.getFontByName($.f),xe,$e=0,De=getFontProperties(Fe);$.fWeight=De.weight,$.fStyle=De.style,$.finalSize=$.s,$.finalText=this.buildFinalText($.t),le=$.finalText.length,$.finalLineHeight=$.lh;var Oe=$.tr/1e3*$.finalSize,Ge;if($.sz)for(var We=!0,Ze=$.sz[0],Qe=$.sz[1],tt,Ke;We;){Ke=this.buildFinalText($.t),tt=0,we=0,le=Ke.length,Oe=$.tr/1e3*$.finalSize;var Xe=-1;for(re=0;re<le;re+=1)Ge=Ke[re].charCodeAt(0),de=!1,Ke[re]===" "?Xe=re:(Ge===13||Ge===3)&&(we=0,de=!0,tt+=$.finalLineHeight||$.finalSize*1.2),_.chars?(xe=_.getCharData(Ke[re],Fe.fStyle,Fe.fFamily),$e=de?0:xe.w*$.finalSize/100):$e=_.measureText(Ke[re],$.f,$.finalSize),we+$e>Ze&&Ke[re]!==" "?(Xe===-1?le+=1:re=Xe,tt+=$.finalLineHeight||$.finalSize*1.2,Ke.splice(re,Xe===re?1:0,"\r"),Xe=-1,we=0):(we+=$e,we+=Oe);tt+=Fe.ascent*$.finalSize/100,this.canResize&&$.finalSize>this.minimumFontSize&&Qe<tt?($.finalSize-=1,$.finalLineHeight=$.finalSize*$.lh/$.s):($.finalText=Ke,le=$.finalText.length,We=!1)}we=-Oe,$e=0;var ot=0,et;for(re=0;re<le;re+=1)if(de=!1,et=$.finalText[re],Ge=et.charCodeAt(0),Ge===13||Ge===3?(ot=0,ke.push(we),Ne=we>Ne?we:Ne,we=-2*Oe,ve="",de=!0,Se+=1):ve=et,_.chars?(xe=_.getCharData(et,Fe.fStyle,_.getFontByName($.f).fFamily),$e=de?0:xe.w*$.finalSize/100):$e=_.measureText(ve,$.f,$.finalSize),et===" "?ot+=$e+Oe:(we+=$e+Oe+ot,ot=0),ee.push({l:$e,an:$e,add:Ce,n:de,anIndexes:[],val:ve,line:Se,animatorJustifyOffset:0}),Ee==2){if(Ce+=$e,ve===""||ve===" "||re===le-1){for((ve===""||ve===" ")&&(Ce-=$e);Ae<=re;)ee[Ae].an=Ce,ee[Ae].ind=ge,ee[Ae].extra=$e,Ae+=1;ge+=1,Ce=0}}else if(Ee==3){if(Ce+=$e,ve===""||re===le-1){for(ve===""&&(Ce-=$e);Ae<=re;)ee[Ae].an=Ce,ee[Ae].ind=ge,ee[Ae].extra=$e,Ae+=1;Ce=0,ge+=1}}else ee[ge].ind=ge,ee[ge].extra=0,ge+=1;if($.l=ee,Ne=we>Ne?we:Ne,ke.push(we),$.sz)$.boxWidth=$.sz[0],$.justifyOffset=0;else switch($.boxWidth=Ne,$.j){case 1:$.justifyOffset=-$.boxWidth;break;case 2:$.justifyOffset=-$.boxWidth/2;break;default:$.justifyOffset=0}$.lineWidths=ke;var He=j.a,qe,Be;Me=He.length;var Ue,Je,Ye=[];for(Le=0;Le<Me;Le+=1){for(qe=He[Le],qe.a.sc&&($.strokeColorAnim=!0),qe.a.sw&&($.strokeWidthAnim=!0),(qe.a.fc||qe.a.fh||qe.a.fs||qe.a.fb)&&($.fillColorAnim=!0),Je=0,Ue=qe.s.b,re=0;re<le;re+=1)Be=ee[re],Be.anIndexes[Le]=Je,(Ue==1&&Be.val!==""||Ue==2&&Be.val!==""&&Be.val!==" "||Ue==3&&(Be.n||Be.val==" "||re==le-1)||Ue==4&&(Be.n||re==le-1))&&(qe.s.rn===1&&Ye.push(Je),Je+=1);j.a[Le].s.totalChars=Je;var at=-1,vt;if(qe.s.rn===1)for(re=0;re<le;re+=1)Be=ee[re],at!=Be.anIndexes[Le]&&(at=Be.anIndexes[Le],vt=Ye.splice(Math.floor(Math.random()*Ye.length),1)[0]),Be.anIndexes[Le]=vt}$.yOffset=$.finalLineHeight||$.finalSize*1.2,$.ls=$.ls||0,$.ascent=Fe.ascent*$.finalSize/100},TextProperty.prototype.updateDocumentData=function($,_){_=_===void 0?this.keysIndex:_;var j=this.copyData({},this.data.d.k[_].s);j=this.copyData(j,$),this.data.d.k[_].s=j,this.recalculate(_),this.setCurrentData(j),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function($){var _=this.data.d.k[$].s;_.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(_)},TextProperty.prototype.canResizeFont=function($){this.canResize=$,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function($){this.minimumFontSize=Math.floor($)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var $=Math.max,_=Math.min,j=Math.floor;function ee(le,de){this._currentTextLength=-1,this.k=!1,this.data=de,this.elem=le,this.comp=le.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(le),this.s=PropertyFactory.getProp(le,de.s||{k:0},0,0,this),"e"in de?this.e=PropertyFactory.getProp(le,de.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(le,de.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(le,de.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(le,de.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(le,de.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(le,de.a,0,.01,this),this.dynamicProperties.length||this.getValue()}ee.prototype={getMult:function(de){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var ge=0,ve=0,Ee=1,Ce=1;this.ne.v>0?ge=this.ne.v/100:ve=-this.ne.v/100,this.xe.v>0?Ee=1-this.xe.v/100:Ce=1+this.xe.v/100;var Ae=BezierFactory.getBezierEasing(ge,ve,Ee,Ce).get,Se=0,ke=this.finalS,we=this.finalE,Ne=this.data.sh;if(Ne===2)we===ke?Se=de>=we?1:0:Se=$(0,_(.5/(we-ke)+(de-ke)/(we-ke),1)),Se=Ae(Se);else if(Ne===3)we===ke?Se=de>=we?0:1:Se=1-$(0,_(.5/(we-ke)+(de-ke)/(we-ke),1)),Se=Ae(Se);else if(Ne===4)we===ke?Se=0:(Se=$(0,_(.5/(we-ke)+(de-ke)/(we-ke),1)),Se<.5?Se*=2:Se=1-2*(Se-.5)),Se=Ae(Se);else if(Ne===5){if(we===ke)Se=0;else{var Le=we-ke;de=_($(0,de+.5-ke),we-ke);var Me=-Le/2+de,Fe=Le/2;Se=Math.sqrt(1-Me*Me/(Fe*Fe))}Se=Ae(Se)}else Ne===6?(we===ke?Se=0:(de=_($(0,de+.5-ke),we-ke),Se=(1+Math.cos(Math.PI+Math.PI*2*de/(we-ke)))/2),Se=Ae(Se)):(de>=j(ke)&&(de-ke<0?Se=$(0,_(_(we,1)-(ke-de),1)):Se=$(0,_(we-de,1))),Se=Ae(Se));if(this.sm.v!==100){var xe=this.sm.v*.01;xe===0&&(xe=1e-8);var $e=.5-xe*.5;Se<$e?Se=0:(Se=(Se-$e)/xe,Se>1&&(Se=1))}return Se*this.a.v},getValue:function(de){this.iterateDynamicProperties(),this._mdf=de||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,de&&this.data.r===2&&(this.e.v=this._currentTextLength);var ge=this.data.r===2?1:100/this.data.totalChars,ve=this.o.v/ge,Ee=this.s.v/ge+ve,Ce=this.e.v/ge+ve;if(Ee>Ce){var Ae=Ee;Ee=Ce,Ce=Ae}this.finalS=Ee,this.finalE=Ce}},extendPrototype([DynamicPropertyContainer],ee);function re(le,de,ge){return new ee(le,de)}return{getTextSelectorProp:re}}();function TextAnimatorDataProperty($,_,j){var ee={propType:!1},re=PropertyFactory.getProp,le=_.a;this.a={r:le.r?re($,le.r,0,degToRads,j):ee,rx:le.rx?re($,le.rx,0,degToRads,j):ee,ry:le.ry?re($,le.ry,0,degToRads,j):ee,sk:le.sk?re($,le.sk,0,degToRads,j):ee,sa:le.sa?re($,le.sa,0,degToRads,j):ee,s:le.s?re($,le.s,1,.01,j):ee,a:le.a?re($,le.a,1,0,j):ee,o:le.o?re($,le.o,0,.01,j):ee,p:le.p?re($,le.p,1,0,j):ee,sw:le.sw?re($,le.sw,0,0,j):ee,sc:le.sc?re($,le.sc,1,0,j):ee,fc:le.fc?re($,le.fc,1,0,j):ee,fh:le.fh?re($,le.fh,0,0,j):ee,fs:le.fs?re($,le.fs,0,.01,j):ee,fb:le.fb?re($,le.fb,0,.01,j):ee,t:le.t?re($,le.t,0,0,j):ee},this.s=TextSelectorProp.getTextSelectorProp($,_.s,j),this.s.t=_.s.t}function TextAnimatorProperty($,_,j){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=$,this._renderType=_,this._elem=j,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(j)}TextAnimatorProperty.prototype.searchProperties=function(){var $,_=this._textData.a.length,j,ee=PropertyFactory.getProp;for($=0;$<_;$+=1)j=this._textData.a[$],this._animatorsData[$]=new TextAnimatorDataProperty(this._elem,j,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:ee(this._elem,this._textData.p.a,0,0,this),f:ee(this._elem,this._textData.p.f,0,0,this),l:ee(this._elem,this._textData.p.l,0,0,this),r:ee(this._elem,this._textData.p.r,0,0,this),p:ee(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=ee(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function($,_){if(this.lettersChangedFlag=_,!(!this._mdf&&!this._isFirstFrame&&!_&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var j=this._moreOptions.alignment.v,ee=this._animatorsData,re=this._textData,le=this.mHelper,de=this._renderType,ge=this.renderedLetters.length,ve,Ee,Ce,Ae,Se=$.l,ke,we,Ne,Le,Me,Fe,xe,$e,De,Oe,Ge,We,Ze,Qe,tt;if(this._hasMaskedPath){if(tt=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Ke=tt.v;this._pathData.r.v&&(Ke=Ke.reverse()),ke={tLength:0,segments:[]},Ae=Ke._length-1;var Xe;for(We=0,Ce=0;Ce<Ae;Ce+=1)Xe=bez.buildBezierData(Ke.v[Ce],Ke.v[Ce+1],[Ke.o[Ce][0]-Ke.v[Ce][0],Ke.o[Ce][1]-Ke.v[Ce][1]],[Ke.i[Ce+1][0]-Ke.v[Ce+1][0],Ke.i[Ce+1][1]-Ke.v[Ce+1][1]]),ke.tLength+=Xe.segmentLength,ke.segments.push(Xe),We+=Xe.segmentLength;Ce=Ae,tt.v.c&&(Xe=bez.buildBezierData(Ke.v[Ce],Ke.v[0],[Ke.o[Ce][0]-Ke.v[Ce][0],Ke.o[Ce][1]-Ke.v[Ce][1]],[Ke.i[0][0]-Ke.v[0][0],Ke.i[0][1]-Ke.v[0][1]]),ke.tLength+=Xe.segmentLength,ke.segments.push(Xe),We+=Xe.segmentLength),this._pathData.pi=ke}if(ke=this._pathData.pi,we=this._pathData.f.v,xe=0,Fe=1,Le=0,Me=!0,Oe=ke.segments,we<0&&tt.v.c)for(ke.tLength<Math.abs(we)&&(we=-Math.abs(we)%ke.tLength),xe=Oe.length-1,De=Oe[xe].points,Fe=De.length-1;we<0;)we+=De[Fe].partialLength,Fe-=1,Fe<0&&(xe-=1,De=Oe[xe].points,Fe=De.length-1);De=Oe[xe].points,$e=De[Fe-1],Ne=De[Fe],Ge=Ne.partialLength}Ae=Se.length,ve=0,Ee=0;var ot=$.finalSize*1.2*.714,et=!0,He,qe,Be,Ue,Je;Ue=ee.length;var Ye,at=-1,vt,Et,ht,ft=we,rt=xe,lt=Fe,dt=-1,ct,Ct,St,je,ze,nt,st,it,mt="",gt=this.defaultPropsArray,pt;if($.j===2||$.j===1){var _t=0,ut=0,yt=$.j===2?-.5:-1,Tt=0,It=!0;for(Ce=0;Ce<Ae;Ce+=1)if(Se[Ce].n){for(_t&&(_t+=ut);Tt<Ce;)Se[Tt].animatorJustifyOffset=_t,Tt+=1;_t=0,It=!0}else{for(Be=0;Be<Ue;Be+=1)He=ee[Be].a,He.t.propType&&(It&&$.j===2&&(ut+=He.t.v*yt),qe=ee[Be].s,Ye=qe.getMult(Se[Ce].anIndexes[Be],re.a[Be].s.totalChars),Ye.length?_t+=He.t.v*Ye[0]*yt:_t+=He.t.v*Ye*yt);It=!1}for(_t&&(_t+=ut);Tt<Ce;)Se[Tt].animatorJustifyOffset=_t,Tt+=1}for(Ce=0;Ce<Ae;Ce+=1){if(le.reset(),ct=1,Se[Ce].n)ve=0,Ee+=$.yOffset,Ee+=et?1:0,we=ft,et=!1,this._hasMaskedPath&&(xe=rt,Fe=lt,De=Oe[xe].points,$e=De[Fe-1],Ne=De[Fe],Ge=Ne.partialLength,Le=0),mt="",it="",nt="",pt="",gt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(dt!==Se[Ce].line){switch($.j){case 1:we+=We-$.lineWidths[Se[Ce].line];break;case 2:we+=(We-$.lineWidths[Se[Ce].line])/2;break}dt=Se[Ce].line}at!==Se[Ce].ind&&(Se[at]&&(we+=Se[at].extra),we+=Se[Ce].an/2,at=Se[Ce].ind),we+=j[0]*Se[Ce].an*.005;var bt=0;for(Be=0;Be<Ue;Be+=1)He=ee[Be].a,He.p.propType&&(qe=ee[Be].s,Ye=qe.getMult(Se[Ce].anIndexes[Be],re.a[Be].s.totalChars),Ye.length?bt+=He.p.v[0]*Ye[0]:bt+=He.p.v[0]*Ye),He.a.propType&&(qe=ee[Be].s,Ye=qe.getMult(Se[Ce].anIndexes[Be],re.a[Be].s.totalChars),Ye.length?bt+=He.a.v[0]*Ye[0]:bt+=He.a.v[0]*Ye);for(Me=!0,this._pathData.a.v&&(we=Se[0].an*.5+(We-this._pathData.f.v-Se[0].an*.5-Se[Se.length-1].an*.5)*at/(Ae-1),we+=this._pathData.f.v);Me;)Le+Ge>=we+bt||!De?(Ze=(we+bt-Le)/Ne.partialLength,Et=$e.point[0]+(Ne.point[0]-$e.point[0])*Ze,ht=$e.point[1]+(Ne.point[1]-$e.point[1])*Ze,le.translate(-j[0]*Se[Ce].an*.005,-(j[1]*ot)*.01),Me=!1):De&&(Le+=Ne.partialLength,Fe+=1,Fe>=De.length&&(Fe=0,xe+=1,Oe[xe]?De=Oe[xe].points:tt.v.c?(Fe=0,xe=0,De=Oe[xe].points):(Le-=Ne.partialLength,De=null)),De&&($e=Ne,Ne=De[Fe],Ge=Ne.partialLength));vt=Se[Ce].an/2-Se[Ce].add,le.translate(-vt,0,0)}else vt=Se[Ce].an/2-Se[Ce].add,le.translate(-vt,0,0),le.translate(-j[0]*Se[Ce].an*.005,-j[1]*ot*.01,0);for(Be=0;Be<Ue;Be+=1)He=ee[Be].a,He.t.propType&&(qe=ee[Be].s,Ye=qe.getMult(Se[Ce].anIndexes[Be],re.a[Be].s.totalChars),(ve!==0||$.j!==0)&&(this._hasMaskedPath?Ye.length?we+=He.t.v*Ye[0]:we+=He.t.v*Ye:Ye.length?ve+=He.t.v*Ye[0]:ve+=He.t.v*Ye));for($.strokeWidthAnim&&(St=$.sw||0),$.strokeColorAnim&&($.sc?Ct=[$.sc[0],$.sc[1],$.sc[2]]:Ct=[0,0,0]),$.fillColorAnim&&$.fc&&(je=[$.fc[0],$.fc[1],$.fc[2]]),Be=0;Be<Ue;Be+=1)He=ee[Be].a,He.a.propType&&(qe=ee[Be].s,Ye=qe.getMult(Se[Ce].anIndexes[Be],re.a[Be].s.totalChars),Ye.length?le.translate(-He.a.v[0]*Ye[0],-He.a.v[1]*Ye[1],He.a.v[2]*Ye[2]):le.translate(-He.a.v[0]*Ye,-He.a.v[1]*Ye,He.a.v[2]*Ye));for(Be=0;Be<Ue;Be+=1)He=ee[Be].a,He.s.propType&&(qe=ee[Be].s,Ye=qe.getMult(Se[Ce].anIndexes[Be],re.a[Be].s.totalChars),Ye.length?le.scale(1+(He.s.v[0]-1)*Ye[0],1+(He.s.v[1]-1)*Ye[1],1):le.scale(1+(He.s.v[0]-1)*Ye,1+(He.s.v[1]-1)*Ye,1));for(Be=0;Be<Ue;Be+=1){if(He=ee[Be].a,qe=ee[Be].s,Ye=qe.getMult(Se[Ce].anIndexes[Be],re.a[Be].s.totalChars),He.sk.propType&&(Ye.length?le.skewFromAxis(-He.sk.v*Ye[0],He.sa.v*Ye[1]):le.skewFromAxis(-He.sk.v*Ye,He.sa.v*Ye)),He.r.propType&&(Ye.length?le.rotateZ(-He.r.v*Ye[2]):le.rotateZ(-He.r.v*Ye)),He.ry.propType&&(Ye.length?le.rotateY(He.ry.v*Ye[1]):le.rotateY(He.ry.v*Ye)),He.rx.propType&&(Ye.length?le.rotateX(He.rx.v*Ye[0]):le.rotateX(He.rx.v*Ye)),He.o.propType&&(Ye.length?ct+=(He.o.v*Ye[0]-ct)*Ye[0]:ct+=(He.o.v*Ye-ct)*Ye),$.strokeWidthAnim&&He.sw.propType&&(Ye.length?St+=He.sw.v*Ye[0]:St+=He.sw.v*Ye),$.strokeColorAnim&&He.sc.propType)for(ze=0;ze<3;ze+=1)Ye.length?Ct[ze]+=(He.sc.v[ze]-Ct[ze])*Ye[0]:Ct[ze]+=(He.sc.v[ze]-Ct[ze])*Ye;if($.fillColorAnim&&$.fc){if(He.fc.propType)for(ze=0;ze<3;ze+=1)Ye.length?je[ze]+=(He.fc.v[ze]-je[ze])*Ye[0]:je[ze]+=(He.fc.v[ze]-je[ze])*Ye;He.fh.propType&&(Ye.length?je=addHueToRGB(je,He.fh.v*Ye[0]):je=addHueToRGB(je,He.fh.v*Ye)),He.fs.propType&&(Ye.length?je=addSaturationToRGB(je,He.fs.v*Ye[0]):je=addSaturationToRGB(je,He.fs.v*Ye)),He.fb.propType&&(Ye.length?je=addBrightnessToRGB(je,He.fb.v*Ye[0]):je=addBrightnessToRGB(je,He.fb.v*Ye))}}for(Be=0;Be<Ue;Be+=1)He=ee[Be].a,He.p.propType&&(qe=ee[Be].s,Ye=qe.getMult(Se[Ce].anIndexes[Be],re.a[Be].s.totalChars),this._hasMaskedPath?Ye.length?le.translate(0,He.p.v[1]*Ye[0],-He.p.v[2]*Ye[1]):le.translate(0,He.p.v[1]*Ye,-He.p.v[2]*Ye):Ye.length?le.translate(He.p.v[0]*Ye[0],He.p.v[1]*Ye[1],-He.p.v[2]*Ye[2]):le.translate(He.p.v[0]*Ye,He.p.v[1]*Ye,-He.p.v[2]*Ye));if($.strokeWidthAnim&&(nt=St<0?0:St),$.strokeColorAnim&&(st="rgb("+Math.round(Ct[0]*255)+","+Math.round(Ct[1]*255)+","+Math.round(Ct[2]*255)+")"),$.fillColorAnim&&$.fc&&(it="rgb("+Math.round(je[0]*255)+","+Math.round(je[1]*255)+","+Math.round(je[2]*255)+")"),this._hasMaskedPath){if(le.translate(0,-$.ls),le.translate(0,j[1]*ot*.01+Ee,0),this._pathData.p.v){Qe=(Ne.point[1]-$e.point[1])/(Ne.point[0]-$e.point[0]);var At=Math.atan(Qe)*180/Math.PI;Ne.point[0]<$e.point[0]&&(At+=180),le.rotate(-At*Math.PI/180)}le.translate(Et,ht,0),we-=j[0]*Se[Ce].an*.005,Se[Ce+1]&&at!==Se[Ce+1].ind&&(we+=Se[Ce].an/2,we+=$.tr*.001*$.finalSize)}else{switch(le.translate(ve,Ee,0),$.ps&&le.translate($.ps[0],$.ps[1]+$.ascent,0),$.j){case 1:le.translate(Se[Ce].animatorJustifyOffset+$.justifyOffset+($.boxWidth-$.lineWidths[Se[Ce].line]),0,0);break;case 2:le.translate(Se[Ce].animatorJustifyOffset+$.justifyOffset+($.boxWidth-$.lineWidths[Se[Ce].line])/2,0,0);break}le.translate(0,-$.ls),le.translate(vt,0,0),le.translate(j[0]*Se[Ce].an*.005,j[1]*ot*.01,0),ve+=Se[Ce].l+$.tr*.001*$.finalSize}de==="html"?mt=le.toCSS():de==="svg"?mt=le.to2dCSS():gt=[le.props[0],le.props[1],le.props[2],le.props[3],le.props[4],le.props[5],le.props[6],le.props[7],le.props[8],le.props[9],le.props[10],le.props[11],le.props[12],le.props[13],le.props[14],le.props[15]],pt=ct}ge<=Ce?(Je=new LetterProps(pt,nt,st,it,mt,gt),this.renderedLetters.push(Je),ge+=1,this.lettersChangedFlag=!0):(Je=this.renderedLetters[Ce],this.lettersChangedFlag=Je.update(pt,nt,st,it,mt,gt)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function($,_,j){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData($,_,j),this.textProperty=new TextProperty(this,$.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty($.t,this.renderType,this),this.initTransform($,_,j),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function($){this._mdf=!1,this.prepareRenderableFrame($),this.prepareProperties($,this.isInRange)},ITextElement.prototype.createPathShape=function($,_){var j,ee=_.length,re,le="";for(j=0;j<ee;j+=1)_[j].ty==="sh"&&(re=_[j].ks.k,le+=buildShapeString(re,re.i.length,!0,$));return le},ITextElement.prototype.updateDocumentData=function($,_){this.textProperty.updateDocumentData($,_)},ITextElement.prototype.canResizeFont=function($){this.textProperty.canResizeFont($)},ITextElement.prototype.setMinimumFontSize=function($){this.textProperty.setMinimumFontSize($)},ITextElement.prototype.applyTextPropertiesToMatrix=function($,_,j,ee,re){switch($.ps&&_.translate($.ps[0],$.ps[1]+$.ascent,0),_.translate(0,-$.ls,0),$.j){case 1:_.translate($.justifyOffset+($.boxWidth-$.lineWidths[j]),0,0);break;case 2:_.translate($.justifyOffset+($.boxWidth-$.lineWidths[j])/2,0,0);break}_.translate(ee,re,0)},ITextElement.prototype.buildColor=function($){return"rgb("+Math.round($[0]*255)+","+Math.round($[1]*255)+","+Math.round($[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement($,_,j){this.textSpans=[],this.renderType="svg",this.initElement($,_,j)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function($){for(var _=0,j=$.length,ee=[],re="";_<j;)$[_]==="\r"||$[_]===""?(ee.push(re),re=""):re+=$[_],_+=1;return ee.push(re),ee},SVGTextLottieElement.prototype.buildShapeData=function($,_){if($.shapes&&$.shapes.length){var j=$.shapes[0];if(j.it){var ee=j.it[j.it.length-1];ee.s&&(ee.s.k[0]=_,ee.s.k[1]=_)}}return $},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var $,_,j=this.textProperty.currentData;this.renderedLetters=createSizedArray(j?j.l.length:0),j.fc?this.layerElement.setAttribute("fill",this.buildColor(j.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),j.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(j.sc)),this.layerElement.setAttribute("stroke-width",j.sw)),this.layerElement.setAttribute("font-size",j.finalSize);var ee=this.globalData.fontManager.getFontByName(j.f);if(ee.fClass)this.layerElement.setAttribute("class",ee.fClass);else{this.layerElement.setAttribute("font-family",ee.fFamily);var re=j.fWeight,le=j.fStyle;this.layerElement.setAttribute("font-style",le),this.layerElement.setAttribute("font-weight",re)}this.layerElement.setAttribute("aria-label",j.t);var de=j.l||[],ge=!!this.globalData.fontManager.chars;_=de.length;var ve,Ee=this.mHelper,Ce="",Ae=this.data.singleShape,Se=0,ke=0,we=!0,Ne=j.tr*.001*j.finalSize;if(Ae&&!ge&&!j.sz){var Le=this.textContainer,Me="start";switch(j.j){case 1:Me="end";break;case 2:Me="middle";break;default:Me="start";break}Le.setAttribute("text-anchor",Me),Le.setAttribute("letter-spacing",Ne);var Fe=this.buildTextContents(j.finalText);for(_=Fe.length,ke=j.ps?j.ps[1]+j.ascent:0,$=0;$<_;$+=1)ve=this.textSpans[$].span||createNS("tspan"),ve.textContent=Fe[$],ve.setAttribute("x",0),ve.setAttribute("y",ke),ve.style.display="inherit",Le.appendChild(ve),this.textSpans[$]||(this.textSpans[$]={span:null,glyph:null}),this.textSpans[$].span=ve,ke+=j.finalLineHeight;this.layerElement.appendChild(Le)}else{var xe=this.textSpans.length,$e;for($=0;$<_;$+=1){if(this.textSpans[$]||(this.textSpans[$]={span:null,childSpan:null,glyph:null}),!ge||!Ae||$===0){if(ve=xe>$?this.textSpans[$].span:createNS(ge?"g":"text"),xe<=$){if(ve.setAttribute("stroke-linecap","butt"),ve.setAttribute("stroke-linejoin","round"),ve.setAttribute("stroke-miterlimit","4"),this.textSpans[$].span=ve,ge){var De=createNS("g");ve.appendChild(De),this.textSpans[$].childSpan=De}this.textSpans[$].span=ve,this.layerElement.appendChild(ve)}ve.style.display="inherit"}if(Ee.reset(),Ae&&(de[$].n&&(Se=-Ne,ke+=j.yOffset,ke+=we?1:0,we=!1),this.applyTextPropertiesToMatrix(j,Ee,de[$].line,Se,ke),Se+=de[$].l||0,Se+=Ne),ge){$e=this.globalData.fontManager.getCharData(j.finalText[$],ee.fStyle,this.globalData.fontManager.getFontByName(j.f).fFamily);var Oe;if($e.t===1)Oe=new SVGCompElement($e.data,this.globalData,this);else{var Ge=emptyShapeData;$e.data&&$e.data.shapes&&(Ge=this.buildShapeData($e.data,j.finalSize)),Oe=new SVGShapeElement(Ge,this.globalData,this)}if(this.textSpans[$].glyph){var We=this.textSpans[$].glyph;this.textSpans[$].childSpan.removeChild(We.layerElement),We.destroy()}this.textSpans[$].glyph=Oe,Oe._debug=!0,Oe.prepareFrame(0),Oe.renderFrame(),this.textSpans[$].childSpan.appendChild(Oe.layerElement),$e.t===1&&this.textSpans[$].childSpan.setAttribute("transform","scale("+j.finalSize/100+","+j.finalSize/100+")")}else Ae&&ve.setAttribute("transform","translate("+Ee.props[12]+","+Ee.props[13]+")"),ve.textContent=de[$].val,ve.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}Ae&&ve&&ve.setAttribute("d",Ce)}for(;$<this.textSpans.length;)this.textSpans[$].span.style.display="none",$+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var $=this.layerElement.getBBox();this.bbox={top:$.y,left:$.x,width:$.width,height:$.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var $,_=this.textSpans.length,j;for(this.renderedFrame=this.comp.renderedFrame,$=0;$<_;$+=1)j=this.textSpans[$].glyph,j&&(j.prepareFrame(this.comp.renderedFrame-this.data.st),j._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var $,_,j=this.textAnimator.renderedLetters,ee=this.textProperty.currentData.l;_=ee.length;var re,le,de;for($=0;$<_;$+=1)ee[$].n||(re=j[$],le=this.textSpans[$].span,de=this.textSpans[$].glyph,de&&de.renderFrame(),re._mdf.m&&le.setAttribute("transform",re.m),re._mdf.o&&le.setAttribute("opacity",re.o),re._mdf.sw&&le.setAttribute("stroke-width",re.sw),re._mdf.sc&&le.setAttribute("stroke",re.sc),re._mdf.fc&&le.setAttribute("fill",re.fc))}};function ISolidElement($,_,j){this.initElement($,_,j)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var $=createNS("rect");$.setAttribute("width",this.data.sw),$.setAttribute("height",this.data.sh),$.setAttribute("fill",this.data.sc),this.layerElement.appendChild($)};function NullElement($,_,j){this.initFrame(),this.initBaseData($,_,j),this.initFrame(),this.initTransform($,_,j),this.initHierarchy()}NullElement.prototype.prepareFrame=function($){this.prepareProperties($,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function($){return new NullElement($,this.globalData,this)},SVGRendererBase.prototype.createShape=function($){return new SVGShapeElement($,this.globalData,this)},SVGRendererBase.prototype.createText=function($){return new SVGTextLottieElement($,this.globalData,this)},SVGRendererBase.prototype.createImage=function($){return new IImageElement($,this.globalData,this)},SVGRendererBase.prototype.createSolid=function($){return new ISolidElement($,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function($){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+$.w+" "+$.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",$.w),this.svgElement.setAttribute("height",$.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var _=this.globalData.defs;this.setupGlobalData($,_),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=$;var j=createNS("clipPath"),ee=createNS("rect");ee.setAttribute("width",$.w),ee.setAttribute("height",$.h),ee.setAttribute("x",0),ee.setAttribute("y",0);var re=createElementID();j.setAttribute("id",re),j.appendChild(ee),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+re+")"),_.appendChild(j),this.layers=$.layers,this.elements=createSizedArray($.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var $,_=this.layers?this.layers.length:0;for($=0;$<_;$+=1)this.elements[$]&&this.elements[$].destroy&&this.elements[$].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function($){var _=0,j=this.layers.length;for(_=0;_<j;_+=1)if(this.layers[_].ind===$)return _;return-1},SVGRendererBase.prototype.buildItem=function($){var _=this.elements;if(!(_[$]||this.layers[$].ty===99)){_[$]=!0;var j=this.createItem(this.layers[$]);if(_[$]=j,getExpressionsPlugin()&&(this.layers[$].ty===0&&this.globalData.projectInterface.registerComposition(j),j.initExpressions()),this.appendElementInPos(j,$),this.layers[$].tt){var ee="tp"in this.layers[$]?this.findIndexByInd(this.layers[$].tp):$-1;if(ee===-1)return;if(!this.elements[ee]||this.elements[ee]===!0)this.buildItem(ee),this.addPendingElement(j);else{var re=_[ee],le=re.getMatte(this.layers[$].tt);j.setMatte(le)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var $=this.pendingElements.pop();if($.checkParenting(),$.data.tt)for(var _=0,j=this.elements.length;_<j;){if(this.elements[_]===$){var ee="tp"in $.data?this.findIndexByInd($.data.tp):_-1,re=this.elements[ee],le=re.getMatte(this.layers[_].tt);$.setMatte(le);break}_+=1}}},SVGRendererBase.prototype.renderFrame=function($){if(!(this.renderedFrame===$||this.destroyed)){$===null?$=this.renderedFrame:this.renderedFrame=$,this.globalData.frameNum=$,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=$,this.globalData._mdf=!1;var _,j=this.layers.length;for(this.completeLayers||this.checkLayers($),_=j-1;_>=0;_-=1)(this.completeLayers||this.elements[_])&&this.elements[_].prepareFrame($-this.layers[_].st);if(this.globalData._mdf)for(_=0;_<j;_+=1)(this.completeLayers||this.elements[_])&&this.elements[_].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function($,_){var j=$.getBaseElement();if(j){for(var ee=0,re;ee<_;)this.elements[ee]&&this.elements[ee]!==!0&&this.elements[ee].getBaseElement()&&(re=this.elements[ee].getBaseElement()),ee+=1;re?this.layerElement.insertBefore(j,re):this.layerElement.appendChild(j)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function($,_,j){this.initFrame(),this.initBaseData($,_,j),this.initTransform($,_,j),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!_.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function($){if(this._mdf=!1,this.prepareRenderableFrame($),this.prepareProperties($,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=$/this.data.sr;else{var _=this.tm.v;_===this.data.op&&(_=this.data.op-1),this.renderedFrame=_}var j,ee=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),j=ee-1;j>=0;j-=1)(this.completeLayers||this.elements[j])&&(this.elements[j].prepareFrame(this.renderedFrame-this.layers[j].st),this.elements[j]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var $,_=this.layers.length;for($=0;$<_;$+=1)(this.completeLayers||this.elements[$])&&this.elements[$].renderFrame()},ICompElement.prototype.setElements=function($){this.elements=$},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var $,_=this.layers.length;for($=0;$<_;$+=1)this.elements[$]&&this.elements[$].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement($,_,j){this.layers=$.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement($,_,j),this.tm=$.tm?PropertyFactory.getProp(this,$.tm,0,_.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function($){return new SVGCompElement($,this.globalData,this)};function SVGRenderer($,_){this.animationItem=$,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var j="";if(_&&_.title){var ee=createNS("title"),re=createElementID();ee.setAttribute("id",re),ee.textContent=_.title,this.svgElement.appendChild(ee),j+=re}if(_&&_.description){var le=createNS("desc"),de=createElementID();le.setAttribute("id",de),le.textContent=_.description,this.svgElement.appendChild(le),j+=" "+de}j&&this.svgElement.setAttribute("aria-labelledby",j);var ge=createNS("defs");this.svgElement.appendChild(ge);var ve=createNS("g");this.svgElement.appendChild(ve),this.layerElement=ve,this.renderConfig={preserveAspectRatio:_&&_.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:_&&_.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:_&&_.contentVisibility||"visible",progressiveLoad:_&&_.progressiveLoad||!1,hideOnTransparent:!(_&&_.hideOnTransparent===!1),viewBoxOnly:_&&_.viewBoxOnly||!1,viewBoxSize:_&&_.viewBoxSize||!1,className:_&&_.className||"",id:_&&_.id||"",focusable:_&&_.focusable,filterSize:{width:_&&_.filterSize&&_.filterSize.width||"100%",height:_&&_.filterSize&&_.filterSize.height||"100%",x:_&&_.filterSize&&_.filterSize.x||"0%",y:_&&_.filterSize&&_.filterSize.y||"0%"},width:_&&_.width,height:_&&_.height,runExpressions:!_||_.runExpressions===void 0||_.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:ge,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function($){return new SVGCompElement($,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(_){var j,ee=_.length,re="_";for(j=0;j<ee;j+=1)re+=_[j].transform.key+"_";var le=this.sequences[re];return le||(le={transforms:[].concat(_),finalTransform:new Matrix,_mdf:!1},this.sequences[re]=le,this.sequenceList.push(le)),le},processSequence:function(_,j){for(var ee=0,re=_.transforms.length,le=j;ee<re&&!j;){if(_.transforms[ee].transform.mProps._mdf){le=!0;break}ee+=1}if(le)for(_.finalTransform.reset(),ee=re-1;ee>=0;ee-=1)_.finalTransform.multiply(_.transforms[ee].transform.mProps.v);_._mdf=le},processSequences:function(_){var j,ee=this.sequenceList.length;for(j=0;j<ee;j+=1)this.processSequence(this.sequenceList[j],_)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var _="__lottie_element_luma_buffer",j=null,ee=null,re=null;function le(){var ve=createNS("svg"),Ee=createNS("filter"),Ce=createNS("feColorMatrix");return Ee.setAttribute("id",_),Ce.setAttribute("type","matrix"),Ce.setAttribute("color-interpolation-filters","sRGB"),Ce.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),Ee.appendChild(Ce),ve.appendChild(Ee),ve.setAttribute("id",_+"_svg"),featureSupport.svgLumaHidden&&(ve.style.display="none"),ve}function de(){j||(re=le(),document.body.appendChild(re),j=createTag("canvas"),ee=j.getContext("2d"),ee.filter="url(#"+_+")",ee.fillStyle="rgba(0,0,0,0)",ee.fillRect(0,0,1,1))}function ge(ve){return j||de(),j.width=ve.width,j.height=ve.height,ee.filter="url(#"+_+")",j}return{load:de,get:ge}};function createCanvas($,_){if(featureSupport.offscreenCanvas)return new OffscreenCanvas($,_);var j=createTag("canvas");return j.width=$,j.height=_,j}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects($){var _,j=$.data.ef?$.data.ef.length:0;this.filters=[];var ee;for(_=0;_<j;_+=1){ee=null;var re=$.data.ef[_].ty;if(registeredEffects[re]){var le=registeredEffects[re].effect;ee=new le($.effectsManager.effectElements[_],$)}ee&&this.filters.push(ee)}this.filters.length&&$.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function($){var _,j=this.filters.length;for(_=0;_<j;_+=1)this.filters[_].renderFrame($)},CVEffects.prototype.getEffects=function($){var _,j=this.filters.length,ee=[];for(_=0;_<j;_+=1)this.filters[_].type===$&&ee.push(this.filters[_]);return ee};function registerEffect($,_){registeredEffects[$]={effect:_}}function CVMaskElement($,_){this.data=$,this.element=_,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var j,ee=this.masksProperties.length,re=!1;for(j=0;j<ee;j+=1)this.masksProperties[j].mode!=="n"&&(re=!0),this.viewData[j]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[j],3);this.hasMasks=re,re&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var $=this.element.finalTransform.mat,_=this.element.canvasContext,j,ee=this.masksProperties.length,re,le,de;for(_.beginPath(),j=0;j<ee;j+=1)if(this.masksProperties[j].mode!=="n"){this.masksProperties[j].inv&&(_.moveTo(0,0),_.lineTo(this.element.globalData.compSize.w,0),_.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),_.lineTo(0,this.element.globalData.compSize.h),_.lineTo(0,0)),de=this.viewData[j].v,re=$.applyToPointArray(de.v[0][0],de.v[0][1],0),_.moveTo(re[0],re[1]);var ge,ve=de._length;for(ge=1;ge<ve;ge+=1)le=$.applyToTriplePoints(de.o[ge-1],de.i[ge],de.v[ge]),_.bezierCurveTo(le[0],le[1],le[2],le[3],le[4],le[5]);le=$.applyToTriplePoints(de.o[ge-1],de.i[0],de.v[0]),_.bezierCurveTo(le[0],le[1],le[2],le[3],le[4],le[5])}this.element.globalData.renderer.save(!0),_.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var _=this.globalData.canvasContext,j=assetLoader.createCanvas(_.canvas.width,_.canvas.height);this.buffers.push(j);var ee=assetLoader.createCanvas(_.canvas.width,_.canvas.height);this.buffers.push(ee),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var _=this.globalData;if(_.blendMode!==this.data.bm){_.blendMode=this.data.bm;var j=getBlendMode(this.data.bm);_.canvasContext.globalCompositeOperation=j}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(_){_.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var _=this.buffers[0],j=_.getContext("2d");this.clearCanvas(j),j.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var _=this.buffers[1],j=_.getContext("2d");this.clearCanvas(j),j.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var ee=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(ee.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var re=assetLoader.getLumaCanvas(this.canvasContext.canvas),le=re.getContext("2d");le.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(re,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(_,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(_){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!_)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var j=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(j),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(j),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData($,_,j,ee){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var re=4;_.ty==="rc"?re=5:_.ty==="el"?re=6:_.ty==="sr"&&(re=7),this.sh=ShapePropertyFactory.getShapeProp($,_,re,$);var le,de=j.length,ge;for(le=0;le<de;le+=1)j[le].closed||(ge={transforms:ee.addTransformSequence(j[le].transforms),trNodes:[]},this.styledShapes.push(ge),j[le].elements.push(ge))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement($,_,j){this.shapes=[],this.shapesData=$.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement($,_,j)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function($,_){var j={data:$,type:$.ty,preTransforms:this.transformsManager.addTransformSequence(_),transforms:[],elements:[],closed:$.hd===!0},ee={};if($.ty==="fl"||$.ty==="st"?(ee.c=PropertyFactory.getProp(this,$.c,1,255,this),ee.c.k||(j.co="rgb("+bmFloor(ee.c.v[0])+","+bmFloor(ee.c.v[1])+","+bmFloor(ee.c.v[2])+")")):($.ty==="gf"||$.ty==="gs")&&(ee.s=PropertyFactory.getProp(this,$.s,1,null,this),ee.e=PropertyFactory.getProp(this,$.e,1,null,this),ee.h=PropertyFactory.getProp(this,$.h||{k:0},0,.01,this),ee.a=PropertyFactory.getProp(this,$.a||{k:0},0,degToRads,this),ee.g=new GradientProperty(this,$.g,this)),ee.o=PropertyFactory.getProp(this,$.o,0,.01,this),$.ty==="st"||$.ty==="gs"){if(j.lc=lineCapEnum[$.lc||2],j.lj=lineJoinEnum[$.lj||2],$.lj==1&&(j.ml=$.ml),ee.w=PropertyFactory.getProp(this,$.w,0,null,this),ee.w.k||(j.wi=ee.w.v),$.d){var re=new DashProperty(this,$.d,"canvas",this);ee.d=re,ee.d.k||(j.da=ee.d.dashArray,j.do=ee.d.dashoffset[0])}}else j.r=$.r===2?"evenodd":"nonzero";return this.stylesList.push(j),ee.style=j,ee},CVShapeElement.prototype.createGroupElement=function(){var $={it:[],prevViewData:[]};return $},CVShapeElement.prototype.createTransformElement=function($){var _={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,$.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,$,this)}};return _},CVShapeElement.prototype.createShapeElement=function($){var _=new CVShapeData(this,$,this.stylesList,this.transformsManager);return this.shapes.push(_),this.addShapeToModifiers(_),_},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var $,_=this.itemsData.length;for($=0;$<_;$+=1)this.prevViewData[$]=this.itemsData[$];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),_=this.dynamicProperties.length,$=0;$<_;$+=1)this.dynamicProperties[$].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function($){var _,j=this.stylesList.length;for(_=0;_<j;_+=1)this.stylesList[_].closed||this.stylesList[_].transforms.push($)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var $,_=this.stylesList.length;for($=0;$<_;$+=1)this.stylesList[$].closed||this.stylesList[$].transforms.pop()},CVShapeElement.prototype.closeStyles=function($){var _,j=$.length;for(_=0;_<j;_+=1)$[_].closed=!0},CVShapeElement.prototype.searchShapes=function($,_,j,ee,re){var le,de=$.length-1,ge,ve,Ee=[],Ce=[],Ae,Se,ke,we=[].concat(re);for(le=de;le>=0;le-=1){if(Ae=this.searchProcessedElement($[le]),Ae?_[le]=j[Ae-1]:$[le]._shouldRender=ee,$[le].ty==="fl"||$[le].ty==="st"||$[le].ty==="gf"||$[le].ty==="gs")Ae?_[le].style.closed=!1:_[le]=this.createStyleElement($[le],we),Ee.push(_[le].style);else if($[le].ty==="gr"){if(!Ae)_[le]=this.createGroupElement($[le]);else for(ve=_[le].it.length,ge=0;ge<ve;ge+=1)_[le].prevViewData[ge]=_[le].it[ge];this.searchShapes($[le].it,_[le].it,_[le].prevViewData,ee,we)}else $[le].ty==="tr"?(Ae||(ke=this.createTransformElement($[le]),_[le]=ke),we.push(_[le]),this.addTransformToStyleList(_[le])):$[le].ty==="sh"||$[le].ty==="rc"||$[le].ty==="el"||$[le].ty==="sr"?Ae||(_[le]=this.createShapeElement($[le])):$[le].ty==="tm"||$[le].ty==="rd"||$[le].ty==="pb"||$[le].ty==="zz"||$[le].ty==="op"?(Ae?(Se=_[le],Se.closed=!1):(Se=ShapeModifiers.getModifier($[le].ty),Se.init(this,$[le]),_[le]=Se,this.shapeModifiers.push(Se)),Ce.push(Se)):$[le].ty==="rp"&&(Ae?(Se=_[le],Se.closed=!0):(Se=ShapeModifiers.getModifier($[le].ty),_[le]=Se,Se.init(this,$,le,_),this.shapeModifiers.push(Se),ee=!1),Ce.push(Se));this.addProcessedElement($[le],le+1)}for(this.removeTransformFromStyleList(),this.closeStyles(Ee),de=Ce.length,le=0;le<de;le+=1)Ce[le].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function($,_){($._opMdf||_.op._mdf||this._isFirstFrame)&&(_.opacity=$.opacity,_.opacity*=_.op.v,_._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var $,_=this.stylesList.length,j,ee,re,le,de,ge,ve=this.globalData.renderer,Ee=this.globalData.canvasContext,Ce,Ae;for($=0;$<_;$+=1)if(Ae=this.stylesList[$],Ce=Ae.type,!((Ce==="st"||Ce==="gs")&&Ae.wi===0||!Ae.data._shouldRender||Ae.coOp===0||this.globalData.currentGlobalAlpha===0)){for(ve.save(),de=Ae.elements,Ce==="st"||Ce==="gs"?(ve.ctxStrokeStyle(Ce==="st"?Ae.co:Ae.grd),ve.ctxLineWidth(Ae.wi),ve.ctxLineCap(Ae.lc),ve.ctxLineJoin(Ae.lj),ve.ctxMiterLimit(Ae.ml||0)):ve.ctxFillStyle(Ce==="fl"?Ae.co:Ae.grd),ve.ctxOpacity(Ae.coOp),Ce!=="st"&&Ce!=="gs"&&Ee.beginPath(),ve.ctxTransform(Ae.preTransforms.finalTransform.props),ee=de.length,j=0;j<ee;j+=1){for((Ce==="st"||Ce==="gs")&&(Ee.beginPath(),Ae.da&&(Ee.setLineDash(Ae.da),Ee.lineDashOffset=Ae.do)),ge=de[j].trNodes,le=ge.length,re=0;re<le;re+=1)ge[re].t==="m"?Ee.moveTo(ge[re].p[0],ge[re].p[1]):ge[re].t==="c"?Ee.bezierCurveTo(ge[re].pts[0],ge[re].pts[1],ge[re].pts[2],ge[re].pts[3],ge[re].pts[4],ge[re].pts[5]):Ee.closePath();(Ce==="st"||Ce==="gs")&&(ve.ctxStroke(),Ae.da&&Ee.setLineDash(this.dashResetter))}Ce!=="st"&&Ce!=="gs"&&this.globalData.renderer.ctxFill(Ae.r),ve.restore()}},CVShapeElement.prototype.renderShape=function($,_,j,ee){var re,le=_.length-1,de;for(de=$,re=le;re>=0;re-=1)_[re].ty==="tr"?(de=j[re].transform,this.renderShapeTransform($,de)):_[re].ty==="sh"||_[re].ty==="el"||_[re].ty==="rc"||_[re].ty==="sr"?this.renderPath(_[re],j[re]):_[re].ty==="fl"?this.renderFill(_[re],j[re],de):_[re].ty==="st"?this.renderStroke(_[re],j[re],de):_[re].ty==="gf"||_[re].ty==="gs"?this.renderGradientFill(_[re],j[re],de):_[re].ty==="gr"?this.renderShape(de,_[re].it,j[re].it):_[re].ty;ee&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function($,_){if(this._isFirstFrame||_._mdf||$.transforms._mdf){var j=$.trNodes,ee=_.paths,re,le,de,ge=ee._length;j.length=0;var ve=$.transforms.finalTransform;for(de=0;de<ge;de+=1){var Ee=ee.shapes[de];if(Ee&&Ee.v){for(le=Ee._length,re=1;re<le;re+=1)re===1&&j.push({t:"m",p:ve.applyToPointArray(Ee.v[0][0],Ee.v[0][1],0)}),j.push({t:"c",pts:ve.applyToTriplePoints(Ee.o[re-1],Ee.i[re],Ee.v[re])});le===1&&j.push({t:"m",p:ve.applyToPointArray(Ee.v[0][0],Ee.v[0][1],0)}),Ee.c&&le&&(j.push({t:"c",pts:ve.applyToTriplePoints(Ee.o[re-1],Ee.i[0],Ee.v[0])}),j.push({t:"z"}))}}$.trNodes=j}},CVShapeElement.prototype.renderPath=function($,_){if($.hd!==!0&&$._shouldRender){var j,ee=_.styledShapes.length;for(j=0;j<ee;j+=1)this.renderStyledShape(_.styledShapes[j],_.sh)}},CVShapeElement.prototype.renderFill=function($,_,j){var ee=_.style;(_.c._mdf||this._isFirstFrame)&&(ee.co="rgb("+bmFloor(_.c.v[0])+","+bmFloor(_.c.v[1])+","+bmFloor(_.c.v[2])+")"),(_.o._mdf||j._opMdf||this._isFirstFrame)&&(ee.coOp=_.o.v*j.opacity)},CVShapeElement.prototype.renderGradientFill=function($,_,j){var ee=_.style,re;if(!ee.grd||_.g._mdf||_.s._mdf||_.e._mdf||$.t!==1&&(_.h._mdf||_.a._mdf)){var le=this.globalData.canvasContext,de=_.s.v,ge=_.e.v;if($.t===1)re=le.createLinearGradient(de[0],de[1],ge[0],ge[1]);else{var ve=Math.sqrt(Math.pow(de[0]-ge[0],2)+Math.pow(de[1]-ge[1],2)),Ee=Math.atan2(ge[1]-de[1],ge[0]-de[0]),Ce=_.h.v;Ce>=1?Ce=.99:Ce<=-1&&(Ce=-.99);var Ae=ve*Ce,Se=Math.cos(Ee+_.a.v)*Ae+de[0],ke=Math.sin(Ee+_.a.v)*Ae+de[1];re=le.createRadialGradient(Se,ke,0,de[0],de[1],ve)}var we,Ne=$.g.p,Le=_.g.c,Me=1;for(we=0;we<Ne;we+=1)_.g._hasOpacity&&_.g._collapsable&&(Me=_.g.o[we*2+1]),re.addColorStop(Le[we*4]/100,"rgba("+Le[we*4+1]+","+Le[we*4+2]+","+Le[we*4+3]+","+Me+")");ee.grd=re}ee.coOp=_.o.v*j.opacity},CVShapeElement.prototype.renderStroke=function($,_,j){var ee=_.style,re=_.d;re&&(re._mdf||this._isFirstFrame)&&(ee.da=re.dashArray,ee.do=re.dashoffset[0]),(_.c._mdf||this._isFirstFrame)&&(ee.co="rgb("+bmFloor(_.c.v[0])+","+bmFloor(_.c.v[1])+","+bmFloor(_.c.v[2])+")"),(_.o._mdf||j._opMdf||this._isFirstFrame)&&(ee.coOp=_.o.v*j.opacity),(_.w._mdf||this._isFirstFrame)&&(ee.wi=_.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement($,_,j){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement($,_,j)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var $=this.textProperty.currentData;this.renderedLetters=createSizedArray($.l?$.l.length:0);var _=!1;$.fc?(_=!0,this.values.fill=this.buildColor($.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=_;var j=!1;$.sc&&(j=!0,this.values.stroke=this.buildColor($.sc),this.values.sWidth=$.sw);var ee=this.globalData.fontManager.getFontByName($.f),re,le,de=$.l,ge=this.mHelper;this.stroke=j,this.values.fValue=$.finalSize+"px "+this.globalData.fontManager.getFontByName($.f).fFamily,le=$.finalText.length;var ve,Ee,Ce,Ae,Se,ke,we,Ne,Le,Me,Fe=this.data.singleShape,xe=$.tr*.001*$.finalSize,$e=0,De=0,Oe=!0,Ge=0;for(re=0;re<le;re+=1){ve=this.globalData.fontManager.getCharData($.finalText[re],ee.fStyle,this.globalData.fontManager.getFontByName($.f).fFamily),Ee=ve&&ve.data||{},ge.reset(),Fe&&de[re].n&&($e=-xe,De+=$.yOffset,De+=Oe?1:0,Oe=!1),Se=Ee.shapes?Ee.shapes[0].it:[],we=Se.length,ge.scale($.finalSize/100,$.finalSize/100),Fe&&this.applyTextPropertiesToMatrix($,ge,de[re].line,$e,De),Le=createSizedArray(we-1);var We=0;for(ke=0;ke<we;ke+=1)if(Se[ke].ty==="sh"){for(Ae=Se[ke].ks.k.i.length,Ne=Se[ke].ks.k,Me=[],Ce=1;Ce<Ae;Ce+=1)Ce===1&&Me.push(ge.applyToX(Ne.v[0][0],Ne.v[0][1],0),ge.applyToY(Ne.v[0][0],Ne.v[0][1],0)),Me.push(ge.applyToX(Ne.o[Ce-1][0],Ne.o[Ce-1][1],0),ge.applyToY(Ne.o[Ce-1][0],Ne.o[Ce-1][1],0),ge.applyToX(Ne.i[Ce][0],Ne.i[Ce][1],0),ge.applyToY(Ne.i[Ce][0],Ne.i[Ce][1],0),ge.applyToX(Ne.v[Ce][0],Ne.v[Ce][1],0),ge.applyToY(Ne.v[Ce][0],Ne.v[Ce][1],0));Me.push(ge.applyToX(Ne.o[Ce-1][0],Ne.o[Ce-1][1],0),ge.applyToY(Ne.o[Ce-1][0],Ne.o[Ce-1][1],0),ge.applyToX(Ne.i[0][0],Ne.i[0][1],0),ge.applyToY(Ne.i[0][0],Ne.i[0][1],0),ge.applyToX(Ne.v[0][0],Ne.v[0][1],0),ge.applyToY(Ne.v[0][0],Ne.v[0][1],0)),Le[We]=Me,We+=1}Fe&&($e+=de[re].l,$e+=xe),this.textSpans[Ge]?this.textSpans[Ge].elem=Le:this.textSpans[Ge]={elem:Le},Ge+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var $=this.canvasContext;$.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var _,j,ee,re,le,de,ge=this.textAnimator.renderedLetters,ve=this.textProperty.currentData.l;j=ve.length;var Ee,Ce=null,Ae=null,Se=null,ke,we,Ne=this.globalData.renderer;for(_=0;_<j;_+=1)if(!ve[_].n){if(Ee=ge[_],Ee&&(Ne.save(),Ne.ctxTransform(Ee.p),Ne.ctxOpacity(Ee.o)),this.fill){for(Ee&&Ee.fc?Ce!==Ee.fc&&(Ne.ctxFillStyle(Ee.fc),Ce=Ee.fc):Ce!==this.values.fill&&(Ce=this.values.fill,Ne.ctxFillStyle(this.values.fill)),ke=this.textSpans[_].elem,re=ke.length,this.globalData.canvasContext.beginPath(),ee=0;ee<re;ee+=1)for(we=ke[ee],de=we.length,this.globalData.canvasContext.moveTo(we[0],we[1]),le=2;le<de;le+=6)this.globalData.canvasContext.bezierCurveTo(we[le],we[le+1],we[le+2],we[le+3],we[le+4],we[le+5]);this.globalData.canvasContext.closePath(),Ne.ctxFill()}if(this.stroke){for(Ee&&Ee.sw?Se!==Ee.sw&&(Se=Ee.sw,Ne.ctxLineWidth(Ee.sw)):Se!==this.values.sWidth&&(Se=this.values.sWidth,Ne.ctxLineWidth(this.values.sWidth)),Ee&&Ee.sc?Ae!==Ee.sc&&(Ae=Ee.sc,Ne.ctxStrokeStyle(Ee.sc)):Ae!==this.values.stroke&&(Ae=this.values.stroke,Ne.ctxStrokeStyle(this.values.stroke)),ke=this.textSpans[_].elem,re=ke.length,this.globalData.canvasContext.beginPath(),ee=0;ee<re;ee+=1)for(we=ke[ee],de=we.length,this.globalData.canvasContext.moveTo(we[0],we[1]),le=2;le<de;le+=6)this.globalData.canvasContext.bezierCurveTo(we[le],we[le+1],we[le+2],we[le+3],we[le+4],we[le+5]);this.globalData.canvasContext.closePath(),Ne.ctxStroke()}Ee&&this.globalData.renderer.restore()}};function CVImageElement($,_,j){this.assetData=_.getAssetData($.refId),this.img=_.imageLoader.getAsset(this.assetData),this.initElement($,_,j)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var $=createTag("canvas");$.width=this.assetData.w,$.height=this.assetData.h;var _=$.getContext("2d"),j=this.img.width,ee=this.img.height,re=j/ee,le=this.assetData.w/this.assetData.h,de,ge,ve=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;re>le&&ve==="xMidYMid slice"||re<le&&ve!=="xMidYMid slice"?(ge=ee,de=ge*le):(de=j,ge=de/le),_.drawImage(this.img,(j-de)/2,(ee-ge)/2,de,ge,0,0,this.assetData.w,this.assetData.h),this.img=$}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement($,_,j){this.initElement($,_,j)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function($){return new CVShapeElement($,this.globalData,this)},CanvasRendererBase.prototype.createText=function($){return new CVTextElement($,this.globalData,this)},CanvasRendererBase.prototype.createImage=function($){return new CVImageElement($,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function($){return new CVSolidElement($,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function($){$[0]===1&&$[1]===0&&$[4]===0&&$[5]===1&&$[12]===0&&$[13]===0||this.canvasContext.transform($[0],$[1],$[4],$[5],$[12],$[13])},CanvasRendererBase.prototype.ctxOpacity=function($){this.canvasContext.globalAlpha*=$<0?0:$},CanvasRendererBase.prototype.ctxFillStyle=function($){this.canvasContext.fillStyle=$},CanvasRendererBase.prototype.ctxStrokeStyle=function($){this.canvasContext.strokeStyle=$},CanvasRendererBase.prototype.ctxLineWidth=function($){this.canvasContext.lineWidth=$},CanvasRendererBase.prototype.ctxLineCap=function($){this.canvasContext.lineCap=$},CanvasRendererBase.prototype.ctxLineJoin=function($){this.canvasContext.lineJoin=$},CanvasRendererBase.prototype.ctxMiterLimit=function($){this.canvasContext.miterLimit=$},CanvasRendererBase.prototype.ctxFill=function($){this.canvasContext.fill($)},CanvasRendererBase.prototype.ctxFillRect=function($,_,j,ee){this.canvasContext.fillRect($,_,j,ee)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function($){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}$&&(this.globalData.blendMode="source-over"),this.contextData.restore($)},CanvasRendererBase.prototype.configAnimation=function($){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var _=this.animationItem.container.style;_.width="100%",_.height="100%";var j="0px 0px 0px";_.transformOrigin=j,_.mozTransformOrigin=j,_.webkitTransformOrigin=j,_["-webkit-transform"]=j,_.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=$,this.layers=$.layers,this.transformCanvas={w:$.w,h:$.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData($,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray($.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function($,_){this.reset();var j,ee;$?(j=$,ee=_,this.canvasContext.canvas.width=j,this.canvasContext.canvas.height=ee):(this.animationItem.wrapper&&this.animationItem.container?(j=this.animationItem.wrapper.offsetWidth,ee=this.animationItem.wrapper.offsetHeight):(j=this.canvasContext.canvas.width,ee=this.canvasContext.canvas.height),this.canvasContext.canvas.width=j*this.renderConfig.dpr,this.canvasContext.canvas.height=ee*this.renderConfig.dpr);var re,le;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var de=this.renderConfig.preserveAspectRatio.split(" "),ge=de[1]||"meet",ve=de[0]||"xMidYMid",Ee=ve.substr(0,4),Ce=ve.substr(4);re=j/ee,le=this.transformCanvas.w/this.transformCanvas.h,le>re&&ge==="meet"||le<re&&ge==="slice"?(this.transformCanvas.sx=j/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=j/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=ee/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=ee/(this.transformCanvas.h/this.renderConfig.dpr)),Ee==="xMid"&&(le<re&&ge==="meet"||le>re&&ge==="slice")?this.transformCanvas.tx=(j-this.transformCanvas.w*(ee/this.transformCanvas.h))/2*this.renderConfig.dpr:Ee==="xMax"&&(le<re&&ge==="meet"||le>re&&ge==="slice")?this.transformCanvas.tx=(j-this.transformCanvas.w*(ee/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,Ce==="YMid"&&(le>re&&ge==="meet"||le<re&&ge==="slice")?this.transformCanvas.ty=(ee-this.transformCanvas.h*(j/this.transformCanvas.w))/2*this.renderConfig.dpr:Ce==="YMax"&&(le>re&&ge==="meet"||le<re&&ge==="slice")?this.transformCanvas.ty=(ee-this.transformCanvas.h*(j/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=j/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=ee/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var $,_=this.layers?this.layers.length:0;for($=_-1;$>=0;$-=1)this.elements[$]&&this.elements[$].destroy&&this.elements[$].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function($,_){if(!(this.renderedFrame===$&&this.renderConfig.clearCanvas===!0&&!_||this.destroyed||$===-1)){this.renderedFrame=$,this.globalData.frameNum=$-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||_,this.globalData.projectInterface.currentFrame=$;var j,ee=this.layers.length;for(this.completeLayers||this.checkLayers($),j=ee-1;j>=0;j-=1)(this.completeLayers||this.elements[j])&&this.elements[j].prepareFrame($-this.layers[j].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),j=ee-1;j>=0;j-=1)(this.completeLayers||this.elements[j])&&this.elements[j].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function($){var _=this.elements;if(!(_[$]||this.layers[$].ty===99)){var j=this.createItem(this.layers[$],this,this.globalData);_[$]=j,j.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var $=this.pendingElements.pop();$.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var $,_=15;for($=0;$<_;$+=1){var j=new CanvasContext;this.stack[$]=j}this._length=_,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var $=this._length*2,_=0;for(_=this._length;_<$;_+=1)this.stack[_]=new CanvasContext;this._length=$},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function($){this.cArrPos-=1;var _=this.stack[this.cArrPos],j=_.transform,ee,re=this.cTr.props;for(ee=0;ee<16;ee+=1)re[ee]=j[ee];if($){this.nativeContext.restore();var le=this.stack[this.cArrPos+1];this.appliedFillStyle=le.fillStyle,this.appliedStrokeStyle=le.strokeStyle,this.appliedLineWidth=le.lineWidth,this.appliedLineCap=le.lineCap,this.appliedLineJoin=le.lineJoin,this.appliedMiterLimit=le.miterLimit}this.nativeContext.setTransform(j[0],j[1],j[4],j[5],j[12],j[13]),($||_.opacity!==-1&&this.currentOpacity!==_.opacity)&&(this.nativeContext.globalAlpha=_.opacity,this.currentOpacity=_.opacity),this.currentFillStyle=_.fillStyle,this.currentStrokeStyle=_.strokeStyle,this.currentLineWidth=_.lineWidth,this.currentLineCap=_.lineCap,this.currentLineJoin=_.lineJoin,this.currentMiterLimit=_.miterLimit},CVContextData.prototype.save=function($){$&&this.nativeContext.save();var _=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var j=this.stack[this.cArrPos],ee;for(ee=0;ee<16;ee+=1)j.transform[ee]=_[ee];this.cArrPos+=1;var re=this.stack[this.cArrPos];re.opacity=j.opacity,re.fillStyle=j.fillStyle,re.strokeStyle=j.strokeStyle,re.lineWidth=j.lineWidth,re.lineCap=j.lineCap,re.lineJoin=j.lineJoin,re.miterLimit=j.miterLimit},CVContextData.prototype.setOpacity=function($){this.stack[this.cArrPos].opacity=$},CVContextData.prototype.setContext=function($){this.nativeContext=$},CVContextData.prototype.fillStyle=function($){this.stack[this.cArrPos].fillStyle!==$&&(this.currentFillStyle=$,this.stack[this.cArrPos].fillStyle=$)},CVContextData.prototype.strokeStyle=function($){this.stack[this.cArrPos].strokeStyle!==$&&(this.currentStrokeStyle=$,this.stack[this.cArrPos].strokeStyle=$)},CVContextData.prototype.lineWidth=function($){this.stack[this.cArrPos].lineWidth!==$&&(this.currentLineWidth=$,this.stack[this.cArrPos].lineWidth=$)},CVContextData.prototype.lineCap=function($){this.stack[this.cArrPos].lineCap!==$&&(this.currentLineCap=$,this.stack[this.cArrPos].lineCap=$)},CVContextData.prototype.lineJoin=function($){this.stack[this.cArrPos].lineJoin!==$&&(this.currentLineJoin=$,this.stack[this.cArrPos].lineJoin=$)},CVContextData.prototype.miterLimit=function($){this.stack[this.cArrPos].miterLimit!==$&&(this.currentMiterLimit=$,this.stack[this.cArrPos].miterLimit=$)},CVContextData.prototype.transform=function($){this.transformMat.cloneFromProps($);var _=this.cTr;this.transformMat.multiply(_),_.cloneFromProps(this.transformMat.props);var j=_.props;this.nativeContext.setTransform(j[0],j[1],j[4],j[5],j[12],j[13])},CVContextData.prototype.opacity=function($){var _=this.stack[this.cArrPos].opacity;_*=$<0?0:$,this.stack[this.cArrPos].opacity!==_&&(this.currentOpacity!==$&&(this.nativeContext.globalAlpha=$,this.currentOpacity=$),this.stack[this.cArrPos].opacity=_)},CVContextData.prototype.fill=function($){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill($)},CVContextData.prototype.fillRect=function($,_,j,ee){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect($,_,j,ee)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement($,_,j){this.completeLayers=!1,this.layers=$.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement($,_,j),this.tm=$.tm?PropertyFactory.getProp(this,$.tm,0,_.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var $=this.canvasContext;$.beginPath(),$.moveTo(0,0),$.lineTo(this.data.w,0),$.lineTo(this.data.w,this.data.h),$.lineTo(0,this.data.h),$.lineTo(0,0),$.clip();var _,j=this.layers.length;for(_=j-1;_>=0;_-=1)(this.completeLayers||this.elements[_])&&this.elements[_].renderFrame()},CVCompElement.prototype.destroy=function(){var $,_=this.layers.length;for($=_-1;$>=0;$-=1)this.elements[$]&&this.elements[$].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function($){return new CVCompElement($,this.globalData,this)};function CanvasRenderer($,_){this.animationItem=$,this.renderConfig={clearCanvas:_&&_.clearCanvas!==void 0?_.clearCanvas:!0,context:_&&_.context||null,progressiveLoad:_&&_.progressiveLoad||!1,preserveAspectRatio:_&&_.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:_&&_.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:_&&_.contentVisibility||"visible",className:_&&_.className||"",id:_&&_.id||"",runExpressions:!_||_.runExpressions===void 0||_.runExpressions},this.renderConfig.dpr=_&&_.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=_&&_.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function($){return new CVCompElement($,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var _=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var j=this.finalTransform.mat.toCSS();_.transform=j,_.webkitTransform=j}this.finalTransform._opMdf&&(_.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement($,_,j){this.initElement($,_,j)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var $;this.data.hasMask?($=createNS("rect"),$.setAttribute("width",this.data.sw),$.setAttribute("height",this.data.sh),$.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):($=createTag("div"),$.style.width=this.data.sw+"px",$.style.height=this.data.sh+"px",$.style.backgroundColor=this.data.sc),this.layerElement.appendChild($)};function HShapeElement($,_,j){this.shapes=[],this.shapesData=$.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement($,_,j),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var $;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),$=this.svgElement;else{$=createNS("svg");var _=this.comp.data?this.comp.data:this.globalData.compSize;$.setAttribute("width",_.w),$.setAttribute("height",_.h),$.appendChild(this.shapesContainer),this.layerElement.appendChild($)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=$},HShapeElement.prototype.getTransformedPoint=function($,_){var j,ee=$.length;for(j=0;j<ee;j+=1)_=$[j].mProps.v.applyToPointArray(_[0],_[1],0);return _},HShapeElement.prototype.calculateShapeBoundingBox=function($,_){var j=$.sh.v,ee=$.transformers,re,le=j._length,de,ge,ve,Ee;if(!(le<=1)){for(re=0;re<le-1;re+=1)de=this.getTransformedPoint(ee,j.v[re]),ge=this.getTransformedPoint(ee,j.o[re]),ve=this.getTransformedPoint(ee,j.i[re+1]),Ee=this.getTransformedPoint(ee,j.v[re+1]),this.checkBounds(de,ge,ve,Ee,_);j.c&&(de=this.getTransformedPoint(ee,j.v[re]),ge=this.getTransformedPoint(ee,j.o[re]),ve=this.getTransformedPoint(ee,j.i[0]),Ee=this.getTransformedPoint(ee,j.v[0]),this.checkBounds(de,ge,ve,Ee,_))}},HShapeElement.prototype.checkBounds=function($,_,j,ee,re){this.getBoundsOfCurve($,_,j,ee);var le=this.shapeBoundingBox;re.x=bmMin(le.left,re.x),re.xMax=bmMax(le.right,re.xMax),re.y=bmMin(le.top,re.y),re.yMax=bmMax(le.bottom,re.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function($,_,j,ee){for(var re=[[$[0],ee[0]],[$[1],ee[1]]],le,de,ge,ve,Ee,Ce,Ae,Se=0;Se<2;++Se)de=6*$[Se]-12*_[Se]+6*j[Se],le=-3*$[Se]+9*_[Se]-9*j[Se]+3*ee[Se],ge=3*_[Se]-3*$[Se],de|=0,le|=0,ge|=0,le===0&&de===0||(le===0?(ve=-ge/de,ve>0&&ve<1&&re[Se].push(this.calculateF(ve,$,_,j,ee,Se))):(Ee=de*de-4*ge*le,Ee>=0&&(Ce=(-de+bmSqrt(Ee))/(2*le),Ce>0&&Ce<1&&re[Se].push(this.calculateF(Ce,$,_,j,ee,Se)),Ae=(-de-bmSqrt(Ee))/(2*le),Ae>0&&Ae<1&&re[Se].push(this.calculateF(Ae,$,_,j,ee,Se)))));this.shapeBoundingBox.left=bmMin.apply(null,re[0]),this.shapeBoundingBox.top=bmMin.apply(null,re[1]),this.shapeBoundingBox.right=bmMax.apply(null,re[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,re[1])},HShapeElement.prototype.calculateF=function($,_,j,ee,re,le){return bmPow(1-$,3)*_[le]+3*bmPow(1-$,2)*$*j[le]+3*(1-$)*bmPow($,2)*ee[le]+bmPow($,3)*re[le]},HShapeElement.prototype.calculateBoundingBox=function($,_){var j,ee=$.length;for(j=0;j<ee;j+=1)$[j]&&$[j].sh?this.calculateShapeBoundingBox($[j],_):$[j]&&$[j].it?this.calculateBoundingBox($[j].it,_):$[j]&&$[j].style&&$[j].w&&this.expandStrokeBoundingBox($[j].w,_)},HShapeElement.prototype.expandStrokeBoundingBox=function($,_){var j=0;if($.keyframes){for(var ee=0;ee<$.keyframes.length;ee+=1){var re=$.keyframes[ee].s;re>j&&(j=re)}j*=$.mult}else j=$.v*$.mult;_.x-=j,_.xMax+=j,_.y-=j,_.yMax+=j},HShapeElement.prototype.currentBoxContains=function($){return this.currentBBox.x<=$.x&&this.currentBBox.y<=$.y&&this.currentBBox.width+this.currentBBox.x>=$.x+$.width&&this.currentBBox.height+this.currentBBox.y>=$.y+$.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var $=this.tempBoundingBox,_=999999;if($.x=_,$.xMax=-_,$.y=_,$.yMax=-_,this.calculateBoundingBox(this.itemsData,$),$.width=$.xMax<$.x?0:$.xMax-$.x,$.height=$.yMax<$.y?0:$.yMax-$.y,this.currentBoxContains($))return;var j=!1;if(this.currentBBox.w!==$.width&&(this.currentBBox.w=$.width,this.shapeCont.setAttribute("width",$.width),j=!0),this.currentBBox.h!==$.height&&(this.currentBBox.h=$.height,this.shapeCont.setAttribute("height",$.height),j=!0),j||this.currentBBox.x!==$.x||this.currentBBox.y!==$.y){this.currentBBox.w=$.width,this.currentBBox.h=$.height,this.currentBBox.x=$.x,this.currentBBox.y=$.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var ee=this.shapeCont.style,re="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";ee.transform=re,ee.webkitTransform=re}}};function HTextElement($,_,j){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement($,_,j)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var $=createNS("g");this.maskedElement.appendChild($),this.innerElem=$}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var $=this.textProperty.currentData;this.renderedLetters=createSizedArray($.l?$.l.length:0);var _=this.innerElem.style,j=$.fc?this.buildColor($.fc):"rgba(0,0,0,0)";_.fill=j,_.color=j,$.sc&&(_.stroke=this.buildColor($.sc),_.strokeWidth=$.sw+"px");var ee=this.globalData.fontManager.getFontByName($.f);if(!this.globalData.fontManager.chars)if(_.fontSize=$.finalSize+"px",_.lineHeight=$.finalSize+"px",ee.fClass)this.innerElem.className=ee.fClass;else{_.fontFamily=ee.fFamily;var re=$.fWeight,le=$.fStyle;_.fontStyle=le,_.fontWeight=re}var de,ge,ve=$.l;ge=ve.length;var Ee,Ce,Ae,Se=this.mHelper,ke,we="",Ne=0;for(de=0;de<ge;de+=1){if(this.globalData.fontManager.chars?(this.textPaths[Ne]?Ee=this.textPaths[Ne]:(Ee=createNS("path"),Ee.setAttribute("stroke-linecap",lineCapEnum[1]),Ee.setAttribute("stroke-linejoin",lineJoinEnum[2]),Ee.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[Ne]?(Ce=this.textSpans[Ne],Ae=Ce.children[0]):(Ce=createTag("div"),Ce.style.lineHeight=0,Ae=createNS("svg"),Ae.appendChild(Ee),styleDiv(Ce)))):this.isMasked?Ee=this.textPaths[Ne]?this.textPaths[Ne]:createNS("text"):this.textSpans[Ne]?(Ce=this.textSpans[Ne],Ee=this.textPaths[Ne]):(Ce=createTag("span"),styleDiv(Ce),Ee=createTag("span"),styleDiv(Ee),Ce.appendChild(Ee)),this.globalData.fontManager.chars){var Le=this.globalData.fontManager.getCharData($.finalText[de],ee.fStyle,this.globalData.fontManager.getFontByName($.f).fFamily),Me;if(Le?Me=Le.data:Me=null,Se.reset(),Me&&Me.shapes&&Me.shapes.length&&(ke=Me.shapes[0].it,Se.scale($.finalSize/100,$.finalSize/100),we=this.createPathShape(Se,ke),Ee.setAttribute("d",we)),this.isMasked)this.innerElem.appendChild(Ee);else{if(this.innerElem.appendChild(Ce),Me&&Me.shapes){document.body.appendChild(Ae);var Fe=Ae.getBBox();Ae.setAttribute("width",Fe.width+2),Ae.setAttribute("height",Fe.height+2),Ae.setAttribute("viewBox",Fe.x-1+" "+(Fe.y-1)+" "+(Fe.width+2)+" "+(Fe.height+2));var xe=Ae.style,$e="translate("+(Fe.x-1)+"px,"+(Fe.y-1)+"px)";xe.transform=$e,xe.webkitTransform=$e,ve[de].yOffset=Fe.y-1}else Ae.setAttribute("width",1),Ae.setAttribute("height",1);Ce.appendChild(Ae)}}else if(Ee.textContent=ve[de].val,Ee.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(Ee);else{this.innerElem.appendChild(Ce);var De=Ee.style,Oe="translate3d(0,"+-$.finalSize/1.2+"px,0)";De.transform=Oe,De.webkitTransform=Oe}this.isMasked?this.textSpans[Ne]=Ee:this.textSpans[Ne]=Ce,this.textSpans[Ne].style.display="block",this.textPaths[Ne]=Ee,Ne+=1}for(;Ne<this.textSpans.length;)this.textSpans[Ne].style.display="none",Ne+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var $;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),$=this.svgElement.style;var _="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";$.transform=_,$.webkitTransform=_}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var j,ee,re=0,le=this.textAnimator.renderedLetters,de=this.textProperty.currentData.l;ee=de.length;var ge,ve,Ee;for(j=0;j<ee;j+=1)de[j].n?re+=1:(ve=this.textSpans[j],Ee=this.textPaths[j],ge=le[re],re+=1,ge._mdf.m&&(this.isMasked?ve.setAttribute("transform",ge.m):(ve.style.webkitTransform=ge.m,ve.style.transform=ge.m)),ve.style.opacity=ge.o,ge.sw&&ge._mdf.sw&&Ee.setAttribute("stroke-width",ge.sw),ge.sc&&ge._mdf.sc&&Ee.setAttribute("stroke",ge.sc),ge.fc&&ge._mdf.fc&&(Ee.setAttribute("fill",ge.fc),Ee.style.color=ge.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var Ce=this.innerElem.getBBox();this.currentBBox.w!==Ce.width&&(this.currentBBox.w=Ce.width,this.svgElement.setAttribute("width",Ce.width)),this.currentBBox.h!==Ce.height&&(this.currentBBox.h=Ce.height,this.svgElement.setAttribute("height",Ce.height));var Ae=1;if(this.currentBBox.w!==Ce.width+Ae*2||this.currentBBox.h!==Ce.height+Ae*2||this.currentBBox.x!==Ce.x-Ae||this.currentBBox.y!==Ce.y-Ae){this.currentBBox.w=Ce.width+Ae*2,this.currentBBox.h=Ce.height+Ae*2,this.currentBBox.x=Ce.x-Ae,this.currentBBox.y=Ce.y-Ae,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),$=this.svgElement.style;var Se="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";$.transform=Se,$.webkitTransform=Se}}}};function HCameraElement($,_,j){this.initFrame(),this.initBaseData($,_,j),this.initHierarchy();var ee=PropertyFactory.getProp;if(this.pe=ee(this,$.pe,0,0,this),$.ks.p.s?(this.px=ee(this,$.ks.p.x,1,0,this),this.py=ee(this,$.ks.p.y,1,0,this),this.pz=ee(this,$.ks.p.z,1,0,this)):this.p=ee(this,$.ks.p,1,0,this),$.ks.a&&(this.a=ee(this,$.ks.a,1,0,this)),$.ks.or.k.length&&$.ks.or.k[0].to){var re,le=$.ks.or.k.length;for(re=0;re<le;re+=1)$.ks.or.k[re].to=null,$.ks.or.k[re].ti=null}this.or=ee(this,$.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=ee(this,$.ks.rx,0,degToRads,this),this.ry=ee(this,$.ks.ry,0,degToRads,this),this.rz=ee(this,$.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var $,_=this.comp.threeDElements.length,j,ee,re;for($=0;$<_;$+=1)if(j=this.comp.threeDElements[$],j.type==="3d"){ee=j.perspectiveElem.style,re=j.container.style;var le=this.pe.v+"px",de="0px 0px 0px",ge="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";ee.perspective=le,ee.webkitPerspective=le,re.transformOrigin=de,re.mozTransformOrigin=de,re.webkitTransformOrigin=de,ee.transform=ge,ee.webkitTransform=ge}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var $=this._isFirstFrame,_,j;if(this.hierarchy)for(j=this.hierarchy.length,_=0;_<j;_+=1)$=this.hierarchy[_].finalTransform.mProp._mdf||$;if($||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(j=this.hierarchy.length-1,_=j;_>=0;_-=1){var ee=this.hierarchy[_].finalTransform.mProp;this.mat.translate(-ee.p.v[0],-ee.p.v[1],ee.p.v[2]),this.mat.rotateX(-ee.or.v[0]).rotateY(-ee.or.v[1]).rotateZ(ee.or.v[2]),this.mat.rotateX(-ee.rx.v).rotateY(-ee.ry.v).rotateZ(ee.rz.v),this.mat.scale(1/ee.s.v[0],1/ee.s.v[1],1/ee.s.v[2]),this.mat.translate(ee.a.v[0],ee.a.v[1],ee.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var re;this.p?re=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:re=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var le=Math.sqrt(Math.pow(re[0],2)+Math.pow(re[1],2)+Math.pow(re[2],2)),de=[re[0]/le,re[1]/le,re[2]/le],ge=Math.sqrt(de[2]*de[2]+de[0]*de[0]),ve=Math.atan2(de[1],ge),Ee=Math.atan2(de[0],-de[2]);this.mat.rotateY(Ee).rotateX(-ve)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var Ce=!this._prevMat.equals(this.mat);if((Ce||this.pe._mdf)&&this.comp.threeDElements){j=this.comp.threeDElements.length;var Ae,Se,ke;for(_=0;_<j;_+=1)if(Ae=this.comp.threeDElements[_],Ae.type==="3d"){if(Ce){var we=this.mat.toCSS();ke=Ae.container.style,ke.transform=we,ke.webkitTransform=we}this.pe._mdf&&(Se=Ae.perspectiveElem.style,Se.perspective=this.pe.v+"px",Se.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function($){this.prepareProperties($,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement($,_,j){this.assetData=_.getAssetData($.refId),this.initElement($,_,j)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var $=this.globalData.getAssetsPath(this.assetData),_=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",$),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(_),_.crossOrigin="anonymous",_.src=$,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase($,_){this.animationItem=$,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:_&&_.className||"",imagePreserveAspectRatio:_&&_.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(_&&_.hideOnTransparent===!1),filterSize:{width:_&&_.filterSize&&_.filterSize.width||"400%",height:_&&_.filterSize&&_.filterSize.height||"400%",x:_&&_.filterSize&&_.filterSize.x||"-100%",y:_&&_.filterSize&&_.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var $=this.pendingElements.pop();$.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function($,_){var j=$.getBaseElement();if(j){var ee=this.layers[_];if(!ee.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(j,_);else{for(var re=0,le,de,ge;re<_;)this.elements[re]&&this.elements[re]!==!0&&this.elements[re].getBaseElement&&(de=this.elements[re],ge=this.layers[re].ddd?this.getThreeDContainerByPos(re):de.getBaseElement(),le=ge||le),re+=1;le?(!ee.ddd||!this.supports3d)&&this.layerElement.insertBefore(j,le):(!ee.ddd||!this.supports3d)&&this.layerElement.appendChild(j)}else this.addTo3dContainer(j,_)}},HybridRendererBase.prototype.createShape=function($){return this.supports3d?new HShapeElement($,this.globalData,this):new SVGShapeElement($,this.globalData,this)},HybridRendererBase.prototype.createText=function($){return this.supports3d?new HTextElement($,this.globalData,this):new SVGTextLottieElement($,this.globalData,this)},HybridRendererBase.prototype.createCamera=function($){return this.camera=new HCameraElement($,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function($){return this.supports3d?new HImageElement($,this.globalData,this):new IImageElement($,this.globalData,this)},HybridRendererBase.prototype.createSolid=function($){return this.supports3d?new HSolidElement($,this.globalData,this):new ISolidElement($,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function($){for(var _=0,j=this.threeDElements.length;_<j;){if(this.threeDElements[_].startPos<=$&&this.threeDElements[_].endPos>=$)return this.threeDElements[_].perspectiveElem;_+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function($,_){var j=createTag("div"),ee,re;styleDiv(j);var le=createTag("div");if(styleDiv(le),_==="3d"){ee=j.style,ee.width=this.globalData.compSize.w+"px",ee.height=this.globalData.compSize.h+"px";var de="50% 50%";ee.webkitTransformOrigin=de,ee.mozTransformOrigin=de,ee.transformOrigin=de,re=le.style;var ge="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";re.transform=ge,re.webkitTransform=ge}j.appendChild(le);var ve={container:le,perspectiveElem:j,startPos:$,endPos:$,type:_};return this.threeDElements.push(ve),ve},HybridRendererBase.prototype.build3dContainers=function(){var $,_=this.layers.length,j,ee="";for($=0;$<_;$+=1)this.layers[$].ddd&&this.layers[$].ty!==3?(ee!=="3d"&&(ee="3d",j=this.createThreeDContainer($,"3d")),j.endPos=Math.max(j.endPos,$)):(ee!=="2d"&&(ee="2d",j=this.createThreeDContainer($,"2d")),j.endPos=Math.max(j.endPos,$));for(_=this.threeDElements.length,$=_-1;$>=0;$-=1)this.resizerElem.appendChild(this.threeDElements[$].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function($,_){for(var j=0,ee=this.threeDElements.length;j<ee;){if(_<=this.threeDElements[j].endPos){for(var re=this.threeDElements[j].startPos,le;re<_;)this.elements[re]&&this.elements[re].getBaseElement&&(le=this.elements[re].getBaseElement()),re+=1;le?this.threeDElements[j].container.insertBefore($,le):this.threeDElements[j].container.appendChild($);break}j+=1}},HybridRendererBase.prototype.configAnimation=function($){var _=createTag("div"),j=this.animationItem.wrapper,ee=_.style;ee.width=$.w+"px",ee.height=$.h+"px",this.resizerElem=_,styleDiv(_),ee.transformStyle="flat",ee.mozTransformStyle="flat",ee.webkitTransformStyle="flat",this.renderConfig.className&&_.setAttribute("class",this.renderConfig.className),j.appendChild(_),ee.overflow="hidden";var re=createNS("svg");re.setAttribute("width","1"),re.setAttribute("height","1"),styleDiv(re),this.resizerElem.appendChild(re);var le=createNS("defs");re.appendChild(le),this.data=$,this.setupGlobalData($,re),this.globalData.defs=le,this.layers=$.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var $,_=this.layers?this.layers.length:0;for($=0;$<_;$+=1)this.elements[$]&&this.elements[$].destroy&&this.elements[$].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var $=this.animationItem.wrapper.offsetWidth,_=this.animationItem.wrapper.offsetHeight,j=$/_,ee=this.globalData.compSize.w/this.globalData.compSize.h,re,le,de,ge;ee>j?(re=$/this.globalData.compSize.w,le=$/this.globalData.compSize.w,de=0,ge=(_-this.globalData.compSize.h*($/this.globalData.compSize.w))/2):(re=_/this.globalData.compSize.h,le=_/this.globalData.compSize.h,de=($-this.globalData.compSize.w*(_/this.globalData.compSize.h))/2,ge=0);var ve=this.resizerElem.style;ve.webkitTransform="matrix3d("+re+",0,0,0,0,"+le+",0,0,0,0,1,0,"+de+","+ge+",0,1)",ve.transform=ve.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var $=this.globalData.compSize.w,_=this.globalData.compSize.h,j,ee=this.threeDElements.length;for(j=0;j<ee;j+=1){var re=this.threeDElements[j].perspectiveElem.style;re.webkitPerspective=Math.sqrt(Math.pow($,2)+Math.pow(_,2))+"px",re.perspective=re.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function($){var _,j=$.length,ee=createTag("div");for(_=0;_<j;_+=1)if($[_].xt){var re=this.createComp($[_],ee,this.globalData.comp,null);re.initExpressions(),this.globalData.projectInterface.registerComposition(re)}};function HCompElement($,_,j){this.layers=$.layers,this.supports3d=!$.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement($,_,j),this.tm=$.tm?PropertyFactory.getProp(this,$.tm,0,_.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function($,_){for(var j=0,ee;j<_;)this.elements[j]&&this.elements[j].getBaseElement&&(ee=this.elements[j].getBaseElement()),j+=1;ee?this.layerElement.insertBefore($,ee):this.layerElement.appendChild($)},HCompElement.prototype.createComp=function($){return this.supports3d?new HCompElement($,this.globalData,this):new SVGCompElement($,this.globalData,this)};function HybridRenderer($,_){this.animationItem=$,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:_&&_.className||"",imagePreserveAspectRatio:_&&_.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(_&&_.hideOnTransparent===!1),filterSize:{width:_&&_.filterSize&&_.filterSize.width||"400%",height:_&&_.filterSize&&_.filterSize.height||"400%",x:_&&_.filterSize&&_.filterSize.x||"-100%",y:_&&_.filterSize&&_.filterSize.y||"-100%"},runExpressions:!_||_.runExpressions===void 0||_.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function($){return this.supports3d?new HCompElement($,this.globalData,this):new SVGCompElement($,this.globalData,this)};var CompExpressionInterface=function(){return function($){function _(j){for(var ee=0,re=$.layers.length;ee<re;){if($.layers[ee].nm===j||$.layers[ee].ind===j)return $.elements[ee].layerInterface;ee+=1}return null}return Object.defineProperty(_,"_name",{value:$.data.nm}),_.layer=_,_.pixelAspect=1,_.height=$.data.h||$.globalData.compSize.h,_.width=$.data.w||$.globalData.compSize.w,_.pixelAspect=1,_.frameDuration=1/$.globalData.frameRate,_.displayStartTime=0,_.numLayers=$.layers.length,_}}();function _typeof$2($){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(j){return typeof j}:_typeof$2=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},_typeof$2($)}function seedRandom($,_){var j=this,ee=256,re=6,le=52,de="random",ge=_.pow(ee,re),ve=_.pow(2,le),Ee=ve*2,Ce=ee-1,Ae;function Se(xe,$e,De){var Oe=[];$e=$e===!0?{entropy:!0}:$e||{};var Ge=Le(Ne($e.entropy?[xe,Fe($)]:xe===null?Me():xe,3),Oe),We=new ke(Oe),Ze=function(){for(var tt=We.g(re),Ke=ge,Xe=0;tt<ve;)tt=(tt+Xe)*ee,Ke*=ee,Xe=We.g(1);for(;tt>=Ee;)tt/=2,Ke/=2,Xe>>>=1;return(tt+Xe)/Ke};return Ze.int32=function(){return We.g(4)|0},Ze.quick=function(){return We.g(4)/4294967296},Ze.double=Ze,Le(Fe(We.S),$),($e.pass||De||function(Qe,tt,Ke,Xe){return Xe&&(Xe.S&&we(Xe,We),Qe.state=function(){return we(We,{})}),Ke?(_[de]=Qe,tt):Qe})(Ze,Ge,"global"in $e?$e.global:this==_,$e.state)}_["seed"+de]=Se;function ke(xe){var $e,De=xe.length,Oe=this,Ge=0,We=Oe.i=Oe.j=0,Ze=Oe.S=[];for(De||(xe=[De++]);Ge<ee;)Ze[Ge]=Ge++;for(Ge=0;Ge<ee;Ge++)Ze[Ge]=Ze[We=Ce&We+xe[Ge%De]+($e=Ze[Ge])],Ze[We]=$e;Oe.g=function(Qe){for(var tt,Ke=0,Xe=Oe.i,ot=Oe.j,et=Oe.S;Qe--;)tt=et[Xe=Ce&Xe+1],Ke=Ke*ee+et[Ce&(et[Xe]=et[ot=Ce&ot+tt])+(et[ot]=tt)];return Oe.i=Xe,Oe.j=ot,Ke}}function we(xe,$e){return $e.i=xe.i,$e.j=xe.j,$e.S=xe.S.slice(),$e}function Ne(xe,$e){var De=[],Oe=_typeof$2(xe),Ge;if($e&&Oe=="object")for(Ge in xe)try{De.push(Ne(xe[Ge],$e-1))}catch{}return De.length?De:Oe=="string"?xe:xe+"\0"}function Le(xe,$e){for(var De=xe+"",Oe,Ge=0;Ge<De.length;)$e[Ce&Ge]=Ce&(Oe^=$e[Ce&Ge]*19)+De.charCodeAt(Ge++);return Fe($e)}function Me(){try{var xe=new Uint8Array(ee);return(j.crypto||j.msCrypto).getRandomValues(xe),Fe(xe)}catch{var $e=j.navigator,De=$e&&$e.plugins;return[+new Date,j,De,j.screen,Fe($)]}}function Fe(xe){return String.fromCharCode.apply(0,xe)}Le(_.random(),$)}function initialize$2($){seedRandom([],$)}var propTypes={SHAPE:"shape"};function _typeof$1($){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(j){return typeof j}:_typeof$1=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},_typeof$1($)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray($){return $.constructor===Array||$.constructor===Float32Array}function isNumerable($,_){return $==="number"||_ instanceof Number||$==="boolean"||$==="string"}function $bm_neg($){var _=_typeof$1($);if(_==="number"||$ instanceof Number||_==="boolean")return-$;if($bm_isInstanceOfArray($)){var j,ee=$.length,re=[];for(j=0;j<ee;j+=1)re[j]=-$[j];return re}return $.propType?$.v:-$}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum($,_){var j=_typeof$1($),ee=_typeof$1(_);if(isNumerable(j,$)&&isNumerable(ee,_)||j==="string"||ee==="string")return $+_;if($bm_isInstanceOfArray($)&&isNumerable(ee,_))return $=$.slice(0),$[0]+=_,$;if(isNumerable(j,$)&&$bm_isInstanceOfArray(_))return _=_.slice(0),_[0]=$+_[0],_;if($bm_isInstanceOfArray($)&&$bm_isInstanceOfArray(_)){for(var re=0,le=$.length,de=_.length,ge=[];re<le||re<de;)(typeof $[re]=="number"||$[re]instanceof Number)&&(typeof _[re]=="number"||_[re]instanceof Number)?ge[re]=$[re]+_[re]:ge[re]=_[re]===void 0?$[re]:$[re]||_[re],re+=1;return ge}return 0}var add=sum;function sub($,_){var j=_typeof$1($),ee=_typeof$1(_);if(isNumerable(j,$)&&isNumerable(ee,_))return j==="string"&&($=parseInt($,10)),ee==="string"&&(_=parseInt(_,10)),$-_;if($bm_isInstanceOfArray($)&&isNumerable(ee,_))return $=$.slice(0),$[0]-=_,$;if(isNumerable(j,$)&&$bm_isInstanceOfArray(_))return _=_.slice(0),_[0]=$-_[0],_;if($bm_isInstanceOfArray($)&&$bm_isInstanceOfArray(_)){for(var re=0,le=$.length,de=_.length,ge=[];re<le||re<de;)(typeof $[re]=="number"||$[re]instanceof Number)&&(typeof _[re]=="number"||_[re]instanceof Number)?ge[re]=$[re]-_[re]:ge[re]=_[re]===void 0?$[re]:$[re]||_[re],re+=1;return ge}return 0}function mul($,_){var j=_typeof$1($),ee=_typeof$1(_),re;if(isNumerable(j,$)&&isNumerable(ee,_))return $*_;var le,de;if($bm_isInstanceOfArray($)&&isNumerable(ee,_)){for(de=$.length,re=createTypedArray("float32",de),le=0;le<de;le+=1)re[le]=$[le]*_;return re}if(isNumerable(j,$)&&$bm_isInstanceOfArray(_)){for(de=_.length,re=createTypedArray("float32",de),le=0;le<de;le+=1)re[le]=$*_[le];return re}return 0}function div($,_){var j=_typeof$1($),ee=_typeof$1(_),re;if(isNumerable(j,$)&&isNumerable(ee,_))return $/_;var le,de;if($bm_isInstanceOfArray($)&&isNumerable(ee,_)){for(de=$.length,re=createTypedArray("float32",de),le=0;le<de;le+=1)re[le]=$[le]/_;return re}if(isNumerable(j,$)&&$bm_isInstanceOfArray(_)){for(de=_.length,re=createTypedArray("float32",de),le=0;le<de;le+=1)re[le]=$/_[le];return re}return 0}function mod($,_){return typeof $=="string"&&($=parseInt($,10)),typeof _=="string"&&(_=parseInt(_,10)),$%_}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp($,_,j){if(_>j){var ee=j;j=_,_=ee}return Math.min(Math.max($,_),j)}function radiansToDegrees($){return $/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians($){return $*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length($,_){if(typeof $=="number"||$ instanceof Number)return _=_||0,Math.abs($-_);_||(_=helperLengthArray);var j,ee=Math.min($.length,_.length),re=0;for(j=0;j<ee;j+=1)re+=Math.pow(_[j]-$[j],2);return Math.sqrt(re)}function normalize($){return div($,length($))}function rgbToHsl($){var _=$[0],j=$[1],ee=$[2],re=Math.max(_,j,ee),le=Math.min(_,j,ee),de,ge,ve=(re+le)/2;if(re===le)de=0,ge=0;else{var Ee=re-le;switch(ge=ve>.5?Ee/(2-re-le):Ee/(re+le),re){case _:de=(j-ee)/Ee+(j<ee?6:0);break;case j:de=(ee-_)/Ee+2;break;case ee:de=(_-j)/Ee+4;break}de/=6}return[de,ge,ve,$[3]]}function hue2rgb($,_,j){return j<0&&(j+=1),j>1&&(j-=1),j<1/6?$+(_-$)*6*j:j<1/2?_:j<2/3?$+(_-$)*(2/3-j)*6:$}function hslToRgb($){var _=$[0],j=$[1],ee=$[2],re,le,de;if(j===0)re=ee,de=ee,le=ee;else{var ge=ee<.5?ee*(1+j):ee+j-ee*j,ve=2*ee-ge;re=hue2rgb(ve,ge,_+1/3),le=hue2rgb(ve,ge,_),de=hue2rgb(ve,ge,_-1/3)}return[re,le,de,$[3]]}function linear($,_,j,ee,re){if((ee===void 0||re===void 0)&&(ee=_,re=j,_=0,j=1),j<_){var le=j;j=_,_=le}if($<=_)return ee;if($>=j)return re;var de=j===_?0:($-_)/(j-_);if(!ee.length)return ee+(re-ee)*de;var ge,ve=ee.length,Ee=createTypedArray("float32",ve);for(ge=0;ge<ve;ge+=1)Ee[ge]=ee[ge]+(re[ge]-ee[ge])*de;return Ee}function random($,_){if(_===void 0&&($===void 0?($=0,_=1):(_=$,$=void 0)),_.length){var j,ee=_.length;$||($=createTypedArray("float32",ee));var re=createTypedArray("float32",ee),le=BMMath.random();for(j=0;j<ee;j+=1)re[j]=$[j]+le*(_[j]-$[j]);return re}$===void 0&&($=0);var de=BMMath.random();return $+de*(_-$)}function createPath($,_,j,ee){var re,le=$.length,de=shapePool.newElement();de.setPathData(!!ee,le);var ge=[0,0],ve,Ee;for(re=0;re<le;re+=1)ve=_&&_[re]?_[re]:ge,Ee=j&&j[re]?j[re]:ge,de.setTripleAt($[re][0],$[re][1],Ee[0]+$[re][0],Ee[1]+$[re][1],ve[0]+$[re][0],ve[1]+$[re][1],re,!0);return de}function initiateExpression(elem,data,property){function noOp($){return $}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function $(_,j){var ee,re,le=this.pv.length?this.pv.length:1,de=createTypedArray("float32",le);_=5;var ge=Math.floor(time*_);for(ee=0,re=0;ee<ge;){for(re=0;re<le;re+=1)de[re]+=-j+j*2*BMMath.random();ee+=1}var ve=time*_,Ee=ve-Math.floor(ve),Ce=createTypedArray("float32",le);if(le>1){for(re=0;re<le;re+=1)Ce[re]=this.pv[re]+de[re]+(-j+j*2*BMMath.random())*Ee;return Ce}return this.pv+de[0]+(-j+j*2*BMMath.random())*Ee}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration($,_){return loopIn($,_,!0)}function loopOutDuration($,_){return loopOut($,_,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt($,_){var j=[_[0]-$[0],_[1]-$[1],_[2]-$[2]],ee=Math.atan2(j[0],Math.sqrt(j[1]*j[1]+j[2]*j[2]))/degToRads,re=-Math.atan2(j[1],j[2])/degToRads;return[re,ee,0]}function easeOut($,_,j,ee,re){return applyEase(easeOutBez,$,_,j,ee,re)}function easeIn($,_,j,ee,re){return applyEase(easeInBez,$,_,j,ee,re)}function ease($,_,j,ee,re){return applyEase(easeInOutBez,$,_,j,ee,re)}function applyEase($,_,j,ee,re,le){re===void 0?(re=j,le=ee):_=(_-j)/(ee-j),_>1?_=1:_<0&&(_=0);var de=$(_);if($bm_isInstanceOfArray(re)){var ge,ve=re.length,Ee=createTypedArray("float32",ve);for(ge=0;ge<ve;ge+=1)Ee[ge]=(le[ge]-re[ge])*de+re[ge];return Ee}return(le-re)*de+re}function nearestKey($){var _,j=data.k.length,ee,re;if(!data.k.length||typeof data.k[0]=="number")ee=0,re=0;else if(ee=-1,$*=elem.comp.globalData.frameRate,$<data.k[0].t)ee=1,re=data.k[0].t;else{for(_=0;_<j-1;_+=1)if($===data.k[_].t){ee=_+1,re=data.k[_].t;break}else if($>data.k[_].t&&$<data.k[_+1].t){$-data.k[_].t>data.k[_+1].t-$?(ee=_+2,re=data.k[_+1].t):(ee=_+1,re=data.k[_].t);break}ee===-1&&(ee=_+1,re=data.k[_].t)}var le={};return le.index=ee,le.time=re/elem.comp.globalData.frameRate,le}function key($){var _,j,ee;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+$);$-=1,_={time:data.k[$].t/elem.comp.globalData.frameRate,value:[]};var re=Object.prototype.hasOwnProperty.call(data.k[$],"s")?data.k[$].s:data.k[$-1].e;for(ee=re.length,j=0;j<ee;j+=1)_[j]=re[j],_.value[j]=re[j];return _}function framesToTime($,_){return _||(_=elem.comp.globalData.frameRate),$/_}function timeToFrames($,_){return!$&&$!==0&&($=time),_||(_=elem.comp.globalData.frameRate),$*_}function seedRandom($){BMMath.seedrandom(randSeed+$)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring($,_){return typeof value=="string"?_===void 0?value.substring($):value.substring($,_):""}function substr($,_){return typeof value=="string"?_===void 0?value.substr($):value.substr($,_):""}function posterizeTime($){time=$===0?0:Math.floor(time*$)/$,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression($){return value=$,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var $={};$.initExpressions=_,$.resetFrame=ExpressionManager.resetFrame;function _(j){var ee=0,re=[];function le(){ee+=1}function de(){ee-=1,ee===0&&ve()}function ge(Ee){re.indexOf(Ee)===-1&&re.push(Ee)}function ve(){var Ee,Ce=re.length;for(Ee=0;Ee<Ce;Ee+=1)re[Ee].release();re.length=0}j.renderer.compInterface=CompExpressionInterface(j.renderer),j.renderer.globalData.projectInterface.registerComposition(j.renderer),j.renderer.globalData.pushExpression=le,j.renderer.globalData.popExpression=de,j.renderer.globalData.registerExpressionProperty=ge}return $}(),MaskManagerInterface=function(){function $(j,ee){this._mask=j,this._data=ee}Object.defineProperty($.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty($.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var _=function(ee){var re=createSizedArray(ee.viewData.length),le,de=ee.viewData.length;for(le=0;le<de;le+=1)re[le]=new $(ee.viewData[le],ee.masksProperties[le]);var ge=function(Ee){for(le=0;le<de;){if(ee.masksProperties[le].nm===Ee)return re[le];le+=1}return null};return ge};return _}(),ExpressionPropertyInterface=function(){var $={pv:0,v:0,mult:1},_={pv:[0,0,0],v:[0,0,0],mult:1};function j(de,ge,ve){Object.defineProperty(de,"velocity",{get:function(){return ge.getVelocityAtTime(ge.comp.currentFrame)}}),de.numKeys=ge.keyframes?ge.keyframes.length:0,de.key=function(Ee){if(!de.numKeys)return 0;var Ce="";"s"in ge.keyframes[Ee-1]?Ce=ge.keyframes[Ee-1].s:"e"in ge.keyframes[Ee-2]?Ce=ge.keyframes[Ee-2].e:Ce=ge.keyframes[Ee-2].s;var Ae=ve==="unidimensional"?new Number(Ce):Object.assign({},Ce);return Ae.time=ge.keyframes[Ee-1].t/ge.elem.comp.globalData.frameRate,Ae.value=ve==="unidimensional"?Ce[0]:Ce,Ae},de.valueAtTime=ge.getValueAtTime,de.speedAtTime=ge.getSpeedAtTime,de.velocityAtTime=ge.getVelocityAtTime,de.propertyGroup=ge.propertyGroup}function ee(de){(!de||!("pv"in de))&&(de=$);var ge=1/de.mult,ve=de.pv*ge,Ee=new Number(ve);return Ee.value=ve,j(Ee,de,"unidimensional"),function(){return de.k&&de.getValue(),ve=de.v*ge,Ee.value!==ve&&(Ee=new Number(ve),Ee.value=ve,j(Ee,de,"unidimensional")),Ee}}function re(de){(!de||!("pv"in de))&&(de=_);var ge=1/de.mult,ve=de.data&&de.data.l||de.pv.length,Ee=createTypedArray("float32",ve),Ce=createTypedArray("float32",ve);return Ee.value=Ce,j(Ee,de,"multidimensional"),function(){de.k&&de.getValue();for(var Ae=0;Ae<ve;Ae+=1)Ce[Ae]=de.v[Ae]*ge,Ee[Ae]=Ce[Ae];return Ee}}function le(){return $}return function(de){return de?de.propType==="unidimensional"?ee(de):re(de):le}}(),TransformExpressionInterface=function(){return function($){function _(de){switch(de){case"scale":case"Scale":case"ADBE Scale":case 6:return _.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return _.rotation;case"ADBE Rotate X":return _.xRotation;case"ADBE Rotate Y":return _.yRotation;case"position":case"Position":case"ADBE Position":case 2:return _.position;case"ADBE Position_0":return _.xPosition;case"ADBE Position_1":return _.yPosition;case"ADBE Position_2":return _.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return _.anchorPoint;case"opacity":case"Opacity":case 11:return _.opacity;default:return null}}Object.defineProperty(_,"rotation",{get:ExpressionPropertyInterface($.r||$.rz)}),Object.defineProperty(_,"zRotation",{get:ExpressionPropertyInterface($.rz||$.r)}),Object.defineProperty(_,"xRotation",{get:ExpressionPropertyInterface($.rx)}),Object.defineProperty(_,"yRotation",{get:ExpressionPropertyInterface($.ry)}),Object.defineProperty(_,"scale",{get:ExpressionPropertyInterface($.s)});var j,ee,re,le;return $.p?le=ExpressionPropertyInterface($.p):(j=ExpressionPropertyInterface($.px),ee=ExpressionPropertyInterface($.py),$.pz&&(re=ExpressionPropertyInterface($.pz))),Object.defineProperty(_,"position",{get:function(){return $.p?le():[j(),ee(),re?re():0]}}),Object.defineProperty(_,"xPosition",{get:ExpressionPropertyInterface($.px)}),Object.defineProperty(_,"yPosition",{get:ExpressionPropertyInterface($.py)}),Object.defineProperty(_,"zPosition",{get:ExpressionPropertyInterface($.pz)}),Object.defineProperty(_,"anchorPoint",{get:ExpressionPropertyInterface($.a)}),Object.defineProperty(_,"opacity",{get:ExpressionPropertyInterface($.o)}),Object.defineProperty(_,"skew",{get:ExpressionPropertyInterface($.sk)}),Object.defineProperty(_,"skewAxis",{get:ExpressionPropertyInterface($.sa)}),Object.defineProperty(_,"orientation",{get:ExpressionPropertyInterface($.or)}),_}}(),LayerExpressionInterface=function(){function $(Ee){var Ce=new Matrix;if(Ee!==void 0){var Ae=this._elem.finalTransform.mProp.getValueAtTime(Ee);Ae.clone(Ce)}else{var Se=this._elem.finalTransform.mProp;Se.applyToMatrix(Ce)}return Ce}function _(Ee,Ce){var Ae=this.getMatrix(Ce);return Ae.props[12]=0,Ae.props[13]=0,Ae.props[14]=0,this.applyPoint(Ae,Ee)}function j(Ee,Ce){var Ae=this.getMatrix(Ce);return this.applyPoint(Ae,Ee)}function ee(Ee,Ce){var Ae=this.getMatrix(Ce);return Ae.props[12]=0,Ae.props[13]=0,Ae.props[14]=0,this.invertPoint(Ae,Ee)}function re(Ee,Ce){var Ae=this.getMatrix(Ce);return this.invertPoint(Ae,Ee)}function le(Ee,Ce){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Ae,Se=this._elem.hierarchy.length;for(Ae=0;Ae<Se;Ae+=1)this._elem.hierarchy[Ae].finalTransform.mProp.applyToMatrix(Ee)}return Ee.applyToPointArray(Ce[0],Ce[1],Ce[2]||0)}function de(Ee,Ce){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Ae,Se=this._elem.hierarchy.length;for(Ae=0;Ae<Se;Ae+=1)this._elem.hierarchy[Ae].finalTransform.mProp.applyToMatrix(Ee)}return Ee.inversePoint(Ce)}function ge(Ee){var Ce=new Matrix;if(Ce.reset(),this._elem.finalTransform.mProp.applyToMatrix(Ce),this._elem.hierarchy&&this._elem.hierarchy.length){var Ae,Se=this._elem.hierarchy.length;for(Ae=0;Ae<Se;Ae+=1)this._elem.hierarchy[Ae].finalTransform.mProp.applyToMatrix(Ce);return Ce.inversePoint(Ee)}return Ce.inversePoint(Ee)}function ve(){return[1,1,1,1]}return function(Ee){var Ce;function Ae(Ne){ke.mask=new MaskManagerInterface(Ne,Ee)}function Se(Ne){ke.effect=Ne}function ke(Ne){switch(Ne){case"ADBE Root Vectors Group":case"Contents":case 2:return ke.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return Ce;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return ke.effect;case"ADBE Text Properties":return ke.textInterface;default:return null}}ke.getMatrix=$,ke.invertPoint=de,ke.applyPoint=le,ke.toWorld=j,ke.toWorldVec=_,ke.fromWorld=re,ke.fromWorldVec=ee,ke.toComp=j,ke.fromComp=ge,ke.sampleImage=ve,ke.sourceRectAtTime=Ee.sourceRectAtTime.bind(Ee),ke._elem=Ee,Ce=TransformExpressionInterface(Ee.finalTransform.mProp);var we=getDescriptor(Ce,"anchorPoint");return Object.defineProperties(ke,{hasParent:{get:function(){return Ee.hierarchy.length}},parent:{get:function(){return Ee.hierarchy[0].layerInterface}},rotation:getDescriptor(Ce,"rotation"),scale:getDescriptor(Ce,"scale"),position:getDescriptor(Ce,"position"),opacity:getDescriptor(Ce,"opacity"),anchorPoint:we,anchor_point:we,transform:{get:function(){return Ce}},active:{get:function(){return Ee.isInRange}}}),ke.startTime=Ee.data.st,ke.index=Ee.data.ind,ke.source=Ee.data.refId,ke.height=Ee.data.ty===0?Ee.data.h:100,ke.width=Ee.data.ty===0?Ee.data.w:100,ke.inPoint=Ee.data.ip/Ee.comp.globalData.frameRate,ke.outPoint=Ee.data.op/Ee.comp.globalData.frameRate,ke._name=Ee.data.nm,ke.registerMaskInterface=Ae,ke.registerEffectsInterface=Se,ke}}(),propertyGroupFactory=function(){return function($,_){return function(j){return j=j===void 0?1:j,j<=0?$:_(j-1)}}}(),PropertyInterface=function(){return function($,_){var j={_name:$};function ee(re){return re=re===void 0?1:re,re<=0?j:_(re-1)}return ee}}(),EffectsExpressionInterface=function(){var $={createEffectsInterface:_};function _(re,le){if(re.effectsManager){var de=[],ge=re.data.ef,ve,Ee=re.effectsManager.effectElements.length;for(ve=0;ve<Ee;ve+=1)de.push(j(ge[ve],re.effectsManager.effectElements[ve],le,re));var Ce=re.data.ef||[],Ae=function(ke){for(ve=0,Ee=Ce.length;ve<Ee;){if(ke===Ce[ve].nm||ke===Ce[ve].mn||ke===Ce[ve].ix)return de[ve];ve+=1}return null};return Object.defineProperty(Ae,"numProperties",{get:function(){return Ce.length}}),Ae}return null}function j(re,le,de,ge){function ve(ke){for(var we=re.ef,Ne=0,Le=we.length;Ne<Le;){if(ke===we[Ne].nm||ke===we[Ne].mn||ke===we[Ne].ix)return we[Ne].ty===5?Ce[Ne]:Ce[Ne]();Ne+=1}throw new Error}var Ee=propertyGroupFactory(ve,de),Ce=[],Ae,Se=re.ef.length;for(Ae=0;Ae<Se;Ae+=1)re.ef[Ae].ty===5?Ce.push(j(re.ef[Ae],le.effectElements[Ae],le.effectElements[Ae].propertyGroup,ge)):Ce.push(ee(le.effectElements[Ae],re.ef[Ae].ty,ge,Ee));return re.mn==="ADBE Color Control"&&Object.defineProperty(ve,"color",{get:function(){return Ce[0]()}}),Object.defineProperties(ve,{numProperties:{get:function(){return re.np}},_name:{value:re.nm},propertyGroup:{value:Ee}}),ve.enabled=re.en!==0,ve.active=ve.enabled,ve}function ee(re,le,de,ge){var ve=ExpressionPropertyInterface(re.p);function Ee(){return le===10?de.comp.compInterface(re.p.v):ve()}return re.p.setGroupProperty&&re.p.setGroupProperty(PropertyInterface("",ge)),Ee}return $}(),ShapePathInterface=function(){return function(_,j,ee){var re=j.sh;function le(ge){return ge==="Shape"||ge==="shape"||ge==="Path"||ge==="path"||ge==="ADBE Vector Shape"||ge===2?le.path:null}var de=propertyGroupFactory(le,ee);return re.setGroupProperty(PropertyInterface("Path",de)),Object.defineProperties(le,{path:{get:function(){return re.k&&re.getValue(),re}},shape:{get:function(){return re.k&&re.getValue(),re}},_name:{value:_.nm},ix:{value:_.ix},propertyIndex:{value:_.ix},mn:{value:_.mn},propertyGroup:{value:ee}}),le}}(),ShapeExpressionInterface=function(){function $(we,Ne,Le){var Me=[],Fe,xe=we?we.length:0;for(Fe=0;Fe<xe;Fe+=1)we[Fe].ty==="gr"?Me.push(j(we[Fe],Ne[Fe],Le)):we[Fe].ty==="fl"?Me.push(ee(we[Fe],Ne[Fe],Le)):we[Fe].ty==="st"?Me.push(de(we[Fe],Ne[Fe],Le)):we[Fe].ty==="tm"?Me.push(ge(we[Fe],Ne[Fe],Le)):we[Fe].ty==="tr"||(we[Fe].ty==="el"?Me.push(Ee(we[Fe],Ne[Fe],Le)):we[Fe].ty==="sr"?Me.push(Ce(we[Fe],Ne[Fe],Le)):we[Fe].ty==="sh"?Me.push(ShapePathInterface(we[Fe],Ne[Fe],Le)):we[Fe].ty==="rc"?Me.push(Ae(we[Fe],Ne[Fe],Le)):we[Fe].ty==="rd"?Me.push(Se(we[Fe],Ne[Fe],Le)):we[Fe].ty==="rp"?Me.push(ke(we[Fe],Ne[Fe],Le)):we[Fe].ty==="gf"?Me.push(re(we[Fe],Ne[Fe],Le)):Me.push(le(we[Fe],Ne[Fe])));return Me}function _(we,Ne,Le){var Me,Fe=function(De){for(var Oe=0,Ge=Me.length;Oe<Ge;){if(Me[Oe]._name===De||Me[Oe].mn===De||Me[Oe].propertyIndex===De||Me[Oe].ix===De||Me[Oe].ind===De)return Me[Oe];Oe+=1}return typeof De=="number"?Me[De-1]:null};Fe.propertyGroup=propertyGroupFactory(Fe,Le),Me=$(we.it,Ne.it,Fe.propertyGroup),Fe.numProperties=Me.length;var xe=ve(we.it[we.it.length-1],Ne.it[Ne.it.length-1],Fe.propertyGroup);return Fe.transform=xe,Fe.propertyIndex=we.cix,Fe._name=we.nm,Fe}function j(we,Ne,Le){var Me=function(De){switch(De){case"ADBE Vectors Group":case"Contents":case 2:return Me.content;default:return Me.transform}};Me.propertyGroup=propertyGroupFactory(Me,Le);var Fe=_(we,Ne,Me.propertyGroup),xe=ve(we.it[we.it.length-1],Ne.it[Ne.it.length-1],Me.propertyGroup);return Me.content=Fe,Me.transform=xe,Object.defineProperty(Me,"_name",{get:function(){return we.nm}}),Me.numProperties=we.np,Me.propertyIndex=we.ix,Me.nm=we.nm,Me.mn=we.mn,Me}function ee(we,Ne,Le){function Me(Fe){return Fe==="Color"||Fe==="color"?Me.color:Fe==="Opacity"||Fe==="opacity"?Me.opacity:null}return Object.defineProperties(Me,{color:{get:ExpressionPropertyInterface(Ne.c)},opacity:{get:ExpressionPropertyInterface(Ne.o)},_name:{value:we.nm},mn:{value:we.mn}}),Ne.c.setGroupProperty(PropertyInterface("Color",Le)),Ne.o.setGroupProperty(PropertyInterface("Opacity",Le)),Me}function re(we,Ne,Le){function Me(Fe){return Fe==="Start Point"||Fe==="start point"?Me.startPoint:Fe==="End Point"||Fe==="end point"?Me.endPoint:Fe==="Opacity"||Fe==="opacity"?Me.opacity:null}return Object.defineProperties(Me,{startPoint:{get:ExpressionPropertyInterface(Ne.s)},endPoint:{get:ExpressionPropertyInterface(Ne.e)},opacity:{get:ExpressionPropertyInterface(Ne.o)},type:{get:function(){return"a"}},_name:{value:we.nm},mn:{value:we.mn}}),Ne.s.setGroupProperty(PropertyInterface("Start Point",Le)),Ne.e.setGroupProperty(PropertyInterface("End Point",Le)),Ne.o.setGroupProperty(PropertyInterface("Opacity",Le)),Me}function le(){function we(){return null}return we}function de(we,Ne,Le){var Me=propertyGroupFactory(Ge,Le),Fe=propertyGroupFactory(Oe,Me);function xe(We){Object.defineProperty(Oe,we.d[We].nm,{get:ExpressionPropertyInterface(Ne.d.dataProps[We].p)})}var $e,De=we.d?we.d.length:0,Oe={};for($e=0;$e<De;$e+=1)xe($e),Ne.d.dataProps[$e].p.setGroupProperty(Fe);function Ge(We){return We==="Color"||We==="color"?Ge.color:We==="Opacity"||We==="opacity"?Ge.opacity:We==="Stroke Width"||We==="stroke width"?Ge.strokeWidth:null}return Object.defineProperties(Ge,{color:{get:ExpressionPropertyInterface(Ne.c)},opacity:{get:ExpressionPropertyInterface(Ne.o)},strokeWidth:{get:ExpressionPropertyInterface(Ne.w)},dash:{get:function(){return Oe}},_name:{value:we.nm},mn:{value:we.mn}}),Ne.c.setGroupProperty(PropertyInterface("Color",Me)),Ne.o.setGroupProperty(PropertyInterface("Opacity",Me)),Ne.w.setGroupProperty(PropertyInterface("Stroke Width",Me)),Ge}function ge(we,Ne,Le){function Me(xe){return xe===we.e.ix||xe==="End"||xe==="end"?Me.end:xe===we.s.ix?Me.start:xe===we.o.ix?Me.offset:null}var Fe=propertyGroupFactory(Me,Le);return Me.propertyIndex=we.ix,Ne.s.setGroupProperty(PropertyInterface("Start",Fe)),Ne.e.setGroupProperty(PropertyInterface("End",Fe)),Ne.o.setGroupProperty(PropertyInterface("Offset",Fe)),Me.propertyIndex=we.ix,Me.propertyGroup=Le,Object.defineProperties(Me,{start:{get:ExpressionPropertyInterface(Ne.s)},end:{get:ExpressionPropertyInterface(Ne.e)},offset:{get:ExpressionPropertyInterface(Ne.o)},_name:{value:we.nm}}),Me.mn=we.mn,Me}function ve(we,Ne,Le){function Me(xe){return we.a.ix===xe||xe==="Anchor Point"?Me.anchorPoint:we.o.ix===xe||xe==="Opacity"?Me.opacity:we.p.ix===xe||xe==="Position"?Me.position:we.r.ix===xe||xe==="Rotation"||xe==="ADBE Vector Rotation"?Me.rotation:we.s.ix===xe||xe==="Scale"?Me.scale:we.sk&&we.sk.ix===xe||xe==="Skew"?Me.skew:we.sa&&we.sa.ix===xe||xe==="Skew Axis"?Me.skewAxis:null}var Fe=propertyGroupFactory(Me,Le);return Ne.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Fe)),Ne.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Fe)),Ne.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Fe)),Ne.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Fe)),Ne.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Fe)),Ne.transform.mProps.sk&&(Ne.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Fe)),Ne.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Fe))),Ne.transform.op.setGroupProperty(PropertyInterface("Opacity",Fe)),Object.defineProperties(Me,{opacity:{get:ExpressionPropertyInterface(Ne.transform.mProps.o)},position:{get:ExpressionPropertyInterface(Ne.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(Ne.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(Ne.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(Ne.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(Ne.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(Ne.transform.mProps.sa)},_name:{value:we.nm}}),Me.ty="tr",Me.mn=we.mn,Me.propertyGroup=Le,Me}function Ee(we,Ne,Le){function Me($e){return we.p.ix===$e?Me.position:we.s.ix===$e?Me.size:null}var Fe=propertyGroupFactory(Me,Le);Me.propertyIndex=we.ix;var xe=Ne.sh.ty==="tm"?Ne.sh.prop:Ne.sh;return xe.s.setGroupProperty(PropertyInterface("Size",Fe)),xe.p.setGroupProperty(PropertyInterface("Position",Fe)),Object.defineProperties(Me,{size:{get:ExpressionPropertyInterface(xe.s)},position:{get:ExpressionPropertyInterface(xe.p)},_name:{value:we.nm}}),Me.mn=we.mn,Me}function Ce(we,Ne,Le){function Me($e){return we.p.ix===$e?Me.position:we.r.ix===$e?Me.rotation:we.pt.ix===$e?Me.points:we.or.ix===$e||$e==="ADBE Vector Star Outer Radius"?Me.outerRadius:we.os.ix===$e?Me.outerRoundness:we.ir&&(we.ir.ix===$e||$e==="ADBE Vector Star Inner Radius")?Me.innerRadius:we.is&&we.is.ix===$e?Me.innerRoundness:null}var Fe=propertyGroupFactory(Me,Le),xe=Ne.sh.ty==="tm"?Ne.sh.prop:Ne.sh;return Me.propertyIndex=we.ix,xe.or.setGroupProperty(PropertyInterface("Outer Radius",Fe)),xe.os.setGroupProperty(PropertyInterface("Outer Roundness",Fe)),xe.pt.setGroupProperty(PropertyInterface("Points",Fe)),xe.p.setGroupProperty(PropertyInterface("Position",Fe)),xe.r.setGroupProperty(PropertyInterface("Rotation",Fe)),we.ir&&(xe.ir.setGroupProperty(PropertyInterface("Inner Radius",Fe)),xe.is.setGroupProperty(PropertyInterface("Inner Roundness",Fe))),Object.defineProperties(Me,{position:{get:ExpressionPropertyInterface(xe.p)},rotation:{get:ExpressionPropertyInterface(xe.r)},points:{get:ExpressionPropertyInterface(xe.pt)},outerRadius:{get:ExpressionPropertyInterface(xe.or)},outerRoundness:{get:ExpressionPropertyInterface(xe.os)},innerRadius:{get:ExpressionPropertyInterface(xe.ir)},innerRoundness:{get:ExpressionPropertyInterface(xe.is)},_name:{value:we.nm}}),Me.mn=we.mn,Me}function Ae(we,Ne,Le){function Me($e){return we.p.ix===$e?Me.position:we.r.ix===$e?Me.roundness:we.s.ix===$e||$e==="Size"||$e==="ADBE Vector Rect Size"?Me.size:null}var Fe=propertyGroupFactory(Me,Le),xe=Ne.sh.ty==="tm"?Ne.sh.prop:Ne.sh;return Me.propertyIndex=we.ix,xe.p.setGroupProperty(PropertyInterface("Position",Fe)),xe.s.setGroupProperty(PropertyInterface("Size",Fe)),xe.r.setGroupProperty(PropertyInterface("Rotation",Fe)),Object.defineProperties(Me,{position:{get:ExpressionPropertyInterface(xe.p)},roundness:{get:ExpressionPropertyInterface(xe.r)},size:{get:ExpressionPropertyInterface(xe.s)},_name:{value:we.nm}}),Me.mn=we.mn,Me}function Se(we,Ne,Le){function Me($e){return we.r.ix===$e||$e==="Round Corners 1"?Me.radius:null}var Fe=propertyGroupFactory(Me,Le),xe=Ne;return Me.propertyIndex=we.ix,xe.rd.setGroupProperty(PropertyInterface("Radius",Fe)),Object.defineProperties(Me,{radius:{get:ExpressionPropertyInterface(xe.rd)},_name:{value:we.nm}}),Me.mn=we.mn,Me}function ke(we,Ne,Le){function Me($e){return we.c.ix===$e||$e==="Copies"?Me.copies:we.o.ix===$e||$e==="Offset"?Me.offset:null}var Fe=propertyGroupFactory(Me,Le),xe=Ne;return Me.propertyIndex=we.ix,xe.c.setGroupProperty(PropertyInterface("Copies",Fe)),xe.o.setGroupProperty(PropertyInterface("Offset",Fe)),Object.defineProperties(Me,{copies:{get:ExpressionPropertyInterface(xe.c)},offset:{get:ExpressionPropertyInterface(xe.o)},_name:{value:we.nm}}),Me.mn=we.mn,Me}return function(we,Ne,Le){var Me;function Fe($e){if(typeof $e=="number")return $e=$e===void 0?1:$e,$e===0?Le:Me[$e-1];for(var De=0,Oe=Me.length;De<Oe;){if(Me[De]._name===$e)return Me[De];De+=1}return null}function xe(){return Le}return Fe.propertyGroup=propertyGroupFactory(Fe,xe),Me=$(we,Ne,Fe.propertyGroup),Fe.numProperties=Me.length,Fe._name="Contents",Fe}}(),TextExpressionInterface=function(){return function($){var _;function j(ee){switch(ee){case"ADBE Text Document":return j.sourceText;default:return null}}return Object.defineProperty(j,"sourceText",{get:function(){$.textProperty.getValue();var re=$.textProperty.currentData.t;return(!_||re!==_.value)&&(_=new String(re),_.value=re||new String(re),Object.defineProperty(_,"style",{get:function(){return{fillColor:$.textProperty.currentData.fc}}})),_}}),j}}();function _typeof($){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(j){return typeof j}:_typeof=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},_typeof($)}var FootageInterface=function(){var $=function(ee){var re="",le=ee.getFootageData();function de(){return re="",le=ee.getFootageData(),ge}function ge(ve){if(le[ve])return re=ve,le=le[ve],_typeof(le)==="object"?ge:le;var Ee=ve.indexOf(re);if(Ee!==-1){var Ce=parseInt(ve.substr(Ee+re.length),10);return le=le[Ce],_typeof(le)==="object"?ge:le}return""}return de},_=function(ee){function re(le){return le==="Outline"?re.outlineInterface():null}return re._name="Outline",re.outlineInterface=$(ee),re};return function(j){function ee(re){return re==="Data"?ee.dataInterface:null}return ee._name="Data",ee.dataInterface=_(j),ee}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface($){return interfaces[$]||null}var expressionHelpers=function(){function $(de,ge,ve){ge.x&&(ve.k=!0,ve.x=!0,ve.initiateExpression=ExpressionManager.initiateExpression,ve.effectsSequence.push(ve.initiateExpression(de,ge,ve).bind(ve)))}function _(de){return de*=this.elem.globalData.frameRate,de-=this.offsetTime,de!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<de?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(de,this._cachingAtTime),this._cachingAtTime.lastFrame=de),this._cachingAtTime.value}function j(de){var ge=-.01,ve=this.getValueAtTime(de),Ee=this.getValueAtTime(de+ge),Ce=0;if(ve.length){var Ae;for(Ae=0;Ae<ve.length;Ae+=1)Ce+=Math.pow(Ee[Ae]-ve[Ae],2);Ce=Math.sqrt(Ce)*100}else Ce=0;return Ce}function ee(de){if(this.vel!==void 0)return this.vel;var ge=-.001,ve=this.getValueAtTime(de),Ee=this.getValueAtTime(de+ge),Ce;if(ve.length){Ce=createTypedArray("float32",ve.length);var Ae;for(Ae=0;Ae<ve.length;Ae+=1)Ce[Ae]=(Ee[Ae]-ve[Ae])/ge}else Ce=(Ee-ve)/ge;return Ce}function re(){return this.pv}function le(de){this.propertyGroup=de}return{searchExpressions:$,getSpeedAtTime:j,getVelocityAtTime:ee,getValueAtTime:_,getStaticValueAtTime:re,setGroupProperty:le}}();function addPropertyDecorator(){function $(Se,ke,we){if(!this.k||!this.keyframes)return this.pv;Se=Se?Se.toLowerCase():"";var Ne=this.comp.renderedFrame,Le=this.keyframes,Me=Le[Le.length-1].t;if(Ne<=Me)return this.pv;var Fe,xe;we?(ke?Fe=Math.abs(Me-this.elem.comp.globalData.frameRate*ke):Fe=Math.max(0,Me-this.elem.data.ip),xe=Me-Fe):((!ke||ke>Le.length-1)&&(ke=Le.length-1),xe=Le[Le.length-1-ke].t,Fe=Me-xe);var $e,De,Oe;if(Se==="pingpong"){var Ge=Math.floor((Ne-xe)/Fe);if(Ge%2!==0)return this.getValueAtTime((Fe-(Ne-xe)%Fe+xe)/this.comp.globalData.frameRate,0)}else if(Se==="offset"){var We=this.getValueAtTime(xe/this.comp.globalData.frameRate,0),Ze=this.getValueAtTime(Me/this.comp.globalData.frameRate,0),Qe=this.getValueAtTime(((Ne-xe)%Fe+xe)/this.comp.globalData.frameRate,0),tt=Math.floor((Ne-xe)/Fe);if(this.pv.length){for(Oe=new Array(We.length),De=Oe.length,$e=0;$e<De;$e+=1)Oe[$e]=(Ze[$e]-We[$e])*tt+Qe[$e];return Oe}return(Ze-We)*tt+Qe}else if(Se==="continue"){var Ke=this.getValueAtTime(Me/this.comp.globalData.frameRate,0),Xe=this.getValueAtTime((Me-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Oe=new Array(Ke.length),De=Oe.length,$e=0;$e<De;$e+=1)Oe[$e]=Ke[$e]+(Ke[$e]-Xe[$e])*((Ne-Me)/this.comp.globalData.frameRate)/5e-4;return Oe}return Ke+(Ke-Xe)*((Ne-Me)/.001)}return this.getValueAtTime(((Ne-xe)%Fe+xe)/this.comp.globalData.frameRate,0)}function _(Se,ke,we){if(!this.k)return this.pv;Se=Se?Se.toLowerCase():"";var Ne=this.comp.renderedFrame,Le=this.keyframes,Me=Le[0].t;if(Ne>=Me)return this.pv;var Fe,xe;we?(ke?Fe=Math.abs(this.elem.comp.globalData.frameRate*ke):Fe=Math.max(0,this.elem.data.op-Me),xe=Me+Fe):((!ke||ke>Le.length-1)&&(ke=Le.length-1),xe=Le[ke].t,Fe=xe-Me);var $e,De,Oe;if(Se==="pingpong"){var Ge=Math.floor((Me-Ne)/Fe);if(Ge%2===0)return this.getValueAtTime(((Me-Ne)%Fe+Me)/this.comp.globalData.frameRate,0)}else if(Se==="offset"){var We=this.getValueAtTime(Me/this.comp.globalData.frameRate,0),Ze=this.getValueAtTime(xe/this.comp.globalData.frameRate,0),Qe=this.getValueAtTime((Fe-(Me-Ne)%Fe+Me)/this.comp.globalData.frameRate,0),tt=Math.floor((Me-Ne)/Fe)+1;if(this.pv.length){for(Oe=new Array(We.length),De=Oe.length,$e=0;$e<De;$e+=1)Oe[$e]=Qe[$e]-(Ze[$e]-We[$e])*tt;return Oe}return Qe-(Ze-We)*tt}else if(Se==="continue"){var Ke=this.getValueAtTime(Me/this.comp.globalData.frameRate,0),Xe=this.getValueAtTime((Me+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Oe=new Array(Ke.length),De=Oe.length,$e=0;$e<De;$e+=1)Oe[$e]=Ke[$e]+(Ke[$e]-Xe[$e])*(Me-Ne)/.001;return Oe}return Ke+(Ke-Xe)*(Me-Ne)/.001}return this.getValueAtTime((Fe-((Me-Ne)%Fe+Me))/this.comp.globalData.frameRate,0)}function j(Se,ke){if(!this.k)return this.pv;if(Se=(Se||.4)*.5,ke=Math.floor(ke||5),ke<=1)return this.pv;var we=this.comp.renderedFrame/this.comp.globalData.frameRate,Ne=we-Se,Le=we+Se,Me=ke>1?(Le-Ne)/(ke-1):1,Fe=0,xe=0,$e;this.pv.length?$e=createTypedArray("float32",this.pv.length):$e=0;for(var De;Fe<ke;){if(De=this.getValueAtTime(Ne+Fe*Me),this.pv.length)for(xe=0;xe<this.pv.length;xe+=1)$e[xe]+=De[xe];else $e+=De;Fe+=1}if(this.pv.length)for(xe=0;xe<this.pv.length;xe+=1)$e[xe]/=ke;else $e/=ke;return $e}function ee(Se){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var ke=this._transformCachingAtTime.v;if(ke.cloneFromProps(this.pre.props),this.appliedTransformations<1){var we=this.a.getValueAtTime(Se);ke.translate(-we[0]*this.a.mult,-we[1]*this.a.mult,we[2]*this.a.mult)}if(this.appliedTransformations<2){var Ne=this.s.getValueAtTime(Se);ke.scale(Ne[0]*this.s.mult,Ne[1]*this.s.mult,Ne[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Le=this.sk.getValueAtTime(Se),Me=this.sa.getValueAtTime(Se);ke.skewFromAxis(-Le*this.sk.mult,Me*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Fe=this.r.getValueAtTime(Se);ke.rotate(-Fe*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var xe=this.rz.getValueAtTime(Se),$e=this.ry.getValueAtTime(Se),De=this.rx.getValueAtTime(Se),Oe=this.or.getValueAtTime(Se);ke.rotateZ(-xe*this.rz.mult).rotateY($e*this.ry.mult).rotateX(De*this.rx.mult).rotateZ(-Oe[2]*this.or.mult).rotateY(Oe[1]*this.or.mult).rotateX(Oe[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Ge=this.px.getValueAtTime(Se),We=this.py.getValueAtTime(Se);if(this.data.p.z){var Ze=this.pz.getValueAtTime(Se);ke.translate(Ge*this.px.mult,We*this.py.mult,-Ze*this.pz.mult)}else ke.translate(Ge*this.px.mult,We*this.py.mult,0)}else{var Qe=this.p.getValueAtTime(Se);ke.translate(Qe[0]*this.p.mult,Qe[1]*this.p.mult,-Qe[2]*this.p.mult)}return ke}function re(){return this.v.clone(new Matrix)}var le=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(Se,ke,we){var Ne=le(Se,ke,we);return Ne.dynamicProperties.length?Ne.getValueAtTime=ee.bind(Ne):Ne.getValueAtTime=re.bind(Ne),Ne.setGroupProperty=expressionHelpers.setGroupProperty,Ne};var de=PropertyFactory.getProp;PropertyFactory.getProp=function(Se,ke,we,Ne,Le){var Me=de(Se,ke,we,Ne,Le);Me.kf?Me.getValueAtTime=expressionHelpers.getValueAtTime.bind(Me):Me.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Me),Me.setGroupProperty=expressionHelpers.setGroupProperty,Me.loopOut=$,Me.loopIn=_,Me.smooth=j,Me.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Me),Me.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Me),Me.numKeys=ke.a===1?ke.k.length:0,Me.propertyIndex=ke.ix;var Fe=0;return we!==0&&(Fe=createTypedArray("float32",ke.a===1?ke.k[0].s.length:ke.k.length)),Me._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Fe},expressionHelpers.searchExpressions(Se,ke,Me),Me.k&&Le.addDynamicProperty(Me),Me};function ge(Se){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),Se*=this.elem.globalData.frameRate,Se-=this.offsetTime,Se!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<Se?this._caching.lastIndex:0,this._cachingAtTime.lastTime=Se,this.interpolateShape(Se,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var ve=ShapePropertyFactory.getConstructorFunction(),Ee=ShapePropertyFactory.getKeyframedConstructorFunction();function Ce(){}Ce.prototype={vertices:function(ke,we){this.k&&this.getValue();var Ne=this.v;we!==void 0&&(Ne=this.getValueAtTime(we,0));var Le,Me=Ne._length,Fe=Ne[ke],xe=Ne.v,$e=createSizedArray(Me);for(Le=0;Le<Me;Le+=1)ke==="i"||ke==="o"?$e[Le]=[Fe[Le][0]-xe[Le][0],Fe[Le][1]-xe[Le][1]]:$e[Le]=[Fe[Le][0],Fe[Le][1]];return $e},points:function(ke){return this.vertices("v",ke)},inTangents:function(ke){return this.vertices("i",ke)},outTangents:function(ke){return this.vertices("o",ke)},isClosed:function(){return this.v.c},pointOnPath:function(ke,we){var Ne=this.v;we!==void 0&&(Ne=this.getValueAtTime(we,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(Ne));for(var Le=this._segmentsLength,Me=Le.lengths,Fe=Le.totalLength*ke,xe=0,$e=Me.length,De=0,Oe;xe<$e;){if(De+Me[xe].addedLength>Fe){var Ge=xe,We=Ne.c&&xe===$e-1?0:xe+1,Ze=(Fe-De)/Me[xe].addedLength;Oe=bez.getPointInSegment(Ne.v[Ge],Ne.v[We],Ne.o[Ge],Ne.i[We],Ze,Me[xe]);break}else De+=Me[xe].addedLength;xe+=1}return Oe||(Oe=Ne.c?[Ne.v[0][0],Ne.v[0][1]]:[Ne.v[Ne._length-1][0],Ne.v[Ne._length-1][1]]),Oe},vectorOnPath:function(ke,we,Ne){ke==1?ke=this.v.c:ke==0&&(ke=.999);var Le=this.pointOnPath(ke,we),Me=this.pointOnPath(ke+.001,we),Fe=Me[0]-Le[0],xe=Me[1]-Le[1],$e=Math.sqrt(Math.pow(Fe,2)+Math.pow(xe,2));if($e===0)return[0,0];var De=Ne==="tangent"?[Fe/$e,xe/$e]:[-xe/$e,Fe/$e];return De},tangentOnPath:function(ke,we){return this.vectorOnPath(ke,we,"tangent")},normalOnPath:function(ke,we){return this.vectorOnPath(ke,we,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([Ce],ve),extendPrototype([Ce],Ee),Ee.prototype.getValueAtTime=ge,Ee.prototype.initiateExpression=ExpressionManager.initiateExpression;var Ae=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(Se,ke,we,Ne,Le){var Me=Ae(Se,ke,we,Ne,Le);return Me.propertyIndex=ke.ix,Me.lock=!1,we===3?expressionHelpers.searchExpressions(Se,ke.pt,Me):we===4&&expressionHelpers.searchExpressions(Se,ke.ks,Me),Me.k&&Se.addDynamicProperty(Me),Me}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function $(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(_,j){var ee=this.calculateExpression(j);if(_.t!==ee){var re={};return this.copyData(re,_),re.t=ee.toString(),re.__complete=!1,re}return _},TextProperty.prototype.searchProperty=function(){var _=this.searchKeyframes(),j=this.searchExpressions();return this.kf=_||j,this.kf},TextProperty.prototype.searchExpressions=$}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function $(_,j){var ee=createNS("feMerge");ee.setAttribute("result",_);var re,le;for(le=0;le<j.length;le+=1)re=createNS("feMergeNode"),re.setAttribute("in",j[le]),ee.appendChild(re),ee.appendChild(re);return ee}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter($,_,j,ee,re){this.filterManager=_;var le=createNS("feColorMatrix");le.setAttribute("type","matrix"),le.setAttribute("color-interpolation-filters","linearRGB"),le.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=le,le.setAttribute("result",ee+"_tint_1"),$.appendChild(le),le=createNS("feColorMatrix"),le.setAttribute("type","matrix"),le.setAttribute("color-interpolation-filters","sRGB"),le.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),le.setAttribute("result",ee+"_tint_2"),$.appendChild(le),this.matrixFilter=le;var de=this.createMergeNode(ee,[re,ee+"_tint_1",ee+"_tint_2"]);$.appendChild(de)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function($){if($||this.filterManager._mdf){var _=this.filterManager.effectElements[0].p.v,j=this.filterManager.effectElements[1].p.v,ee=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+ee+" 0"),this.matrixFilter.setAttribute("values",j[0]-_[0]+" 0 0 0 "+_[0]+" "+(j[1]-_[1])+" 0 0 0 "+_[1]+" "+(j[2]-_[2])+" 0 0 0 "+_[2]+" 0 0 0 1 0")}};function SVGFillFilter($,_,j,ee){this.filterManager=_;var re=createNS("feColorMatrix");re.setAttribute("type","matrix"),re.setAttribute("color-interpolation-filters","sRGB"),re.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),re.setAttribute("result",ee),$.appendChild(re),this.matrixFilter=re}SVGFillFilter.prototype.renderFrame=function($){if($||this.filterManager._mdf){var _=this.filterManager.effectElements[2].p.v,j=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+_[0]+" 0 0 0 0 "+_[1]+" 0 0 0 0 "+_[2]+" 0 0 0 "+j+" 0")}};function SVGStrokeEffect($,_,j){this.initialized=!1,this.filterManager=_,this.elem=j,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var $=this.elem.layerElement.children||this.elem.layerElement.childNodes,_,j,ee,re;for(this.filterManager.effectElements[1].p.v===1?(re=this.elem.maskManager.masksProperties.length,ee=0):(ee=this.filterManager.effectElements[0].p.v-1,re=ee+1),j=createNS("g"),j.setAttribute("fill","none"),j.setAttribute("stroke-linecap","round"),j.setAttribute("stroke-dashoffset",1),ee;ee<re;ee+=1)_=createNS("path"),j.appendChild(_),this.paths.push({p:_,m:ee});if(this.filterManager.effectElements[10].p.v===3){var le=createNS("mask"),de=createElementID();le.setAttribute("id",de),le.setAttribute("mask-type","alpha"),le.appendChild(j),this.elem.globalData.defs.appendChild(le);var ge=createNS("g");for(ge.setAttribute("mask","url("+getLocationHref()+"#"+de+")");$[0];)ge.appendChild($[0]);this.elem.layerElement.appendChild(ge),this.masker=le,j.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for($=this.elem.layerElement.children||this.elem.layerElement.childNodes;$.length;)this.elem.layerElement.removeChild($[0]);this.elem.layerElement.appendChild(j),this.elem.layerElement.removeAttribute("mask"),j.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=j},SVGStrokeEffect.prototype.renderFrame=function($){this.initialized||this.initialize();var _,j=this.paths.length,ee,re;for(_=0;_<j;_+=1)if(this.paths[_].m!==-1&&(ee=this.elem.maskManager.viewData[this.paths[_].m],re=this.paths[_].p,($||this.filterManager._mdf||ee.prop._mdf)&&re.setAttribute("d",ee.lastPath),$||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||ee.prop._mdf)){var le;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var de=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ge=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ve=re.getTotalLength();le="0 0 0 "+ve*de+" ";var Ee=ve*(ge-de),Ce=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,Ae=Math.floor(Ee/Ce),Se;for(Se=0;Se<Ae;Se+=1)le+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";le+="0 "+ve*10+" 0 0"}else le="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;re.setAttribute("stroke-dasharray",le)}if(($||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),($||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&($||this.filterManager.effectElements[3].p._mdf)){var ke=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(ke[0]*255)+","+bmFloor(ke[1]*255)+","+bmFloor(ke[2]*255)+")")}};function SVGTritoneFilter($,_,j,ee){this.filterManager=_;var re=createNS("feColorMatrix");re.setAttribute("type","matrix"),re.setAttribute("color-interpolation-filters","linearRGB"),re.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),$.appendChild(re);var le=createNS("feComponentTransfer");le.setAttribute("color-interpolation-filters","sRGB"),le.setAttribute("result",ee),this.matrixFilter=le;var de=createNS("feFuncR");de.setAttribute("type","table"),le.appendChild(de),this.feFuncR=de;var ge=createNS("feFuncG");ge.setAttribute("type","table"),le.appendChild(ge),this.feFuncG=ge;var ve=createNS("feFuncB");ve.setAttribute("type","table"),le.appendChild(ve),this.feFuncB=ve,$.appendChild(le)}SVGTritoneFilter.prototype.renderFrame=function($){if($||this.filterManager._mdf){var _=this.filterManager.effectElements[0].p.v,j=this.filterManager.effectElements[1].p.v,ee=this.filterManager.effectElements[2].p.v,re=ee[0]+" "+j[0]+" "+_[0],le=ee[1]+" "+j[1]+" "+_[1],de=ee[2]+" "+j[2]+" "+_[2];this.feFuncR.setAttribute("tableValues",re),this.feFuncG.setAttribute("tableValues",le),this.feFuncB.setAttribute("tableValues",de)}};function SVGProLevelsFilter($,_,j,ee){this.filterManager=_;var re=this.filterManager.effectElements,le=createNS("feComponentTransfer");(re[10].p.k||re[10].p.v!==0||re[11].p.k||re[11].p.v!==1||re[12].p.k||re[12].p.v!==1||re[13].p.k||re[13].p.v!==0||re[14].p.k||re[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",le)),(re[17].p.k||re[17].p.v!==0||re[18].p.k||re[18].p.v!==1||re[19].p.k||re[19].p.v!==1||re[20].p.k||re[20].p.v!==0||re[21].p.k||re[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",le)),(re[24].p.k||re[24].p.v!==0||re[25].p.k||re[25].p.v!==1||re[26].p.k||re[26].p.v!==1||re[27].p.k||re[27].p.v!==0||re[28].p.k||re[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",le)),(re[31].p.k||re[31].p.v!==0||re[32].p.k||re[32].p.v!==1||re[33].p.k||re[33].p.v!==1||re[34].p.k||re[34].p.v!==0||re[35].p.k||re[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",le)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(le.setAttribute("color-interpolation-filters","sRGB"),$.appendChild(le)),(re[3].p.k||re[3].p.v!==0||re[4].p.k||re[4].p.v!==1||re[5].p.k||re[5].p.v!==1||re[6].p.k||re[6].p.v!==0||re[7].p.k||re[7].p.v!==1)&&(le=createNS("feComponentTransfer"),le.setAttribute("color-interpolation-filters","sRGB"),le.setAttribute("result",ee),$.appendChild(le),this.feFuncRComposed=this.createFeFunc("feFuncR",le),this.feFuncGComposed=this.createFeFunc("feFuncG",le),this.feFuncBComposed=this.createFeFunc("feFuncB",le))}SVGProLevelsFilter.prototype.createFeFunc=function($,_){var j=createNS($);return j.setAttribute("type","table"),_.appendChild(j),j},SVGProLevelsFilter.prototype.getTableValue=function($,_,j,ee,re){for(var le=0,de=256,ge,ve=Math.min($,_),Ee=Math.max($,_),Ce=Array.call(null,{length:de}),Ae,Se=0,ke=re-ee,we=_-$;le<=256;)ge=le/256,ge<=ve?Ae=we<0?re:ee:ge>=Ee?Ae=we<0?ee:re:Ae=ee+ke*Math.pow((ge-$)/we,1/j),Ce[Se]=Ae,Se+=1,le+=256/(de-1);return Ce.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function($){if($||this.filterManager._mdf){var _,j=this.filterManager.effectElements;this.feFuncRComposed&&($||j[3].p._mdf||j[4].p._mdf||j[5].p._mdf||j[6].p._mdf||j[7].p._mdf)&&(_=this.getTableValue(j[3].p.v,j[4].p.v,j[5].p.v,j[6].p.v,j[7].p.v),this.feFuncRComposed.setAttribute("tableValues",_),this.feFuncGComposed.setAttribute("tableValues",_),this.feFuncBComposed.setAttribute("tableValues",_)),this.feFuncR&&($||j[10].p._mdf||j[11].p._mdf||j[12].p._mdf||j[13].p._mdf||j[14].p._mdf)&&(_=this.getTableValue(j[10].p.v,j[11].p.v,j[12].p.v,j[13].p.v,j[14].p.v),this.feFuncR.setAttribute("tableValues",_)),this.feFuncG&&($||j[17].p._mdf||j[18].p._mdf||j[19].p._mdf||j[20].p._mdf||j[21].p._mdf)&&(_=this.getTableValue(j[17].p.v,j[18].p.v,j[19].p.v,j[20].p.v,j[21].p.v),this.feFuncG.setAttribute("tableValues",_)),this.feFuncB&&($||j[24].p._mdf||j[25].p._mdf||j[26].p._mdf||j[27].p._mdf||j[28].p._mdf)&&(_=this.getTableValue(j[24].p.v,j[25].p.v,j[26].p.v,j[27].p.v,j[28].p.v),this.feFuncB.setAttribute("tableValues",_)),this.feFuncA&&($||j[31].p._mdf||j[32].p._mdf||j[33].p._mdf||j[34].p._mdf||j[35].p._mdf)&&(_=this.getTableValue(j[31].p.v,j[32].p.v,j[33].p.v,j[34].p.v,j[35].p.v),this.feFuncA.setAttribute("tableValues",_))}};function SVGDropShadowEffect($,_,j,ee,re){var le=_.container.globalData.renderConfig.filterSize,de=_.data.fs||le;$.setAttribute("x",de.x||le.x),$.setAttribute("y",de.y||le.y),$.setAttribute("width",de.width||le.width),$.setAttribute("height",de.height||le.height),this.filterManager=_;var ge=createNS("feGaussianBlur");ge.setAttribute("in","SourceAlpha"),ge.setAttribute("result",ee+"_drop_shadow_1"),ge.setAttribute("stdDeviation","0"),this.feGaussianBlur=ge,$.appendChild(ge);var ve=createNS("feOffset");ve.setAttribute("dx","25"),ve.setAttribute("dy","0"),ve.setAttribute("in",ee+"_drop_shadow_1"),ve.setAttribute("result",ee+"_drop_shadow_2"),this.feOffset=ve,$.appendChild(ve);var Ee=createNS("feFlood");Ee.setAttribute("flood-color","#00ff00"),Ee.setAttribute("flood-opacity","1"),Ee.setAttribute("result",ee+"_drop_shadow_3"),this.feFlood=Ee,$.appendChild(Ee);var Ce=createNS("feComposite");Ce.setAttribute("in",ee+"_drop_shadow_3"),Ce.setAttribute("in2",ee+"_drop_shadow_2"),Ce.setAttribute("operator","in"),Ce.setAttribute("result",ee+"_drop_shadow_4"),$.appendChild(Ce);var Ae=this.createMergeNode(ee,[ee+"_drop_shadow_4",re]);$.appendChild(Ae)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function($){if($||this.filterManager._mdf){if(($||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),$||this.filterManager.effectElements[0].p._mdf){var _=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(_[0]*255),Math.round(_[1]*255),Math.round(_[2]*255)))}if(($||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),$||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var j=this.filterManager.effectElements[3].p.v,ee=(this.filterManager.effectElements[2].p.v-90)*degToRads,re=j*Math.cos(ee),le=j*Math.sin(ee);this.feOffset.setAttribute("dx",re),this.feOffset.setAttribute("dy",le)}}};var _svgMatteSymbols=[];function SVGMatte3Effect($,_,j){this.initialized=!1,this.filterManager=_,this.filterElem=$,this.elem=j,j.matteElement=createNS("g"),j.matteElement.appendChild(j.layerElement),j.matteElement.appendChild(j.transformedElement),j.baseElement=j.matteElement}SVGMatte3Effect.prototype.findSymbol=function($){for(var _=0,j=_svgMatteSymbols.length;_<j;){if(_svgMatteSymbols[_]===$)return _svgMatteSymbols[_];_+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function($,_){var j=$.layerElement.parentNode;if(j){for(var ee=j.children,re=0,le=ee.length;re<le&&ee[re]!==$.layerElement;)re+=1;var de;re<=le-2&&(de=ee[re+1]);var ge=createNS("use");ge.setAttribute("href","#"+_),de?j.insertBefore(ge,de):j.appendChild(ge)}},SVGMatte3Effect.prototype.setElementAsMask=function($,_){if(!this.findSymbol(_)){var j=createElementID(),ee=createNS("mask");ee.setAttribute("id",_.layerId),ee.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(_);var re=$.globalData.defs;re.appendChild(ee);var le=createNS("symbol");le.setAttribute("id",j),this.replaceInParent(_,j),le.appendChild(_.layerElement),re.appendChild(le);var de=createNS("use");de.setAttribute("href","#"+j),ee.appendChild(de),_.data.hd=!1,_.show()}$.setMatte(_.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var $=this.filterManager.effectElements[0].p.v,_=this.elem.comp.elements,j=0,ee=_.length;j<ee;)_[j]&&_[j].data.ind===$&&this.setElementAsMask(this.elem,_[j]),j+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect($,_,j,ee){$.setAttribute("x","-100%"),$.setAttribute("y","-100%"),$.setAttribute("width","300%"),$.setAttribute("height","300%"),this.filterManager=_;var re=createNS("feGaussianBlur");re.setAttribute("result",ee),$.appendChild(re),this.feGaussianBlur=re}SVGGaussianBlurEffect.prototype.renderFrame=function($){if($||this.filterManager._mdf){var _=.3,j=this.filterManager.effectElements[0].p.v*_,ee=this.filterManager.effectElements[1].p.v,re=ee==3?0:j,le=ee==2?0:j;this.feGaussianBlur.setAttribute("stdDeviation",re+" "+le);var de=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",de)}};function TransformEffect(){}TransformEffect.prototype.init=function($){this.effectsManager=$,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function($){if(this._opMdf=!1,this._mdf=!1,$||this.effectsManager._mdf){var _=this.effectsManager.effectElements,j=_[0].p.v,ee=_[1].p.v,re=_[2].p.v===1,le=_[3].p.v,de=re?le:_[4].p.v,ge=_[5].p.v,ve=_[6].p.v,Ee=_[7].p.v;this.matrix.reset(),this.matrix.translate(-j[0],-j[1],j[2]),this.matrix.scale(de*.01,le*.01,1),this.matrix.rotate(-Ee*degToRads),this.matrix.skewFromAxis(-ge*degToRads,(ve+90)*degToRads),this.matrix.translate(ee[0],ee[1],0),this._mdf=!0,this.opacity!==_[8].p.v&&(this.opacity=_[8].p.v,this._opMdf=!0)}};function SVGTransformEffect($,_){this.init(_)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect($){this.init($)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie,lottie.exports);var lottieExports=lottie.exports;const Lottie=getDefaultExportFromCjs(lottieExports);(function(){try{if(typeof document<"u"){var $=document.createElement("style");$.appendChild(document.createTextNode(".lottie-animation-container{width:var(--lottie-animation-container-width);height:var(--lottie-animation-container-height);background-color:var(--lottie-animation-container-background-color);overflow:hidden;margin:var(--lottie-animation-margin)}.lottie-animation-container svg{transform:scale(var(--lottie-animation-scale))}")),document.head.appendChild($)}}catch(_){console.error("vite-plugin-css-injected-by-js",_)}})();var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=($,_,j)=>_ in $?__defProp($,_,{enumerable:!0,configurable:!0,writable:!0,value:j}):$[_]=j,__spreadValues=($,_)=>{for(var j in _||(_={}))__hasOwnProp.call(_,j)&&__defNormalProp($,j,_[j]);if(__getOwnPropSymbols)for(var j of __getOwnPropSymbols(_))__propIsEnum.call(_,j)&&__defNormalProp($,j,_[j]);return $},__spreadProps=($,_)=>__defProps($,__getOwnPropDescs(_)),freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeGlobal$1=freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")(),root$1=root,Symbol$1=root$1.Symbol,Symbol$2=Symbol$1,objectProto$e=Object.prototype,hasOwnProperty$b=objectProto$e.hasOwnProperty,nativeObjectToString$1=objectProto$e.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag($){var _=hasOwnProperty$b.call($,symToStringTag$1),j=$[symToStringTag$1];try{$[symToStringTag$1]=void 0;var ee=!0}catch{}var re=nativeObjectToString$1.call($);return ee&&(_?$[symToStringTag$1]=j:delete $[symToStringTag$1]),re}var objectProto$d=Object.prototype,nativeObjectToString=objectProto$d.toString;function objectToString$1($){return nativeObjectToString.call($)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag($){return $==null?$===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object($)?getRawTag($):objectToString$1($)}function isObjectLike($){return $!=null&&typeof $=="object"}var isArray$2=Array.isArray,isArray$1$1=isArray$2;function isObject$2($){var _=typeof $;return $!=null&&(_=="object"||_=="function")}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction($){if(!isObject$2($))return!1;var _=baseGetTag($);return _==funcTag$2||_==genTag$1||_==asyncTag||_==proxyTag}var coreJsData=root$1["__core-js_shared__"],coreJsData$1=coreJsData,maskSrcKey=function(){var $=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return $?"Symbol(src)_1."+$:""}();function isMasked($){return!!maskSrcKey&&maskSrcKey in $}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource($){if($!=null){try{return funcToString$1.call($)}catch{}try{return $+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$c=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$a=objectProto$c.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$a).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative($){if(!isObject$2($)||isMasked($))return!1;var _=isFunction($)?reIsNative:reIsHostCtor;return _.test(toSource($))}function getValue($,_){return $?.[_]}function getNative($,_){var j=getValue($,_);return baseIsNative(j)?j:void 0}var WeakMap$1=getNative(root$1,"WeakMap"),WeakMap$1$1=WeakMap$1,objectCreate=Object.create,baseCreate=function(){function $(){}return function(_){if(!isObject$2(_))return{};if(objectCreate)return objectCreate(_);$.prototype=_;var j=new $;return $.prototype=void 0,j}}(),baseCreate$1=baseCreate;function copyArray($,_){var j=-1,ee=$.length;for(_||(_=Array(ee));++j<ee;)_[j]=$[j];return _}var defineProperty=function(){try{var $=getNative(Object,"defineProperty");return $({},"",{}),$}catch{}}(),defineProperty$1=defineProperty;function arrayEach($,_){for(var j=-1,ee=$==null?0:$.length;++j<ee&&_($[j],j,$)!==!1;);return $}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex($,_){var j=typeof $;return _=_??MAX_SAFE_INTEGER$1,!!_&&(j=="number"||j!="symbol"&&reIsUint.test($))&&$>-1&&$%1==0&&$<_}function baseAssignValue($,_,j){_=="__proto__"&&defineProperty$1?defineProperty$1($,_,{configurable:!0,enumerable:!0,value:j,writable:!0}):$[_]=j}function eq($,_){return $===_||$!==$&&_!==_}var objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty;function assignValue($,_,j){var ee=$[_];(!(hasOwnProperty$9.call($,_)&&eq(ee,j))||j===void 0&&!(_ in $))&&baseAssignValue($,_,j)}function copyObject($,_,j,ee){var re=!j;j||(j={});for(var le=-1,de=_.length;++le<de;){var ge=_[le],ve=ee?ee(j[ge],$[ge],ge,j,$):void 0;ve===void 0&&(ve=$[ge]),re?baseAssignValue(j,ge,ve):assignValue(j,ge,ve)}return j}var MAX_SAFE_INTEGER=9007199254740991;function isLength($){return typeof $=="number"&&$>-1&&$%1==0&&$<=MAX_SAFE_INTEGER}function isArrayLike($){return $!=null&&isLength($.length)&&!isFunction($)}var objectProto$a=Object.prototype;function isPrototype($){var _=$&&$.constructor,j=typeof _=="function"&&_.prototype||objectProto$a;return $===j}function baseTimes($,_){for(var j=-1,ee=Array($);++j<$;)ee[j]=_(j);return ee}var argsTag$3="[object Arguments]";function baseIsArguments($){return isObjectLike($)&&baseGetTag($)==argsTag$3}var objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty,propertyIsEnumerable$1=objectProto$9.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function($){return isObjectLike($)&&hasOwnProperty$8.call($,"callee")&&!propertyIsEnumerable$1.call($,"callee")},isArguments$1=isArguments;function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root$1.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,isBuffer$1=isBuffer,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$3="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray($){return isObjectLike($)&&isLength($.length)&&!!typedArrayTags[baseGetTag($)]}function baseUnary($){return function(_){return $(_)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal$1.process,nodeUtil=function(){try{var $=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return $||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeUtil$1=nodeUtil,nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray$1=isTypedArray,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function arrayLikeKeys($,_){var j=isArray$1$1($),ee=!j&&isArguments$1($),re=!j&&!ee&&isBuffer$1($),le=!j&&!ee&&!re&&isTypedArray$1($),de=j||ee||re||le,ge=de?baseTimes($.length,String):[],ve=ge.length;for(var Ee in $)(_||hasOwnProperty$7.call($,Ee))&&!(de&&(Ee=="length"||re&&(Ee=="offset"||Ee=="parent")||le&&(Ee=="buffer"||Ee=="byteLength"||Ee=="byteOffset")||isIndex(Ee,ve)))&&ge.push(Ee);return ge}function overArg($,_){return function(j){return $(_(j))}}var nativeKeys=overArg(Object.keys,Object),nativeKeys$1=nativeKeys,objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function baseKeys($){if(!isPrototype($))return nativeKeys$1($);var _=[];for(var j in Object($))hasOwnProperty$6.call($,j)&&j!="constructor"&&_.push(j);return _}function keys($){return isArrayLike($)?arrayLikeKeys($):baseKeys($)}function nativeKeysIn($){var _=[];if($!=null)for(var j in Object($))_.push(j);return _}var objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function baseKeysIn($){if(!isObject$2($))return nativeKeysIn($);var _=isPrototype($),j=[];for(var ee in $)ee=="constructor"&&(_||!hasOwnProperty$5.call($,ee))||j.push(ee);return j}function keysIn($){return isArrayLike($)?arrayLikeKeys($,!0):baseKeysIn($)}var nativeCreate=getNative(Object,"create"),nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete($){var _=this.has($)&&delete this.__data__[$];return this.size-=_?1:0,_}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function hashGet($){var _=this.__data__;if(nativeCreate$1){var j=_[$];return j===HASH_UNDEFINED$2?void 0:j}return hasOwnProperty$4.call(_,$)?_[$]:void 0}var objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function hashHas($){var _=this.__data__;return nativeCreate$1?_[$]!==void 0:hasOwnProperty$3.call(_,$)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet($,_){var j=this.__data__;return this.size+=this.has($)?0:1,j[$]=nativeCreate$1&&_===void 0?HASH_UNDEFINED$1:_,this}function Hash($){var _=-1,j=$==null?0:$.length;for(this.clear();++_<j;){var ee=$[_];this.set(ee[0],ee[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf($,_){for(var j=$.length;j--;)if(eq($[j][0],_))return j;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete($){var _=this.__data__,j=assocIndexOf(_,$);if(j<0)return!1;var ee=_.length-1;return j==ee?_.pop():splice.call(_,j,1),--this.size,!0}function listCacheGet($){var _=this.__data__,j=assocIndexOf(_,$);return j<0?void 0:_[j][1]}function listCacheHas($){return assocIndexOf(this.__data__,$)>-1}function listCacheSet($,_){var j=this.__data__,ee=assocIndexOf(j,$);return ee<0?(++this.size,j.push([$,_])):j[ee][1]=_,this}function ListCache($){var _=-1,j=$==null?0:$.length;for(this.clear();++_<j;){var ee=$[_];this.set(ee[0],ee[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$1,"Map"),Map$1$1=Map$1;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1$1||ListCache),string:new Hash}}function isKeyable($){var _=typeof $;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?$!=="__proto__":$===null}function getMapData($,_){var j=$.__data__;return isKeyable(_)?j[typeof _=="string"?"string":"hash"]:j.map}function mapCacheDelete($){var _=getMapData(this,$).delete($);return this.size-=_?1:0,_}function mapCacheGet($){return getMapData(this,$).get($)}function mapCacheHas($){return getMapData(this,$).has($)}function mapCacheSet($,_){var j=getMapData(this,$),ee=j.size;return j.set($,_),this.size+=j.size==ee?0:1,this}function MapCache($){var _=-1,j=$==null?0:$.length;for(this.clear();++_<j;){var ee=$[_];this.set(ee[0],ee[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function arrayPush($,_){for(var j=-1,ee=_.length,re=$.length;++j<ee;)$[re+j]=_[j];return $}var getPrototype=overArg(Object.getPrototypeOf,Object),getPrototype$1=getPrototype;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete($){var _=this.__data__,j=_.delete($);return this.size=_.size,j}function stackGet($){return this.__data__.get($)}function stackHas($){return this.__data__.has($)}var LARGE_ARRAY_SIZE=200;function stackSet($,_){var j=this.__data__;if(j instanceof ListCache){var ee=j.__data__;if(!Map$1$1||ee.length<LARGE_ARRAY_SIZE-1)return ee.push([$,_]),this.size=++j.size,this;j=this.__data__=new MapCache(ee)}return j.set($,_),this.size=j.size,this}function Stack($){var _=this.__data__=new ListCache($);this.size=_.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function baseAssign($,_){return $&&copyObject(_,keys(_),$)}function baseAssignIn($,_){return $&&copyObject(_,keysIn(_),$)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer2=moduleExports?root$1.Buffer:void 0,allocUnsafe=Buffer2?Buffer2.allocUnsafe:void 0;function cloneBuffer($,_){if(_)return $.slice();var j=$.length,ee=allocUnsafe?allocUnsafe(j):new $.constructor(j);return $.copy(ee),ee}function arrayFilter($,_){for(var j=-1,ee=$==null?0:$.length,re=0,le=[];++j<ee;){var de=$[j];_(de,j,$)&&(le[re++]=de)}return le}function stubArray(){return[]}var objectProto$3=Object.prototype,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function($){return $==null?[]:($=Object($),arrayFilter(nativeGetSymbols$1($),function(_){return propertyIsEnumerable.call($,_)}))}:stubArray,getSymbols$1=getSymbols;function copySymbols($,_){return copyObject($,getSymbols$1($),_)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function($){for(var _=[];$;)arrayPush(_,getSymbols$1($)),$=getPrototype$1($);return _}:stubArray,getSymbolsIn$1=getSymbolsIn;function copySymbolsIn($,_){return copyObject($,getSymbolsIn$1($),_)}function baseGetAllKeys($,_,j){var ee=_($);return isArray$1$1($)?ee:arrayPush(ee,j($))}function getAllKeys($){return baseGetAllKeys($,keys,getSymbols$1)}function getAllKeysIn($){return baseGetAllKeys($,keysIn,getSymbolsIn$1)}var DataView$1=getNative(root$1,"DataView"),DataView$1$1=DataView$1,Promise$1=getNative(root$1,"Promise"),Promise$2=Promise$1,Set$1=getNative(root$1,"Set"),Set$1$1=Set$1,mapTag$4="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$4="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$1$1),mapCtorString=toSource(Map$1$1),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$1$1),weakMapCtorString=toSource(WeakMap$1$1),getTag=baseGetTag;(DataView$1$1&&getTag(new DataView$1$1(new ArrayBuffer(1)))!=dataViewTag$3||Map$1$1&&getTag(new Map$1$1)!=mapTag$4||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set$1$1&&getTag(new Set$1$1)!=setTag$4||WeakMap$1$1&&getTag(new WeakMap$1$1)!=weakMapTag$1)&&(getTag=function($){var _=baseGetTag($),j=_==objectTag$2?$.constructor:void 0,ee=j?toSource(j):"";if(ee)switch(ee){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$4;case promiseCtorString:return promiseTag;case setCtorString:return setTag$4;case weakMapCtorString:return weakMapTag$1}return _});var getTag$1=getTag,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function initCloneArray($){var _=$.length,j=new $.constructor(_);return _&&typeof $[0]=="string"&&hasOwnProperty$2.call($,"index")&&(j.index=$.index,j.input=$.input),j}var Uint8Array2=root$1.Uint8Array,Uint8Array$1=Uint8Array2;function cloneArrayBuffer($){var _=new $.constructor($.byteLength);return new Uint8Array$1(_).set(new Uint8Array$1($)),_}function cloneDataView($,_){var j=_?cloneArrayBuffer($.buffer):$.buffer;return new $.constructor(j,$.byteOffset,$.byteLength)}var reFlags=/\w*$/;function cloneRegExp($){var _=new $.constructor($.source,reFlags.exec($));return _.lastIndex=$.lastIndex,_}var symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol($){return symbolValueOf$1?Object(symbolValueOf$1.call($)):{}}function cloneTypedArray($,_){var j=_?cloneArrayBuffer($.buffer):$.buffer;return new $.constructor(j,$.byteOffset,$.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$3="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag($,_,j){var ee=$.constructor;switch(_){case arrayBufferTag$2:return cloneArrayBuffer($);case boolTag$2:case dateTag$2:return new ee(+$);case dataViewTag$2:return cloneDataView($,j);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray($,j);case mapTag$3:return new ee;case numberTag$2:case stringTag$2:return new ee($);case regexpTag$2:return cloneRegExp($);case setTag$3:return new ee;case symbolTag$2:return cloneSymbol($)}}function initCloneObject($){return typeof $.constructor=="function"&&!isPrototype($)?baseCreate$1(getPrototype$1($)):{}}var mapTag$2="[object Map]";function baseIsMap($){return isObjectLike($)&&getTag$1($)==mapTag$2}var nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,isMap$1=isMap,setTag$2="[object Set]";function baseIsSet($){return isObjectLike($)&&getTag$1($)==setTag$2}var nodeIsSet=nodeUtil$1&&nodeUtil$1.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet$1=isSet,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$1=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$1="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$1]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$1]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone($,_,j,ee,re,le){var de,ge=_&CLONE_DEEP_FLAG$1,ve=_&CLONE_FLAT_FLAG,Ee=_&CLONE_SYMBOLS_FLAG$1;if(j&&(de=re?j($,ee,re,le):j($)),de!==void 0)return de;if(!isObject$2($))return $;var Ce=isArray$1$1($);if(Ce){if(de=initCloneArray($),!ge)return copyArray($,de)}else{var Ae=getTag$1($),Se=Ae==funcTag||Ae==genTag;if(isBuffer$1($))return cloneBuffer($,ge);if(Ae==objectTag$1||Ae==argsTag$1||Se&&!re){if(de=ve||Se?{}:initCloneObject($),!ge)return ve?copySymbolsIn($,baseAssignIn(de,$)):copySymbols($,baseAssign(de,$))}else{if(!cloneableTags[Ae])return re?$:{};de=initCloneByTag($,Ae,ge)}}le||(le=new Stack);var ke=le.get($);if(ke)return ke;le.set($,de),isSet$1($)?$.forEach(function(Le){de.add(baseClone(Le,_,j,Le,$,le))}):isMap$1($)&&$.forEach(function(Le,Me){de.set(Me,baseClone(Le,_,j,Me,$,le))});var we=Ee?ve?getAllKeysIn:getAllKeys:ve?keysIn:keys,Ne=Ce?void 0:we($);return arrayEach(Ne||$,function(Le,Me){Ne&&(Me=Le,Le=$[Me]),assignValue(de,Me,baseClone(Le,_,j,Me,$,le))}),de}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep($){return baseClone($,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd($){return this.__data__.set($,HASH_UNDEFINED),this}function setCacheHas($){return this.__data__.has($)}function SetCache($){var _=-1,j=$==null?0:$.length;for(this.__data__=new MapCache;++_<j;)this.add($[_])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome($,_){for(var j=-1,ee=$==null?0:$.length;++j<ee;)if(_($[j],j,$))return!0;return!1}function cacheHas($,_){return $.has(_)}var COMPARE_PARTIAL_FLAG$3=1,COMPARE_UNORDERED_FLAG$1=2;function equalArrays($,_,j,ee,re,le){var de=j&COMPARE_PARTIAL_FLAG$3,ge=$.length,ve=_.length;if(ge!=ve&&!(de&&ve>ge))return!1;var Ee=le.get($),Ce=le.get(_);if(Ee&&Ce)return Ee==_&&Ce==$;var Ae=-1,Se=!0,ke=j&COMPARE_UNORDERED_FLAG$1?new SetCache:void 0;for(le.set($,_),le.set(_,$);++Ae<ge;){var we=$[Ae],Ne=_[Ae];if(ee)var Le=de?ee(Ne,we,Ae,_,$,le):ee(we,Ne,Ae,$,_,le);if(Le!==void 0){if(Le)continue;Se=!1;break}if(ke){if(!arraySome(_,function(Me,Fe){if(!cacheHas(ke,Fe)&&(we===Me||re(we,Me,j,ee,le)))return ke.push(Fe)})){Se=!1;break}}else if(!(we===Ne||re(we,Ne,j,ee,le))){Se=!1;break}}return le.delete($),le.delete(_),Se}function mapToArray($){var _=-1,j=Array($.size);return $.forEach(function(ee,re){j[++_]=[re,ee]}),j}function setToArray($){var _=-1,j=Array($.size);return $.forEach(function(ee){j[++_]=ee}),j}var COMPARE_PARTIAL_FLAG$2=1,COMPARE_UNORDERED_FLAG=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag($,_,j,ee,re,le,de){switch(j){case dataViewTag:if($.byteLength!=_.byteLength||$.byteOffset!=_.byteOffset)return!1;$=$.buffer,_=_.buffer;case arrayBufferTag:return!($.byteLength!=_.byteLength||!le(new Uint8Array$1($),new Uint8Array$1(_)));case boolTag:case dateTag:case numberTag:return eq(+$,+_);case errorTag:return $.name==_.name&&$.message==_.message;case regexpTag:case stringTag:return $==_+"";case mapTag:var ge=mapToArray;case setTag:var ve=ee&COMPARE_PARTIAL_FLAG$2;if(ge||(ge=setToArray),$.size!=_.size&&!ve)return!1;var Ee=de.get($);if(Ee)return Ee==_;ee|=COMPARE_UNORDERED_FLAG,de.set($,_);var Ce=equalArrays(ge($),ge(_),ee,re,le,de);return de.delete($),Ce;case symbolTag:if(symbolValueOf)return symbolValueOf.call($)==symbolValueOf.call(_)}return!1}var COMPARE_PARTIAL_FLAG$1=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects($,_,j,ee,re,le){var de=j&COMPARE_PARTIAL_FLAG$1,ge=getAllKeys($),ve=ge.length,Ee=getAllKeys(_),Ce=Ee.length;if(ve!=Ce&&!de)return!1;for(var Ae=ve;Ae--;){var Se=ge[Ae];if(!(de?Se in _:hasOwnProperty$1.call(_,Se)))return!1}var ke=le.get($),we=le.get(_);if(ke&&we)return ke==_&&we==$;var Ne=!0;le.set($,_),le.set(_,$);for(var Le=de;++Ae<ve;){Se=ge[Ae];var Me=$[Se],Fe=_[Se];if(ee)var xe=de?ee(Fe,Me,Se,_,$,le):ee(Me,Fe,Se,$,_,le);if(!(xe===void 0?Me===Fe||re(Me,Fe,j,ee,le):xe)){Ne=!1;break}Le||(Le=Se=="constructor")}if(Ne&&!Le){var $e=$.constructor,De=_.constructor;$e!=De&&"constructor"in $&&"constructor"in _&&!(typeof $e=="function"&&$e instanceof $e&&typeof De=="function"&&De instanceof De)&&(Ne=!1)}return le.delete($),le.delete(_),Ne}var COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep($,_,j,ee,re,le){var de=isArray$1$1($),ge=isArray$1$1(_),ve=de?arrayTag:getTag$1($),Ee=ge?arrayTag:getTag$1(_);ve=ve==argsTag?objectTag:ve,Ee=Ee==argsTag?objectTag:Ee;var Ce=ve==objectTag,Ae=Ee==objectTag,Se=ve==Ee;if(Se&&isBuffer$1($)){if(!isBuffer$1(_))return!1;de=!0,Ce=!1}if(Se&&!Ce)return le||(le=new Stack),de||isTypedArray$1($)?equalArrays($,_,j,ee,re,le):equalByTag($,_,ve,j,ee,re,le);if(!(j&COMPARE_PARTIAL_FLAG)){var ke=Ce&&hasOwnProperty.call($,"__wrapped__"),we=Ae&&hasOwnProperty.call(_,"__wrapped__");if(ke||we){var Ne=ke?$.value():$,Le=we?_.value():_;return le||(le=new Stack),re(Ne,Le,j,ee,le)}}return Se?(le||(le=new Stack),equalObjects($,_,j,ee,re,le)):!1}function baseIsEqual($,_,j,ee,re){return $===_?!0:$==null||_==null||!isObjectLike($)&&!isObjectLike(_)?$!==$&&_!==_:baseIsEqualDeep($,_,j,ee,baseIsEqual,re)}function isEqual($,_){return baseIsEqual($,_)}var _export_sfc$1=($,_)=>{const j=$.__vccOpts||$;for(const[ee,re]of _)j[ee]=re;return j};const _sfc_main$2K=defineComponent({props:{animationData:{type:Object,default:()=>({})},animationLink:{type:String,default:""},loop:{type:[Boolean,Number],default:!0},autoPlay:{type:Boolean,default:!0},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},speed:{type:Number,default:1},delay:{type:Number,default:0},direction:{type:String,default:"forward"},pauseOnHover:{type:Boolean,default:!1},playOnHover:{type:Boolean,default:!1},backgroundColor:{type:String,default:"transparent"},pauseAnimation:{type:Boolean,default:!1},noMargin:{type:Boolean,default:!1},scale:{type:Number,default:1},renderer:{type:String,default:"svg"},rendererSettings:{type:Object,default:()=>({})},assetsPath:{type:String,default:""}},emits:{onComplete:null,onLoopComplete:null,onEnterFrame:null,onSegmentStart:null,onAnimationLoaded:null},setup($,{emit:_}){const j=ref$1(),ee=ref$1();let re=null,le=1;watchEffect(async()=>{if($.animationLink!="")try{const Ge=await(await fetch($.animationLink)).json();j.value=Ge,nextTick(()=>de())}catch(Oe){console.error(Oe);return}else if(isEqual($.animationData,{})===!1)j.value=cloneDeep($.animationData),nextTick(()=>de());else throw new Error("You must provide either animationLink or animationData")});const de=()=>{if(!ee.value||!j.value)return;re?.destroy(),re=null;let Oe=$.autoPlay,Ge=$.loop;$.playOnHover&&(Oe=!1),typeof Ge=="number"&&Ge>0&&(Ge=Ge-1),$.delay>0&&(Oe=!1);const We={container:ee.value,renderer:$.renderer,loop:Ge,autoplay:Oe,animationData:j.value,assetsPath:$.assetsPath};isEqual($.rendererSettings,{})===!1&&(We.rendererSettings=$.rendererSettings),$.scale!==1&&(We.rendererSettings=__spreadProps(__spreadValues({},We.rendererSettings),{viewBoxOnly:!0})),re=Lottie.loadAnimation(We),setTimeout(()=>{Oe=$.autoPlay,$.playOnHover?re?.pause():Oe?re?.play():re?.pause(),_("onAnimationLoaded")},$.delay),re.setSpeed($.speed),$.direction==="reverse"&&re.setDirection(-1),$.direction==="normal"&&re.setDirection(1),($.pauseAnimation||$.playOnHover)&&re.pause(),re.addEventListener("loopComplete",()=>{$.direction==="alternate"&&(re?.stop(),le=le===-1?1:-1,re?.setDirection(le),re?.play()),_("onLoopComplete")}),re.addEventListener("complete",()=>{_("onComplete")}),re.addEventListener("enterFrame",()=>{_("onEnterFrame")}),re.addEventListener("segmentStart",()=>{_("onSegmentStart")})},ge=computed(()=>{let Oe=$.width,Ge=$.height;return typeof $.width=="number"&&(Oe=`${$.width}px`),typeof $.height=="number"&&(Ge=`${$.height}px`),{"--lottie-animation-container-width":Oe,"--lottie-animation-container-height":Ge,"--lottie-animation-container-background-color":$.backgroundColor,"--lottie-animation-margin":$.noMargin?"0":"0 auto","--lottie-animation-scale":$.scale!=1?$.scale:""}}),ve=()=>{re&&$.pauseOnHover&&re.pause(),re&&$.playOnHover&&re.play()},Ee=()=>{re&&$.pauseOnHover&&re.play(),re&&$.playOnHover&&re.pause()};return watch(()=>$.pauseAnimation,()=>{if(($.pauseOnHover||$.playOnHover)&&$.pauseAnimation){console.error("If you are using pauseAnimation prop for Vue3-Lottie, please remove the props pauseOnHover and playOnHover");return}re&&($.pauseAnimation?re.pause():re.play())}),{lottieAnimationContainer:ee,hoverEnded:Ee,hoverStarted:ve,getCurrentStyle:ge,play:()=>{re&&re.play()},pause:()=>{re&&re.pause()},stop:()=>{re&&re.stop()},destroy:()=>{re&&re.destroy()},setSpeed:(Oe=1)=>{if(Oe<=0)throw new Error("Speed must be greater than 0");re&&re.setSpeed(Oe)},setDirection:Oe=>{re&&(Oe==="forward"?re.setDirection(1):Oe==="reverse"&&re.setDirection(-1))},goToAndStop:(Oe,Ge=!0)=>{re&&re.goToAndStop(Oe,Ge)},goToAndPlay:(Oe,Ge=!0)=>{re&&re.goToAndPlay(Oe,Ge)},playSegments:(Oe,Ge=!1)=>{re&&re.playSegments(Oe,Ge)},setSubFrame:(Oe=!0)=>{re&&re.setSubframe(Oe)},getDuration:(Oe=!0)=>{if(re)return re.getDuration(Oe)},updateDocumentData:(Oe,Ge=0)=>{re&&re.renderer.elements[Ge].updateDocumentData(Oe)}}}});function _sfc_render$1g($,_,j,ee,re,le){return openBlock(),createElementBlock("div",{ref:"lottieAnimationContainer",class:"lottie-animation-container",style:normalizeStyle($.getCurrentStyle),onMouseenter:_[0]||(_[0]=(...de)=>$.hoverStarted&&$.hoverStarted(...de)),onMouseleave:_[1]||(_[1]=(...de)=>$.hoverEnded&&$.hoverEnded(...de))},null,36)}var Vue3Lottie=_export_sfc$1(_sfc_main$2K,[["render",_sfc_render$1g]]),index={install($,_){var j;const ee=(j=_?.name)!=null?j:"Vue3Lottie";$.component(ee,Vue3Lottie)}};/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof document<"u";function isESModule($){return $.__esModule||$[Symbol.toStringTag]==="Module"}const assign$2=Object.assign;function applyToParams($,_){const j={};for(const ee in _){const re=_[ee];j[ee]=isArray$1(re)?re.map($):$(re)}return j}const noop$3=()=>{},isArray$1=Array.isArray,HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode($){return encodeURI(""+$).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash($){return commonEncode($).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue($){return commonEncode($).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey($){return encodeQueryValue($).replace(EQUAL_RE,"%3D")}function encodePath($){return commonEncode($).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam($){return $==null?"":encodePath($).replace(SLASH_RE,"%2F")}function decode$1($){try{return decodeURIComponent(""+$)}catch{}return""+$}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=$=>$.replace(TRAILING_SLASH_RE,"");function parseURL($,_,j="/"){let ee,re={},le="",de="";const ge=_.indexOf("#");let ve=_.indexOf("?");return ge<ve&&ge>=0&&(ve=-1),ve>-1&&(ee=_.slice(0,ve),le=_.slice(ve+1,ge>-1?ge:_.length),re=$(le)),ge>-1&&(ee=ee||_.slice(0,ge),de=_.slice(ge,_.length)),ee=resolveRelativePath(ee??_,j),{fullPath:ee+(le&&"?")+le+de,path:ee,query:re,hash:decode$1(de)}}function stringifyURL($,_){const j=_.query?$(_.query):"";return _.path+(j&&"?")+j+(_.hash||"")}function stripBase($,_){return!_||!$.toLowerCase().startsWith(_.toLowerCase())?$:$.slice(_.length)||"/"}function isSameRouteLocation($,_,j){const ee=_.matched.length-1,re=j.matched.length-1;return ee>-1&&ee===re&&isSameRouteRecord(_.matched[ee],j.matched[re])&&isSameRouteLocationParams(_.params,j.params)&&$(_.query)===$(j.query)&&_.hash===j.hash}function isSameRouteRecord($,_){return($.aliasOf||$)===(_.aliasOf||_)}function isSameRouteLocationParams($,_){if(Object.keys($).length!==Object.keys(_).length)return!1;for(const j in $)if(!isSameRouteLocationParamsValue($[j],_[j]))return!1;return!0}function isSameRouteLocationParamsValue($,_){return isArray$1($)?isEquivalentArray($,_):isArray$1(_)?isEquivalentArray(_,$):$===_}function isEquivalentArray($,_){return isArray$1(_)?$.length===_.length&&$.every((j,ee)=>j===_[ee]):$.length===1&&$[0]===_}function resolveRelativePath($,_){if($.startsWith("/"))return $;if(!$)return _;const j=_.split("/"),ee=$.split("/"),re=ee[ee.length-1];(re===".."||re===".")&&ee.push("");let le=j.length-1,de,ge;for(de=0;de<ee.length;de++)if(ge=ee[de],ge!==".")if(ge==="..")le>1&&le--;else break;return j.slice(0,le).join("/")+"/"+ee.slice(de).join("/")}var NavigationType;(function($){$.pop="pop",$.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function($){$.back="back",$.forward="forward",$.unknown=""})(NavigationDirection||(NavigationDirection={}));const START="";function normalizeBase($){if(!$)if(isBrowser){const _=document.querySelector("base");$=_&&_.getAttribute("href")||"/",$=$.replace(/^\w+:\/\/[^\/]+/,"")}else $="/";return $[0]!=="/"&&$[0]!=="#"&&($="/"+$),removeTrailingSlash($)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref($,_){return $.replace(BEFORE_HASH_RE,"#")+_}function getElementPosition($,_){const j=document.documentElement.getBoundingClientRect(),ee=$.getBoundingClientRect();return{behavior:_.behavior,left:ee.left-j.left-(_.left||0),top:ee.top-j.top-(_.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition($){let _;if("el"in $){const j=$.el,ee=typeof j=="string"&&j.startsWith("#"),re=typeof j=="string"?ee?document.getElementById(j.slice(1)):document.querySelector(j):j;if(!re)return;_=getElementPosition(re,$)}else _=$;"scrollBehavior"in document.documentElement.style?window.scrollTo(_):window.scrollTo(_.left!=null?_.left:window.scrollX,_.top!=null?_.top:window.scrollY)}function getScrollKey($,_){return(history.state?history.state.position-_:-1)+$}const scrollPositions=new Map;function saveScrollPosition($,_){scrollPositions.set($,_)}function getSavedScrollPosition($){const _=scrollPositions.get($);return scrollPositions.delete($),_}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation($,_){const{pathname:j,search:ee,hash:re}=_,le=$.indexOf("#");if(le>-1){let ge=re.includes($.slice(le))?$.slice(le).length:1,ve=re.slice(ge);return ve[0]!=="/"&&(ve="/"+ve),stripBase(ve,"")}return stripBase(j,$)+ee+re}function useHistoryListeners($,_,j,ee){let re=[],le=[],de=null;const ge=({state:Se})=>{const ke=createCurrentLocation($,location),we=j.value,Ne=_.value;let Le=0;if(Se){if(j.value=ke,_.value=Se,de&&de===we){de=null;return}Le=Ne?Se.position-Ne.position:0}else ee(ke);re.forEach(Me=>{Me(j.value,we,{delta:Le,type:NavigationType.pop,direction:Le?Le>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function ve(){de=j.value}function Ee(Se){re.push(Se);const ke=()=>{const we=re.indexOf(Se);we>-1&&re.splice(we,1)};return le.push(ke),ke}function Ce(){const{history:Se}=window;Se.state&&Se.replaceState(assign$2({},Se.state,{scroll:computeScrollPosition()}),"")}function Ae(){for(const Se of le)Se();le=[],window.removeEventListener("popstate",ge),window.removeEventListener("beforeunload",Ce)}return window.addEventListener("popstate",ge),window.addEventListener("beforeunload",Ce,{passive:!0}),{pauseListeners:ve,listen:Ee,destroy:Ae}}function buildState($,_,j,ee=!1,re=!1){return{back:$,current:_,forward:j,replaced:ee,position:window.history.length,scroll:re?computeScrollPosition():null}}function useHistoryStateNavigation($){const{history:_,location:j}=window,ee={value:createCurrentLocation($,j)},re={value:_.state};re.value||le(ee.value,{back:null,current:ee.value,forward:null,position:_.length-1,replaced:!0,scroll:null},!0);function le(ve,Ee,Ce){const Ae=$.indexOf("#"),Se=Ae>-1?(j.host&&document.querySelector("base")?$:$.slice(Ae))+ve:createBaseLocation()+$+ve;try{_[Ce?"replaceState":"pushState"](Ee,"",Se),re.value=Ee}catch(ke){console.error(ke),j[Ce?"replace":"assign"](Se)}}function de(ve,Ee){const Ce=assign$2({},_.state,buildState(re.value.back,ve,re.value.forward,!0),Ee,{position:re.value.position});le(ve,Ce,!0),ee.value=ve}function ge(ve,Ee){const Ce=assign$2({},re.value,_.state,{forward:ve,scroll:computeScrollPosition()});le(Ce.current,Ce,!0);const Ae=assign$2({},buildState(ee.value,ve,null),{position:Ce.position+1},Ee);le(ve,Ae,!1),ee.value=ve}return{location:ee,state:re,push:ge,replace:de}}function createWebHistory($){$=normalizeBase($);const _=useHistoryStateNavigation($),j=useHistoryListeners($,_.state,_.location,_.replace);function ee(le,de=!0){de||j.pauseListeners(),history.go(le)}const re=assign$2({location:"",base:$,go:ee,createHref:createHref.bind(null,$)},_,j);return Object.defineProperty(re,"location",{enumerable:!0,get:()=>_.location.value}),Object.defineProperty(re,"state",{enumerable:!0,get:()=>_.state.value}),re}function createMemoryHistory($=""){let _=[],j=[START],ee=0;$=normalizeBase($);function re(ge){ee++,ee!==j.length&&j.splice(ee),j.push(ge)}function le(ge,ve,{direction:Ee,delta:Ce}){const Ae={direction:Ee,delta:Ce,type:NavigationType.pop};for(const Se of _)Se(ge,ve,Ae)}const de={location:START,state:{},base:$,createHref:createHref.bind(null,$),replace(ge){j.splice(ee--,1),re(ge)},push(ge,ve){re(ge)},listen(ge){return _.push(ge),()=>{const ve=_.indexOf(ge);ve>-1&&_.splice(ve,1)}},destroy(){_=[],j=[START],ee=0},go(ge,ve=!0){const Ee=this.location,Ce=ge<0?NavigationDirection.back:NavigationDirection.forward;ee=Math.max(0,Math.min(ee+ge,j.length-1)),ve&&le(this.location,Ee,{direction:Ce,delta:ge})}};return Object.defineProperty(de,"location",{enumerable:!0,get:()=>j[ee]}),de}function isRouteLocation($){return typeof $=="string"||$&&typeof $=="object"}function isRouteName($){return typeof $=="string"||typeof $=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function($){$[$.aborted=4]="aborted",$[$.cancelled=8]="cancelled",$[$.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError($,_){return assign$2(new Error,{type:$,[NavigationFailureSymbol]:!0},_)}function isNavigationFailure($,_){return $ instanceof Error&&NavigationFailureSymbol in $&&(_==null||!!($.type&_))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser($,_){const j=assign$2({},BASE_PATH_PARSER_OPTIONS,_),ee=[];let re=j.start?"^":"";const le=[];for(const Ee of $){const Ce=Ee.length?[]:[90];j.strict&&!Ee.length&&(re+="/");for(let Ae=0;Ae<Ee.length;Ae++){const Se=Ee[Ae];let ke=40+(j.sensitive?.25:0);if(Se.type===0)Ae||(re+="/"),re+=Se.value.replace(REGEX_CHARS_RE,"\\$&"),ke+=40;else if(Se.type===1){const{value:we,repeatable:Ne,optional:Le,regexp:Me}=Se;le.push({name:we,repeatable:Ne,optional:Le});const Fe=Me||BASE_PARAM_PATTERN;if(Fe!==BASE_PARAM_PATTERN){ke+=10;try{new RegExp(`(${Fe})`)}catch($e){throw new Error(`Invalid custom RegExp for param "${we}" (${Fe}): `+$e.message)}}let xe=Ne?`((?:${Fe})(?:/(?:${Fe}))*)`:`(${Fe})`;Ae||(xe=Le&&Ee.length<2?`(?:/${xe})`:"/"+xe),Le&&(xe+="?"),re+=xe,ke+=20,Le&&(ke+=-8),Ne&&(ke+=-20),Fe===".*"&&(ke+=-50)}Ce.push(ke)}ee.push(Ce)}if(j.strict&&j.end){const Ee=ee.length-1;ee[Ee][ee[Ee].length-1]+=.7000000000000001}j.strict||(re+="/?"),j.end?re+="$":j.strict&&(re+="(?:/|$)");const de=new RegExp(re,j.sensitive?"":"i");function ge(Ee){const Ce=Ee.match(de),Ae={};if(!Ce)return null;for(let Se=1;Se<Ce.length;Se++){const ke=Ce[Se]||"",we=le[Se-1];Ae[we.name]=ke&&we.repeatable?ke.split("/"):ke}return Ae}function ve(Ee){let Ce="",Ae=!1;for(const Se of $){(!Ae||!Ce.endsWith("/"))&&(Ce+="/"),Ae=!1;for(const ke of Se)if(ke.type===0)Ce+=ke.value;else if(ke.type===1){const{value:we,repeatable:Ne,optional:Le}=ke,Me=we in Ee?Ee[we]:"";if(isArray$1(Me)&&!Ne)throw new Error(`Provided param "${we}" is an array but it is not repeatable (* or + modifiers)`);const Fe=isArray$1(Me)?Me.join("/"):Me;if(!Fe)if(Le)Se.length<2&&(Ce.endsWith("/")?Ce=Ce.slice(0,-1):Ae=!0);else throw new Error(`Missing required param "${we}"`);Ce+=Fe}}return Ce||"/"}return{re:de,score:ee,keys:le,parse:ge,stringify:ve}}function compareScoreArray($,_){let j=0;for(;j<$.length&&j<_.length;){const ee=_[j]-$[j];if(ee)return ee;j++}return $.length<_.length?$.length===1&&$[0]===80?-1:1:$.length>_.length?_.length===1&&_[0]===80?1:-1:0}function comparePathParserScore($,_){let j=0;const ee=$.score,re=_.score;for(;j<ee.length&&j<re.length;){const le=compareScoreArray(ee[j],re[j]);if(le)return le;j++}if(Math.abs(re.length-ee.length)===1){if(isLastScoreNegative(ee))return 1;if(isLastScoreNegative(re))return-1}return re.length-ee.length}function isLastScoreNegative($){const _=$[$.length-1];return $.length>0&&_[_.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath($){if(!$)return[[]];if($==="/")return[[ROOT_TOKEN]];if(!$.startsWith("/"))throw new Error(`Invalid path "${$}"`);function _(ke){throw new Error(`ERR (${j})/"${Ee}": ${ke}`)}let j=0,ee=j;const re=[];let le;function de(){le&&re.push(le),le=[]}let ge=0,ve,Ee="",Ce="";function Ae(){Ee&&(j===0?le.push({type:0,value:Ee}):j===1||j===2||j===3?(le.length>1&&(ve==="*"||ve==="+")&&_(`A repeatable param (${Ee}) must be alone in its segment. eg: '/:ids+.`),le.push({type:1,value:Ee,regexp:Ce,repeatable:ve==="*"||ve==="+",optional:ve==="*"||ve==="?"})):_("Invalid state to consume buffer"),Ee="")}function Se(){Ee+=ve}for(;ge<$.length;){if(ve=$[ge++],ve==="\\"&&j!==2){ee=j,j=4;continue}switch(j){case 0:ve==="/"?(Ee&&Ae(),de()):ve===":"?(Ae(),j=1):Se();break;case 4:Se(),j=ee;break;case 1:ve==="("?j=2:VALID_PARAM_RE.test(ve)?Se():(Ae(),j=0,ve!=="*"&&ve!=="?"&&ve!=="+"&&ge--);break;case 2:ve===")"?Ce[Ce.length-1]=="\\"?Ce=Ce.slice(0,-1)+ve:j=3:Ce+=ve;break;case 3:Ae(),j=0,ve!=="*"&&ve!=="?"&&ve!=="+"&&ge--,Ce="";break;default:_("Unknown state");break}}return j===2&&_(`Unfinished custom RegExp for param "${Ee}"`),Ae(),de(),re}function createRouteRecordMatcher($,_,j){const ee=tokensToParser(tokenizePath($.path),j),re=assign$2(ee,{record:$,parent:_,children:[],alias:[]});return _&&!re.record.aliasOf==!_.record.aliasOf&&_.children.push(re),re}function createRouterMatcher($,_){const j=[],ee=new Map;_=mergeOptions({strict:!1,end:!0,sensitive:!1},_);function re(Ce){return ee.get(Ce)}function le(Ce,Ae,Se){const ke=!Se,we=normalizeRouteRecord(Ce);we.aliasOf=Se&&Se.record;const Ne=mergeOptions(_,Ce),Le=[we];if("alias"in Ce){const xe=typeof Ce.alias=="string"?[Ce.alias]:Ce.alias;for(const $e of xe)Le.push(assign$2({},we,{components:Se?Se.record.components:we.components,path:$e,aliasOf:Se?Se.record:we}))}let Me,Fe;for(const xe of Le){const{path:$e}=xe;if(Ae&&$e[0]!=="/"){const De=Ae.record.path,Oe=De[De.length-1]==="/"?"":"/";xe.path=Ae.record.path+($e&&Oe+$e)}if(Me=createRouteRecordMatcher(xe,Ae,Ne),Se?Se.alias.push(Me):(Fe=Fe||Me,Fe!==Me&&Fe.alias.push(Me),ke&&Ce.name&&!isAliasRecord(Me)&&de(Ce.name)),we.children){const De=we.children;for(let Oe=0;Oe<De.length;Oe++)le(De[Oe],Me,Se&&Se.children[Oe])}Se=Se||Me,(Me.record.components&&Object.keys(Me.record.components).length||Me.record.name||Me.record.redirect)&&ve(Me)}return Fe?()=>{de(Fe)}:noop$3}function de(Ce){if(isRouteName(Ce)){const Ae=ee.get(Ce);Ae&&(ee.delete(Ce),j.splice(j.indexOf(Ae),1),Ae.children.forEach(de),Ae.alias.forEach(de))}else{const Ae=j.indexOf(Ce);Ae>-1&&(j.splice(Ae,1),Ce.record.name&&ee.delete(Ce.record.name),Ce.children.forEach(de),Ce.alias.forEach(de))}}function ge(){return j}function ve(Ce){let Ae=0;for(;Ae<j.length&&comparePathParserScore(Ce,j[Ae])>=0&&(Ce.record.path!==j[Ae].record.path||!isRecordChildOf(Ce,j[Ae]));)Ae++;j.splice(Ae,0,Ce),Ce.record.name&&!isAliasRecord(Ce)&&ee.set(Ce.record.name,Ce)}function Ee(Ce,Ae){let Se,ke={},we,Ne;if("name"in Ce&&Ce.name){if(Se=ee.get(Ce.name),!Se)throw createRouterError(1,{location:Ce});Ne=Se.record.name,ke=assign$2(paramsFromLocation(Ae.params,Se.keys.filter(Fe=>!Fe.optional).concat(Se.parent?Se.parent.keys.filter(Fe=>Fe.optional):[]).map(Fe=>Fe.name)),Ce.params&&paramsFromLocation(Ce.params,Se.keys.map(Fe=>Fe.name))),we=Se.stringify(ke)}else if(Ce.path!=null)we=Ce.path,Se=j.find(Fe=>Fe.re.test(we)),Se&&(ke=Se.parse(we),Ne=Se.record.name);else{if(Se=Ae.name?ee.get(Ae.name):j.find(Fe=>Fe.re.test(Ae.path)),!Se)throw createRouterError(1,{location:Ce,currentLocation:Ae});Ne=Se.record.name,ke=assign$2({},Ae.params,Ce.params),we=Se.stringify(ke)}const Le=[];let Me=Se;for(;Me;)Le.unshift(Me.record),Me=Me.parent;return{name:Ne,path:we,params:ke,matched:Le,meta:mergeMetaFields(Le)}}return $.forEach(Ce=>le(Ce)),{addRoute:le,resolve:Ee,removeRoute:de,getRoutes:ge,getRecordMatcher:re}}function paramsFromLocation($,_){const j={};for(const ee of _)ee in $&&(j[ee]=$[ee]);return j}function normalizeRouteRecord($){return{path:$.path,redirect:$.redirect,name:$.name,meta:$.meta||{},aliasOf:void 0,beforeEnter:$.beforeEnter,props:normalizeRecordProps($),children:$.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in $?$.components||null:$.component&&{default:$.component}}}function normalizeRecordProps($){const _={},j=$.props||!1;if("component"in $)_.default=j;else for(const ee in $.components)_[ee]=typeof j=="object"?j[ee]:j;return _}function isAliasRecord($){for(;$;){if($.record.aliasOf)return!0;$=$.parent}return!1}function mergeMetaFields($){return $.reduce((_,j)=>assign$2(_,j.meta),{})}function mergeOptions($,_){const j={};for(const ee in $)j[ee]=ee in _?_[ee]:$[ee];return j}function isRecordChildOf($,_){return _.children.some(j=>j===$||isRecordChildOf($,j))}function parseQuery($){const _={};if($===""||$==="?")return _;const ee=($[0]==="?"?$.slice(1):$).split("&");for(let re=0;re<ee.length;++re){const le=ee[re].replace(PLUS_RE," "),de=le.indexOf("="),ge=decode$1(de<0?le:le.slice(0,de)),ve=de<0?null:decode$1(le.slice(de+1));if(ge in _){let Ee=_[ge];isArray$1(Ee)||(Ee=_[ge]=[Ee]),Ee.push(ve)}else _[ge]=ve}return _}function stringifyQuery($){let _="";for(let j in $){const ee=$[j];if(j=encodeQueryKey(j),ee==null){ee!==void 0&&(_+=(_.length?"&":"")+j);continue}(isArray$1(ee)?ee.map(le=>le&&encodeQueryValue(le)):[ee&&encodeQueryValue(ee)]).forEach(le=>{le!==void 0&&(_+=(_.length?"&":"")+j,le!=null&&(_+="="+le))})}return _}function normalizeQuery($){const _={};for(const j in $){const ee=$[j];ee!==void 0&&(_[j]=isArray$1(ee)?ee.map(re=>re==null?null:""+re):ee==null?ee:""+ee)}return _}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let $=[];function _(ee){return $.push(ee),()=>{const re=$.indexOf(ee);re>-1&&$.splice(re,1)}}function j(){$=[]}return{add:_,list:()=>$.slice(),reset:j}}function guardToPromiseFn($,_,j,ee,re,le=de=>de()){const de=ee&&(ee.enterCallbacks[re]=ee.enterCallbacks[re]||[]);return()=>new Promise((ge,ve)=>{const Ee=Se=>{Se===!1?ve(createRouterError(4,{from:j,to:_})):Se instanceof Error?ve(Se):isRouteLocation(Se)?ve(createRouterError(2,{from:_,to:Se})):(de&&ee.enterCallbacks[re]===de&&typeof Se=="function"&&de.push(Se),ge())},Ce=le(()=>$.call(ee&&ee.instances[re],_,j,Ee));let Ae=Promise.resolve(Ce);$.length<3&&(Ae=Ae.then(Ee)),Ae.catch(Se=>ve(Se))})}function extractComponentsGuards($,_,j,ee,re=le=>le()){const le=[];for(const de of $)for(const ge in de.components){let ve=de.components[ge];if(!(_!=="beforeRouteEnter"&&!de.instances[ge]))if(isRouteComponent(ve)){const Ce=(ve.__vccOpts||ve)[_];Ce&&le.push(guardToPromiseFn(Ce,j,ee,de,ge,re))}else{let Ee=ve();le.push(()=>Ee.then(Ce=>{if(!Ce)return Promise.reject(new Error(`Couldn't resolve component "${ge}" at "${de.path}"`));const Ae=isESModule(Ce)?Ce.default:Ce;de.components[ge]=Ae;const ke=(Ae.__vccOpts||Ae)[_];return ke&&guardToPromiseFn(ke,j,ee,de,ge,re)()}))}}return le}function isRouteComponent($){return typeof $=="object"||"displayName"in $||"props"in $||"__vccOpts"in $}function useLink($){const _=inject(routerKey),j=inject(routeLocationKey),ee=computed(()=>_.resolve(unref($.to))),re=computed(()=>{const{matched:ve}=ee.value,{length:Ee}=ve,Ce=ve[Ee-1],Ae=j.matched;if(!Ce||!Ae.length)return-1;const Se=Ae.findIndex(isSameRouteRecord.bind(null,Ce));if(Se>-1)return Se;const ke=getOriginalPath(ve[Ee-2]);return Ee>1&&getOriginalPath(Ce)===ke&&Ae[Ae.length-1].path!==ke?Ae.findIndex(isSameRouteRecord.bind(null,ve[Ee-2])):Se}),le=computed(()=>re.value>-1&&includesParams(j.params,ee.value.params)),de=computed(()=>re.value>-1&&re.value===j.matched.length-1&&isSameRouteLocationParams(j.params,ee.value.params));function ge(ve={}){return guardEvent(ve)?_[unref($.replace)?"replace":"push"](unref($.to)).catch(noop$3):Promise.resolve()}return{route:ee,href:computed(()=>ee.value.href),isActive:le,isExactActive:de,navigate:ge}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup($,{slots:_}){const j=reactive(useLink($)),{options:ee}=inject(routerKey),re=computed(()=>({[getLinkClass($.activeClass,ee.linkActiveClass,"router-link-active")]:j.isActive,[getLinkClass($.exactActiveClass,ee.linkExactActiveClass,"router-link-exact-active")]:j.isExactActive}));return()=>{const le=_.default&&_.default(j);return $.custom?le:h("a",{"aria-current":j.isExactActive?$.ariaCurrentValue:null,href:j.href,onClick:j.navigate,class:re.value},le)}}}),RouterLink=RouterLinkImpl;function guardEvent($){if(!($.metaKey||$.altKey||$.ctrlKey||$.shiftKey)&&!$.defaultPrevented&&!($.button!==void 0&&$.button!==0)){if($.currentTarget&&$.currentTarget.getAttribute){const _=$.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(_))return}return $.preventDefault&&$.preventDefault(),!0}}function includesParams($,_){for(const j in _){const ee=_[j],re=$[j];if(typeof ee=="string"){if(ee!==re)return!1}else if(!isArray$1(re)||re.length!==ee.length||ee.some((le,de)=>le!==re[de]))return!1}return!0}function getOriginalPath($){return $?$.aliasOf?$.aliasOf.path:$.path:""}const getLinkClass=($,_,j)=>$??_??j,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup($,{attrs:_,slots:j}){const ee=inject(routerViewLocationKey),re=computed(()=>$.route||ee.value),le=inject(viewDepthKey,0),de=computed(()=>{let Ee=unref(le);const{matched:Ce}=re.value;let Ae;for(;(Ae=Ce[Ee])&&!Ae.components;)Ee++;return Ee}),ge=computed(()=>re.value.matched[de.value]);provide(viewDepthKey,computed(()=>de.value+1)),provide(matchedRouteKey,ge),provide(routerViewLocationKey,re);const ve=ref$1();return watch(()=>[ve.value,ge.value,$.name],([Ee,Ce,Ae],[Se,ke,we])=>{Ce&&(Ce.instances[Ae]=Ee,ke&&ke!==Ce&&Ee&&Ee===Se&&(Ce.leaveGuards.size||(Ce.leaveGuards=ke.leaveGuards),Ce.updateGuards.size||(Ce.updateGuards=ke.updateGuards))),Ee&&Ce&&(!ke||!isSameRouteRecord(Ce,ke)||!Se)&&(Ce.enterCallbacks[Ae]||[]).forEach(Ne=>Ne(Ee))},{flush:"post"}),()=>{const Ee=re.value,Ce=$.name,Ae=ge.value,Se=Ae&&Ae.components[Ce];if(!Se)return normalizeSlot(j.default,{Component:Se,route:Ee});const ke=Ae.props[Ce],we=ke?ke===!0?Ee.params:typeof ke=="function"?ke(Ee):ke:null,Le=h(Se,assign$2({},we,_,{onVnodeUnmounted:Me=>{Me.component.isUnmounted&&(Ae.instances[Ce]=null)},ref:ve}));return normalizeSlot(j.default,{Component:Le,route:Ee})||Le}}});function normalizeSlot($,_){if(!$)return null;const j=$(_);return j.length===1?j[0]:j}const RouterView=RouterViewImpl;function createRouter$1($){const _=createRouterMatcher($.routes,$),j=$.parseQuery||parseQuery,ee=$.stringifyQuery||stringifyQuery,re=$.history,le=useCallbacks(),de=useCallbacks(),ge=useCallbacks(),ve=shallowRef(START_LOCATION_NORMALIZED);let Ee=START_LOCATION_NORMALIZED;isBrowser&&$.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const Ce=applyToParams.bind(null,rt=>""+rt),Ae=applyToParams.bind(null,encodeParam),Se=applyToParams.bind(null,decode$1);function ke(rt,lt){let dt,ct;return isRouteName(rt)?(dt=_.getRecordMatcher(rt),ct=lt):ct=rt,_.addRoute(ct,dt)}function we(rt){const lt=_.getRecordMatcher(rt);lt&&_.removeRoute(lt)}function Ne(){return _.getRoutes().map(rt=>rt.record)}function Le(rt){return!!_.getRecordMatcher(rt)}function Me(rt,lt){if(lt=assign$2({},lt||ve.value),typeof rt=="string"){const ze=parseURL(j,rt,lt.path),nt=_.resolve({path:ze.path},lt),st=re.createHref(ze.fullPath);return assign$2(ze,nt,{params:Se(nt.params),hash:decode$1(ze.hash),redirectedFrom:void 0,href:st})}let dt;if(rt.path!=null)dt=assign$2({},rt,{path:parseURL(j,rt.path,lt.path).path});else{const ze=assign$2({},rt.params);for(const nt in ze)ze[nt]==null&&delete ze[nt];dt=assign$2({},rt,{params:Ae(ze)}),lt.params=Ae(lt.params)}const ct=_.resolve(dt,lt),Ct=rt.hash||"";ct.params=Ce(Se(ct.params));const St=stringifyURL(ee,assign$2({},rt,{hash:encodeHash(Ct),path:ct.path})),je=re.createHref(St);return assign$2({fullPath:St,hash:Ct,query:ee===stringifyQuery?normalizeQuery(rt.query):rt.query||{}},ct,{redirectedFrom:void 0,href:je})}function Fe(rt){return typeof rt=="string"?parseURL(j,rt,ve.value.path):assign$2({},rt)}function xe(rt,lt){if(Ee!==rt)return createRouterError(8,{from:lt,to:rt})}function $e(rt){return Ge(rt)}function De(rt){return $e(assign$2(Fe(rt),{replace:!0}))}function Oe(rt){const lt=rt.matched[rt.matched.length-1];if(lt&&lt.redirect){const{redirect:dt}=lt;let ct=typeof dt=="function"?dt(rt):dt;return typeof ct=="string"&&(ct=ct.includes("?")||ct.includes("#")?ct=Fe(ct):{path:ct},ct.params={}),assign$2({query:rt.query,hash:rt.hash,params:ct.path!=null?{}:rt.params},ct)}}function Ge(rt,lt){const dt=Ee=Me(rt),ct=ve.value,Ct=rt.state,St=rt.force,je=rt.replace===!0,ze=Oe(dt);if(ze)return Ge(assign$2(Fe(ze),{state:typeof ze=="object"?assign$2({},Ct,ze.state):Ct,force:St,replace:je}),lt||dt);const nt=dt;nt.redirectedFrom=lt;let st;return!St&&isSameRouteLocation(ee,ct,dt)&&(st=createRouterError(16,{to:nt,from:ct}),Ye(ct,ct,!0,!1)),(st?Promise.resolve(st):Qe(nt,ct)).catch(it=>isNavigationFailure(it)?isNavigationFailure(it,2)?it:Je(it):Be(it,nt,ct)).then(it=>{if(it){if(isNavigationFailure(it,2))return Ge(assign$2({replace:je},Fe(it.to),{state:typeof it.to=="object"?assign$2({},Ct,it.to.state):Ct,force:St}),lt||nt)}else it=Ke(nt,ct,!0,je,Ct);return tt(nt,ct,it),it})}function We(rt,lt){const dt=xe(rt,lt);return dt?Promise.reject(dt):Promise.resolve()}function Ze(rt){const lt=Et.values().next().value;return lt&&typeof lt.runWithContext=="function"?lt.runWithContext(rt):rt()}function Qe(rt,lt){let dt;const[ct,Ct,St]=extractChangingRecords(rt,lt);dt=extractComponentsGuards(ct.reverse(),"beforeRouteLeave",rt,lt);for(const ze of ct)ze.leaveGuards.forEach(nt=>{dt.push(guardToPromiseFn(nt,rt,lt))});const je=We.bind(null,rt,lt);return dt.push(je),ft(dt).then(()=>{dt=[];for(const ze of le.list())dt.push(guardToPromiseFn(ze,rt,lt));return dt.push(je),ft(dt)}).then(()=>{dt=extractComponentsGuards(Ct,"beforeRouteUpdate",rt,lt);for(const ze of Ct)ze.updateGuards.forEach(nt=>{dt.push(guardToPromiseFn(nt,rt,lt))});return dt.push(je),ft(dt)}).then(()=>{dt=[];for(const ze of St)if(ze.beforeEnter)if(isArray$1(ze.beforeEnter))for(const nt of ze.beforeEnter)dt.push(guardToPromiseFn(nt,rt,lt));else dt.push(guardToPromiseFn(ze.beforeEnter,rt,lt));return dt.push(je),ft(dt)}).then(()=>(rt.matched.forEach(ze=>ze.enterCallbacks={}),dt=extractComponentsGuards(St,"beforeRouteEnter",rt,lt,Ze),dt.push(je),ft(dt))).then(()=>{dt=[];for(const ze of de.list())dt.push(guardToPromiseFn(ze,rt,lt));return dt.push(je),ft(dt)}).catch(ze=>isNavigationFailure(ze,8)?ze:Promise.reject(ze))}function tt(rt,lt,dt){ge.list().forEach(ct=>Ze(()=>ct(rt,lt,dt)))}function Ke(rt,lt,dt,ct,Ct){const St=xe(rt,lt);if(St)return St;const je=lt===START_LOCATION_NORMALIZED,ze=isBrowser?history.state:{};dt&&(ct||je?re.replace(rt.fullPath,assign$2({scroll:je&&ze&&ze.scroll},Ct)):re.push(rt.fullPath,Ct)),ve.value=rt,Ye(rt,lt,dt,je),Je()}let Xe;function ot(){Xe||(Xe=re.listen((rt,lt,dt)=>{if(!ht.listening)return;const ct=Me(rt),Ct=Oe(ct);if(Ct){Ge(assign$2(Ct,{replace:!0}),ct).catch(noop$3);return}Ee=ct;const St=ve.value;isBrowser&&saveScrollPosition(getScrollKey(St.fullPath,dt.delta),computeScrollPosition()),Qe(ct,St).catch(je=>isNavigationFailure(je,12)?je:isNavigationFailure(je,2)?(Ge(je.to,ct).then(ze=>{isNavigationFailure(ze,20)&&!dt.delta&&dt.type===NavigationType.pop&&re.go(-1,!1)}).catch(noop$3),Promise.reject()):(dt.delta&&re.go(-dt.delta,!1),Be(je,ct,St))).then(je=>{je=je||Ke(ct,St,!1),je&&(dt.delta&&!isNavigationFailure(je,8)?re.go(-dt.delta,!1):dt.type===NavigationType.pop&&isNavigationFailure(je,20)&&re.go(-1,!1)),tt(ct,St,je)}).catch(noop$3)}))}let et=useCallbacks(),He=useCallbacks(),qe;function Be(rt,lt,dt){Je(rt);const ct=He.list();return ct.length?ct.forEach(Ct=>Ct(rt,lt,dt)):console.error(rt),Promise.reject(rt)}function Ue(){return qe&&ve.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((rt,lt)=>{et.add([rt,lt])})}function Je(rt){return qe||(qe=!rt,ot(),et.list().forEach(([lt,dt])=>rt?dt(rt):lt()),et.reset()),rt}function Ye(rt,lt,dt,ct){const{scrollBehavior:Ct}=$;if(!isBrowser||!Ct)return Promise.resolve();const St=!dt&&getSavedScrollPosition(getScrollKey(rt.fullPath,0))||(ct||!dt)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Ct(rt,lt,St)).then(je=>je&&scrollToPosition(je)).catch(je=>Be(je,rt,lt))}const at=rt=>re.go(rt);let vt;const Et=new Set,ht={currentRoute:ve,listening:!0,addRoute:ke,removeRoute:we,hasRoute:Le,getRoutes:Ne,resolve:Me,options:$,push:$e,replace:De,go:at,back:()=>at(-1),forward:()=>at(1),beforeEach:le.add,beforeResolve:de.add,afterEach:ge.add,onError:He.add,isReady:Ue,install(rt){const lt=this;rt.component("RouterLink",RouterLink),rt.component("RouterView",RouterView),rt.config.globalProperties.$router=lt,Object.defineProperty(rt.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(ve)}),isBrowser&&!vt&&ve.value===START_LOCATION_NORMALIZED&&(vt=!0,$e(re.location).catch(Ct=>{}));const dt={};for(const Ct in START_LOCATION_NORMALIZED)Object.defineProperty(dt,Ct,{get:()=>ve.value[Ct],enumerable:!0});rt.provide(routerKey,lt),rt.provide(routeLocationKey,shallowReactive(dt)),rt.provide(routerViewLocationKey,ve);const ct=rt.unmount;Et.add(rt),rt.unmount=function(){Et.delete(rt),Et.size<1&&(Ee=START_LOCATION_NORMALIZED,Xe&&Xe(),Xe=null,ve.value=START_LOCATION_NORMALIZED,vt=!1,qe=!1),ct()}}};function ft(rt){return rt.reduce((lt,dt)=>lt.then(()=>Ze(dt)),Promise.resolve())}return ht}function extractChangingRecords($,_){const j=[],ee=[],re=[],le=Math.max(_.matched.length,$.matched.length);for(let de=0;de<le;de++){const ge=_.matched[de];ge&&($.matched.find(Ee=>isSameRouteRecord(Ee,ge))?ee.push(ge):j.push(ge));const ve=$.matched[de];ve&&(_.matched.find(Ee=>isSameRouteRecord(Ee,ve))||re.push(ve))}return[j,ee,re]}function useRouter(){return inject(routerKey)}function useRoute(){return inject(routeLocationKey)}var pym_v1={exports:{}};/*! pym.js - v1.3.2 - 2018-02-13 */(function($){(function(_){$.exports?$.exports=_():window.pym=_.call(this)})(function(){var _="xPYMx",j={},ee=function(Se){var ke=document.createEvent("Event");ke.initEvent("pym:"+Se,!0,!0),document.dispatchEvent(ke)},re=function(Se){var ke=new RegExp("[\\?&]"+Se.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]")+"=([^&#]*)"),we=ke.exec(location.search);return we===null?"":decodeURIComponent(we[1].replace(/\+/g," "))},le=function(Se,ke){if(!(ke.xdomain!=="*"&&!Se.origin.match(new RegExp(ke.xdomain+"$")))&&typeof Se.data=="string")return!0},de=function(Se){var ke=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/gi;if(Se.match(ke))return!0},ge=function(Se,ke,we){var Ne=["pym",Se,ke,we];return Ne.join(_)},ve=function(Se){var ke=["pym",Se,"(\\S+)","(.*)"];return new RegExp("^"+ke.join(_)+"$")},Ee=Date.now||function(){return new Date().getTime()},Ce=function(Se,ke,we){var Ne,Le,Me,Fe=null,xe=0;we||(we={});var $e=function(){xe=we.leading===!1?0:Ee(),Fe=null,Me=Se.apply(Ne,Le),Fe||(Ne=Le=null)};return function(){var De=Ee();!xe&&we.leading===!1&&(xe=De);var Oe=ke-(De-xe);return Ne=this,Le=arguments,Oe<=0||Oe>ke?(Fe&&(clearTimeout(Fe),Fe=null),xe=De,Me=Se.apply(Ne,Le),Fe||(Ne=Le=null)):!Fe&&we.trailing!==!1&&(Fe=setTimeout($e,Oe)),Me}},Ae=function(){for(var Se=j.autoInitInstances.length,ke=Se-1;ke>=0;ke--){var we=j.autoInitInstances[ke];we.el.getElementsByTagName("iframe").length&&we.el.getElementsByTagName("iframe")[0].contentWindow||j.autoInitInstances.splice(ke,1)}};return j.autoInitInstances=[],j.autoInit=function(Se){var ke=document.querySelectorAll("[data-pym-src]:not([data-pym-auto-initialized])"),we=ke.length;Ae();for(var Ne=0;Ne<we;++Ne){var Le=ke[Ne];Le.setAttribute("data-pym-auto-initialized",""),Le.id===""&&(Le.id="pym-"+Ne+"-"+Math.random().toString(36).substr(2,5));var Me=Le.getAttribute("data-pym-src"),Fe={xdomain:"string",title:"string",name:"string",id:"string",sandbox:"string",allowfullscreen:"boolean",parenturlparam:"string",parenturlvalue:"string",optionalparams:"boolean",trackscroll:"boolean",scrollwait:"number"},xe={};for(var $e in Fe)if(Le.getAttribute("data-pym-"+$e)!==null)switch(Fe[$e]){case"boolean":xe[$e]=Le.getAttribute("data-pym-"+$e)!=="false";break;case"string":xe[$e]=Le.getAttribute("data-pym-"+$e);break;case"number":var De=Number(Le.getAttribute("data-pym-"+$e));isNaN(De)||(xe[$e]=De);break;default:console.err("unrecognized attribute type")}var Oe=new j.Parent(Le.id,Me,xe);j.autoInitInstances.push(Oe)}return Se||ee("pym-initialized"),j.autoInitInstances},j.Parent=function(Se,ke,we){this.id=Se,this.url=ke,this.el=document.getElementById(Se),this.iframe=null,this.settings={xdomain:"*",optionalparams:!0,parenturlparam:"parentUrl",parenturlvalue:window.location.href,trackscroll:!1,scrollwait:100},this.messageRegex=ve(this.id),this.messageHandlers={},we=we||{},this._constructIframe=function(){var Le=this.el.offsetWidth.toString();this.iframe=document.createElement("iframe");var Me="",Fe=this.url.indexOf("#");for(Fe>-1&&(Me=this.url.substring(Fe,this.url.length),this.url=this.url.substring(0,Fe)),this.url.indexOf("?")<0?this.url+="?":this.url+="&",this.iframe.src=this.url+"initialWidth="+Le+"&childId="+this.id,this.settings.optionalparams&&(this.iframe.src+="&parentTitle="+encodeURIComponent(document.title),this.iframe.src+="&"+this.settings.parenturlparam+"="+encodeURIComponent(this.settings.parenturlvalue)),this.iframe.src+=Me,this.iframe.setAttribute("width","100%"),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("frameborder","0"),this.settings.title&&this.iframe.setAttribute("title",this.settings.title),this.settings.allowfullscreen!==void 0&&this.settings.allowfullscreen!==!1&&this.iframe.setAttribute("allowfullscreen",""),this.settings.sandbox!==void 0&&typeof this.settings.sandbox=="string"&&this.iframe.setAttribute("sandbox",this.settings.sandbox),this.settings.id&&(document.getElementById(this.settings.id)||this.iframe.setAttribute("id",this.settings.id)),this.settings.name&&this.iframe.setAttribute("name",this.settings.name);this.el.firstChild;)this.el.removeChild(this.el.firstChild);this.el.appendChild(this.iframe),window.addEventListener("resize",this._onResize),this.settings.trackscroll&&window.addEventListener("scroll",this._throttleOnScroll)},this._onResize=function(){this.sendWidth(),this.settings.trackscroll&&this.sendViewportAndIFramePosition()}.bind(this),this._onScroll=function(){this.sendViewportAndIFramePosition()}.bind(this),this._fire=function(Le,Me){if(Le in this.messageHandlers)for(var Fe=0;Fe<this.messageHandlers[Le].length;Fe++)this.messageHandlers[Le][Fe].call(this,Me)},this.remove=function(){window.removeEventListener("message",this._processMessage),window.removeEventListener("resize",this._onResize),this.el.removeChild(this.iframe),Ae()},this._processMessage=function(Le){if(le(Le,this.settings)&&typeof Le.data=="string"){var Me=Le.data.match(this.messageRegex);if(!Me||Me.length!==3)return!1;var Fe=Me[1],xe=Me[2];this._fire(Fe,xe)}}.bind(this),this._onHeightMessage=function(Le){var Me=parseInt(Le);this.iframe.setAttribute("height",Me+"px")},this._onNavigateToMessage=function(Le){de(Le)&&(document.location.href=Le)},this._onScrollToChildPosMessage=function(Le){var Me=document.getElementById(this.id).getBoundingClientRect().top+window.pageYOffset,Fe=Me+parseInt(Le);window.scrollTo(0,Fe)},this.onMessage=function(Le,Me){Le in this.messageHandlers||(this.messageHandlers[Le]=[]),this.messageHandlers[Le].push(Me)},this.sendMessage=function(Le,Me){this.el.getElementsByTagName("iframe").length&&(this.el.getElementsByTagName("iframe")[0].contentWindow?this.el.getElementsByTagName("iframe")[0].contentWindow.postMessage(ge(this.id,Le,Me),"*"):this.remove())},this.sendWidth=function(){var Le=this.el.offsetWidth.toString();this.sendMessage("width",Le)},this.sendViewportAndIFramePosition=function(){var Le=this.iframe.getBoundingClientRect(),Me=window.innerWidth||document.documentElement.clientWidth,Fe=window.innerHeight||document.documentElement.clientHeight,xe=Me+" "+Fe;xe+=" "+Le.top+" "+Le.left,xe+=" "+Le.bottom+" "+Le.right,this.sendMessage("viewport-iframe-position",xe)};for(var Ne in we)this.settings[Ne]=we[Ne];return this._throttleOnScroll=Ce(this._onScroll.bind(this),this.settings.scrollwait),this.onMessage("height",this._onHeightMessage),this.onMessage("navigateTo",this._onNavigateToMessage),this.onMessage("scrollToChildPos",this._onScrollToChildPosMessage),this.onMessage("parentPositionInfo",this.sendViewportAndIFramePosition),window.addEventListener("message",this._processMessage,!1),this._constructIframe(),this},j.Child=function(Se){this.parentWidth=null,this.id=null,this.parentTitle=null,this.parentUrl=null,this.settings={renderCallback:null,xdomain:"*",polling:0,parenturlparam:"parentUrl"},this.timerId=null,this.messageRegex=null,this.messageHandlers={},Se=Se||{},this.onMessage=function(Le,Me){Le in this.messageHandlers||(this.messageHandlers[Le]=[]),this.messageHandlers[Le].push(Me)},this._fire=function(Le,Me){if(Le in this.messageHandlers)for(var Fe=0;Fe<this.messageHandlers[Le].length;Fe++)this.messageHandlers[Le][Fe].call(this,Me)},this._processMessage=function(Le){if(le(Le,this.settings)&&typeof Le.data=="string"){var Me=Le.data.match(this.messageRegex);if(!(!Me||Me.length!==3)){var Fe=Me[1],xe=Me[2];this._fire(Fe,xe)}}}.bind(this),this._onWidthMessage=function(Le){var Me=parseInt(Le);Me!==this.parentWidth&&(this.parentWidth=Me,this.settings.renderCallback&&this.settings.renderCallback(Me),this.sendHeight())},this.sendMessage=function(Le,Me){window.parent.postMessage(ge(this.id,Le,Me),"*")},this.sendHeight=function(){var Le=document.getElementsByTagName("body")[0].offsetHeight.toString();return this.sendMessage("height",Le),Le}.bind(this),this.getParentPositionInfo=function(){this.sendMessage("parentPositionInfo")},this.scrollParentTo=function(Le){this.sendMessage("navigateTo","#"+Le)},this.navigateParentTo=function(Le){this.sendMessage("navigateTo",Le)},this.scrollParentToChildEl=function(Le){var Me=document.getElementById(Le).getBoundingClientRect().top+window.pageYOffset;this.scrollParentToChildPos(Me)},this.scrollParentToChildPos=function(Le){this.sendMessage("scrollToChildPos",Le.toString())};var ke=function(Le){var Me=document.getElementsByTagName("html")[0],Fe,xe=Me.className;try{window.self!==window.top?Fe="embedded":Fe="not-embedded"}catch{Fe="embedded"}xe.indexOf(Fe)<0&&(Me.className=xe?xe+" "+Fe:Fe,Le&&Le(Fe),ee("marked-embedded"))};this.remove=function(){window.removeEventListener("message",this._processMessage),this.timerId&&clearInterval(this.timerId)};for(var we in Se)this.settings[we]=Se[we];this.id=re("childId")||Se.id,this.messageRegex=new RegExp("^pym"+_+this.id+_+"(\\S+)"+_+"(.*)$");var Ne=parseInt(re("initialWidth"));return this.parentUrl=re(this.settings.parenturlparam),this.parentTitle=re("parentTitle"),this.onMessage("width",this._onWidthMessage),window.addEventListener("message",this._processMessage,!1),this.settings.renderCallback&&this.settings.renderCallback(Ne),this.sendHeight(),this.settings.polling&&(this.timerId=window.setInterval(this.sendHeight,this.settings.polling)),ke(Se.onMarkedEmbeddedStatus),this},typeof document<"u"&&j.autoInit(!0),j})})(pym_v1);var pym_v1Exports=pym_v1.exports;const useContentHeight=()=>{const $=ref$1(0);let _,j=null;return onMounted(()=>{const ee=document.getElementById("app");if(!ee){console.warn("Cannot find root element!");return}const re={attributes:!0,childList:!0,subtree:!0};_=new MutationObserver(()=>{j||(j=setTimeout(()=>{j=null;const le=ee.offsetHeight+ee.offsetTop;le!==$.value&&($.value=le)},16))}),_.observe(ee,re)}),onUnmounted(()=>{_&&_.disconnect()}),{contentHeight:$}},pym_child=typeof window<"u"?typeof window.pym<"u"?new window.pym.Child:new pym_v1Exports.Child:null,doRequest=($,_)=>{pym_child!==null&&(_?pym_child.sendMessage($,_):pym_child.sendMessage($,""))},sendHeight$1=()=>{pym_child!==null&&pym_child.sendHeight()},fetchTheme=function(){doRequest("theme")},usePym=()=>{const $=ref$1(""),_=ref$1("");if(pym_child){pym_child.onMessage("theme",re=>{const le=JSON.parse(re);$.value=le.theme}),pym_child.onMessage("navigate",re=>{const le=JSON.parse(re);_.value=le.to}),onMounted(()=>{fetchTheme(),sendHeight$1()});const{contentHeight:j}=useContentHeight(),ee=watch(j,()=>{sendHeight$1()});onBeforeUnmount(()=>ee())}return{theme:$,navigate:_}},sendNavigate=$=>{doRequest("navigate",JSON.stringify({to:$}))},getFocusableElements=$=>Array.from($.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')),isTabPressed=$=>$.key==="Tab"||$.code==="Tab",_hoisted_1$2h=["aria-hidden"],injectionKey=Symbol("injectionKey"),useModalLayer=$=>{const _=inject(injectionKey);return onMounted(()=>_?.addElement($)),{toFront:()=>_?.addElement($)}},_sfc_main$2J=defineComponent({__name:"AppModalLayer",setup($){const _=ref$1(),j=ref$1(),ee=ref$1(),re=ref$1(),le=ref$1(),de=ref$1(!1);let ge;const ve=()=>{const Me=_.value,Fe=j.value;if(Me&&Fe){Me.appendChild(Fe);const xe=Array.from(Me.children).reverse().find($e=>$e!==Fe);ge&&ge(),xe?(de.value||(le.value=document.activeElement||void 0),Me.appendChild(xe),ke(),ge=Ce(xe)):(we(),le.value?.focus())}};let Ee=0;const Ce=Me=>{const Fe=getFocusableElements(Me),xe=Fe[0],$e=Fe[Fe.length-1],De=()=>{const Ge=document.activeElement;return Ge===null?!1:Me.contains(Ge)},Oe=Ge=>{isTabPressed(Ge)&&(De()?Ge.shiftKey?document.activeElement===xe&&($e.focus(),Ge.preventDefault()):document.activeElement===$e&&(xe.focus(),Ge.preventDefault()):(xe.focus(),Ge.preventDefault()))};return document.addEventListener("keydown",Oe),$e.focus(),()=>document.removeEventListener("keydown",Oe)},Ae=()=>{ee.value&&(Ee=window.scrollY,re.value?.classList.add("modal-layer--noscroll"),ee.value.style.marginTop=`-${Ee}px`)},Se=()=>{ee.value&&(re.value?.classList.remove("modal-layer--noscroll"),ee.value.style.removeProperty("margin-top"),Ee>0&&window.scrollTo({top:Ee,left:0}))},ke=()=>{de.value=!0,Ae()},we=()=>{de.value=!1,Se()};return provide(injectionKey,{addElement:Me=>{Me.value&&_.value&&_.value.appendChild(Me.value)}}),onMounted(()=>{const Me=(xe,$e)=>{_.value&&($e.disconnect(),ve(),$e.observe(_.value,{childList:!0}))},Fe=new MutationObserver(Me);Me([],Fe)}),(Me,Fe)=>(openBlock(),createElementBlock("div",{ref_key:"container",ref:re,class:"modal-layer"},[withDirectives(createBaseVNode("div",{ref_key:"stack",ref:_,class:"modal-layer__stack",content:"nosnippet",role:"dialog"},[createBaseVNode("div",{ref_key:"shade",ref:j,class:"modal-layer__shade"},null,512)],512),[[vShow,de.value]]),createBaseVNode("div",{ref_key:"scroll",ref:ee,class:"modal-layer__page-behind","aria-hidden":de.value},[renderSlot(Me.$slots,"default")],8,_hoisted_1$2h)],512))}}),_sfc_main$2I=defineComponent({__name:"App",setup($){const{navigate:_}=usePym(),j=re=>{const le=[re],ge=useRoute().query.template;return ge&&le.push(`${re}-${ge}`),inject(isInAppViewKey)&&le.push(`${re}--in-app-view`),le};let ee;return onMounted(()=>{const re=useRouter();ee=watch(_,le=>{const de=le.replace(/^\/|\/$/g,"");re.push(`/component/${de}/skip`)}),re.afterEach(le=>{if(le.matched.some(ve=>ve.meta.skip))return;const de=le.path.split("/"),ge=de.pop()||de.pop();ge&&sendNavigate(`/${ge}`)})}),onBeforeUnmount(()=>{ee?.()}),(re,le)=>{const de=resolveComponent("router-view");return openBlock(),createElementBlock("div",{id:"app__container",class:normalizeClass(j("app-wrapper"))},[createVNode(_sfc_main$2J,null,{default:withCtx(()=>[createVNode(de)]),_:1})],2)}}}),_export_sfc=($,_)=>{const j=$.__vccOpts||$;for(const[ee,re]of _)j[ee]=re;return j},_sfc_main$2H={},_hoisted_1$2g={fill:"currentColor",d:"M12 2a1.5 1.5 0 0 0-1.04 2.58 7.08 7.08 0 0 0-5.87 6.84l-.01.83a22.41 22.41 0 0 1-1.2 6.68l-.1.3-.14.34-.1.22a.5.5 0 0 0 .46.71h6.06a2 2 0 0 0 3.88 0h5.94a.5.5 0 0 0 .45-.71l-.05-.13-.13-.3-.16-.43a22.4 22.4 0 0 1-1.2-6.68v-.83a7.1 7.1 0 0 0-5.76-6.83A1.5 1.5 0 0 0 12 2zm0 1a.5.5 0 1 1 0 1 .5.5 0 0 1 0-1zm-.06 2.5c3.14 0 5.73 2.65 5.85 5.94v.78a23.4 23.4 0 0 0 1.35 7.28H4.74a23.41 23.41 0 0 0 1.34-7.28l.01-.78c.12-3.3 2.71-5.94 5.85-5.94z"};function _sfc_render$1f($,_){return openBlock(),createElementBlock("path",_hoisted_1$2g)}const IconBell=_export_sfc(_sfc_main$2H,[["render",_sfc_render$1f]]),_sfc_main$2G={},_hoisted_1$2f={fill:"currentColor",d:"M7.41 8.58L12 13.17l4.59-4.59L18 10l-6 6-6-6 1.41-1.42z"};function _sfc_render$1e($,_){return openBlock(),createElementBlock("path",_hoisted_1$2f)}const IconCaretDown=_export_sfc(_sfc_main$2G,[["render",_sfc_render$1e]]),_sfc_main$2F={},_hoisted_1$2e={fill:"currentColor",d:"M11.033 4C9.351 4 8.44 6.167 8.371 7.455A2.142 2.142 0 0 0 7.5 9.168V10H6.035c-1.682 0-2.595 2.167-2.664 3.455a2.142 2.142 0 0 0-.871 1.713v2.5c0 .635.41 1.136 1 1.285V19a1 1 0 0 0 2 0h8a1 1 0 0 0 2 0v-.05c.575-.158 1-.671 1-1.282v-2.5c0-.698-.344-1.318-.873-1.715a3.83 3.83 0 0 0-.053-.453H18.5a1 1 0 0 0 2 0v-.05c.575-.158 1-.67 1-1.282v-2.5c0-.697-.343-1.316-.871-1.713C20.559 6.168 19.649 4 17.967 4H14.93zm0 1h6.934c.757 0 1.396 1.069 1.6 2.022A2.305 2.305 0 0 0 19.264 7H9.732c-.102 0-.2.009-.299.021.203-.952.843-2.021 1.6-2.021zm-1.3 3h9.532c.68 0 1.235.524 1.235 1.168v2.5c0 .199-.19.332-.367.332h-4.848c-.414-1.028-1.195-2-2.32-2H11.5a1 1 0 0 0-2 0h-1v-.832C8.5 8.524 9.052 8 9.732 8zM18.5 9a1 1 0 1 0 0 2 1 1 0 0 0 0-2zM6.035 11h6.93c.756 0 1.396 1.069 1.6 2.022a2.305 2.305 0 0 0-.3-.022H4.732c-.102 0-.2.009-.299.021C4.636 12.07 5.278 11 6.035 11zm-1.303 3h9.533c.68 0 1.235.524 1.235 1.168v2.5c0 .199-.19.332-.367.332H3.865c-.27 0-.366-.171-.366-.332v-2.5c0-.644.553-1.168 1.233-1.168zm.768 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm8 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"};function _sfc_render$1d($,_){return openBlock(),createElementBlock("path",_hoisted_1$2e)}const IconCars=_export_sfc(_sfc_main$2F,[["render",_sfc_render$1d]]),_sfc_main$2E={},_hoisted_1$2d={fill:"currentColor",d:"M22.111 4.408 9.277 17.244 1.89 9.857a1.106 1.106 0 0 0-1.565 0 1.106 1.106 0 0 0 0 1.565l8.172 8.17a1.107 1.107 0 0 0 1.565 0l13.615-13.62a1.106 1.106 0 0 0 0-1.564 1.106 1.106 0 0 0-1.565 0z"};function _sfc_render$1c($,_){return openBlock(),createElementBlock("path",_hoisted_1$2d)}const IconCheck=_export_sfc(_sfc_main$2E,[["render",_sfc_render$1c]]),_sfc_main$2D={},_hoisted_1$2c={fill:"currentColor",d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"};function _sfc_render$1b($,_){return openBlock(),createElementBlock("path",_hoisted_1$2c)}const IconChevronRight=_export_sfc(_sfc_main$2D,[["render",_sfc_render$1b]]),_sfc_main$2C={},_hoisted_1$2b={fill:"currentColor",d:"M7.5 18.866V5.134c0-.95 1.15-1.427 1.822-.754l6.865 6.865a1.067 1.067 0 010 1.51L9.322 19.62c-.672.673-1.822.196-1.822-.754z"};function _sfc_render$1a($,_){return openBlock(),createElementBlock("path",_hoisted_1$2b)}const IconChevronSolidRight=_export_sfc(_sfc_main$2C,[["render",_sfc_render$1a]]),_sfc_main$2B={},_hoisted_1$2a={d:"M16.91 15.75h-9.7a.65.65 0 0 0-.66.64c0 .36.3.65.65.65h9.71c.36 0 .65-.3.65-.65 0-.35-.29-.64-.65-.64zm-9.7-6.82h9.7c.36 0 .65-.29.65-.64 0-.35-.29-.64-.65-.64h-9.7a.65.65 0 0 0-.66.64c0 .35.3.64.65.64zm11.61 2.77H5.22a.65.65 0 0 0-.65.65c0 .35.3.64.65.64h13.6c.36 0 .65-.29.65-.64 0-.36-.3-.65-.65-.65zm.75 7.82a10.76 10.76 0 0 1-13 1.66 1.38 1.38 0 0 0-1.62.16 6 6 0 0 1-1.69.95c.43-.59.75-1.18.97-1.69.1-.27.14-.55.08-.83a1.4 1.4 0 0 0-.34-.72 10.61 10.61 0 0 1 .45-14.58A10.67 10.67 0 0 1 12 1.35a10.65 10.65 0 0 1 7.57 18.17zm.91-15.96A11.95 11.95 0 0 0 12 .06a11.96 11.96 0 0 0-8.98 19.9l.02.08v.06c-.36.8-1 1.92-2 2.64a.64.64 0 0 0-.22.72c.08.27.33.45.61.45 1.06 0 2.65-.26 4.27-1.5l.01-.02a.63.63 0 0 0 .1-.09c.03-.02.07-.03.11 0a12.04 12.04 0 0 0 14.57-1.86 11.81 11.81 0 0 0 3.5-8.44c0-3.2-1.24-6.2-3.5-8.44z","clip-rule":"evenodd",fill:"currentColor","fill-rule":"evenodd"};function _sfc_render$19($,_){return openBlock(),createElementBlock("path",_hoisted_1$2a)}const IconComment=_export_sfc(_sfc_main$2B,[["render",_sfc_render$19]]),_sfc_main$2A={},_hoisted_1$29={fill:"none","fill-rule":"evenodd"},_hoisted_2$11=createBaseVNode("path",{d:"M0 0h24v24H0z"},null,-1),_hoisted_3$J=createBaseVNode("rect",{width:"1",height:"3",x:"12",fill:"currentColor",rx:".5"},null,-1),_hoisted_4$w=createBaseVNode("rect",{width:"1",height:"3",x:"12",y:"21",fill:"currentColor",rx:".5"},null,-1),_hoisted_5$q=createBaseVNode("rect",{width:"1",height:"3",x:"22",y:"10.5",fill:"currentColor",rx:".5",transform:"rotate(90 22.5 12)"},null,-1),_hoisted_6$i=createBaseVNode("rect",{width:"1",height:"3",x:"1",y:"10.5",fill:"currentColor",rx:".5",transform:"rotate(90 1.5 12)"},null,-1),_hoisted_7$h=createBaseVNode("rect",{width:"1",height:"3",x:"19",y:"3",fill:"currentColor",rx:".5",transform:"rotate(-135 19.5 4.5)"},null,-1),_hoisted_8$e=createBaseVNode("rect",{width:"1",height:"3",x:"19",y:"18",fill:"currentColor",rx:".5",transform:"rotate(135 19.5 19.5)"},null,-1),_hoisted_9$c=createBaseVNode("rect",{width:"1",height:"3",x:"4",y:"3",fill:"currentColor",rx:".5",transform:"scale(1 -1) rotate(45 15.37 0)"},null,-1),_hoisted_10$8=createBaseVNode("rect",{width:"1",height:"3",x:"4",y:"18",fill:"currentColor",rx:".5",transform:"scale(1 -1) rotate(-45 -42.57 0)"},null,-1),_hoisted_11$7=createBaseVNode("circle",{cx:"12",cy:"12",r:"6.5",stroke:"currentColor"},null,-1),_hoisted_12$7=createBaseVNode("path",{fill:"currentColor",stroke:"currentColor",d:"M12.5 18.48V5.52a6.5 6.5 0 010 12.96z"},null,-1),_hoisted_13$6=[_hoisted_2$11,_hoisted_3$J,_hoisted_4$w,_hoisted_5$q,_hoisted_6$i,_hoisted_7$h,_hoisted_8$e,_hoisted_9$c,_hoisted_10$8,_hoisted_11$7,_hoisted_12$7];function _sfc_render$18($,_){return openBlock(),createElementBlock("g",_hoisted_1$29,_hoisted_13$6)}const IconDarkMode=_export_sfc(_sfc_main$2A,[["render",_sfc_render$18]]),_sfc_main$2z={},_hoisted_1$28={"fill-rule":"evenodd","clip-rule":"evenodd",fill:"currentColor"},_hoisted_2$10=createBaseVNode("path",{d:"M23.77464 20.062253 1.3503248 2.5319135a.59998168.59998168 0 0 0-.84334929.0933722l-.37498855.4683607a.59998168.59998168 0 0 0 .0933722.8440992L22.649675 21.468086a.59998168.59998168 0 0 0 .843349-.09337l.374988-.46836a.59998168.59998168 0 0 0-.09337-.8441zM11.129651 7.8927499l5.054471 3.9516291C16.100875 9.5966978 14.267931 7.8001277 12 7.8001277a4.2096215 4.2096215 0 0 0-.870349.092622zm1.740697 8.2148741-5.0544706-3.951629C7.8994998 14.403301 9.7324438 16.199871 12 16.199871a4.2373706 4.2373706 0 0 0 .870348-.09225zM12 6.6001643c3.699262 0 7.090658 2.0624371 8.922102 5.3998347a10.707048 10.707048 0 0 1-1.649949 2.257432l1.415207 1.106216a12.513368 12.513368 0 0 0 1.983689-2.816539 1.213088 1.213088 0 0 0 0-1.094592C20.635611 7.4847623 16.609734 4.8002193 12 4.8002193c-1.376208 0-2.6890433.262492-3.9235056.7053535l1.7403219 1.3608334C10.527045 6.7051611 11.254523 6.6001643 12 6.6001643Zm0 10.7996707c-3.6992625 0-7.0902839-2.062437-8.922103-5.399836a10.704798 10.704798 0 0 1 1.6518246-2.2570556L3.3145148 8.6367271a12.509618 12.509618 0 0 0-1.9833144 2.8161639 1.213088 1.213088 0 0 0 0 1.094592C3.3647633 16.515237 7.3906403 19.19978 12 19.19978c1.376208 0 2.689043-.264367 3.923505-.705354l-1.740322-1.360458c-.710228.16087-1.437331.265867-2.183183.265867Z"},null,-1),_hoisted_3$I=[_hoisted_2$10];function _sfc_render$17($,_){return openBlock(),createElementBlock("g",_hoisted_1$28,_hoisted_3$I)}const IconEyeClosed=_export_sfc(_sfc_main$2z,[["render",_sfc_render$17]]),_sfc_main$2y={},_hoisted_1$27={"fill-rule":"evenodd","clip-rule":"evenodd",fill:"currentColor"},_hoisted_2$$=createBaseVNode("path",{d:"M12 7.333325a4.6225088 4.6225088 0 0 0-1.301669.208333 2.3083377 2.3083377 0 0 1 .301667 1.125003 2.3333378 2.3333378 0 0 1-2.3333373 2.333337 2.3083377 2.3083377 0 0 1-1.1250022-.301667A4.6545922 4.6545922 0 1 0 12 7.333325Zm11.855022 4.058341C21.595435 6.982907 17.122093 3.999985 12 3.999985c-5.1220927 0-9.5966845 2.985006-11.85502221 7.392097a1.3479192 1.3479192 0 0 0 0 1.216253C2.4045655 17.017093 6.8779073 20.000015 12 20.000015c5.122093 0 9.596685-2.985005 11.855022-7.392097a1.3479192 1.3479192 0 0 0 0-1.216252zM12 18.000012c-4.1104241 0-7.8787646-2.291671-9.9137685-6.000012C4.1212354 8.29166 7.8891592 5.999989 12 5.999989c4.110841 0 7.878765 2.291671 9.913769 6.000011C19.879181 15.708341 16.110841 18.000012 12 18.000012Z"},null,-1),_hoisted_3$H=[_hoisted_2$$];function _sfc_render$16($,_){return openBlock(),createElementBlock("g",_hoisted_1$27,_hoisted_3$H)}const IconEyeOpen=_export_sfc(_sfc_main$2y,[["render",_sfc_render$16]]),_sfc_main$2x={},_hoisted_1$26={fill:"currentColor",d:"m17.58 13.5.67-4.34h-4.17V6.34c0-1.19.59-2.35 2.45-2.35h1.9V.3S16.7 0 15.06 0C11.63 0 9.4 2.08 9.4 5.85v3.3H5.57v4.35H9.4V24h4.7V13.5Z"};function _sfc_render$15($,_){return openBlock(),createElementBlock("path",_hoisted_1$26)}const IconFacebook=_export_sfc(_sfc_main$2x,[["render",_sfc_render$15]]),_sfc_main$2w={},_hoisted_1$25={fill:"currentColor",d:"M13.805 3a7.55 7.55 0 0 0-1.229.11 7.376 7.376 0 0 0-.832.185c-.054.015-.11.024-.164.04-.3.094-.589.214-.873.343-.05.023-.106.036-.156.06-.018.01-.028.026-.045.037a7.538 7.538 0 0 0-3.431 3.436c-.01.015-.025.023-.032.039-.02.044-.03.09-.05.133a7.538 7.538 0 0 0-.356.906c-.015.048-.021.097-.035.145-.078.274-.14.554-.188.841-.015.094-.03.188-.043.284a7.503 7.503 0 0 0-.066.941l.002.031c0 .057.007.113.008.17.008.294.035.581.076.865.007.051.004.104.012.155.003.014.012.024.015.037a7.502 7.502 0 0 0 3.036 4.84c.018.017.027.04.048.054.402.283.837.512 1.286.71.046.02.091.042.138.062a7.391 7.391 0 0 0 .78.271c.179.052.357.1.539.139.078.017.156.027.234.04.16.03.318.067.48.085a.52.52 0 0 0 .057.004c.005 0 .009-.004.014-.004a7.456 7.456 0 0 0 5.473-1.623c.018-.011.041-.013.058-.026a7.42 7.42 0 0 0 1.541-1.727c.013-.02.014-.043.023-.064a7.44 7.44 0 0 0 1.18-4.02c0-.296-.022-.589-.056-.878-.001-.006.003-.012.002-.018-.007-.058-.023-.112-.032-.17a6.986 6.986 0 0 0-.111-.617 8.125 8.125 0 0 0-.24-.818c-.035-.096-.068-.191-.106-.285a7.24 7.24 0 0 0-.232-.516c-.043-.086-.08-.175-.125-.26a7.495 7.495 0 0 0-.4-.652c-.019-.027-.032-.057-.051-.084-.01-.014-.026-.02-.037-.033a7.493 7.493 0 0 0-4.862-3.055c-.013-.003-.022-.013-.035-.015-.048-.008-.096-.006-.144-.012a7.443 7.443 0 0 0-.916-.078c-.04-.001-.08-.006-.12-.006L13.805 3zm-.035 1.002c.257-.001.514.014.773.043.021.002.04.007.063.01l1.176 2.474c.139.295.44.487.775.487l2.71-.026c.065.1.127.202.186.305.03.052.06.103.088.156.064.12.12.242.176.365.037.081.075.163.11.245a7.39 7.39 0 0 1 .216.628 7.072 7.072 0 0 1 .15.639c.01.048.015.098.022.145l-1.564 1.379a.852.852 0 0 0-.254.88l.734 2.483a5.601 5.601 0 0 1-.146.197 6.375 6.375 0 0 1-.881.95L15.53 14.6a.858.858 0 0 0-.881.254l-1.82 2.064c-.105-.016-.21-.027-.313-.049a6.06 6.06 0 0 1-.64-.162h-.003a6.535 6.535 0 0 1-1.582-.746l.026-2.705a.848.848 0 0 0-.485-.775l-2.47-1.174-.012-.069a6.583 6.583 0 0 1-.043-.767c0-.071.008-.14.01-.21.007-.19.02-.38.045-.57.01-.096.027-.189.043-.283.029-.173.066-.342.109-.511.021-.084.04-.17.064-.252a6.69 6.69 0 0 1 .249-.696l.025-.049 2.215-.49a.85.85 0 0 0 .644-.646l.49-2.215c.023-.009.044-.023.067-.033.215-.091.434-.17.656-.237.1-.03.203-.052.305-.078.15-.037.305-.07.459-.097.103-.017.205-.035.31-.047a6.35 6.35 0 0 1 .551-.043c.073-.003.147-.01.22-.012zm2.074.33a6.499 6.499 0 0 1 2.639 1.666l-1.84.018zm-5.814.889-.274 1.234-1.234.274A6.559 6.559 0 0 1 10.03 5.22zm4.925 2.8-3.005.233a.502.502 0 0 0-.461.459l-.223 2.832a.499.499 0 0 0 .316.504l2.729 1.062a.497.497 0 0 0 .537-.113l1.834-1.855a.499.499 0 0 0 .076-.604l-1.332-2.271a.507.507 0 0 0-.47-.247zm-.234 1.022.98 1.67-1.331 1.348-2.077-.809.16-2.033zm5.57 1.693a6.458 6.458 0 0 1-.482 2.247l-.428-1.444zm-12.65 1.81 1.676.796-.015 1.834a6.504 6.504 0 0 1-1.66-2.629zM5.087 14a.499.499 0 0 0-.354.147l-1.89 1.89a.5.5 0 0 0 .707.707l1.89-1.89A.5.5 0 0 0 5.087 14zm10.248 1.586 1.748.518a6.444 6.444 0 0 1-2.98.88zM6.196 17a.499.499 0 0 0-.354.147l-3 3a.5.5 0 0 0 .707.707l3-3A.5.5 0 0 0 6.196 17zm2.89 1a.499.499 0 0 0-.353.147l-1.89 1.89a.5.5 0 0 0 .706.707l1.891-1.89A.5.5 0 0 0 9.087 18z"};function _sfc_render$14($,_){return openBlock(),createElementBlock("path",_hoisted_1$25)}const IconFootball=_export_sfc(_sfc_main$2w,[["render",_sfc_render$14]]),_sfc_main$2v={},_hoisted_1$24={fill:"currentColor"},_hoisted_2$_=createBaseVNode("path",{d:"M9.084 7.22c-.314-.232-.832-.238-1.156-.012-.324.225-.332.596-.018.829.314.232.831.238 1.155.013.324-.226.332-.597.018-.83zM12.826 4.983c-.314-.232-.831-.238-1.155-.012-.324.225-.332.596-.018.828.313.233.83.238 1.155.014.324-.226.332-.597.018-.83zM10.954 6.048c-.314-.232-.832-.238-1.156-.013-.324.226-.332.597-.018.829.314.233.831.238 1.156.013.323-.225.332-.596.018-.829zM12.027 8.926c-.314-.233-.831-.238-1.155-.013-.324.225-.332.596-.018.829.313.232.83.238 1.155.013.324-.226.332-.597.018-.83zM15.768 6.688c-.314-.232-.831-.238-1.155-.012-.324.225-.332.596-.018.828.313.233.83.238 1.155.014.324-.226.332-.597.018-.83zM13.898 7.753c-.314-.232-.831-.238-1.156-.013-.323.226-.332.597-.018.83.314.232.832.238 1.155.012.325-.225.333-.596.019-.829zM6.26 12.221c.357.194.646.063.646-.294 0-.356-.289-.802-.645-.997-.357-.194-.646-.062-.646.294s.29.803.646.997zM9.862 14.184c.356.194.645.063.645-.293 0-.357-.289-.803-.645-.998-.356-.194-.645-.062-.645.294s.289.803.645.997zM6.26 15.824c.357.194.646.063.646-.294s-.289-.802-.645-.996c-.357-.195-.646-.063-.646.293s.29.803.646.997zM9.862 17.787c.356.194.645.063.645-.294 0-.356-.289-.802-.645-.997-.356-.194-.645-.062-.645.294s.289.803.645.997zM8.062 15.004c.357.194.646.063.646-.294 0-.356-.29-.802-.646-.996-.356-.195-.645-.063-.645.293s.289.803.645.997zM17.801 10.532c-.377.205-.682.677-.682 1.054s.305.516.682.31c.376-.205.682-.677.682-1.054s-.306-.516-.682-.31zM13.992 16.418c-.377.205-.682.678-.682 1.054 0 .377.305.516.682.31.377-.205.682-.677.682-1.054 0-.376-.305-.515-.682-.31zM15.898 13.475c-.377.205-.682.677-.682 1.054s.305.516.682.31c.377-.205.682-.677.682-1.054 0-.376-.305-.515-.682-.31z"},null,-1),_hoisted_3$G=createBaseVNode("path",{d:"M11.182 2.567a1.5 1.5 0 0 1 1.546-.015l6.558 3.858c.458.27.74.761.74 1.293v8.057a1.5 1.5 0 0 1-.724 1.283l-6.45 3.907a1.5 1.5 0 0 1-1.527.016l-6.49-3.744a1.5 1.5 0 0 1-.75-1.27l-.16-8.056A1.5 1.5 0 0 1 4.64 6.59l6.543-4.022zm1.039.847a.5.5 0 0 0-.515.005L5.733 7.09a.3.3 0 0 0 .002.512l5.959 3.605a.5.5 0 0 0 .52-.002l6.061-3.718a.3.3 0 0 0-.005-.514l-6.049-3.559zM5.085 15.932 4.944 8.83a.3.3 0 0 1 .455-.263l5.816 3.518a.5.5 0 0 1 .241.428v6.854a.3.3 0 0 1-.45.26l-5.67-3.272a.5.5 0 0 1-.25-.423zm7.371 3.556a.3.3 0 0 0 .456.256l5.872-3.557a.5.5 0 0 0 .241-.427V8.735a.3.3 0 0 0-.457-.255l-5.873 3.603a.5.5 0 0 0-.239.426v6.979z","clip-rule":"evenodd","fill-rule":"evenodd"},null,-1),_hoisted_4$v=[_hoisted_2$_,_hoisted_3$G];function _sfc_render$13($,_){return openBlock(),createElementBlock("g",_hoisted_1$24,_hoisted_4$v)}const IconGames=_export_sfc(_sfc_main$2v,[["render",_sfc_render$13]]),_sfc_main$2u={},_hoisted_1$23={fill:"currentColor","fill-rule":"evenodd",d:"M11.999 1.297C6.098 1.297 1.296 6.1 1.296 12c0 5.902 4.802 10.703 10.703 10.703S22.702 17.902 22.702 12c0-5.9-4.802-10.703-10.703-10.703zm0 22.703C5.382 24 0 18.618 0 12 0 5.383 5.382 0 11.999 0 18.616 0 24 5.383 24 12c0 6.618-5.384 12-12.001 12zm1.334-17.333a1.333 1.333 0 1 1-2.667 0 1.333 1.333 0 0 1 2.667 0zm-2.667 4.124v6.42c0 .8.6 1.456 1.334 1.456.733 0 1.333-.656 1.333-1.457v-6.419c0-.802-.6-1.457-1.333-1.457-.734 0-1.334.655-1.334 1.457z","clip-rule":"evenodd"};function _sfc_render$12($,_){return openBlock(),createElementBlock("path",_hoisted_1$23)}const IconInfo=_export_sfc(_sfc_main$2u,[["render",_sfc_render$12]]),_sfc_main$2t={},_hoisted_1$22={fill:"currentColor",d:"M12.003 5.848A6.142 6.142 0 005.85 12a6.142 6.142 0 006.152 6.152A6.142 6.142 0 0018.155 12a6.142 6.142 0 00-6.152-6.152zm0 10.152c-2.2 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.8 4-4 4zM19.84 5.596c0 .798-.642 1.435-1.435 1.435a1.435 1.435 0 111.435-1.435zm4.075 1.457c-.091-1.922-.53-3.625-1.939-5.028C20.575.622 18.872.183 16.95.087c-1.981-.112-7.919-.112-9.9 0-1.917.091-3.62.53-5.027 1.933C.614 3.423.18 5.125.084 7.047c-.112 1.981-.112 7.92 0 9.9.091 1.922.53 3.625 1.939 5.028 1.408 1.403 3.105 1.842 5.027 1.938 1.981.112 7.919.112 9.9 0 1.922-.091 3.625-.53 5.027-1.938 1.403-1.403 1.842-3.106 1.939-5.028.112-1.98.112-7.913 0-9.894zm-2.56 12.02a4.05 4.05 0 01-2.28 2.28c-1.58.627-5.328.483-7.073.483-1.746 0-5.499.139-7.073-.482a4.05 4.05 0 01-2.281-2.281c-.626-1.58-.482-5.328-.482-7.073s-.14-5.499.482-7.073a4.05 4.05 0 012.28-2.28c1.58-.627 5.328-.483 7.074-.483 1.745 0 5.498-.139 7.073.482a4.05 4.05 0 012.28 2.281c.627 1.58.482 5.328.482 7.073s.145 5.499-.482 7.073z"};function _sfc_render$11($,_){return openBlock(),createElementBlock("path",_hoisted_1$22)}const IconInstagram=_export_sfc(_sfc_main$2t,[["render",_sfc_render$11]]),_sfc_main$2s={},_hoisted_1$21={fill:"currentColor",d:"M5.37 24H.4V7.98h4.97ZM2.88 5.8A2.9 2.9 0 0 1 0 2.87a2.88 2.88 0 0 1 5.76 0c0 1.6-1.29 2.91-2.88 2.91zM24 24h-4.96v-7.8c0-1.86-.04-4.24-2.59-4.24-2.58 0-2.98 2.02-2.98 4.1V24H8.49V7.98h4.77v2.18h.07a5.23 5.23 0 0 1 4.7-2.59c5.04 0 5.97 3.32 5.97 7.63V24z"};function _sfc_render$10($,_){return openBlock(),createElementBlock("path",_hoisted_1$21)}const IconLinkedin=_export_sfc(_sfc_main$2s,[["render",_sfc_render$10]]),_sfc_main$2r={},_hoisted_1$20={cx:"50",cy:"50",fill:"none",stroke:"currentColor","stroke-width":"10",r:"35","stroke-dasharray":"164.93361431346415 56.97787143782138"};function _sfc_render$$($,_){return openBlock(),createElementBlock("circle",_hoisted_1$20)}const IconLoading=_export_sfc(_sfc_main$2r,[["render",_sfc_render$$]]),_sfc_main$2q={},_hoisted_1$1$=createBaseVNode("defs",{id:"defs22"},null,-1),_hoisted_2$Z=createBaseVNode("g",{id:"g16",fill:"none","fill-rule":"evenodd",transform:"matrix(0.18750057,0,0,0.18750057,-3.648e-5,-1.3023029e-4)"},[createBaseVNode("path",{id:"path2",d:"m 57.139,9.846 c 24.291,0 44.843,16.035 51.675,38.106 C 101,49.123 95.002,55.85 95.002,64 c 0,8.151 5.997,14.879 13.812,16.046 -6.832,22.073 -27.384,38.108 -51.675,38.108 C 27.268,118.154 3.048,93.907 3.048,64 3.048,34.09 27.268,9.846 57.139,9.846 Z",fill:"#020051"}),createBaseVNode("path",{id:"path4",d:"m 57.139,8.322 c 24.545,0 45.976,16.065 53.13,39.18 l 0.526,1.694 -1.755,0.263 A 14.703,14.703 0 0 0 96.526,64 c 0,7.31 5.358,13.471 12.513,14.54 l 1.756,0.262 -0.525,1.695 c -7.155,23.117 -28.586,39.182 -53.131,39.182 -30.714,0 -55.615,-24.93 -55.615,-55.678 0,-30.75 24.9,-55.678 55.615,-55.678 z",stroke:"#ffffff","stroke-width":"3.04761"}),createBaseVNode("path",{id:"path6",d:"m 97.908,63.76 c 0,-7.474 6.057,-13.54 13.522,-13.54 7.464,0 13.522,6.065 13.522,13.54 0,7.474 -6.058,13.538 -13.522,13.538 -7.465,0 -13.522,-6.064 -13.522,-13.538 z",fill:"#b50c16"}),createBaseVNode("path",{id:"path8",d:"m 96.384,63.76 c 0,-8.316 6.739,-15.063 15.046,-15.063 8.307,0 15.046,6.747 15.046,15.063 0,8.315 -6.74,15.062 -15.045,15.062 -8.308,0 -15.047,-6.747 -15.047,-15.062 z",stroke:"#ffffff","stroke-width":"3.04761"}),createBaseVNode("path",{id:"path10",d:"m 19.601,42.236 c 0,-0.823 0.832,-1.717 1.668,-1.717 h 31.83 c 0.878,0 1.452,0.865 1.452,1.717 v 43.729 c 0,0.83 -0.471,1.516 -1.452,1.516 H 40.19 c -0.86,0 -1.273,-0.603 -1.273,-1.516 v -32.54 c 0,-2.27 -3.68,-2.215 -3.68,0.01 v 32.53 c 0,0.883 -0.708,1.516 -1.5,1.516 H 21.27 c -0.89,0 -1.668,-0.592 -1.668,-1.516 z m 38.63,43.816 c 0,0.822 0.137,1.429 0.971,1.429 h 31.832 c 0.879,0 1.226,-0.578 1.226,-1.429 V 42.323 c 0,-0.83 -0.246,-1.804 -1.226,-1.804 H 78.125 c -0.862,0 -1.5,0.89 -1.5,1.804 v 32.539 c 0,2.272 -3.679,2.215 -3.679,-0.01 V 42.323 c 0,-0.883 -0.484,-1.804 -1.275,-1.804 H 59.202 c -0.888,0 -0.972,0.88 -0.972,1.804 z",fill:"#ffffff"}),createBaseVNode("g",{id:"g14",fill:"#ffffff"},[createBaseVNode("path",{id:"path12",d:"m 112.922,69.22 h -2.091 v -4.038 c 0,-0.854 -0.045,-1.405 -0.134,-1.654 a 1.154,1.154 0 0 0 -0.439,-0.588 1.226,1.226 0 0 0 -0.722,-0.209 c -0.362,0 -0.687,0.1 -0.974,0.298 a 1.52,1.52 0 0 0 -0.596,0.79 c -0.104,0.328 -0.156,0.933 -0.156,1.817 v 3.583 h -2.09 v -7.91 h 1.941 v 1.162 c 0.69,-0.894 1.558,-1.341 2.605,-1.341 0.46,0 0.882,0.084 1.264,0.253 0.382,0.164 0.67,0.375 0.864,0.633 0.198,0.258 0.334,0.551 0.409,0.88 0.08,0.327 0.119,0.796 0.119,1.407 v 4.916 m 2.128,0.001 V 58.298 h 2.09 v 10.92 h -2.09"})])],-1),_hoisted_3$F=[_hoisted_1$1$,_hoisted_2$Z];function _sfc_render$_($,_){return openBlock(),createElementBlock("g",null,_hoisted_3$F)}const IconLogoNu=_export_sfc(_sfc_main$2q,[["render",_sfc_render$_]]),_sfc_main$2p={},_hoisted_1$1_=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.8547 3.98022C21.2639 3.98022 25.8403 7.55089 27.3617 12.4658C25.6214 12.7265 24.286 14.2242 24.286 16.0392C24.286 17.8544 25.6214 19.3525 27.3617 19.6124C25.8403 24.5277 21.2639 28.0984 15.8547 28.0984C9.20289 28.0984 3.80957 22.699 3.80957 16.0392C3.80957 9.379 9.20289 3.98022 15.8547 3.98022Z",fill:"#020051"},null,-1),_hoisted_2$Y=createBaseVNode("path",{d:"M20.5044 18.1219H16.5756C16.2668 18.1219 16.1309 17.986 16.1309 17.6771V16.2316C16.1309 15.9228 16.2668 15.7869 16.5756 15.7869H19.7631C19.9608 15.7869 20.0967 15.7004 20.0967 15.5027V15.0209C20.0967 14.8232 19.9608 14.7367 19.7631 14.7367H16.6992C16.3903 14.7367 16.2544 14.6008 16.2544 14.292V9.67133C16.2544 9.36246 16.3903 9.22656 16.6992 9.22656H22.024C22.3329 9.22656 22.4688 9.36246 22.4688 9.67133V11.1415C22.4688 11.4504 22.3329 11.5863 22.024 11.5863H19.0589V12.3893H20.7515C22.0858 12.3893 22.9136 13.0441 22.9136 14.3537V16.071C22.9136 17.3312 21.987 18.1219 20.5044 18.1219Z",fill:"white"},null,-1),_hoisted_3$E=createBaseVNode("path",{d:"M14.3805 18.1219H8.4997C8.19083 18.1219 8.05493 17.986 8.05493 17.6771V15.5521C8.05493 13.6372 8.85798 13.1924 9.99461 12.8465L11.6501 12.3276C11.9096 12.2534 11.9837 12.1546 11.9837 11.8828C11.9837 11.6357 11.8972 11.5616 11.6501 11.5616H8.96917C8.66031 11.5616 8.52441 11.4257 8.52441 11.1168V9.67133C8.52441 9.36246 8.66031 9.22656 8.96917 9.22656H12.6138C14.0222 9.22656 14.7882 9.94313 14.7882 11.2774V12.4388C14.7882 13.6866 14.0593 14.2549 12.8609 14.6255L11.1807 15.1568C10.9336 15.2309 10.8594 15.2556 10.8594 15.5274V15.7869H14.3805C14.6894 15.7869 14.8253 15.9228 14.8253 16.2316V17.6771C14.8253 17.986 14.6894 18.1219 14.3805 18.1219Z",fill:"white"},null,-1),_hoisted_4$u=createBaseVNode("path",{d:"M20.708 19.9448V20.6119H21.0989C21.2813 20.6119 21.3282 20.5077 21.3282 20.367V20.1897C21.3282 20.049 21.2813 19.9448 21.0989 19.9448H20.708ZM20.5203 22.7593H19.7177C19.5874 22.7593 19.53 22.702 19.53 22.5717V19.1942C19.53 19.0639 19.5874 19.0066 19.7177 19.0066H21.4533C22.2351 19.0066 22.4801 19.361 22.4801 19.877V20.1168C22.4801 20.4086 22.4071 20.6171 22.1882 20.711C22.5687 20.7526 22.8189 21.0289 22.8189 21.4667V22.5717C22.8189 22.702 22.7615 22.7593 22.6312 22.7593H21.8234C21.6931 22.7593 21.6357 22.702 21.6357 22.5717V21.7742C21.6357 21.6179 21.5836 21.5501 21.4377 21.5501H20.708V22.5717C20.708 22.702 20.6506 22.7593 20.5203 22.7593Z",fill:"white"},null,-1),_hoisted_5$p=createBaseVNode("path",{d:"M17.0831 20.1011L16.8381 20.8934H17.6564L17.4114 20.1011C17.3854 20.0386 17.3541 20.0125 17.3124 20.0125H17.1821C17.1404 20.0125 17.1091 20.0386 17.0831 20.1011ZM16.786 22.5717C16.786 22.702 16.7287 22.7593 16.5983 22.7593H15.8322C15.7019 22.7593 15.6445 22.702 15.6445 22.5717V21.1957C15.6445 20.9872 15.7071 20.7266 15.8478 20.3617L16.3013 19.1786C16.343 19.0587 16.4263 19.0066 16.5671 19.0066H17.9691C18.1046 19.0066 18.188 19.0587 18.2297 19.1786L18.6832 20.3617C18.8239 20.7266 18.8865 20.9872 18.8865 21.1957V22.5717C18.8865 22.702 18.8291 22.7593 18.6988 22.7593H17.9118C17.7711 22.7593 17.7085 22.702 17.7085 22.5717V21.842H16.786V22.5717Z",fill:"white"},null,-1),_hoisted_6$h=createBaseVNode("path",{d:"M13.2759 20.1011L13.031 20.8934H13.8493L13.6043 20.1011C13.5782 20.0386 13.547 20.0125 13.5053 20.0125H13.375C13.3333 20.0125 13.302 20.0386 13.2759 20.1011ZM12.9789 22.5717C12.9789 22.702 12.9215 22.7593 12.7912 22.7593H12.025C11.8947 22.7593 11.8374 22.702 11.8374 22.5717V21.1957C11.8374 20.9872 11.8999 20.7266 12.0407 20.3617L12.4941 19.1786C12.5358 19.0587 12.6192 19.0066 12.7599 19.0066H14.162C14.2975 19.0066 14.3809 19.0587 14.4226 19.1786L14.8761 20.3617C15.0168 20.7266 15.0793 20.9872 15.0793 21.1957V22.5717C15.0793 22.702 15.022 22.7593 14.8917 22.7593H14.1047C13.9639 22.7593 13.9014 22.702 13.9014 22.5717V21.842H12.9789V22.5717Z",fill:"white"},null,-1),_hoisted_7$g=createBaseVNode("path",{d:"M11.2198 21.7742C11.2198 22.4101 10.9175 22.8375 9.69266 22.8375C8.47824 22.8375 8.18115 22.4101 8.18115 21.7742V20.9299C8.18115 20.7943 8.23849 20.7422 8.36879 20.7422H9.12454C9.25485 20.7422 9.31218 20.7943 9.31218 20.9299V21.5657C9.31218 21.7065 9.35909 21.8107 9.68224 21.8107C9.98454 21.8107 10.0262 21.7065 10.0262 21.5657V19.1942C10.0262 19.0639 10.0836 19.0066 10.2139 19.0066H11.0322C11.1625 19.0066 11.2198 19.0639 11.2198 19.1942V21.7742Z",fill:"white"},null,-1),_hoisted_8$d=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.13086 16.0391C3.13086 9.00456 8.82759 3.30151 15.8546 3.30151C21.47 3.30151 26.3729 6.97674 28.01 12.265L28.2436 13.0198L27.4622 13.1369C26.034 13.3508 24.9646 14.5803 24.9646 16.0391C24.9646 17.4983 26.0341 18.7279 27.4619 18.9411L28.2437 19.0579L28.01 19.813C26.373 25.1017 21.4701 28.777 15.8546 28.777C8.82777 28.777 3.13086 23.0735 3.13086 16.0391ZM27.3617 12.4657C25.8402 7.55082 21.2638 3.98016 15.8546 3.98016C9.20282 3.98016 3.80949 9.37894 3.80949 16.0391C3.80949 22.6989 9.20282 28.0983 15.8546 28.0983C21.2638 28.0983 25.8402 24.5277 27.3617 19.6123C25.6214 19.3525 24.2859 17.8543 24.2859 16.0391C24.2859 14.2242 25.6214 12.7264 27.3617 12.4657Z",fill:"white"},null,-1),_hoisted_9$b=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24.6914 16.0004C24.6914 14.1464 26.1513 12.6421 27.9508 12.6421C29.7498 12.6421 31.2099 14.1462 31.2099 16.0004C31.2099 17.854 29.7498 19.3581 27.9508 19.3581C26.1513 19.3584 24.6914 17.854 24.6914 16.0004Z",fill:"#C40000"},null,-1),_hoisted_10$7=createBaseVNode("path",{d:"M27.9443 12.6719C29.7712 12.6719 31.254 14.1562 31.254 15.986C31.254 17.8153 29.7712 19.2996 27.9443 19.2996C26.1169 19.2998 24.6343 17.8153 24.6343 15.986C24.6343 14.1564 26.1169 12.6719 27.9443 12.6719Z",fill:"white"},null,-1),_hoisted_11$6=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M27.7006 27.852C27.4782 27.852 27.286 27.6826 27.2214 27.43C26.7732 25.6781 27.3626 24.6506 27.8363 23.8249C27.9244 23.6716 28.0035 23.5334 28.0761 23.3929C28.4602 22.6497 28.0578 21.832 27.7344 21.175C27.5393 20.7793 27.3856 20.4667 27.3929 20.1345C27.4004 19.81 27.6202 19.5557 27.8933 19.5557C28.17 19.564 28.3825 19.8157 28.3938 20.1244C28.4216 20.215 28.5448 20.4655 28.5991 20.5754C28.9584 21.3058 29.6273 22.6652 28.9298 24.0142C28.8467 24.1755 28.7563 24.3336 28.6644 24.4934C28.2383 25.2354 27.8706 25.8763 28.1797 27.0851C28.2186 27.2372 28.2053 27.3979 28.1422 27.5376C28.0791 27.6778 27.974 27.7806 27.8458 27.8264C27.7987 27.8433 27.7496 27.852 27.7006 27.852Z",fill:"#C22026"},null,-1),_hoisted_12$6=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M27.8068 19.5466H27.7994H27.7915C27.3296 19.5466 26.958 19.9086 26.9453 20.371C26.9352 20.7674 27.1361 21.1115 27.3686 21.5098C27.7842 22.2213 28.0762 22.8068 27.7571 23.3274C27.6801 23.453 27.594 23.5795 27.5032 23.7133L27.4944 23.726C26.9564 24.5165 26.2202 25.5986 26.7645 27.3927C26.8731 27.7521 27.199 27.9937 27.5746 27.9937C27.6578 27.9937 27.7405 27.9816 27.82 27.9573C28.0362 27.8918 28.2142 27.7456 28.3209 27.546C28.4275 27.3467 28.4501 27.1174 28.3846 26.9012C28.0751 25.8815 28.4185 25.3772 28.8939 24.6794C28.9902 24.5379 29.0996 24.377 29.2004 24.2124C30.0748 22.787 29.2655 21.4003 28.8307 20.6556C28.7819 20.5723 28.6761 20.3907 28.6332 20.3001C28.5872 19.8863 28.2407 19.5582 27.8141 19.5469L27.8068 19.5466ZM27.7994 20.1112C27.9549 20.1154 28.0776 20.245 28.074 20.4003C28.0774 20.4841 28.2311 20.7478 28.3434 20.9403C28.745 21.6281 29.4171 22.7796 28.7193 23.9173C28.6279 24.067 28.5285 24.2132 28.4275 24.3614C27.9284 25.0943 27.4569 25.7871 27.8446 27.0648C27.8897 27.2139 27.8056 27.3717 27.6564 27.4169C27.629 27.4251 27.6014 27.429 27.5746 27.429C27.4532 27.429 27.3415 27.3505 27.3045 27.2286C26.8384 25.6928 27.4352 24.8165 27.9611 24.0435C28.0568 23.9029 28.1516 23.7638 28.2382 23.6226C28.7593 22.7726 28.2374 21.8782 27.8562 21.2249C27.6513 20.8743 27.5037 20.621 27.5097 20.3862C27.5139 20.2329 27.6395 20.1112 27.7915 20.1112H27.7994Z",fill:"white"},null,-1),_hoisted_13$5=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.6482 20.5431L27.2683 19.6084C25.4999 19.2677 24.2028 17.6343 24.3017 15.7587C24.402 13.8665 25.9394 12.325 27.8021 12.2497C27.8521 12.248 27.9015 12.2468 27.951 12.2468C29.966 12.2468 31.605 13.9136 31.605 15.9622C31.605 17.7642 30.3332 19.2819 28.6331 19.6084L29.2532 20.5431H26.6482Z",fill:"#C22026"},null,-1),_hoisted_14$1=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M27.8807 12.105C27.8277 12.105 27.7748 12.1058 27.7216 12.108C25.7221 12.1874 24.0714 13.8063 23.9645 15.7937C23.8656 17.6206 25.0565 19.2292 26.7441 19.738L26.6444 19.8856L26.0559 20.7532H27.1087H28.6524H29.7052L29.1166 19.8856L29.0169 19.7386C30.6354 19.252 31.8025 17.7573 31.8025 16.0072C31.8025 13.8553 30.0432 12.105 27.8807 12.105ZM27.8807 12.6617C29.7343 12.6617 31.2425 14.1626 31.2425 16.0072C31.2425 17.787 29.8374 19.2425 28.0733 19.3427L28.6524 20.1965H27.1087L27.6877 19.3427C25.8635 19.2392 24.4228 17.686 24.5236 15.8235C24.6152 14.1253 26.034 12.7321 27.7437 12.6644C27.7897 12.6625 27.8353 12.6617 27.8807 12.6617Z",fill:"white"},null,-1),_hoisted_15$1=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M25.679 14.7183C25.679 14.6698 25.7306 14.6172 25.7826 14.6172H27.7615C27.8161 14.6172 27.8518 14.6681 27.8518 14.7183V17.2934C27.8518 17.3422 27.8225 17.3826 27.7615 17.3826H26.9589C26.9054 17.3826 26.8797 17.3472 26.8797 17.2934V15.3772C26.8797 15.2435 26.651 15.2467 26.651 15.3778V17.2934C26.651 17.3454 26.6069 17.3826 26.5578 17.3826H25.7826C25.7273 17.3826 25.679 17.3478 25.679 17.2934V14.7183V14.7183Z",fill:"white"},null,-1),_hoisted_16=createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M28.0493 17.2985C28.0493 17.3469 28.0581 17.3826 28.1114 17.3826H30.1438C30.2 17.3826 30.2222 17.3486 30.2222 17.2985V14.7234C30.2222 14.6745 30.2064 14.6172 30.1439 14.6172H29.3196C29.2646 14.6172 29.2238 14.6696 29.2238 14.7234V16.6395C29.2238 16.7733 28.9889 16.77 28.9889 16.6389V14.7234C28.9889 14.6714 28.958 14.6172 28.9075 14.6172H28.1114C28.0547 14.6172 28.0493 14.669 28.0493 14.7234V17.2985V17.2985Z",fill:"white"},null,-1);function _sfc_render$Z($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1_,_hoisted_2$Y,_hoisted_3$E,_hoisted_4$u,_hoisted_5$p,_hoisted_6$h,_hoisted_7$g,_hoisted_8$d,_hoisted_9$b,_hoisted_10$7,_hoisted_11$6,_hoisted_12$6,_hoisted_13$5,_hoisted_14$1,_hoisted_15$1,_hoisted_16],64)}const IconLogoNu25Year=_export_sfc(_sfc_main$2p,[["render",_sfc_render$Z]]),_sfc_main$2o={},_hoisted_1$1Z={fill:"currentColor",d:"M15.029 2a.986.986 0 0 0-.67.234L9.472 6.306c-.539.45-1.218.695-1.92.695H4c-2.553 0-4 1.448-4 4 0 1.706.787 2.887 2.052 3.52.426.212.871.346 1.315.42.155.026.3.043.434.052.076.005.076.004.132.006.024.001.024.002.067.002h1v5a2 2 0 1 0 4 0v-4.699l5.36 4.467A1 1 0 0 0 16 19v-6a2 2 0 1 0 0-4v-6A1 1 0 0 0 15.03 2zM14.999 3v16l-6-5V7.728c.401-.156.779-.375 1.114-.654zm6.5 3a.525.525 0 0 0-.353.133.426.426 0 0 0 0 .643C22.384 7.902 23 9.302 23 11c0 1.7-.616 3.1-1.854 4.225a.426.426 0 0 0 0 .642.536.536 0 0 0 .707 0C23.282 14.57 24 12.938 24 11.001c0-1.937-.718-3.568-2.147-4.867a.525.525 0 0 0-.353-.133zM8 7.972v6.03H4s-3 0-3-3c0-2 1-3 3-3h3.553c.151 0 .3-.013.448-.03zm11.5.03a.543.543 0 0 0-.353.124.388.388 0 0 0 0 .608C19.71 9.216 20 9.964 20 11c0 1.038-.291 1.786-.854 2.268a.388.388 0 0 0 0 .607.56.56 0 0 0 .707 0c.771-.66 1.147-1.627 1.147-2.875 0-1.247-.376-2.214-1.147-2.875a.543.543 0 0 0-.353-.125zm-13.5 7h2v5a1 1 0 1 1-2 0z"};function _sfc_render$Y($,_){return openBlock(),createElementBlock("path",_hoisted_1$1Z)}const IconMegaphone=_export_sfc(_sfc_main$2o,[["render",_sfc_render$Y]]),_sfc_main$2n={},_hoisted_1$1Y={d:"M14.2 0a2.22 2.22 0 0 0-1.58 3.8l.09.09-7.15 5.1-.93-.91a2.24 2.24 0 0 0-3.15 0 2.24 2.24 0 0 0 0 3.15l5.13 5.13a.74.74 0 0 0-.08.07l-6.3 6.3a.74.74 0 0 0 0 1.05.74.74 0 0 0 1.04 0l6.3-6.3a.74.74 0 0 0 .08-.08l5.39 5.39c.86.86 2.28.86 3.15 0 .86-.87.86-2.3 0-3.16L15 18.45l5.11-7.16c.35.29.77.45 1.2.5a2.22 2.22 0 0 0 2.02-3.76L15.98.66c-.44-.43-1-.65-1.57-.65L14.2 0zm.17 1.5c.13.03.25.1.35.2l7.36 7.35c.3.3.3.75 0 1.05a.74.74 0 0 1-.49.23.74.74 0 0 1-.35-.2l-7.37-7.36a.75.75 0 0 1 0-1.06c.14-.14.32-.2.5-.21zm-.6 3.45 5.28 5.28-5.1 7.16-7.33-7.33zM3.07 8.9c.18 0 .37.08.52.23l11.56 11.55c.3.3.3.75 0 1.05-.3.3-.75.3-1.05 0L2.53 10.18a.73.73 0 0 1 0-1.05.74.74 0 0 1 .53-.23z",fill:"currentColor"};function _sfc_render$X($,_){return openBlock(),createElementBlock("path",_hoisted_1$1Y)}const IconPinOutline=_export_sfc(_sfc_main$2n,[["render",_sfc_render$X]]),_sfc_main$2m={},_hoisted_1$1X={fill:"currentColor",d:"M16.97 10.044 16.397 4.5h1.978c.621 0 1.125-.504 1.125-1.125v-2.25C19.5.504 18.996 0 18.375 0H5.625C5.004 0 4.5.504 4.5 1.125v2.25c0 .621.504 1.125 1.125 1.125h1.978l-.573 5.544C4.756 11.1 3 12.997 3 15.375c0 .621.504 1.125 1.125 1.125H10.5v4.875c0 .059.014.116.04.168l1.125 2.25a.375.375 0 0 0 .67 0l1.125-2.25a.375.375 0 0 0 .04-.168V16.5h6.375c.621 0 1.125-.504 1.125-1.125 0-2.4-1.78-4.285-4.03-5.331z"};function _sfc_render$W($,_){return openBlock(),createElementBlock("path",_hoisted_1$1X)}const IconPinSolid=_export_sfc(_sfc_main$2m,[["render",_sfc_render$W]]),_sfc_main$2l={},_hoisted_1$1W=createBaseVNode("circle",{cx:"12",cy:"12",r:"12",fill:"#000","fill-opacity":".3"},null,-1),_hoisted_2$X=createBaseVNode("g",{fill:"#fff","fill-rule":"evenodd","clip-rule":"evenodd"},[createBaseVNode("path",{d:"M12 22.286C6.33 22.286 1.714 17.67 1.714 12 1.714 6.33 6.33 1.714 12 1.714c5.67 0 10.286 4.615 10.286 10.286 0 5.67-4.615 10.286-10.286 10.286ZM12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0Z"}),createBaseVNode("path",{d:"M11.356 8.218a.81.81 0 0 0-.87-.154A.8.8 0 0 0 10 8.8v6.4a.8.8 0 0 0 .803.801c.203 0 .4-.075.553-.218l3.392-3.2a.8.8 0 0 0 0-1.163l-3.392-3.2Z"})],-1);function _sfc_render$V($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1W,_hoisted_2$X],64)}const IconPlay=_export_sfc(_sfc_main$2l,[["render",_sfc_render$V]]),_sfc_main$2k={},_hoisted_1$1V={d:"M13.713 1.713a1.713 1.713 0 1 0-3.426 0v8.574H1.713a1.713 1.713 0 1 0 0 3.426h8.574v8.574a1.713 1.713 0 1 0 3.426 0v-8.574h8.574a1.713 1.713 0 1 0 0-3.426h-8.574z","clip-rule":"evenodd",fill:"currentColor","fill-rule":"evenodd"};function _sfc_render$U($,_){return openBlock(),createElementBlock("path",_hoisted_1$1V)}const IconPlus=_export_sfc(_sfc_main$2k,[["render",_sfc_render$U]]),_sfc_main$2j={},_hoisted_1$1U={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},_hoisted_2$W=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.205 9.303C11.07 9.481 11 9.748 11 10a1 1 0 1 1-2 0c0-.548.14-1.28.61-1.903C10.114 7.428 10.92 7 12 7c.637 0 1.458.154 2.155.59.74.462 1.345 1.258 1.345 2.41 0 .665-.279 1.213-.584 1.63-.3.41-.682.767-.997 1.05l-.216.194c-.24.213-.424.378-.572.54a1.24 1.24 0 0 0-.135.17A1 1 0 0 1 11 13.5c0-.651.392-1.146.65-1.43.227-.25.517-.508.767-.73l.164-.146c.31-.279.553-.516.721-.745.164-.224.198-.364.198-.449 0-.348-.146-.552-.405-.714C12.792 9.096 12.363 9 12 9c-.501 0-.696.172-.795.303Z","clip-rule":"evenodd"},null,-1),_hoisted_3$D=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm0 2c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Z","clip-rule":"evenodd"},null,-1),_hoisted_4$t=createBaseVNode("path",{fill:"currentColor",d:"M13 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"},null,-1),_hoisted_5$o=[_hoisted_2$W,_hoisted_3$D,_hoisted_4$t];function _sfc_render$T($,_){return openBlock(),createElementBlock("svg",_hoisted_1$1U,_hoisted_5$o)}const IconQuestion=_export_sfc(_sfc_main$2j,[["render",_sfc_render$T]]),_sfc_main$2i={},_hoisted_1$1T={fill:"currentColor",d:"M6.861 20.57a3.43 3.43 0 11-6.861 0 3.43 3.43 0 016.861 0zm9.41 2.53C15.825 14.818 9.192 8.176.9 7.728a.856.856 0 00-.9.857v2.575c0 .45.348.829.798.858 5.99.39 10.793 5.18 11.184 11.184.029.45.407.798.858.798h2.575c.49 0 .883-.41.857-.9zm7.728.016C23.55 10.59 13.471.452.884 0A.856.856 0 000 .858v2.575a.86.86 0 00.828.857c10.242.42 18.462 8.642 18.882 18.882a.86.86 0 00.857.828h2.575c.484 0 .875-.4.857-.884z"};function _sfc_render$S($,_){return openBlock(),createElementBlock("path",_hoisted_1$1T)}const IconRSS=_export_sfc(_sfc_main$2i,[["render",_sfc_render$S]]),_sfc_main$2h={},_withScopeId=$=>(pushScopeId("data-v-8e1ec60a"),$=$(),popScopeId(),$),_hoisted_1$1S=_withScopeId(()=>createBaseVNode("path",{class:"other",fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.6 20a2.4 2.4 0 1 1 4.8 0 2.4 2.4 0 0 1-4.8 0zm-16-8a2.4 2.4 0 1 1 4.8 0 2.4 2.4 0 0 1-4.8 0Zm20.8-8a2.4 2.4 0 1 1-4.8 0 2.4 2.4 0 0 1 4.8 0zm-5.53 13.54-9.02-4.51c.09-.33.15-.67.15-1.03s-.06-.7-.15-1.03l9.02-4.51A3.98 3.98 0 0 0 24 4a4 4 0 0 0-8 0c0 .36.06.7.15 1.03L7.13 9.54A3.98 3.98 0 0 0 0 12a3.98 3.98 0 0 0 7.13 2.46l9.02 4.51A4 4 0 1 0 20 16c-1.28 0-2.4.61-3.13 1.54z"},null,-1)),_hoisted_2$V=_withScopeId(()=>createBaseVNode("path",{class:"apple",fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd",d:"M 14.9822 5.9195 L 11.3761 2.3134 l -3.6061 3.6061 l -0.9526 -0.9526 L 11.3761 0.4082 l 4.5587 4.5587 z M 10.6957 1.3608 h 1.3608 v 14.2884 h -1.3608 z M 18.1801 23.814 H 4.5721 c -1.1567 0 -2.0412 -0.8845 -2.0412 -2.0412 V 9.5256 c 0 -1.1567 0.8845 -2.0412 2.0412 -2.0412 h 4.7628 v 1.3608 h -4.7628 c -0.4082 0 -0.6804 0.2722 -0.6804 0.6804 v 12.2472 c 0 0.4082 0.2722 0.6804 0.6804 0.6804 h 13.608 c 0.4082 0 0.6804 -0.2722 0.6804 -0.6804 V 9.5256 c 0 -0.4082 -0.2722 -0.6804 -0.6804 -0.6804 h -4.7628 v -1.3608 h 4.7628 c 1.1567 0 2.0412 0.8845 2.0412 2.0412 v 12.2472 c 0 1.1567 -0.8845 2.0412 -2.0412 2.0412 z"},null,-1));function _sfc_render$R($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1S,_hoisted_2$V],64)}const IconShare=_export_sfc(_sfc_main$2h,[["render",_sfc_render$R],["__scopeId","data-v-8e1ec60a"]]),_sfc_main$2g={},_hoisted_1$1R={fill:"currentColor",d:"M19.022 4.217a.505.505 0 0 0-.102.01l-2.943.54a.5.5 0 0 0 .182.984l1.771-.325-3.85 4.636-3.511-2.68a.501.501 0 0 0-.631.02l-5.795 5.002a.5.5 0 1 0 .652.758l5.49-4.736 3.57 2.723a.5.5 0 0 0 .687-.079l4.193-5.045.305 1.733a.5.5 0 1 0 .984-.174l-.52-2.953a.502.502 0 0 0-.482-.414zm-2.053 7.566a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1zm0 1h2v6h-2zm-6 1a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1zm0 1h2v4h-2zm-6 1a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1zm0 1h2v2h-2z"};function _sfc_render$Q($,_){return openBlock(),createElementBlock("path",_hoisted_1$1R)}const IconStocks=_export_sfc(_sfc_main$2g,[["render",_sfc_render$Q]]),_sfc_main$2f={},_hoisted_1$1Q={d:"m14.25.46-.38.39c-.52.51-.77 1.2-.9 1.9-.12.53-.26 1.11-.43 1.73-.13.47-.32.8-.55 1.04a26.92 26.92 0 0 0-2 2.45 27.97 27.97 0 0 1-.96 1.13l-.51.47a1.2 1.2 0 0 1-.27.19H6.82c-.45-.34-1-.55-1.61-.55H2.6A2.61 2.61 0 0 0 0 11.8v7.82c0 1.43 1.17 2.6 2.6 2.6h2.6c.61 0 1.17-.2 1.61-.55h1.47l.25.02a4.99 4.99 0 0 1 .84.21l.48.16.5.18.38.13.03.01.03.01c2.11.73 3.9 1.14 5.4 1.14h1.76c1.1 0 2.15-.24 2.94-.93a3.6 3.6 0 0 0 1.15-2.8l-.02-.33c.19-.22.39-.43.5-.69.25-.5.4-1.06.4-1.63 0-.3-.08-.59-.15-.87.35-.57.65-1.17.65-1.86 0-.39-.08-.77-.2-1.14.12-.16.27-.32.34-.5a4.1 4.1 0 0 0 .44-1.72c0-.85-.36-1.64-.95-2.23a3.14 3.14 0 0 0-2.21-.93h-3.42c.07-.17.09-.27.18-.46.5-1.05.82-2 .82-2.9 0-1.06-.16-2.04-.7-2.83C17.07.74 15.9.46 14.8.46zm.54 1.3c.9 0 1.53.21 1.86.7.3.44.47 1.17.47 2.1 0 .55-.24 1.37-.7 2.33a8.88 8.88 0 0 0-.57 1.5l-.22.82h5.2c.5 0 .92.18 1.3.56.39.38.57.79.57 1.3a2.88 2.88 0 0 1-.64 1.66l-.32.3.17.41a3 3 0 0 1 .2.99 2.2 2.2 0 0 1-.5 1.45l-.23.28.12.34c.07.2.1.43.1.66 0 .36-.07.71-.24 1.07-.12.24-.26.43-.43.58l-.25.22.03.33.03.45c0 .8-.22 1.4-.7 1.81-.47.41-1.18.61-2.1.61H16.2c-1.26 0-2.94-.35-4.97-1.06l-.43-.15-.51-.18a22.86 22.86 0 0 0-1.07-.33 6.43 6.43 0 0 0-.93-.13H7.8v-9.31h.47c.16 0 .32-.04.52-.13.19-.09.38-.22.58-.4l.56-.5.58-.65.5-.61.46-.6.33-.44.01-.01c.52-.64.91-1.1 1.11-1.31.4-.41.69-.95.86-1.6.18-.64.33-1.24.45-1.82.11-.55.3-.98.55-1.23zM2.61 10.52h2.6c.73 0 1.3.57 1.3 1.3v7.82c0 .73-.57 1.3-1.3 1.3H2.6c-.74 0-1.3-.57-1.3-1.3V11.8c0-.73.56-1.3 1.3-1.3zm1.95 7.82a.63.63 0 0 0-.46.19.63.63 0 0 0-.2.46c0 .17.07.33.2.46.13.12.28.19.46.19.17 0 .33-.07.46-.2.12-.12.19-.28.19-.45a.63.63 0 0 0-.2-.46.62.62 0 0 0-.45-.2z",fill:"currentColor"};function _sfc_render$P($,_){return openBlock(),createElementBlock("path",_hoisted_1$1Q)}const IconThumbsUp=_export_sfc(_sfc_main$2f,[["render",_sfc_render$P]]),_sfc_main$2e={},_hoisted_1$1P={fill:"currentColor",d:"M16 4a.5.5 0 0 0-.354.146l-3.64 3.641C9.73 5.435 9.713 5.437 9.39 5.512c0 0-.343.237-.39.488-.038.198.22.41.22.41.13.104.862.84 1.595 1.59H6.5A2.503 2.503 0 0 0 4 10.5v7C4 18.878 5.122 20 6.5 20h11c1.378 0 2.5-1.122 2.5-2.5v-7C20 9.122 18.878 8 17.5 8h-4.293l3.147-3.147A.499.499 0 0 0 16 4zM6.5 9h11c.827 0 1.5.673 1.5 1.5v7c0 .827-.673 1.5-1.5 1.5h-11c-.827 0-1.5-.673-1.5-1.5v-7C5 9.673 5.673 9 6.5 9zm.7 1c-.662 0-1.2.449-1.2 1v6c0 .551.538 1 1.2 1h9.6c.662 0 1.2-.449 1.2-1v-6c0-.551-.538-1-1.2-1H7.2zM7 11h10l-.002 6H7v-6z"};function _sfc_render$O($,_){return openBlock(),createElementBlock("path",_hoisted_1$1P)}const IconTv=_export_sfc(_sfc_main$2e,[["render",_sfc_render$O]]),_sfc_main$2d={},_hoisted_1$1O={"fill-rule":"evenodd","clip-rule":"evenodd",fill:"currentColor"},_hoisted_2$U=createBaseVNode("path",{d:"M15.338 15.443c-.286-.136-.482-.226-.509-.238a.505.505 0 0 0-.678.276.549.549 0 0 0 .264.71l.125.057c.236-.297.504-.566.798-.805zm-1.906 3.615h-8.02c-.17 0-.333-.19-.366-.306-.057-.194.056-.616.595-.995.74-.518 2.806-1.472 2.996-1.56a.549.549 0 0 0 .28-.716.508.508 0 0 0-.68-.276c-.112.05-2.324 1.068-3.17 1.66-.831.58-1.227 1.445-1.007 2.2.167.576.664.935 1.294.935h8.088a5.217 5.217 0 0 1-.009-.942zM15.652 10.453c0 2.367-1.853 4.303-4.119 4.303-2.264 0-4.118-1.936-4.118-4.303V8.302C7.415 5.937 9.269 4 11.533 4c2.266 0 4.12 1.937 4.12 4.302zm-4.119-5.378c-1.703 0-3.088 1.448-3.088 3.227v2.151c0 1.78 1.385 3.227 3.088 3.227 1.704 0 3.09-1.447 3.09-3.227V8.302c0-1.779-1.387-3.227-3.09-3.227Z"},null,-1),_hoisted_3$C=[_hoisted_2$U];function _sfc_render$N($,_){return openBlock(),createElementBlock("g",_hoisted_1$1O,_hoisted_3$C)}const IconUser=_export_sfc(_sfc_main$2d,[["render",_sfc_render$N]]),_sfc_main$2c={},_hoisted_1$1N={fill:"currentColor","fill-rule":"evenodd",d:"M14.459 11.792c-1.607 0-2.998 1.135-3.305 2.699a.5.5 0 0 1-.419.398 1.817 1.817 0 0 0-1.547 1.79 1.81 1.81 0 0 0 1.808 1.808h7.311a2.196 2.196 0 0 0 2.193-2.193c0-1.294-1.096-2.368-2.45-2.175a.499.499 0 0 1-.53-.298 3.33 3.33 0 0 0-3.061-2.029zm3.848 7.695h-7.311a2.81 2.81 0 0 1-2.808-2.808c0-1.269.865-2.377 2.062-2.708a4.374 4.374 0 0 1 4.209-3.179c1.611 0 3.076.895 3.824 2.309h.024c1.76 0 3.193 1.432 3.193 3.193s-1.433 3.193-3.193 3.193zm-10.781-4.5a.502.502 0 0 1-.354-.146 4.006 4.006 0 0 1 0-5.657 4.005 4.005 0 0 1 5.658 0 .5.5 0 0 1-.707.707 3.005 3.005 0 0 0-4.243 0 3.002 3.002 0 0 0 0 4.242.502.502 0 0 1-.354.854zm6.364-6.363a.502.502 0 0 1-.354-.854l1.06-1.062a.5.5 0 0 1 .708.707l-1.06 1.062a.502.502 0 0 1-.354.146zm-8.838 8.838a.502.502 0 0 1-.354-.854l1.06-1.06a.5.5 0 0 1 .708.706l-1.06 1.062a.502.502 0 0 1-.354.146zm1.06-8.838a.502.502 0 0 1-.354-.146l-1.06-1.062a.5.5 0 0 1 .707-.707l1.06 1.06a.502.502 0 0 1-.353.855zM4.5 12.512H3a.5.5 0 0 1 0-1h1.5a.5.5 0 0 1 0 1zm5.5-5.5a.5.5 0 0 1-.5-.5v-1.5a.5.5 0 0 1 1 0v1.5a.5.5 0 0 1-.5.5z","clip-rule":"evenodd"};function _sfc_render$M($,_){return openBlock(),createElementBlock("path",_hoisted_1$1N)}const IconWeather=_export_sfc(_sfc_main$2c,[["render",_sfc_render$M]]),_sfc_main$2b={},_hoisted_1$1M={fill:"currentColor",d:"M20.4 3.49A11.9 11.9 0 0 0 1.69 17.84L0 24l6.3-1.66A12 12 0 0 0 24 11.9c0-3.17-1.35-6.15-3.6-8.4ZM12 21.79a9.87 9.87 0 0 1-5.04-1.38l-.36-.21-3.74.98 1-3.65-.24-.38A9.9 9.9 0 0 1 18.98 4.9a9.92 9.92 0 0 1 3.01 7 10 10 0 0 1-10 9.89zm5.42-7.4c-.3-.16-1.76-.87-2.03-.97-.28-.1-.48-.15-.67.15-.2.3-.77.96-.95 1.17-.17.2-.35.22-.64.07-1.75-.87-2.9-1.56-4.04-3.53-.31-.53.3-.5.87-1.63.1-.2.05-.37-.03-.52l-.91-2.2c-.24-.58-.5-.5-.67-.51l-.57-.01c-.2 0-.52.07-.8.37-.27.3-1.03 1.01-1.03 2.48 0 1.46 1.06 2.87 1.2 3.07.16.2 2.1 3.2 5.09 4.5 1.88.8 2.62.88 3.56.74.58-.09 1.76-.72 2-1.42.25-.7.25-1.29.18-1.41-.07-.14-.27-.21-.56-.36z"};function _sfc_render$L($,_){return openBlock(),createElementBlock("path",_hoisted_1$1M)}const IconWhatsapp=_export_sfc(_sfc_main$2b,[["render",_sfc_render$L]]),_sfc_main$2a={},_hoisted_1$1L={fill:"currentColor",d:"M13.976 10.162 22.72 0h-2.072l-7.591 8.824L6.993 0H0l9.168 13.343L0 24h2.072l8.016-9.318L16.491 24h6.993l-9.508-13.838Zm-2.837 3.299-.93-1.329L2.82 1.56H6l5.965 8.532.93 1.329 7.753 11.09h-3.182l-6.327-9.05z"};function _sfc_render$K($,_){return openBlock(),createElementBlock("path",_hoisted_1$1L)}const IconX=_export_sfc(_sfc_main$2a,[["render",_sfc_render$K]]),_sfc_main$29={},_hoisted_1$1K={fill:"currentColor","fill-rule":"evenodd",d:"M12.5 15.5c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3Zm0-7c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4Zm0-1A.5.5 0 0 0 13 7V5.5a.5.5 0 0 0-1 0V7a.5.5 0 0 0 .5.5Zm0 10a.5.5 0 0 0-.5.5v1.5a.5.5 0 0 0 1 0V18a.5.5 0 0 0-.5-.5Zm7-5.5H18a.5.5 0 0 0 0 1h1.5a.5.5 0 0 0 0-1Zm-12 .5A.5.5 0 0 0 7 12H5.5a.5.5 0 0 0 0 1H7a.5.5 0 0 0 .5-.5Zm8.89-3.39a.502.502 0 0 0 .353-.145l1.06-1.061a.5.5 0 0 0-.707-.707l-1.06 1.06a.502.502 0 0 0 .353.854Zm-8.133 6.926-1.06 1.06a.5.5 0 0 0 .706.708l1.061-1.061a.5.5 0 0 0-.707-.707Zm8.486 0a.5.5 0 0 0-.707.707l1.06 1.06a.498.498 0 0 0 .708 0 .5.5 0 0 0 0-.706l-1.061-1.061ZM8.257 8.964a.498.498 0 0 0 .707 0 .5.5 0 0 0 0-.707l-1.06-1.06a.5.5 0 0 0-.708.706l1.061 1.061Z","clip-rule":"evenodd"};function _sfc_render$J($,_){return openBlock(),createElementBlock("path",_hoisted_1$1K)}const IconWeatherA=_export_sfc(_sfc_main$29,[["render",_sfc_render$J]]),_sfc_main$28={},_hoisted_1$1J={fill:"currentColor","fill-rule":"evenodd",d:"M11.51 6.136a5.707 5.707 0 0 0-3.606 2.521 5.71 5.71 0 0 0-.766 4.332 5.708 5.708 0 0 0 2.52 3.605 5.719 5.719 0 0 0 4.334.767 5.7 5.7 0 0 0 1.901-.801 5.588 5.588 0 0 1-5.157-4.367 5.541 5.541 0 0 1 .744-4.202 5.55 5.55 0 0 1 2.09-1.93 5.687 5.687 0 0 0-2.06.075Zm-5.348 7.069a6.702 6.702 0 0 1 .9-5.086 6.705 6.705 0 0 1 4.232-2.96 6.713 6.713 0 0 1 4.117.393.501.501 0 0 1-.101.95l-.116.019a4.548 4.548 0 0 0-2.87 2.008 4.547 4.547 0 0 0-.61 3.449 4.582 4.582 0 0 0 5.455 3.481l.035-.01c.215-.064.473.016.593.204.119.189.125.427-.024.594a6.738 6.738 0 0 1-5.023 2.251c-3.097 0-5.894-2.148-6.588-5.293Z","clip-rule":"evenodd"};function _sfc_render$I($,_){return openBlock(),createElementBlock("path",_hoisted_1$1J)}const IconWeatherAA=_export_sfc(_sfc_main$28,[["render",_sfc_render$I]]),_sfc_main$27={},_hoisted_1$1I={fill:"currentColor","fill-rule":"evenodd",d:"M14.959 12.28c-1.607 0-2.998 1.135-3.305 2.699a.5.5 0 0 1-.419.398 1.817 1.817 0 0 0-1.547 1.79 1.81 1.81 0 0 0 1.808 1.808h7.311A2.196 2.196 0 0 0 21 16.782c0-1.294-1.096-2.368-2.45-2.175a.499.499 0 0 1-.53-.298 3.33 3.33 0 0 0-3.061-2.03Zm3.848 7.695h-7.311a2.81 2.81 0 0 1-2.808-2.808c0-1.27.865-2.377 2.062-2.708a4.374 4.374 0 0 1 4.209-3.18c1.611 0 3.076.896 3.824 2.31h.024A3.197 3.197 0 0 1 22 16.782a3.197 3.197 0 0 1-3.193 3.193Zm-10.782-4.5a.502.502 0 0 1-.354-.146 4.006 4.006 0 0 1 0-5.657 4.005 4.005 0 0 1 5.658 0 .5.5 0 0 1-.707.707 3.005 3.005 0 0 0-4.243 0 3.002 3.002 0 0 0 0 4.242.502.502 0 0 1-.354.854Zm6.364-6.364a.502.502 0 0 1-.354-.854l1.061-1.06a.5.5 0 0 1 .707.706l-1.06 1.062a.502.502 0 0 1-.354.146Zm-8.839 8.84a.502.502 0 0 1-.354-.854l1.061-1.062a.5.5 0 0 1 .707.707l-1.06 1.062a.502.502 0 0 1-.354.146Zm1.06-8.84a.502.502 0 0 1-.353-.146l-1.06-1.062a.5.5 0 0 1 .707-.707l1.06 1.061a.502.502 0 0 1-.353.854ZM5 13H3.5a.5.5 0 0 1 0-1H5a.5.5 0 0 1 0 1Zm5.5-5.5A.5.5 0 0 1 10 7V5.5a.5.5 0 0 1 1 0V7a.5.5 0 0 1-.5.5Z","clip-rule":"evenodd"};function _sfc_render$H($,_){return openBlock(),createElementBlock("path",_hoisted_1$1I)}const IconWeatherB=_export_sfc(_sfc_main$27,[["render",_sfc_render$H]]),_sfc_main$26={},_hoisted_1$1H={fill:"currentColor","fill-rule":"evenodd",d:"M13.458 11.305c-1.607 0-2.998 1.135-3.305 2.7a.5.5 0 0 1-.419.397 1.817 1.817 0 0 0-1.547 1.79A1.81 1.81 0 0 0 9.995 18h7.311a2.196 2.196 0 0 0 2.193-2.193c0-1.294-1.097-2.368-2.45-2.175a.5.5 0 0 1-.53-.298 3.33 3.33 0 0 0-3.06-2.029ZM17.306 19h-7.31a2.81 2.81 0 0 1-2.809-2.808c0-1.269.865-2.377 2.062-2.708a4.374 4.374 0 0 1 4.21-3.179c1.61 0 3.075.895 3.823 2.31 1.761-.055 3.217 1.423 3.217 3.192A3.197 3.197 0 0 1 17.306 19ZM6.768 5.01a2.997 2.997 0 0 0-2.697 3.63 2.974 2.974 0 0 0 1.313 1.877 2.97 2.97 0 0 0 2.666.277A3.341 3.341 0 0 1 5.652 8.29a3.317 3.317 0 0 1 .446-2.516c.186-.292.412-.549.67-.765Zm.217 6.979a3.961 3.961 0 0 1-2.14-.629 3.965 3.965 0 0 1-1.75-2.504 3.998 3.998 0 0 1 3.037-4.761 3.967 3.967 0 0 1 2.435.233.502.502 0 0 1-.095.949c-.675.146-1.195.509-1.531 1.036a2.321 2.321 0 0 0-.312 1.762c.135.61.499 1.13 1.025 1.466a2.321 2.321 0 0 0 1.762.312.532.532 0 0 1 .578.214c.116.189.119.424-.03.589a3.964 3.964 0 0 1-2.11 1.237 4.026 4.026 0 0 1-.87.096Z","clip-rule":"evenodd"};function _sfc_render$G($,_){return openBlock(),createElementBlock("path",_hoisted_1$1H)}const IconWeatherBB=_export_sfc(_sfc_main$26,[["render",_sfc_render$G]]),_sfc_main$25={},_hoisted_1$1G={fill:"currentColor","fill-rule":"evenodd",d:"M12 8c-2.16 0-4.028 1.526-4.442 3.628a.5.5 0 0 1-.419.398A2.511 2.511 0 0 0 5 14.5C5 15.878 6.122 17 7.5 17H17c1.654 0 3-1.346 3-3s-1.346-3-3-3c-.117 0-.234.008-.356.025a.5.5 0 0 1-.529-.298A4.478 4.478 0 0 0 12 8Zm5 10H7.5C5.57 18 4 16.43 4 14.5a3.52 3.52 0 0 1 2.653-3.396C7.282 8.707 9.478 7 12 7a5.473 5.473 0 0 1 4.879 3.002C19.117 9.919 21 11.753 21 14c0 2.206-1.794 4-4 4Z","clip-rule":"evenodd"};function _sfc_render$F($,_){return openBlock(),createElementBlock("path",_hoisted_1$1G)}const IconWeatherC=_export_sfc(_sfc_main$25,[["render",_sfc_render$F]]),_sfc_main$24={},_hoisted_1$1F={fill:"currentColor","fill-rule":"evenodd",d:"M12 8c-2.16 0-4.028 1.526-4.442 3.628a.5.5 0 0 1-.419.398A2.511 2.511 0 0 0 5 14.5C5 15.878 6.122 17 7.5 17H17c1.654 0 3-1.346 3-3s-1.346-3-3-3c-.117 0-.234.008-.356.025a.5.5 0 0 1-.529-.298A4.478 4.478 0 0 0 12 8Zm5 10H7.5C5.57 18 4 16.43 4 14.5a3.52 3.52 0 0 1 2.653-3.396C7.282 8.707 9.478 7 12 7a5.473 5.473 0 0 1 4.879 3.002C19.117 9.919 21 11.753 21 14c0 2.206-1.794 4-4 4Z","clip-rule":"evenodd"};function _sfc_render$E($,_){return openBlock(),createElementBlock("path",_hoisted_1$1F)}const IconWeatherCC=_export_sfc(_sfc_main$24,[["render",_sfc_render$E]]),_sfc_main$23={},_hoisted_1$1E={fill:"currentColor","fill-rule":"evenodd",d:"M19 12h-5a.5.5 0 0 1 0-1h5a.5.5 0 0 1 0 1Zm0 2h-6a.5.5 0 0 1 0-1h6a.5.5 0 0 1 0 1Zm1 2h-6a.5.5 0 0 1 0-1h6a.5.5 0 0 1 0 1Zm0-6h-4.5a.5.5 0 0 1 0-1H20a.5.5 0 0 1 0 1Zm-9.495 6.499a4.004 4.004 0 0 1-2.833-1.17 4.005 4.005 0 0 1 0-5.658 4.006 4.006 0 0 1 5.657 0 .5.5 0 0 1-.707.707 3.005 3.005 0 0 0-4.243 0 3.004 3.004 0 0 0 0 4.244 3.008 3.008 0 0 0 3.407.589.5.5 0 0 1 .429.904 3.98 3.98 0 0 1-1.71.384ZM10.5 7.5A.5.5 0 0 1 10 7V5.5a.5.5 0 0 1 1 0V7a.5.5 0 0 1-.5.5Zm0 12.5a.5.5 0 0 1-.5-.5V18a.5.5 0 0 1 1 0v1.5a.5.5 0 0 1-.5.5ZM5 13H3.5a.5.5 0 0 1 0-1H5a.5.5 0 0 1 0 1Zm.55 4.95a.502.502 0 0 1-.354-.854l1.061-1.06a.5.5 0 0 1 .707.707l-1.06 1.06a.502.502 0 0 1-.354.147Zm1.06-8.84a.502.502 0 0 1-.353-.145l-1.06-1.061a.5.5 0 0 1 .707-.707l1.06 1.06a.502.502 0 0 1-.353.854Z","clip-rule":"evenodd"};function _sfc_render$D($,_){return openBlock(),createElementBlock("path",_hoisted_1$1E)}const IconWeatherD=_export_sfc(_sfc_main$23,[["render",_sfc_render$D]]),_sfc_main$22={},_hoisted_1$1D={fill:"currentColor","fill-rule":"evenodd",d:"M19 10.999h-5a.5.5 0 0 1 0-1h5a.5.5 0 0 1 0 1Zm0 2h-6a.5.5 0 0 1 0-1h6a.5.5 0 0 1 0 1Zm1 2h-6a.5.5 0 0 1 0-1h6a.5.5 0 0 1 0 1Zm0-6h-4.5a.5.5 0 0 1 0-1H20a.5.5 0 0 1 0 1ZM9.744 7c-.413 0-.827.045-1.236.136a5.707 5.707 0 0 0-3.606 2.521 5.71 5.71 0 0 0-.767 4.332 5.756 5.756 0 0 0 6.854 4.372 5.7 5.7 0 0 0 1.902-.8 5.587 5.587 0 0 1-5.157-4.367 5.587 5.587 0 0 1 2.837-6.133 5.722 5.722 0 0 0-.827-.06Zm.003 12.498c-3.096 0-5.893-2.148-6.588-5.293A6.756 6.756 0 0 1 8.293 6.16a6.706 6.706 0 0 1 4.116.393.501.501 0 0 1-.101.95l-.162-.34-.021.05.068.31a4.582 4.582 0 0 0-3.481 5.456 4.583 4.583 0 0 0 5.456 3.481l.084.324-.05-.334c.217-.063.473.015.593.204.119.19.126.427-.024.594a6.738 6.738 0 0 1-5.023 2.251Z","clip-rule":"evenodd"};function _sfc_render$C($,_){return openBlock(),createElementBlock("path",_hoisted_1$1D)}const IconWeatherDD=_export_sfc(_sfc_main$22,[["render",_sfc_render$C]]),_sfc_main$21={},_hoisted_1$1C={fill:"currentColor","fill-rule":"evenodd",d:"M20.5 12h-15a.5.5 0 0 1 0-1h15a.5.5 0 0 1 0 1ZM17 14H4.5a.5.5 0 0 1 0-1H17a.5.5 0 0 1 0 1Zm-3 2H8a.5.5 0 0 1 0-1h6a.5.5 0 0 1 0 1Zm1-6H7a.5.5 0 0 1 0-1h8a.5.5 0 0 1 0 1Z","clip-rule":"evenodd"};function _sfc_render$B($,_){return openBlock(),createElementBlock("path",_hoisted_1$1C)}const IconWeatherE=_export_sfc(_sfc_main$21,[["render",_sfc_render$B]]),_sfc_main$20={},_hoisted_1$1B={fill:"currentColor","fill-rule":"evenodd",d:"M20.5 12h-15a.5.5 0 0 1 0-1h15a.5.5 0 0 1 0 1ZM17 14H4.5a.5.5 0 0 1 0-1H17a.5.5 0 0 1 0 1Zm-3 2H8a.5.5 0 0 1 0-1h6a.5.5 0 0 1 0 1Zm1-6H7a.5.5 0 0 1 0-1h8a.5.5 0 0 1 0 1Z","clip-rule":"evenodd"};function _sfc_render$A($,_){return openBlock(),createElementBlock("path",_hoisted_1$1B)}const IconWeatherEE=_export_sfc(_sfc_main$20,[["render",_sfc_render$A]]),_sfc_main$1$={},_hoisted_1$1A={fill:"currentColor","fill-rule":"evenodd",d:"M7.359 12.079a.502.502 0 0 1-.354-.146 3.465 3.465 0 0 1-1.02-2.464c0-.931.362-1.806 1.02-2.464 1.316-1.316 3.61-1.316 4.928 0a.5.5 0 0 1-.707.707c-.94-.938-2.575-.938-3.513 0a2.467 2.467 0 0 0-.728 1.757c0 .663.258 1.287.728 1.756a.502.502 0 0 1-.354.854Zm5.425-5.427a.502.502 0 0 1-.354-.854l.905-.904a.5.5 0 0 1 .707.707l-.904.905a.502.502 0 0 1-.354.146Zm-7.536 7.536a.502.502 0 0 1-.354-.854l.905-.903a.5.5 0 0 1 .707.707l-.904.905a.502.502 0 0 1-.354.146Zm.904-7.536a.502.502 0 0 1-.354-.146l-.904-.905a.5.5 0 0 1 .707-.707l.905.904a.502.502 0 0 1-.354.854ZM4.78 9.968H3.5a.5.5 0 0 1 0-1h1.279a.5.5 0 0 1 0 1Zm4.69-4.69a.5.5 0 0 1-.5-.5V3.5a.5.5 0 0 1 1 0v1.279a.5.5 0 0 1-.5.5ZM6.8 21a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3a.502.502 0 0 1-.354.146Zm8.7 0a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .707.708l-3 3A.502.502 0 0 1 15.5 21ZM14.39 9c-1.487 0-2.772 1.018-3.055 2.421a.502.502 0 0 1-.421.396c-.806.114-1.415.794-1.415 1.583 0 .882.744 1.6 1.657 1.6h6.828c1.11 0 2.015-.875 2.015-1.95a1.96 1.96 0 0 0-2.255-1.933.498.498 0 0 1-.524-.295A3.08 3.08 0 0 0 14.39 9Zm3.594 7h-6.828C9.692 16 8.5 14.833 8.5 13.4c0-1.17.81-2.191 1.936-2.503C10.934 9.2 12.546 8 14.39 8c1.507 0 2.879.813 3.587 2.1h.007c1.662 0 3.015 1.323 3.015 2.95 0 1.627-1.353 2.95-3.015 2.95ZM11 21a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 11 21Z","clip-rule":"evenodd"};function _sfc_render$z($,_){return openBlock(),createElementBlock("path",_hoisted_1$1A)}const IconWeatherF=_export_sfc(_sfc_main$1$,[["render",_sfc_render$z]]),_sfc_main$1_={},_hoisted_1$1z={fill:"currentColor","fill-rule":"evenodd",d:"m6.927 4.043-.063.013a2.358 2.358 0 0 0-1.49 1.042 2.356 2.356 0 0 0-.317 1.79c.137.62.507 1.15 1.042 1.49a2.352 2.352 0 0 0 1.79.317l.063-.014A2.825 2.825 0 0 1 6.186 6.64a2.819 2.819 0 0 1 .38-2.138 2.84 2.84 0 0 1 .361-.458Zm.443 5.71c-.636 0-1.26-.18-1.809-.53a3.359 3.359 0 0 1-1.48-2.119 3.356 3.356 0 0 1 .45-2.544 3.352 3.352 0 0 1 2.117-1.48 3.347 3.347 0 0 1 2.06.196.5.5 0 0 1-.098.95c-.529.113-.938.4-1.202.813a1.823 1.823 0 0 0-.245 1.384c.106.48.391.888.805 1.152a1.83 1.83 0 0 0 1.38.246.53.53 0 0 1 .574.213c.116.19.115.426-.032.592a3.352 3.352 0 0 1-2.52 1.126ZM6.801 21a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3a.502.502 0 0 1-.354.146Zm8.7 0a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 15.5 21ZM11 21a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .707.708l-3 3a.502.502 0 0 1-.353.146Zm3.39-12c-1.487 0-2.772 1.018-3.055 2.421a.502.502 0 0 1-.42.396c-.807.114-1.416.794-1.416 1.583 0 .882.744 1.6 1.657 1.6h6.828C19.096 15 20 14.125 20 13.05a1.96 1.96 0 0 0-2.255-1.933.498.498 0 0 1-.524-.295A3.08 3.08 0 0 0 14.391 9Zm3.594 7h-6.828C9.692 16 8.5 14.833 8.5 13.4c0-1.17.811-2.19 1.936-2.503C10.934 9.2 12.546 8 14.391 8c1.507 0 2.88.813 3.587 2.1h.007c1.662 0 3.015 1.323 3.015 2.95 0 1.627-1.353 2.95-3.015 2.95Z","clip-rule":"evenodd"};function _sfc_render$y($,_){return openBlock(),createElementBlock("path",_hoisted_1$1z)}const IconWeatherFF=_export_sfc(_sfc_main$1_,[["render",_sfc_render$y]]),_sfc_main$1Z={},_hoisted_1$1y=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.391 9c-1.487 0-2.772 1.018-3.055 2.421a.502.502 0 0 1-.421.396c-.806.114-1.415.794-1.415 1.583 0 .882.744 1.6 1.657 1.6h6.828C19.096 15 20 14.125 20 13.05a1.957 1.957 0 0 0-2.255-1.933.5.5 0 0 1-.524-.295A3.08 3.08 0 0 0 14.391 9Zm3.594 7h-6.828C9.692 16 8.5 14.833 8.5 13.4c0-1.17.811-2.191 1.936-2.503C10.934 9.2 12.546 8 14.391 8c1.507 0 2.879.813 3.587 2.1h.007c1.662 0 3.015 1.323 3.015 2.95 0 1.627-1.353 2.95-3.015 2.95ZM7.358 12.078a.502.502 0 0 1-.354-.146 3.461 3.461 0 0 1-1.02-2.464c0-.93.362-1.806 1.02-2.464a3.49 3.49 0 0 1 4.928 0 .5.5 0 0 1-.707.707 2.489 2.489 0 0 0-3.513 0 2.468 2.468 0 0 0-.728 1.757c0 .664.258 1.287.728 1.756a.502.502 0 0 1-.354.854ZM12.784 6.652a.502.502 0 0 1-.354-.854l.905-.904a.5.5 0 0 1 .707.707l-.904.905a.502.502 0 0 1-.354.146ZM5.248 14.188a.502.502 0 0 1-.354-.854l.905-.903a.5.5 0 0 1 .707.707l-.904.905a.502.502 0 0 1-.354.146ZM6.152 6.652a.502.502 0 0 1-.354-.146l-.904-.905a.5.5 0 0 1 .707-.707l.905.904a.502.502 0 0 1-.354.854ZM4.779 9.968H3.5a.5.5 0 0 1 0-1h1.279a.5.5 0 0 1 0 1ZM9.469 5.279a.5.5 0 0 1-.5-.5v-1.28a.5.5 0 0 1 1 0v1.28a.5.5 0 0 1-.5.5ZM6.801 21a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3a.502.502 0 0 1-.354.146ZM15.5 21a.502.502 0 0 1-.354-.854l3-3a.501.501 0 0 1 .708.708l-3 3A.502.502 0 0 1 15.5 21ZM12.127 21a.502.502 0 0 1-.354-.854l2-2a.502.502 0 0 1 .708.708l-2 2a.502.502 0 0 1-.354.146Z","clip-rule":"evenodd"},null,-1),_hoisted_2$T=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.128 19h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 0 1Z","clip-rule":"evenodd"},null,-1),_hoisted_3$B=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12.127 19a.502.502 0 0 1-.354-.854l2.953-2.952a.5.5 0 0 1 .707.707l-2.952 2.953a.502.502 0 0 1-.354.146Z","clip-rule":"evenodd"},null,-1);function _sfc_render$x($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1y,_hoisted_2$T,_hoisted_3$B],64)}const IconWeatherG=_export_sfc(_sfc_main$1Z,[["render",_sfc_render$x]]),_sfc_main$1Y={},_hoisted_1$1x=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"m6.927 5.043-.063.013a2.358 2.358 0 0 0-1.49 1.042 2.356 2.356 0 0 0-.317 1.79c.137.62.507 1.15 1.042 1.49a2.352 2.352 0 0 0 1.79.317l.063-.014A2.825 2.825 0 0 1 6.186 7.64a2.819 2.819 0 0 1 .38-2.138 2.84 2.84 0 0 1 .361-.458Zm.443 5.71c-.636 0-1.26-.18-1.809-.53a3.359 3.359 0 0 1-1.48-2.119 3.356 3.356 0 0 1 .45-2.544 3.352 3.352 0 0 1 2.117-1.48 3.347 3.347 0 0 1 2.06.196.5.5 0 0 1-.098.95c-.529.113-.938.4-1.202.813a1.823 1.823 0 0 0-.245 1.384c.106.48.391.888.805 1.152a1.83 1.83 0 0 0 1.38.246.529.529 0 0 1 .574.213c.116.19.115.426-.032.592a3.352 3.352 0 0 1-2.52 1.126ZM14.391 10c-1.487 0-2.772 1.018-3.055 2.421a.502.502 0 0 1-.421.396c-.806.114-1.415.794-1.415 1.583 0 .882.744 1.6 1.657 1.6h6.828C19.096 16 20 15.125 20 14.05c0-1.152-1.003-2.1-2.255-1.933a.497.497 0 0 1-.524-.295A3.08 3.08 0 0 0 14.391 10Zm3.594 7h-6.828C9.692 17 8.5 15.833 8.5 14.4c0-1.17.811-2.19 1.936-2.503C10.934 10.2 12.546 9 14.391 9c1.507 0 2.879.813 3.587 2.1h.007c1.662 0 3.015 1.323 3.015 2.95 0 1.627-1.353 2.95-3.015 2.95ZM6.801 21.998a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3a.502.502 0 0 1-.354.146ZM15.5 21.998a.502.502 0 0 1-.354-.854l3-3a.501.501 0 0 1 .708.708l-3 3a.502.502 0 0 1-.354.146ZM12.128 21.998a.502.502 0 0 1-.354-.854l2-2a.502.502 0 0 1 .708.708l-2 2a.502.502 0 0 1-.354.146Z","clip-rule":"evenodd"},null,-1),_hoisted_2$S=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.128 19.998h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 0 1Z","clip-rule":"evenodd"},null,-1),_hoisted_3$A=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12.128 19.998a.502.502 0 0 1-.354-.854l2.953-2.952a.5.5 0 0 1 .707.707l-2.952 2.953a.502.502 0 0 1-.354.146Z","clip-rule":"evenodd"},null,-1);function _sfc_render$w($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1x,_hoisted_2$S,_hoisted_3$A],64)}const IconWeatherGG=_export_sfc(_sfc_main$1Y,[["render",_sfc_render$w]]),_sfc_main$1X={},_hoisted_1$1w=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.358 12.079a.502.502 0 0 1-.354-.146 3.465 3.465 0 0 1-1.02-2.464c0-.931.362-1.806 1.02-2.464 1.316-1.316 3.611-1.316 4.928 0a.5.5 0 0 1-.707.707c-.939-.938-2.575-.938-3.513 0a2.467 2.467 0 0 0-.728 1.757c0 .663.258 1.287.728 1.756a.502.502 0 0 1-.354.854ZM12.784 6.652a.502.502 0 0 1-.354-.854l.905-.904a.5.5 0 0 1 .707.707l-.904.905a.502.502 0 0 1-.354.146ZM5.248 14.188a.502.502 0 0 1-.354-.854l.905-.903a.5.5 0 0 1 .707.707l-.904.905a.502.502 0 0 1-.354.146ZM6.152 6.652a.502.502 0 0 1-.354-.146l-.904-.905a.5.5 0 0 1 .707-.707l.905.904a.502.502 0 0 1-.354.854ZM4.779 9.968H3.5a.5.5 0 0 1 0-1h1.279a.5.5 0 0 1 0 1ZM9.469 5.279a.5.5 0 0 1-.5-.5v-1.28a.5.5 0 0 1 1 0v1.28a.5.5 0 0 1-.5.5ZM18.475 18.482l-.305 1.341 1.362-.306.305-1.341-1.362.306Zm-.968 2.502a.499.499 0 0 1-.488-.61l.551-2.422a.5.5 0 0 1 .378-.377l2.443-.548a.501.501 0 0 1 .596.599l-.55 2.421a.497.497 0 0 1-.379.377l-2.442.548a.45.45 0 0 1-.109.012ZM12.5 21a.502.502 0 0 1-.354-.854l3-3a.501.501 0 0 1 .708.708l-3 3A.502.502 0 0 1 12.5 21ZM8.63 19.428a.502.502 0 0 1-.355-.146l-1.129-1.13a.5.5 0 0 1 .707-.706l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_2$R=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.2 20.16a.5.5 0 0 1-.228-.945l1.423-.724a.5.5 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_3$z=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M8.88 21.005a.5.5 0 0 1-.494-.422l-.25-1.577a.5.5 0 1 1 .988-.156l.25 1.577a.498.498 0 0 1-.495.578Z","clip-rule":"evenodd"},null,-1),_hoisted_4$s=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M8.63 19.428a.5.5 0 0 1-.445-.727l.724-1.423a.5.5 0 1 1 .891.454l-.725 1.423a.501.501 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_5$n=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M10.207 19.678a.535.535 0 0 1-.079-.006l-1.577-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM14.276 9a3.016 3.016 0 0 0-2.962 2.418.5.5 0 0 1-.419.398A1.608 1.608 0 0 0 9.526 13.4c0 .882.718 1.6 1.6 1.6h6.65c1.075 0 1.95-.875 1.95-1.95.001-1.151-.967-2.095-2.179-1.934a.496.496 0 0 1-.528-.298A2.984 2.984 0 0 0 14.276 9Zm3.5 7h-6.65a2.604 2.604 0 0 1-2.6-2.6c0-1.166.79-2.185 1.885-2.5A4.023 4.023 0 0 1 14.276 8c1.474 0 2.813.813 3.505 2.1a2.953 2.953 0 0 1 2.945 2.95 2.953 2.953 0 0 1-2.95 2.95Z","clip-rule":"evenodd"},null,-1);function _sfc_render$v($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1w,_hoisted_2$R,_hoisted_3$z,_hoisted_4$s,_hoisted_5$n],64)}const IconWeatherH=_export_sfc(_sfc_main$1X,[["render",_sfc_render$v]]),_sfc_main$1W={},_hoisted_1$1v=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"m6.927 4.043-.063.013a2.358 2.358 0 0 0-1.49 1.042 2.356 2.356 0 0 0-.317 1.79c.137.62.507 1.15 1.042 1.49a2.352 2.352 0 0 0 1.79.317l.063-.014A2.825 2.825 0 0 1 6.186 6.64a2.819 2.819 0 0 1 .38-2.138 2.84 2.84 0 0 1 .361-.458Zm.443 5.71c-.636 0-1.26-.18-1.809-.53a3.359 3.359 0 0 1-1.48-2.119 3.356 3.356 0 0 1 .45-2.544 3.352 3.352 0 0 1 2.117-1.48 3.347 3.347 0 0 1 2.06.196.5.5 0 0 1-.098.95c-.529.113-.938.4-1.202.813a1.823 1.823 0 0 0-.245 1.384c.106.48.391.888.805 1.152a1.83 1.83 0 0 0 1.38.246.528.528 0 0 1 .574.213c.116.19.115.426-.032.592a3.352 3.352 0 0 1-2.52 1.126ZM14.391 9c-1.487 0-2.772 1.018-3.055 2.421a.502.502 0 0 1-.421.396c-.806.114-1.415.794-1.415 1.583 0 .882.744 1.6 1.657 1.6h6.828C19.096 15 20 14.125 20 13.05a1.96 1.96 0 0 0-2.255-1.933.497.497 0 0 1-.524-.295A3.08 3.08 0 0 0 14.391 9Zm3.594 7h-6.828C9.692 16 8.5 14.833 8.5 13.4c0-1.17.811-2.19 1.936-2.503C10.934 9.2 12.546 8 14.391 8c1.507 0 2.879.813 3.587 2.1h.007c1.662 0 3.015 1.323 3.015 2.95 0 1.627-1.353 2.95-3.015 2.95ZM17.475 18.482l-.305 1.341 1.362-.306.305-1.34-1.362.305Zm-.968 2.502a.499.499 0 0 1-.488-.61l.551-2.422a.5.5 0 0 1 .378-.377l2.443-.548a.497.497 0 0 1 .596.6l-.55 2.42a.497.497 0 0 1-.379.377l-2.442.548a.45.45 0 0 1-.109.012ZM11.5 21a.502.502 0 0 1-.354-.854l3-3a.501.501 0 0 1 .708.708l-3 3A.502.502 0 0 1 11.5 21ZM7.63 19.428a.502.502 0 0 1-.354-.146l-1.129-1.129a.5.5 0 0 1 .707-.707l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_2$Q=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.2 20.16a.5.5 0 0 1-.228-.945l1.423-.724a.5.5 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_3$y=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.88 21.005a.5.5 0 0 1-.494-.422l-.25-1.577a.5.5 0 1 1 .988-.156l.25 1.577a.498.498 0 0 1-.495.578Z","clip-rule":"evenodd"},null,-1),_hoisted_4$r=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.63 19.428a.5.5 0 0 1-.445-.727l.724-1.423a.5.5 0 1 1 .891.454l-.725 1.423a.501.501 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_5$m=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M9.207 19.678a.535.535 0 0 1-.079-.006l-1.577-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994Z","clip-rule":"evenodd"},null,-1);function _sfc_render$u($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1v,_hoisted_2$Q,_hoisted_3$y,_hoisted_4$r,_hoisted_5$m],64)}const IconWeatherHH=_export_sfc(_sfc_main$1W,[["render",_sfc_render$u]]),_sfc_main$1V={},_hoisted_1$1u={fill:"currentColor","fill-rule":"evenodd",d:"M7.358 12.079a.502.502 0 0 1-.354-.146 3.465 3.465 0 0 1-1.02-2.464c0-.931.362-1.806 1.02-2.464a3.489 3.489 0 0 1 4.928 0 .5.5 0 0 1-.707.707 2.488 2.488 0 0 0-3.513 0 2.467 2.467 0 0 0-.728 1.757c0 .663.258 1.287.728 1.756a.502.502 0 0 1-.354.854ZM12.784 6.652a.502.502 0 0 1-.354-.854l.905-.904a.5.5 0 0 1 .707.707l-.904.905a.502.502 0 0 1-.354.146ZM5.248 14.188a.502.502 0 0 1-.354-.854l.905-.903a.5.5 0 0 1 .707.707l-.904.905a.502.502 0 0 1-.354.146ZM6.152 6.652a.502.502 0 0 1-.354-.146l-.904-.905a.5.5 0 0 1 .707-.707l.905.904a.502.502 0 0 1-.354.854ZM4.779 9.968H3.5a.5.5 0 0 1 0-1h1.279a.5.5 0 0 1 0 1ZM9.469 5.279a.5.5 0 0 1-.5-.5v-1.28a.5.5 0 0 1 1 0v1.28a.5.5 0 0 1-.5.5ZM17.96 18.482l-.305 1.34 1.362-.305.306-1.341-1.363.306Zm-.968 2.502a.499.499 0 0 1-.488-.61l.551-2.422a.5.5 0 0 1 .378-.377l2.444-.548a.501.501 0 0 1 .596.599l-.551 2.42a.497.497 0 0 1-.378.378l-2.442.548a.45.45 0 0 1-.11.012ZM7.316 21a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3a.502.502 0 0 1-.354.146ZM14.276 9a3.016 3.016 0 0 0-2.962 2.418.5.5 0 0 1-.419.398A1.608 1.608 0 0 0 9.526 13.4c0 .882.718 1.6 1.6 1.6h6.65c1.075 0 1.95-.875 1.95-1.95 0-1.151-.973-2.092-2.18-1.934a.498.498 0 0 1-.528-.298A2.983 2.983 0 0 0 14.276 9Zm3.5 7h-6.65a2.603 2.603 0 0 1-2.6-2.6c0-1.166.79-2.185 1.885-2.5A4.023 4.023 0 0 1 14.276 8c1.473 0 2.813.813 3.505 2.1a2.954 2.954 0 0 1 2.945 2.95 2.954 2.954 0 0 1-2.95 2.95ZM13.475 18.482l-.305 1.34 1.361-.305.305-1.341-1.36.306Zm-.968 2.502a.499.499 0 0 1-.488-.61l.551-2.422a.5.5 0 0 1 .378-.377l2.443-.548a.497.497 0 0 1 .596.599l-.55 2.42a.5.5 0 0 1-.379.378l-2.442.548a.45.45 0 0 1-.109.012ZM3.5 21a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 3.5 21Z","clip-rule":"evenodd"};function _sfc_render$t($,_){return openBlock(),createElementBlock("path",_hoisted_1$1u)}const IconWeatherI=_export_sfc(_sfc_main$1V,[["render",_sfc_render$t]]),_sfc_main$1U={},_hoisted_1$1t={fill:"currentColor","fill-rule":"evenodd",d:"M5.373 5.098a2.36 2.36 0 0 1 1.49-1.042l.063-.013a2.796 2.796 0 0 0-.362.458 2.823 2.823 0 0 0-.379 2.138A2.823 2.823 0 0 0 7.43 8.42c.166.105.341.193.522.262l-.063.014a2.354 2.354 0 0 1-1.79-.317 2.358 2.358 0 0 1-1.043-1.49 2.36 2.36 0 0 1 .317-1.79Zm.187 4.124a3.354 3.354 0 0 0 2.544.45A3.347 3.347 0 0 0 9.89 8.625c.148-.165.15-.402.032-.59a.528.528 0 0 0-.575-.214 1.83 1.83 0 0 1-1.379-.246 1.827 1.827 0 0 1-.805-1.152 1.826 1.826 0 0 1 .245-1.385c.264-.413.673-.699 1.202-.813a.5.5 0 0 0 .097-.949 3.355 3.355 0 0 0-2.059-.197A3.357 3.357 0 0 0 4.53 4.56a3.35 3.35 0 0 0-.45 2.544c.194.88.72 1.633 1.48 2.118ZM9.5 13.4c0-.789.608-1.469 1.415-1.583a.5.5 0 0 0 .42-.396c.284-1.403 1.569-2.42 3.056-2.42a3.08 3.08 0 0 1 2.83 1.821.497.497 0 0 0 .524.295A1.96 1.96 0 0 1 20 13.05c0 1.075-.904 1.95-2.016 1.95h-6.828c-.913 0-1.656-.718-1.656-1.6Zm11.5-.35c0-1.627-1.353-2.95-3.016-2.95h-.006A4.089 4.089 0 0 0 14.39 8c-1.846 0-3.457 1.2-3.955 2.898C9.31 11.21 8.5 12.231 8.5 13.4c0 1.434 1.19 2.6 2.656 2.6h6.828C19.647 16 21 14.677 21 13.05Zm-1.984 6.468-1.36.305.304-1.341 1.361-.305-.305 1.34Zm.86-2.49-2.443.548a.5.5 0 0 0-.378.377l-.55 2.42a.499.499 0 0 0 .596.6l2.442-.55a.5.5 0 0 0 .378-.376l.551-2.421a.5.5 0 0 0-.597-.598Zm-9.914.119-3 3a.5.5 0 0 0 .707.707l3-3a.5.5 0 0 0-.707-.707Zm4.57 2.37-1.363.306.306-1.34 1.361-.307-.305 1.341Zm.858-2.49-2.442.548a.5.5 0 0 0-.379.377l-.55 2.421a.5.5 0 0 0 .596.6l2.443-.549a.5.5 0 0 0 .379-.377l.55-2.42a.501.501 0 0 0-.597-.6Zm-8.537.12a.5.5 0 0 0-.707 0l-3 3a.5.5 0 0 0 .707.707l3-3a.5.5 0 0 0 0-.707Z","clip-rule":"evenodd"};function _sfc_render$s($,_){return openBlock(),createElementBlock("path",_hoisted_1$1t)}const IconWeatherII=_export_sfc(_sfc_main$1U,[["render",_sfc_render$s]]),_sfc_main$1T={},_hoisted_1$1s=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.358 12.079a.502.502 0 0 1-.354-.146 3.465 3.465 0 0 1-1.02-2.464c0-.931.362-1.806 1.02-2.464 1.316-1.316 3.611-1.316 4.928 0a.5.5 0 0 1-.707.707c-.939-.938-2.575-.938-3.513 0a2.467 2.467 0 0 0-.728 1.757c0 .663.258 1.287.728 1.756a.502.502 0 0 1-.354.854ZM12.784 6.652a.502.502 0 0 1-.354-.854l.905-.904a.5.5 0 0 1 .707.707l-.904.905a.502.502 0 0 1-.354.146ZM5.248 14.188a.502.502 0 0 1-.354-.854l.905-.903a.5.5 0 0 1 .707.707l-.904.905a.502.502 0 0 1-.354.146ZM6.152 6.652a.502.502 0 0 1-.354-.146l-.904-.905a.5.5 0 0 1 .707-.707l.905.904a.502.502 0 0 1-.354.854ZM4.779 9.968H3.5a.5.5 0 0 1 0-1h1.279a.5.5 0 0 1 0 1ZM9.469 5.279a.5.5 0 0 1-.5-.5v-1.28a.5.5 0 0 1 1 0v1.28a.5.5 0 0 1-.5.5ZM19.446 18.482l-.305 1.341 1.362-.306.305-1.341-1.362.306Zm-.968 2.502a.499.499 0 0 1-.488-.61l.55-2.422a.5.5 0 0 1 .379-.377l2.443-.548a.5.5 0 0 1 .596.599l-.551 2.421a.497.497 0 0 1-.378.377l-2.442.548a.45.45 0 0 1-.11.012ZM8.801 21a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3a.502.502 0 0 1-.354.146ZM14.127 21a.502.502 0 0 1-.354-.854l2-2a.502.502 0 0 1 .708.708l-2 2a.502.502 0 0 1-.354.146Z","clip-rule":"evenodd"},null,-1),_hoisted_2$P=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M16.128 19h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 0 1Z","clip-rule":"evenodd"},null,-1),_hoisted_3$x=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.127 19a.502.502 0 0 1-.354-.854l2.953-2.952a.5.5 0 0 1 .707.707l-2.952 2.953a.502.502 0 0 1-.354.146ZM5.4 19.428a.502.502 0 0 1-.353-.146l-1.13-1.13a.5.5 0 0 1 .708-.706l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_4$q=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M3.971 20.16a.5.5 0 0 1-.228-.945l1.423-.724a.5.5 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_5$l=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5.65 21.005a.5.5 0 0 1-.492-.422l-.25-1.577a.5.5 0 1 1 .988-.156l.249 1.577a.498.498 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_6$g=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5.4 19.428a.5.5 0 0 1-.445-.727l.726-1.423a.499.499 0 1 1 .89.454l-.724 1.423a.5.5 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_7$f=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.979 19.678a.535.535 0 0 1-.08-.006l-1.576-.25a.5.5 0 0 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM14.276 9a3.016 3.016 0 0 0-2.962 2.418.5.5 0 0 1-.419.398A1.608 1.608 0 0 0 9.526 13.4c0 .882.718 1.6 1.6 1.6h6.65c1.075 0 1.95-.875 1.95-1.95 0-1.151-.97-2.094-2.179-1.934a.499.499 0 0 1-.528-.298A2.984 2.984 0 0 0 14.276 9Zm3.5 7h-6.65a2.604 2.604 0 0 1-2.6-2.6c0-1.166.79-2.185 1.885-2.5A4.023 4.023 0 0 1 14.276 8c1.474 0 2.813.813 3.505 2.1a2.953 2.953 0 0 1 2.945 2.95 2.953 2.953 0 0 1-2.95 2.95Z","clip-rule":"evenodd"},null,-1);function _sfc_render$r($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1s,_hoisted_2$P,_hoisted_3$x,_hoisted_4$q,_hoisted_5$l,_hoisted_6$g,_hoisted_7$f],64)}const IconWeatherJ=_export_sfc(_sfc_main$1T,[["render",_sfc_render$r]]),_sfc_main$1S={},_hoisted_1$1r=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"m18.975 18.482-.305 1.341 1.362-.306.305-1.34-1.362.305Zm-.968 2.502a.499.499 0 0 1-.488-.61l.551-2.422a.5.5 0 0 1 .378-.377l2.443-.548a.497.497 0 0 1 .596.6l-.55 2.42a.497.497 0 0 1-.379.377l-2.442.548a.45.45 0 0 1-.109.012ZM8.33 21a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 8.33 21ZM13.658 21a.502.502 0 0 1-.354-.854l2-2a.502.502 0 0 1 .708.708l-2 2a.502.502 0 0 1-.354.146Z","clip-rule":"evenodd"},null,-1),_hoisted_2$O=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M15.657 19h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 0 1Z","clip-rule":"evenodd"},null,-1),_hoisted_3$w=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13.658 19a.502.502 0 0 1-.354-.854l2.952-2.952a.5.5 0 0 1 .707.707l-2.952 2.953a.502.502 0 0 1-.353.146ZM4.931 19.428a.502.502 0 0 1-.354-.146l-1.129-1.129a.5.5 0 0 1 .707-.707l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_4$p=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M3.5 20.161a.5.5 0 0 1-.228-.945l1.424-.725a.499.499 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_5$k=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5.18 21.005a.5.5 0 0 1-.493-.422l-.25-1.577a.5.5 0 1 1 .988-.156l.249 1.577a.498.498 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_6$f=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M4.93 19.428a.5.5 0 0 1-.445-.727l.725-1.423a.499.499 0 1 1 .89.454l-.724 1.423a.5.5 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_7$e=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.508 19.678a.535.535 0 0 1-.079-.006l-1.577-.25a.499.499 0 0 1-.415-.572.499.499 0 0 1 .571-.416l1.578.25a.499.499 0 0 1-.078.994ZM6.926 4.043l-.063.013a2.358 2.358 0 0 0-1.49 1.042 2.356 2.356 0 0 0-.317 1.79c.137.62.507 1.15 1.042 1.49a2.356 2.356 0 0 0 1.853.303A2.825 2.825 0 0 1 6.185 6.64a2.819 2.819 0 0 1 .38-2.138 2.84 2.84 0 0 1 .361-.458Zm.443 5.71c-.636 0-1.26-.18-1.809-.53a3.359 3.359 0 0 1-1.48-2.119 3.356 3.356 0 0 1 .45-2.544 3.352 3.352 0 0 1 2.117-1.48 3.346 3.346 0 0 1 2.06.196.5.5 0 0 1-.098.95c-.529.113-.938.4-1.202.813a1.823 1.823 0 0 0-.245 1.384c.106.48.391.888.805 1.152.412.263.901.35 1.38.246a.53.53 0 0 1 .574.213c.116.19.115.426-.032.592a3.352 3.352 0 0 1-2.52 1.126ZM14.391 9c-1.487 0-2.772 1.018-3.055 2.421a.502.502 0 0 1-.421.396c-.806.114-1.415.794-1.415 1.583 0 .882.744 1.6 1.657 1.6h6.828C19.096 15 20 14.125 20 13.05a1.96 1.96 0 0 0-2.255-1.933.5.5 0 0 1-.524-.295A3.08 3.08 0 0 0 14.391 9Zm3.594 7h-6.828C9.692 16 8.5 14.833 8.5 13.4c0-1.17.811-2.19 1.936-2.503C10.934 9.2 12.546 8 14.391 8c1.507 0 2.879.813 3.587 2.1h.007c1.662 0 3.015 1.323 3.015 2.95 0 1.627-1.353 2.95-3.015 2.95Z","clip-rule":"evenodd"},null,-1);function _sfc_render$q($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1r,_hoisted_2$O,_hoisted_3$w,_hoisted_4$p,_hoisted_5$k,_hoisted_6$f,_hoisted_7$e],64)}const IconWeatherJJ=_export_sfc(_sfc_main$1S,[["render",_sfc_render$q]]),_sfc_main$1R={},_hoisted_1$1q=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.358 12.079a.502.502 0 0 1-.354-.146 3.465 3.465 0 0 1-1.02-2.464c0-.931.362-1.806 1.02-2.464 1.316-1.316 3.611-1.316 4.928 0a.5.5 0 0 1-.707.707c-.939-.938-2.575-.938-3.513 0a2.467 2.467 0 0 0-.728 1.757c0 .663.258 1.287.728 1.756a.502.502 0 0 1-.354.854ZM12.784 6.652a.502.502 0 0 1-.354-.854l.905-.904a.5.5 0 0 1 .707.707l-.904.905a.502.502 0 0 1-.354.146ZM5.248 14.188a.502.502 0 0 1-.354-.854l.905-.903a.5.5 0 0 1 .707.707l-.904.905a.502.502 0 0 1-.354.146ZM6.152 6.652a.502.502 0 0 1-.354-.146l-.904-.905a.5.5 0 0 1 .707-.707l.905.904a.502.502 0 0 1-.354.854ZM4.779 9.968H3.5a.5.5 0 0 1 0-1h1.279a.5.5 0 0 1 0 1ZM9.469 5.279a.5.5 0 0 1-.5-.5v-1.28a.5.5 0 0 1 1 0v1.28a.5.5 0 0 1-.5.5ZM17.475 18.482l-.305 1.34 1.362-.305.305-1.341-1.362.306Zm-.968 2.502a.499.499 0 0 1-.488-.61l.551-2.422a.5.5 0 0 1 .378-.377l2.443-.548a.5.5 0 0 1 .596.599l-.55 2.42a.497.497 0 0 1-.379.378l-2.442.548a.45.45 0 0 1-.109.012ZM12.158 21a.502.502 0 0 1-.354-.854l2-2a.502.502 0 0 1 .707.708l-2 2a.502.502 0 0 1-.353.146Z","clip-rule":"evenodd"},null,-1),_hoisted_2$N=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.157 19h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 0 1Z","clip-rule":"evenodd"},null,-1),_hoisted_3$v=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12.158 19a.502.502 0 0 1-.354-.854l2.953-2.952a.5.5 0 0 1 .707.707l-2.953 2.953a.502.502 0 0 1-.353.146Z","clip-rule":"evenodd"},null,-1),_hoisted_4$o=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.417 9c-1.486 0-2.77 1.018-3.055 2.421a.502.502 0 0 1-.42.396c-.807.114-1.416.794-1.416 1.583 0 .882.744 1.6 1.657 1.6h6.828c1.111 0 2.015-.875 2.015-1.95 0-1.151-1-2.102-2.255-1.933a.495.495 0 0 1-.524-.295A3.08 3.08 0 0 0 14.417 9Zm3.594 7h-6.828c-1.465 0-2.657-1.167-2.657-2.6 0-1.17.811-2.191 1.936-2.503C10.962 9.2 12.572 8 14.417 8c1.508 0 2.88.813 3.587 2.1h.007c1.662 0 3.015 1.323 3.015 2.95 0 1.627-1.353 2.95-3.015 2.95ZM7.499 18.482l-.305 1.34 1.362-.305.305-1.341-1.362.306Zm-.968 2.502a.499.499 0 0 1-.488-.61l.55-2.422a.5.5 0 0 1 .379-.377l2.443-.548a.5.5 0 0 1 .596.599l-.551 2.42a.497.497 0 0 1-.378.378l-2.442.548a.45.45 0 0 1-.11.012Z","clip-rule":"evenodd"},null,-1);function _sfc_render$p($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1q,_hoisted_2$N,_hoisted_3$v,_hoisted_4$o],64)}const IconWeatherK=_export_sfc(_sfc_main$1R,[["render",_sfc_render$p]]),_sfc_main$1Q={},_hoisted_1$1p=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"m16.475 18.482-.305 1.341 1.362-.306.305-1.34-1.362.305Zm-.968 2.502a.499.499 0 0 1-.488-.61l.551-2.422a.5.5 0 0 1 .378-.377l2.443-.548a.5.5 0 0 1 .596.6l-.55 2.42a.497.497 0 0 1-.379.377l-2.442.548a.45.45 0 0 1-.109.012ZM11.158 21a.502.502 0 0 1-.354-.854l2-2a.502.502 0 0 1 .707.708l-2 2a.502.502 0 0 1-.353.146Z","clip-rule":"evenodd"},null,-1),_hoisted_2$M=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13.158 19h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 0 1Z","clip-rule":"evenodd"},null,-1),_hoisted_3$u=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.158 19a.502.502 0 0 1-.354-.854l2.953-2.952a.5.5 0 0 1 .707.707l-2.953 2.953a.502.502 0 0 1-.353.146Z","clip-rule":"evenodd"},null,-1),_hoisted_4$n=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13.417 9c-1.486 0-2.77 1.018-3.055 2.421a.502.502 0 0 1-.42.396c-.807.114-1.416.794-1.416 1.583 0 .882.744 1.6 1.657 1.6h6.828c1.111 0 2.015-.875 2.015-1.95 0-1.15-.998-2.102-2.255-1.933a.495.495 0 0 1-.524-.295A3.08 3.08 0 0 0 13.417 9Zm3.594 7h-6.828c-1.465 0-2.657-1.167-2.657-2.6 0-1.17.811-2.19 1.936-2.503C9.962 9.2 11.572 8 13.417 8c1.508 0 2.88.813 3.587 2.1h.007c1.662 0 3.015 1.323 3.015 2.95 0 1.627-1.353 2.95-3.015 2.95ZM6.499 18.482l-.305 1.341 1.362-.306.305-1.34-1.362.305Zm-.968 2.502a.499.499 0 0 1-.488-.61l.55-2.422a.5.5 0 0 1 .379-.377l2.443-.548a.5.5 0 0 1 .596.6l-.551 2.42a.497.497 0 0 1-.378.377l-2.442.548a.45.45 0 0 1-.11.012ZM5.927 5.043l-.063.013a2.358 2.358 0 0 0-1.49 1.042 2.356 2.356 0 0 0-.317 1.79c.137.62.507 1.15 1.042 1.49a2.356 2.356 0 0 0 1.853.303A2.825 2.825 0 0 1 5.186 7.64a2.819 2.819 0 0 1 .38-2.138 2.84 2.84 0 0 1 .361-.458Zm.443 5.71c-.636 0-1.26-.18-1.809-.53a3.359 3.359 0 0 1-1.48-2.119 3.356 3.356 0 0 1 .45-2.544 3.352 3.352 0 0 1 2.117-1.48 3.347 3.347 0 0 1 2.06.196.5.5 0 0 1-.098.95c-.529.113-.938.4-1.202.813a1.823 1.823 0 0 0-.245 1.384c.106.48.391.888.805 1.152.412.263.901.35 1.38.246a.53.53 0 0 1 .574.213c.116.19.115.426-.032.592a3.352 3.352 0 0 1-2.52 1.126Z","clip-rule":"evenodd"},null,-1);function _sfc_render$o($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1p,_hoisted_2$M,_hoisted_3$u,_hoisted_4$n],64)}const IconWeatherKK=_export_sfc(_sfc_main$1Q,[["render",_sfc_render$o]]),_sfc_main$1P={},_hoisted_1$1o={fill:"currentColor","fill-rule":"evenodd",d:"M12 5C9.84 5 7.972 6.526 7.558 8.628a.5.5 0 0 1-.419.398A2.511 2.511 0 0 0 5 11.5C5 12.878 6.122 14 7.5 14H17c1.654 0 3-1.346 3-3s-1.346-3-3-3a2.56 2.56 0 0 0-.356.025.498.498 0 0 1-.529-.298A4.478 4.478 0 0 0 12 5Zm5 10H7.5C5.57 15 4 13.43 4 11.5a3.52 3.52 0 0 1 2.653-3.396C7.283 5.707 9.478 4 12 4a5.473 5.473 0 0 1 4.88 3.002C19.116 6.925 21 8.753 21 11c0 2.206-1.794 4-4 4ZM4.5 20a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 4.5 20Zm8.7 0a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .707.708l-3 3A.502.502 0 0 1 13.2 20Zm-4.35 0a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 8.85 20Z","clip-rule":"evenodd"};function _sfc_render$n($,_){return openBlock(),createElementBlock("path",_hoisted_1$1o)}const IconWeatherL=_export_sfc(_sfc_main$1P,[["render",_sfc_render$n]]),_sfc_main$1O={},_hoisted_1$1n={fill:"currentColor","fill-rule":"evenodd",d:"M12 5C9.84 5 7.972 6.526 7.558 8.628a.5.5 0 0 1-.419.398A2.511 2.511 0 0 0 5 11.5C5 12.878 6.122 14 7.5 14H17c1.654 0 3-1.346 3-3s-1.346-3-3-3a2.56 2.56 0 0 0-.356.025.498.498 0 0 1-.529-.298A4.478 4.478 0 0 0 12 5Zm5 10H7.5C5.57 15 4 13.43 4 11.5a3.52 3.52 0 0 1 2.653-3.396C7.283 5.707 9.478 4 12 4a5.473 5.473 0 0 1 4.88 3.002C19.116 6.925 21 8.753 21 11c0 2.206-1.794 4-4 4ZM4.5 20a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 4.5 20Zm8.7 0a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .707.708l-3 3A.502.502 0 0 1 13.2 20Zm-4.35 0a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 8.85 20Z","clip-rule":"evenodd"};function _sfc_render$m($,_){return openBlock(),createElementBlock("path",_hoisted_1$1n)}const IconWeatherLL=_export_sfc(_sfc_main$1O,[["render",_sfc_render$m]]),_sfc_main$1N={},_hoisted_1$1m={fill:"currentColor","fill-rule":"evenodd",d:"M13 5c-2.16 0-4.028 1.526-4.442 3.628a.5.5 0 0 1-.419.398A2.511 2.511 0 0 0 6 11.5C6 12.878 7.122 14 8.5 14H18c1.654 0 3-1.346 3-3s-1.346-3-3-3a2.56 2.56 0 0 0-.356.025.497.497 0 0 1-.529-.298A4.478 4.478 0 0 0 13 5Zm5 10H8.5C6.57 15 5 13.43 5 11.5a3.52 3.52 0 0 1 2.653-3.396C8.283 5.707 10.478 4 13 4a5.473 5.473 0 0 1 4.88 3.002C20.126 6.925 22 8.753 22 11c0 2.206-1.794 4-4 4ZM3.5 20a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 3.5 20ZM16 20a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 16 20Zm-6.25 0a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 9.75 20ZM8 18.5a.502.502 0 0 1-.354-.854l1.5-1.5a.502.502 0 0 1 .708.708l-1.5 1.5A.502.502 0 0 1 8 18.5Zm6.125.125a.502.502 0 0 1-.354-.854l1.625-1.625a.502.502 0 0 1 .708.708l-1.625 1.625a.502.502 0 0 1-.354.146Z","clip-rule":"evenodd"};function _sfc_render$l($,_){return openBlock(),createElementBlock("path",_hoisted_1$1m)}const IconWeatherM=_export_sfc(_sfc_main$1N,[["render",_sfc_render$l]]),_sfc_main$1M={},_hoisted_1$1l={fill:"currentColor","fill-rule":"evenodd",d:"M13 5c-2.16 0-4.028 1.526-4.442 3.628a.5.5 0 0 1-.419.398A2.511 2.511 0 0 0 6 11.5C6 12.878 7.122 14 8.5 14H18c1.654 0 3-1.346 3-3s-1.346-3-3-3a2.56 2.56 0 0 0-.356.025.497.497 0 0 1-.529-.298A4.478 4.478 0 0 0 13 5Zm5 10H8.5C6.57 15 5 13.43 5 11.5a3.52 3.52 0 0 1 2.653-3.396C8.283 5.707 10.478 4 13 4a5.473 5.473 0 0 1 4.88 3.002C20.126 6.925 22 8.753 22 11c0 2.206-1.794 4-4 4ZM3.5 20a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 3.5 20ZM16 20a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 16 20Zm-6.25 0a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 9.75 20ZM8 18.5a.502.502 0 0 1-.354-.854l1.5-1.5a.502.502 0 0 1 .708.708l-1.5 1.5A.502.502 0 0 1 8 18.5Zm6.125.125a.502.502 0 0 1-.354-.854l1.625-1.625a.502.502 0 0 1 .708.708l-1.625 1.625a.502.502 0 0 1-.354.146Z","clip-rule":"evenodd"};function _sfc_render$k($,_){return openBlock(),createElementBlock("path",_hoisted_1$1l)}const IconWeatherMM=_export_sfc(_sfc_main$1M,[["render",_sfc_render$k]]),_sfc_main$1L={},_hoisted_1$1k=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.5 8C5.673 8 5 8.673 5 9.5v3c0 .23.131.5.5.5h13c.242 0 .5-.201.5-.5v-3c0-.827-.673-1.5-1.5-1.5h-11Zm12 6h-13c-.855 0-1.5-.645-1.5-1.5v-3C4 8.122 5.122 7 6.5 7h11C18.878 7 20 8.122 20 9.5v3c0 .827-.673 1.5-1.5 1.5Z","clip-rule":"evenodd"},null,-1),_hoisted_2$L=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5.5 8a.5.5 0 0 1-.5-.5C5 5.973 6.059 3 8 3h4.5a.5.5 0 0 1 0 1H8C6.865 4 6 6.333 6 7.5a.5.5 0 0 1-.5.5Z","clip-rule":"evenodd"},null,-1),_hoisted_3$t=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M18.5 8a.5.5 0 0 1-.5-.5c0-1.167-.865-3.5-2-3.5h-4.5a.5.5 0 0 1 0-1H16c1.941 0 3 2.973 3 4.5a.5.5 0 0 1-.5.5ZM13.5 12h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 1 0 1ZM6 15a1 1 0 0 0 2 0v-1H6v1ZM16 14v1a1 1 0 0 0 2 0v-1h-2ZM8 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM18 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM7.249 21.5a.5.5 0 0 1-.256-.071c-.101-.06-.994-.616-.994-1.429 0-.729.26-.936.798-1.298l.17-.115c.067-.058.162-.129.249-.192.278-.207.283-.214.283-.395 0-.164-.299-.447-.506-.571a.5.5 0 1 1 .513-.858c.101.06.993.617.993 1.429 0 .688-.365.959-.688 1.198a4.794 4.794 0 0 0-.243.187l-.213.147c-.356.239-.356.239-.356.468 0 .164.3.447.507.571a.5.5 0 0 1-.257.929ZM16.749 21.5a.5.5 0 0 1-.256-.071c-.101-.06-.994-.616-.994-1.429 0-.729.26-.936.798-1.298l.17-.115c.067-.058.162-.129.249-.192.278-.207.283-.214.283-.395 0-.164-.299-.447-.506-.571a.5.5 0 1 1 .513-.858c.101.06.993.617.993 1.429 0 .688-.365.959-.688 1.198a4.794 4.794 0 0 0-.243.187l-.213.147c-.356.239-.356.239-.356.468 0 .164.3.447.507.571a.5.5 0 0 1-.257.929Z","clip-rule":"evenodd"},null,-1);function _sfc_render$j($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1k,_hoisted_2$L,_hoisted_3$t],64)}const IconWeatherN=_export_sfc(_sfc_main$1L,[["render",_sfc_render$j]]),_sfc_main$1K={},_hoisted_1$1j=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.5 8C5.673 8 5 8.673 5 9.5v3c0 .23.131.5.5.5h13c.242 0 .5-.201.5-.5v-3c0-.827-.673-1.5-1.5-1.5h-11Zm12 6h-13c-.855 0-1.5-.645-1.5-1.5v-3C4 8.122 5.122 7 6.5 7h11C18.878 7 20 8.122 20 9.5v3c0 .827-.673 1.5-1.5 1.5Z","clip-rule":"evenodd"},null,-1),_hoisted_2$K=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5.5 8a.5.5 0 0 1-.5-.5C5 5.973 6.059 3 8 3h4.5a.5.5 0 0 1 0 1H8C6.865 4 6 6.333 6 7.5a.5.5 0 0 1-.5.5Z","clip-rule":"evenodd"},null,-1),_hoisted_3$s=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M18.5 8a.5.5 0 0 1-.5-.5c0-1.167-.865-3.5-2-3.5h-4.5a.5.5 0 0 1 0-1H16c1.941 0 3 2.973 3 4.5a.5.5 0 0 1-.5.5ZM13.5 12h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 1 0 1ZM6 15a1 1 0 0 0 2 0v-1H6v1ZM16 14v1a1 1 0 0 0 2 0v-1h-2ZM8 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM18 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM7.249 21.5a.5.5 0 0 1-.256-.071c-.101-.06-.994-.616-.994-1.429 0-.729.26-.936.798-1.298l.17-.115c.067-.058.162-.129.249-.192.278-.207.283-.214.283-.395 0-.164-.299-.447-.506-.571a.5.5 0 1 1 .513-.858c.101.06.993.617.993 1.429 0 .688-.365.959-.688 1.198a4.794 4.794 0 0 0-.243.187l-.213.147c-.356.239-.356.239-.356.468 0 .164.3.447.507.571a.5.5 0 0 1-.257.929ZM16.749 21.5a.5.5 0 0 1-.256-.071c-.101-.06-.994-.616-.994-1.429 0-.729.26-.936.798-1.298l.17-.115c.067-.058.162-.129.249-.192.278-.207.283-.214.283-.395 0-.164-.299-.447-.506-.571a.5.5 0 1 1 .513-.858c.101.06.993.617.993 1.429 0 .688-.365.959-.688 1.198a4.794 4.794 0 0 0-.243.187l-.213.147c-.356.239-.356.239-.356.468 0 .164.3.447.507.571a.5.5 0 0 1-.257.929Z","clip-rule":"evenodd"},null,-1);function _sfc_render$i($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1j,_hoisted_2$K,_hoisted_3$s],64)}const IconWeatherNN=_export_sfc(_sfc_main$1K,[["render",_sfc_render$i]]),_sfc_main$1J={},_hoisted_1$1i=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.358 12.079a.502.502 0 0 1-.354-.146 3.465 3.465 0 0 1-1.02-2.464c0-.931.362-1.806 1.02-2.464 1.316-1.316 3.611-1.316 4.928 0a.5.5 0 0 1-.707.707c-.939-.938-2.575-.938-3.513 0a2.467 2.467 0 0 0-.728 1.757c0 .663.258 1.287.728 1.756a.502.502 0 0 1-.354.854ZM12.784 6.652a.502.502 0 0 1-.354-.854l.905-.904a.5.5 0 0 1 .707.707l-.904.905a.502.502 0 0 1-.354.146ZM5.248 14.188a.502.502 0 0 1-.354-.854l.905-.903a.5.5 0 0 1 .707.707l-.904.905a.502.502 0 0 1-.354.146ZM6.152 6.652a.502.502 0 0 1-.354-.146l-.904-.905a.5.5 0 0 1 .707-.707l.905.904a.502.502 0 0 1-.354.854ZM4.779 9.968H3.5a.5.5 0 0 1 0-1h1.279a.5.5 0 0 1 0 1ZM9.469 5.279a.5.5 0 0 1-.5-.5v-1.28a.5.5 0 0 1 1 0v1.28a.5.5 0 0 1-.5.5ZM9.13 19.428a.502.502 0 0 1-.354-.146l-1.129-1.13a.5.5 0 0 1 .707-.706l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_2$J=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.7 20.16a.5.5 0 0 1-.228-.945l1.423-.724a.5.5 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_3$r=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M9.38 21.005a.5.5 0 0 1-.494-.422l-.25-1.577a.5.5 0 1 1 .988-.156l.25 1.577a.498.498 0 0 1-.495.578Z","clip-rule":"evenodd"},null,-1),_hoisted_4$m=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M9.13 19.428a.5.5 0 0 1-.445-.727l.724-1.423a.5.5 0 1 1 .891.454l-.725 1.423a.501.501 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_5$j=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M10.707 19.678a.535.535 0 0 1-.079-.006l-1.577-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM14.417 9c-1.486 0-2.77 1.018-3.055 2.421a.502.502 0 0 1-.42.396c-.807.114-1.416.794-1.416 1.583 0 .882.744 1.6 1.657 1.6h6.828c1.111 0 2.015-.875 2.015-1.95a1.952 1.952 0 0 0-2.255-1.933.496.496 0 0 1-.524-.295A3.08 3.08 0 0 0 14.417 9Zm3.594 7h-6.828c-1.465 0-2.657-1.167-2.657-2.6 0-1.17.811-2.191 1.936-2.503C10.962 9.2 12.572 8 14.417 8c1.508 0 2.88.813 3.587 2.1h.007c1.662 0 3.015 1.323 3.015 2.95 0 1.627-1.353 2.95-3.015 2.95ZM18.923 19.428a.502.502 0 0 1-.354-.146l-1.129-1.13a.5.5 0 0 1 .707-.706l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_6$e=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M17.493 20.16a.5.5 0 0 1-.228-.945l1.423-.724a.5.5 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_7$d=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M19.172 21.005a.5.5 0 0 1-.493-.422l-.25-1.577a.499.499 0 1 1 .987-.156l.25 1.577a.499.499 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_8$c=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M18.922 19.428a.5.5 0 0 1-.445-.727l.725-1.423a.5.5 0 1 1 .891.454l-.725 1.423a.501.501 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_9$a=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M20.5 19.678a.535.535 0 0 1-.079-.006l-1.577-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM14.027 19.428a.502.502 0 0 1-.354-.146l-1.13-1.13a.5.5 0 0 1 .708-.706l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_10$6=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12.596 20.16a.5.5 0 0 1-.228-.945l1.423-.724a.5.5 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_11$5=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.275 21.005a.5.5 0 0 1-.492-.422l-.25-1.577a.5.5 0 1 1 .988-.156l.248 1.577a.498.498 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_12$5=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.026 19.428a.5.5 0 0 1-.445-.727l.725-1.423a.5.5 0 1 1 .89.454l-.724 1.423a.501.501 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_13$4=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M15.604 19.678a.535.535 0 0 1-.08-.006l-1.576-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994Z","clip-rule":"evenodd"},null,-1);function _sfc_render$h($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1i,_hoisted_2$J,_hoisted_3$r,_hoisted_4$m,_hoisted_5$j,_hoisted_6$e,_hoisted_7$d,_hoisted_8$c,_hoisted_9$a,_hoisted_10$6,_hoisted_11$5,_hoisted_12$5,_hoisted_13$4],64)}const IconWeatherO=_export_sfc(_sfc_main$1J,[["render",_sfc_render$h]]),_sfc_main$1I={},_hoisted_1$1h=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M8.113 19.428a.502.502 0 0 1-.354-.146l-1.13-1.129a.5.5 0 0 1 .708-.707l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_2$I=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.682 20.161a.5.5 0 0 1-.228-.945l1.423-.725a.5.5 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_3$q=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M8.361 21.005a.5.5 0 0 1-.493-.422l-.25-1.577a.5.5 0 1 1 .988-.156l.25 1.577a.498.498 0 0 1-.495.578Z","clip-rule":"evenodd"},null,-1),_hoisted_4$l=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M8.112 19.428a.5.5 0 0 1-.445-.727l.725-1.423a.499.499 0 1 1 .89.454l-.724 1.423a.5.5 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_5$i=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M9.69 19.678a.535.535 0 0 1-.08-.006l-1.576-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM13.4 9c-1.487 0-2.772 1.018-3.055 2.421a.502.502 0 0 1-.421.397c-.806.114-1.415.793-1.415 1.582 0 .883.744 1.6 1.657 1.6h6.828c1.11 0 2.015-.874 2.015-1.95a1.957 1.957 0 0 0-2.255-1.933.498.498 0 0 1-.524-.295A3.08 3.08 0 0 0 13.4 9Zm3.594 7h-6.828c-1.465 0-2.657-1.166-2.657-2.6 0-1.17.81-2.19 1.936-2.502C9.943 9.2 11.555 8 13.4 8c1.507 0 2.879.813 3.587 2.1h.007c1.662 0 3.015 1.324 3.015 2.95 0 1.627-1.353 2.95-3.015 2.95ZM17.906 19.428a.502.502 0 0 1-.354-.146l-1.13-1.129a.5.5 0 0 1 .708-.707l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_6$d=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M16.475 20.161a.5.5 0 0 1-.228-.945l1.423-.725a.5.5 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_7$c=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M18.154 21.005a.5.5 0 0 1-.492-.422l-.25-1.577a.5.5 0 1 1 .988-.156l.248 1.577a.498.498 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_8$b=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M17.905 19.428a.5.5 0 0 1-.445-.727l.725-1.423a.499.499 0 1 1 .89.454l-.724 1.423a.5.5 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_9$9=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M19.483 19.678a.535.535 0 0 1-.08-.006l-1.576-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM13.01 19.428a.502.502 0 0 1-.355-.146l-1.129-1.129a.5.5 0 0 1 .707-.707l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_10$5=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.579 20.161a.5.5 0 0 1-.228-.945l1.423-.725a.5.5 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_11$4=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13.258 21.005a.5.5 0 0 1-.493-.422l-.25-1.577a.5.5 0 1 1 .988-.156l.249 1.577a.498.498 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_12$4=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13.008 19.428a.5.5 0 0 1-.445-.727l.725-1.423a.499.499 0 1 1 .89.454l-.724 1.423a.5.5 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_13$3=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.586 19.678a.535.535 0 0 1-.079-.006l-1.577-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM5.927 5.044a2.358 2.358 0 0 0-1.553 1.055 2.356 2.356 0 0 0-.317 1.79c.137.62.507 1.149 1.042 1.49.535.342 1.17.454 1.79.317l.063-.014A2.825 2.825 0 0 1 5.186 7.64a2.819 2.819 0 0 1 .38-2.138 2.84 2.84 0 0 1 .361-.458Zm.443 5.708c-.636 0-1.26-.18-1.809-.53a3.359 3.359 0 0 1-1.48-2.117 3.356 3.356 0 0 1 .45-2.544 3.352 3.352 0 0 1 2.117-1.48 3.34 3.34 0 0 1 2.06.196.5.5 0 0 1-.098.949c-.529.114-.938.4-1.202.814a1.823 1.823 0 0 0-.245 1.384c.106.479.391.888.805 1.152a1.83 1.83 0 0 0 1.38.246.528.528 0 0 1 .574.213c.116.189.115.426-.032.592a3.352 3.352 0 0 1-2.52 1.125Z","clip-rule":"evenodd"},null,-1);function _sfc_render$g($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1h,_hoisted_2$I,_hoisted_3$q,_hoisted_4$l,_hoisted_5$i,_hoisted_6$d,_hoisted_7$c,_hoisted_8$b,_hoisted_9$9,_hoisted_10$5,_hoisted_11$4,_hoisted_12$4,_hoisted_13$3],64)}const IconWeatherOO=_export_sfc(_sfc_main$1I,[["render",_sfc_render$g]]),_sfc_main$1H={},_hoisted_1$1g=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.931 18.428a.502.502 0 0 1-.354-.146l-1.129-1.13a.5.5 0 0 1 .707-.706l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_2$H=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5.5 19.16a.5.5 0 0 1-.228-.945l1.424-.724a.5.5 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_3$p=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.18 20.005a.5.5 0 0 1-.493-.422l-.25-1.577a.5.5 0 1 1 .988-.156l.249 1.577a.498.498 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_4$k=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.93 18.428a.5.5 0 0 1-.445-.727l.725-1.423a.499.499 0 1 1 .89.454l-.724 1.423a.5.5 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_5$h=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M8.508 18.678a.535.535 0 0 1-.079-.006l-1.577-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM16.724 18.428a.502.502 0 0 1-.354-.146l-1.129-1.13a.5.5 0 0 1 .707-.706l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_6$c=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M15.293 19.16a.5.5 0 0 1-.228-.945l1.423-.724a.5.5 0 1 1 .454.89l-1.421.725a.503.503 0 0 1-.228.055Z","clip-rule":"evenodd"},null,-1),_hoisted_7$b=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M16.973 20.005a.5.5 0 0 1-.493-.422l-.25-1.577a.5.5 0 1 1 .988-.156l.249 1.577a.498.498 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_8$a=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M16.723 18.428a.5.5 0 0 1-.445-.727l.725-1.423a.499.499 0 1 1 .89.454l-.724 1.423a.5.5 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_9$8=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M18.301 18.678a.535.535 0 0 1-.079-.006l-1.577-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM11.828 18.428a.502.502 0 0 1-.354-.146l-1.13-1.13a.5.5 0 0 1 .708-.706l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_10$4=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M10.397 19.16a.501.501 0 0 1-.228-.944l1.423-.725a.5.5 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_11$3=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12.076 20.005a.5.5 0 0 1-.493-.422l-.25-1.577a.5.5 0 1 1 .988-.156l.25 1.577a.498.498 0 0 1-.495.578Z","clip-rule":"evenodd"},null,-1),_hoisted_12$3=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.827 18.428a.5.5 0 0 1-.445-.727l.725-1.423a.498.498 0 1 1 .89.454l-.724 1.423a.5.5 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_13$2=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13.405 18.678a.535.535 0 0 1-.08-.006l-1.576-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM12 5C9.84 5 7.972 6.526 7.558 8.628a.5.5 0 0 1-.419.398A2.511 2.511 0 0 0 5 11.5C5 12.878 6.122 14 7.5 14H17c1.654 0 3-1.346 3-3s-1.346-3-3-3c-.117 0-.234.008-.356.025a.498.498 0 0 1-.529-.298A4.478 4.478 0 0 0 12 5Zm5 10H7.5C5.57 15 4 13.43 4 11.5a3.52 3.52 0 0 1 2.653-3.396C7.282 5.707 9.478 4 12 4a5.473 5.473 0 0 1 4.879 3.002C19.113 6.902 21 8.754 21 11c0 2.206-1.794 4-4 4Z","clip-rule":"evenodd"},null,-1);function _sfc_render$f($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1g,_hoisted_2$H,_hoisted_3$p,_hoisted_4$k,_hoisted_5$h,_hoisted_6$c,_hoisted_7$b,_hoisted_8$a,_hoisted_9$8,_hoisted_10$4,_hoisted_11$3,_hoisted_12$3,_hoisted_13$2],64)}const IconWeatherP=_export_sfc(_sfc_main$1H,[["render",_sfc_render$f]]),_sfc_main$1G={},_hoisted_1$1f=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.931 18.428a.502.502 0 0 1-.354-.146l-1.129-1.13a.5.5 0 0 1 .707-.706l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_2$G=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5.5 19.16a.5.5 0 0 1-.228-.945l1.424-.724a.5.5 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_3$o=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.18 20.005a.5.5 0 0 1-.493-.422l-.25-1.577a.5.5 0 1 1 .988-.156l.249 1.577a.498.498 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_4$j=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.93 18.428a.5.5 0 0 1-.445-.727l.725-1.423a.499.499 0 1 1 .89.454l-.724 1.423a.5.5 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_5$g=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M8.508 18.678a.535.535 0 0 1-.079-.006l-1.577-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM16.724 18.428a.502.502 0 0 1-.354-.146l-1.129-1.13a.5.5 0 0 1 .707-.706l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_6$b=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M15.293 19.16a.5.5 0 0 1-.228-.945l1.423-.724a.5.5 0 1 1 .454.89l-1.421.725a.503.503 0 0 1-.228.055Z","clip-rule":"evenodd"},null,-1),_hoisted_7$a=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M16.973 20.005a.5.5 0 0 1-.493-.422l-.25-1.577a.5.5 0 1 1 .988-.156l.249 1.577a.498.498 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_8$9=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M16.723 18.428a.5.5 0 0 1-.445-.727l.725-1.423a.499.499 0 1 1 .89.454l-.724 1.423a.5.5 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_9$7=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M18.301 18.678a.535.535 0 0 1-.079-.006l-1.577-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM11.828 18.428a.502.502 0 0 1-.354-.146l-1.13-1.13a.5.5 0 0 1 .708-.706l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_10$3=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M10.397 19.16a.501.501 0 0 1-.228-.944l1.423-.725a.5.5 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_11$2=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12.076 20.005a.5.5 0 0 1-.493-.422l-.25-1.577a.5.5 0 1 1 .988-.156l.25 1.577a.498.498 0 0 1-.495.578Z","clip-rule":"evenodd"},null,-1),_hoisted_12$2=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.827 18.428a.5.5 0 0 1-.445-.727l.725-1.423a.498.498 0 1 1 .89.454l-.724 1.423a.5.5 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_13$1=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13.405 18.678a.535.535 0 0 1-.08-.006l-1.576-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM12 5C9.84 5 7.972 6.526 7.558 8.628a.5.5 0 0 1-.419.398A2.511 2.511 0 0 0 5 11.5C5 12.878 6.122 14 7.5 14H17c1.654 0 3-1.346 3-3s-1.346-3-3-3c-.117 0-.234.008-.356.025a.498.498 0 0 1-.529-.298A4.478 4.478 0 0 0 12 5Zm5 10H7.5C5.57 15 4 13.43 4 11.5a3.52 3.52 0 0 1 2.653-3.396C7.282 5.707 9.478 4 12 4a5.473 5.473 0 0 1 4.879 3.002C19.113 6.902 21 8.754 21 11c0 2.206-1.794 4-4 4Z","clip-rule":"evenodd"},null,-1);function _sfc_render$e($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1f,_hoisted_2$G,_hoisted_3$o,_hoisted_4$j,_hoisted_5$g,_hoisted_6$b,_hoisted_7$a,_hoisted_8$9,_hoisted_9$7,_hoisted_10$3,_hoisted_11$2,_hoisted_12$2,_hoisted_13$1],64)}const IconWeatherPP=_export_sfc(_sfc_main$1G,[["render",_sfc_render$e]]),_sfc_main$1F={},_hoisted_1$1e=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.376 18.428a.502.502 0 0 1-.354-.146l-1.129-1.13a.5.5 0 0 1 .707-.706l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_2$F=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12.946 19.16a.5.5 0 0 1-.228-.945l1.423-.724a.5.5 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_3$n=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.625 20.005a.5.5 0 0 1-.493-.422l-.25-1.577a.499.499 0 1 1 .987-.156l.25 1.577a.499.499 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_4$i=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.376 18.428a.5.5 0 0 1-.445-.727l.725-1.423a.5.5 0 1 1 .89.454l-.724 1.423a.501.501 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_5$f=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M15.953 18.678a.535.535 0 0 1-.079-.006l-1.577-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM19.273 18.428a.502.502 0 0 1-.354-.146l-1.13-1.13a.5.5 0 0 1 .708-.706l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_6$a=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M17.842 19.16a.5.5 0 0 1-.228-.945l1.423-.724a.5.5 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_7$9=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M19.522 20.005a.5.5 0 0 1-.493-.422l-.25-1.577a.499.499 0 1 1 .987-.156l.25 1.577a.499.499 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_8$8=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M19.272 18.428a.5.5 0 0 1-.445-.727l.725-1.423a.499.499 0 1 1 .891.454l-.725 1.423a.501.501 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_9$6=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M20.85 18.678a.535.535 0 0 1-.08-.006l-1.576-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM12 5C9.84 5 7.972 6.526 7.558 8.628a.5.5 0 0 1-.419.398A2.511 2.511 0 0 0 5 11.5C5 12.878 6.122 14 7.5 14H17c1.654 0 3-1.346 3-3s-1.346-3-3-3c-.117 0-.234.008-.356.025a.5.5 0 0 1-.529-.298A4.478 4.478 0 0 0 12 5Zm5 10H7.5C5.57 15 4 13.43 4 11.5a3.52 3.52 0 0 1 2.653-3.396C7.282 5.707 9.478 4 12 4a5.473 5.473 0 0 1 4.879 3.002C19.122 6.902 21 8.754 21 11c0 2.206-1.794 4-4 4ZM7.85 20a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 7.85 20ZM3.5 20a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 3.5 20Z","clip-rule":"evenodd"},null,-1);function _sfc_render$d($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1e,_hoisted_2$F,_hoisted_3$n,_hoisted_4$i,_hoisted_5$f,_hoisted_6$a,_hoisted_7$9,_hoisted_8$8,_hoisted_9$6],64)}const IconWeatherQ=_export_sfc(_sfc_main$1F,[["render",_sfc_render$d]]),_sfc_main$1E={},_hoisted_1$1d=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.376 18.428a.502.502 0 0 1-.354-.146l-1.129-1.13a.5.5 0 0 1 .707-.706l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_2$E=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12.946 19.16a.5.5 0 0 1-.228-.945l1.423-.724a.5.5 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_3$m=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.625 20.005a.5.5 0 0 1-.493-.422l-.25-1.577a.499.499 0 1 1 .987-.156l.25 1.577a.499.499 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_4$h=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.376 18.428a.5.5 0 0 1-.445-.727l.725-1.423a.5.5 0 1 1 .89.454l-.724 1.423a.501.501 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_5$e=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M15.953 18.678a.535.535 0 0 1-.079-.006l-1.577-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM19.273 18.428a.502.502 0 0 1-.354-.146l-1.13-1.13a.5.5 0 0 1 .708-.706l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_6$9=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M17.842 19.16a.5.5 0 0 1-.228-.945l1.423-.724a.5.5 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_7$8=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M19.522 20.005a.5.5 0 0 1-.493-.422l-.25-1.577a.499.499 0 1 1 .987-.156l.25 1.577a.499.499 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_8$7=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M19.272 18.428a.5.5 0 0 1-.445-.727l.725-1.423a.499.499 0 1 1 .891.454l-.725 1.423a.501.501 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_9$5=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M20.85 18.678a.535.535 0 0 1-.08-.006l-1.576-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM12 5C9.84 5 7.972 6.526 7.558 8.628a.5.5 0 0 1-.419.398A2.511 2.511 0 0 0 5 11.5C5 12.878 6.122 14 7.5 14H17c1.654 0 3-1.346 3-3s-1.346-3-3-3c-.117 0-.234.008-.356.025a.5.5 0 0 1-.529-.298A4.478 4.478 0 0 0 12 5Zm5 10H7.5C5.57 15 4 13.43 4 11.5a3.52 3.52 0 0 1 2.653-3.396C7.282 5.707 9.478 4 12 4a5.473 5.473 0 0 1 4.879 3.002C19.122 6.902 21 8.754 21 11c0 2.206-1.794 4-4 4ZM7.85 20a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 7.85 20ZM3.5 20a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3A.502.502 0 0 1 3.5 20Z","clip-rule":"evenodd"},null,-1);function _sfc_render$c($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1d,_hoisted_2$E,_hoisted_3$m,_hoisted_4$h,_hoisted_5$e,_hoisted_6$9,_hoisted_7$8,_hoisted_8$7,_hoisted_9$5],64)}const IconWeatherQQ=_export_sfc(_sfc_main$1E,[["render",_sfc_render$c]]),_sfc_main$1D={},_hoisted_1$1c=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.358 12.079a.502.502 0 0 1-.354-.146 3.465 3.465 0 0 1-1.02-2.464c0-.931.362-1.806 1.02-2.464 1.316-1.316 3.611-1.316 4.928 0a.5.5 0 0 1-.707.707c-.939-.938-2.575-.938-3.513 0a2.467 2.467 0 0 0-.728 1.757c0 .663.258 1.287.728 1.756a.502.502 0 0 1-.354.854ZM12.784 6.652a.502.502 0 0 1-.354-.854l.905-.904a.5.5 0 0 1 .707.707l-.904.905a.502.502 0 0 1-.354.146ZM5.248 14.188a.502.502 0 0 1-.354-.854l.905-.904a.5.5 0 0 1 .707.707l-.904.905a.502.502 0 0 1-.354.146ZM6.152 6.652a.502.502 0 0 1-.354-.146l-.904-.905a.5.5 0 0 1 .707-.707l.905.904a.502.502 0 0 1-.354.854ZM4.779 9.968H3.5a.5.5 0 0 1 0-1h1.279a.5.5 0 0 1 0 1ZM9.469 5.279a.5.5 0 0 1-.5-.5v-1.28a.5.5 0 0 1 1 0v1.28a.5.5 0 0 1-.5.5ZM14.276 9a3.016 3.016 0 0 0-2.962 2.418.5.5 0 0 1-.419.398A1.608 1.608 0 0 0 9.526 13.4c0 .882.718 1.6 1.6 1.6h6.65c1.075 0 1.95-.875 1.95-1.95 0-1.151-.966-2.101-2.179-1.934a.495.495 0 0 1-.528-.298A2.984 2.984 0 0 0 14.276 9Zm3.5 7h-6.65a2.604 2.604 0 0 1-2.6-2.6c0-1.166.79-2.185 1.885-2.5A4.023 4.023 0 0 1 14.276 8c1.474 0 2.813.813 3.505 2.1a2.953 2.953 0 0 1 2.945 2.95 2.953 2.953 0 0 1-2.95 2.95ZM14.527 19.425a.502.502 0 0 1-.354-.146l-1.129-1.129a.499.499 0 0 1 0-.707.499.499 0 0 1 .707 0l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_2$D=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13.096 20.158a.5.5 0 0 1-.228-.945l1.423-.725a.498.498 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_3$l=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.776 21.002a.5.5 0 0 1-.493-.422l-.25-1.577a.499.499 0 1 1 .987-.156l.25 1.577a.499.499 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_4$g=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.526 19.425a.5.5 0 0 1-.445-.727l.725-1.423a.5.5 0 1 1 .891.454l-.725 1.423a.501.501 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_5$d=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M16.104 19.675a.535.535 0 0 1-.08-.006l-1.576-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM19.423 19.425a.502.502 0 0 1-.354-.146L17.94 18.15a.499.499 0 0 1 0-.707.499.499 0 0 1 .707 0l1.129 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_6$8=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M17.993 20.158a.5.5 0 0 1-.228-.945l1.423-.725a.498.498 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_7$7=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M19.672 21.002a.5.5 0 0 1-.493-.422l-.25-1.577a.499.499 0 1 1 .987-.156l.25 1.577a.499.499 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_8$6=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M19.422 19.425a.5.5 0 0 1-.445-.727l.725-1.423a.5.5 0 1 1 .891.454l-.725 1.423a.501.501 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_9$4=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M21 19.675a.535.535 0 0 1-.079-.006l-1.577-.25a.499.499 0 1 1 .156-.988l1.578.25a.499.499 0 0 1-.078.994ZM8 20.997a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .707.709l-3 3a.502.502 0 0 1-.354.145ZM3.65 20.997a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.709l-3 3a.502.502 0 0 1-.354.145Z","clip-rule":"evenodd"},null,-1);function _sfc_render$b($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1c,_hoisted_2$D,_hoisted_3$l,_hoisted_4$g,_hoisted_5$d,_hoisted_6$8,_hoisted_7$7,_hoisted_8$6,_hoisted_9$4],64)}const IconWeatherR=_export_sfc(_sfc_main$1D,[["render",_sfc_render$b]]),_sfc_main$1C={},_hoisted_1$1b=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.277 9a3.016 3.016 0 0 0-2.962 2.418.5.5 0 0 1-.419.398A1.608 1.608 0 0 0 9.527 13.4c0 .882.718 1.6 1.6 1.6h6.65c1.075 0 1.95-.875 1.95-1.95 0-1.15-.966-2.1-2.179-1.934a.496.496 0 0 1-.528-.298A2.984 2.984 0 0 0 14.277 9Zm3.5 7h-6.65a2.604 2.604 0 0 1-2.6-2.6c0-1.166.79-2.185 1.885-2.5A4.023 4.023 0 0 1 14.277 8c1.474 0 2.813.813 3.505 2.1a2.953 2.953 0 0 1 2.945 2.95 2.953 2.953 0 0 1-2.95 2.95ZM14.376 19.425a.502.502 0 0 1-.354-.146l-1.129-1.129a.5.5 0 0 1 .707-.707l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_2$C=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12.946 20.158a.5.5 0 0 1-.228-.945l1.423-.725a.499.499 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_3$k=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.625 21.003a.5.5 0 0 1-.493-.422l-.25-1.577a.499.499 0 1 1 .987-.156l.25 1.577a.499.499 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_4$f=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M14.376 19.425a.5.5 0 0 1-.445-.727l.725-1.422a.5.5 0 1 1 .891.454l-.725 1.422a.501.501 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_5$c=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M15.953 19.675a.535.535 0 0 1-.079-.006l-1.577-.25a.499.499 0 0 1-.415-.572.499.499 0 0 1 .571-.416l1.578.25a.499.499 0 0 1-.078.994ZM19.273 19.425a.502.502 0 0 1-.354-.146l-1.13-1.129a.5.5 0 0 1 .708-.707l1.13 1.128a.502.502 0 0 1-.354.854Z","clip-rule":"evenodd"},null,-1),_hoisted_6$7=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M17.842 20.158a.5.5 0 0 1-.228-.945l1.423-.725a.498.498 0 1 1 .454.89l-1.422.725a.503.503 0 0 1-.227.055Z","clip-rule":"evenodd"},null,-1),_hoisted_7$6=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M19.522 21.003a.5.5 0 0 1-.493-.422l-.25-1.577a.499.499 0 1 1 .987-.156l.25 1.577a.499.499 0 0 1-.494.578Z","clip-rule":"evenodd"},null,-1),_hoisted_8$5=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M19.272 19.425a.5.5 0 0 1-.445-.727l.725-1.422a.5.5 0 1 1 .891.454l-.725 1.422a.501.501 0 0 1-.446.273Z","clip-rule":"evenodd"},null,-1),_hoisted_9$3=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M20.85 19.675a.535.535 0 0 1-.08-.006l-1.576-.25a.499.499 0 0 1-.415-.572.499.499 0 0 1 .57-.416l1.579.25a.499.499 0 0 1-.078.994ZM7.85 20.998a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3a.502.502 0 0 1-.354.146ZM3.5 20.998a.502.502 0 0 1-.354-.854l3-3a.502.502 0 0 1 .708.708l-3 3a.502.502 0 0 1-.354.146ZM6.927 4.043l-.063.013a2.358 2.358 0 0 0-1.49 1.042 2.356 2.356 0 0 0-.317 1.79c.137.62.507 1.15 1.042 1.49a2.352 2.352 0 0 0 1.853.303A2.825 2.825 0 0 1 6.186 6.64a2.819 2.819 0 0 1 .38-2.138 2.84 2.84 0 0 1 .361-.458Zm.443 5.71c-.636 0-1.26-.18-1.809-.53a3.359 3.359 0 0 1-1.48-2.119 3.356 3.356 0 0 1 .45-2.544 3.352 3.352 0 0 1 2.117-1.48 3.348 3.348 0 0 1 2.06.196.5.5 0 0 1-.098.95c-.529.113-.938.4-1.202.813a1.823 1.823 0 0 0-.245 1.384 1.834 1.834 0 0 0 2.184 1.398.53.53 0 0 1 .575.213c.116.19.115.426-.032.592a3.352 3.352 0 0 1-2.52 1.126Z","clip-rule":"evenodd"},null,-1);function _sfc_render$a($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1b,_hoisted_2$C,_hoisted_3$k,_hoisted_4$f,_hoisted_5$c,_hoisted_6$7,_hoisted_7$6,_hoisted_8$5,_hoisted_9$3],64)}const IconWeatherRR=_export_sfc(_sfc_main$1C,[["render",_sfc_render$a]]),_sfc_main$1B={},_hoisted_1$1a=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.5 22a.5.5 0 0 1-.5-.5V6.208a.5.5 0 0 1 1 0V21.5a.5.5 0 0 1-.5.5ZM4.5 22a.5.5 0 0 1-.5-.5V6.208a.5.5 0 0 1 1 0V21.5a.5.5 0 0 1-.5.5Z","clip-rule":"evenodd"},null,-1),_hoisted_2$B=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5.5 4c-.551 0-1 .449-1 1 0 .551.449 1 1 1 .551 0 1-.449 1-1 0-.551-.449-1-1-1Zm0 3c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2ZM10 8c-.353 0-1 1.139-1 3s.647 3 1 3 1-1.139 1-3-.647-3-1-3Zm0 7c-1.313 0-2-2.012-2-4s.687-4 2-4 2 2.012 2 4-.687 4-2 4Z","clip-rule":"evenodd"},null,-1),_hoisted_3$j=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13 15a.5.5 0 0 1 0-1c.353 0 1-1.139 1-3s-.647-3-1-3h-2.5a.49.49 0 0 1-.121-.015l-4-1a.5.5 0 0 1 .242-.97L10.562 7H13c1.313 0 2 2.012 2 4s-.687 4-2 4Z","clip-rule":"evenodd"},null,-1),_hoisted_4$e=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.5 16a.499.499 0 0 1-.121-.985l4-1c.04-.01.08-.015.12-.015H13a.5.5 0 1 1 0 1h-2.438l-3.94.985A.515.515 0 0 1 6.5 16Z","clip-rule":"evenodd"},null,-1),_hoisted_5$b=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13.083 15a.5.5 0 0 1-.11-.988l4.417-1A.508.508 0 0 1 17.5 13h2c.472 0 1-.855 1-2s-.528-2-1-2h-2a.508.508 0 0 1-.11-.012l-4.417-1a.5.5 0 0 1 .221-.976L17.556 8H19.5c1.122 0 2 1.318 2 3s-.878 3-2 3h-1.944l-4.362.988a.524.524 0 0 1-.11.012Z","clip-rule":"evenodd"},null,-1);function _sfc_render$9($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1a,_hoisted_2$B,_hoisted_3$j,_hoisted_4$e,_hoisted_5$b],64)}const IconWeatherT=_export_sfc(_sfc_main$1B,[["render",_sfc_render$9]]),_sfc_main$1A={},_hoisted_1$19=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.5 22a.5.5 0 0 1-.5-.5V6.208a.5.5 0 0 1 1 0V21.5a.5.5 0 0 1-.5.5ZM4.5 22a.5.5 0 0 1-.5-.5V6.208a.5.5 0 0 1 1 0V21.5a.5.5 0 0 1-.5.5Z","clip-rule":"evenodd"},null,-1),_hoisted_2$A=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5.5 4c-.551 0-1 .449-1 1 0 .551.449 1 1 1 .551 0 1-.449 1-1 0-.551-.449-1-1-1Zm0 3c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2ZM10 8c-.353 0-1 1.139-1 3s.647 3 1 3 1-1.139 1-3-.647-3-1-3Zm0 7c-1.313 0-2-2.012-2-4s.687-4 2-4 2 2.012 2 4-.687 4-2 4Z","clip-rule":"evenodd"},null,-1),_hoisted_3$i=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13 15a.5.5 0 0 1 0-1c.353 0 1-1.139 1-3s-.647-3-1-3h-2.5a.49.49 0 0 1-.121-.015l-4-1a.5.5 0 0 1 .242-.97L10.562 7H13c1.313 0 2 2.012 2 4s-.687 4-2 4Z","clip-rule":"evenodd"},null,-1),_hoisted_4$d=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.5 16a.499.499 0 0 1-.121-.985l4-1c.04-.01.08-.015.12-.015H13a.5.5 0 1 1 0 1h-2.438l-3.94.985A.515.515 0 0 1 6.5 16Z","clip-rule":"evenodd"},null,-1),_hoisted_5$a=createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13.083 15a.5.5 0 0 1-.11-.988l4.417-1A.508.508 0 0 1 17.5 13h2c.472 0 1-.855 1-2s-.528-2-1-2h-2a.508.508 0 0 1-.11-.012l-4.417-1a.5.5 0 0 1 .221-.976L17.556 8H19.5c1.122 0 2 1.318 2 3s-.878 3-2 3h-1.944l-4.362.988a.524.524 0 0 1-.11.012Z","clip-rule":"evenodd"},null,-1);function _sfc_render$8($,_){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$19,_hoisted_2$A,_hoisted_3$i,_hoisted_4$d,_hoisted_5$a],64)}const IconWeatherTT=_export_sfc(_sfc_main$1A,[["render",_sfc_render$8]]),mapPerfApiIcon=$=>{if(!$)return null;try{const _=$.split("_");return`${_[1]}-${_[0]}`}catch(_){return console.error(_),null}},mapGraphicIcon=$=>{if(!$)return null;try{return`icon-${$.replace("_","-").toLowerCase()}`}catch(_){return console.error(_),null}},icons=Object.freeze(Object.defineProperty({__proto__:null,IconBell,IconCaretDown,IconCars,IconCheck,IconChevronRight,IconChevronSolidRight,IconComment,IconDarkMode,IconEyeClosed,IconEyeOpen,IconFacebook,IconFootball,IconGames,IconInfo,IconInstagram,IconLinkedin,IconLoading,IconLogoNu,IconLogoNu25Year,IconMegaphone,IconPinOutline,IconPinSolid,IconPlay,IconPlus,IconQuestion,IconRSS,IconShare,IconStocks,IconThumbsUp,IconTv,IconUser,IconWeather,IconWeatherA,IconWeatherAa:IconWeatherAA,IconWeatherB,IconWeatherBb:IconWeatherBB,IconWeatherC,IconWeatherCc:IconWeatherCC,IconWeatherD,IconWeatherDd:IconWeatherDD,IconWeatherE,IconWeatherEe:IconWeatherEE,IconWeatherF,IconWeatherFf:IconWeatherFF,IconWeatherG,IconWeatherGg:IconWeatherGG,IconWeatherH,IconWeatherHh:IconWeatherHH,IconWeatherI,IconWeatherIi:IconWeatherII,IconWeatherJ,IconWeatherJj:IconWeatherJJ,IconWeatherK,IconWeatherKk:IconWeatherKK,IconWeatherL,IconWeatherLl:IconWeatherLL,IconWeatherM,IconWeatherMm:IconWeatherMM,IconWeatherN,IconWeatherNn:IconWeatherNN,IconWeatherO,IconWeatherOo:IconWeatherOO,IconWeatherP,IconWeatherPp:IconWeatherPP,IconWeatherQ,IconWeatherQq:IconWeatherQQ,IconWeatherR,IconWeatherRr:IconWeatherRR,IconWeatherT,IconWeatherTt:IconWeatherTT,IconWhatsapp,IconX,mapGraphicIcon,mapPerfApiIcon},Symbol.toStringTag,{value:"Module"})),iconsPlugin={install:$=>{Object.keys(icons).forEach(_=>{$.component(_,icons[_])})}};var OutputMode=($=>($.DEFAULT="default",$.FALLBACK="fallback",$))(OutputMode||{});const _hoisted_1$18={class:"audio-block"},_hoisted_2$z=["src"],_sfc_main$1z=defineComponent({__name:"AudioBlock",props:{block:{}},setup($){const _=$,j=computed(()=>{const ee=_.block.embedUrl?.replace(/\/$/,"");return ee&&ee.slice(-5)==="embed"?ee:ee+"/embed"});return(ee,re)=>(openBlock(),createElementBlock("div",_hoisted_1$18,[createBaseVNode("iframe",{title:"Audio block",class:"audio-block__embed",src:j.value,scrolling:"no"},null,8,_hoisted_2$z)]))}}),isSingleColumnMQ=typeof window<"u"&&window.matchMedia?.("(max-width: 767px)")||void 0,_hoisted_1$17=["id"],_sfc_main$1y=defineComponent({__name:"Banner",props:{slotName:{},blockId:{default:void 0},showInSingleColumn:{type:Boolean,default:!0},showInDoubleColumn:{type:Boolean,default:!0}},setup($){const _=$,j=ref$1(!1),ee=ref$1(!1),re=ref$1(),le=_.blockId||"fixed",de={banner:!0,[`banner--${_.slotName}`]:!0,"banner--hide-single-column":!_.showInSingleColumn,"banner--hide-double-column":!_.showInDoubleColumn},ge=()=>{ee.value=!0},ve=[],Ee=()=>{const Se=window.advert.getSettings().slotNameMappings[_.slotName];let ke;try{switch(!0){case typeof Se=="string":ke=Se;break;case isSingleColumnMQ?.matches:ke=Se.small;break;default:ke=Se.default}window.advert.addHook(`slot.${ke}.rendered`,ge),ve.push(ke)}catch{console.error("[BANNER] Slot not in config:",_.slotName,`

 slotMapping:`,Se)}};onUnmounted(()=>ve.forEach(Ae=>window.advert.removeHook(`slot.${Ae}.rendered`,ge))),onMounted(()=>{watchEffect(()=>{window.loadAdvertSlot&&j.value&&(window.loadAdvertSlot(_.slotName,`${_.slotName}-${le}__slot`),Array.isArray(window.advert.cmd)?window.advert.cmd.push(["loaded",Ee]):Ee())})});const Ce=Ae=>{Ae.matches===!0?_.showInSingleColumn&&(j.value=!0):_.showInDoubleColumn&&(j.value=!0)};return onMounted(()=>{(_.showInSingleColumn||_.showInDoubleColumn)&&isSingleColumnMQ?(Ce(isSingleColumnMQ),isSingleColumnMQ.addEventListener("change",Ce)):j.value=!0}),onUnmounted(()=>{(_.showInSingleColumn||_.showInDoubleColumn)&&isSingleColumnMQ&&isSingleColumnMQ.removeEventListener("change",Ce)}),(Ae,Se)=>(openBlock(),createElementBlock("aside",{ref_key:"banner",ref:re,"aria-hidden":"true",class:normalizeClass(de)},[createBaseVNode("div",{id:`${Ae.slotName}-${unref(le)}__slot`,class:"banner__slot"},null,8,_hoisted_1$17)],512))}}),_sfc_main$1x=defineComponent({__name:"BannerBlock",props:{block:{}},setup($){return(_,j)=>(openBlock(),createBlock(_sfc_main$1y,{"block-id":_.block.id,"slot-name":_.block.slotName,"show-in-double-column":_.block.showOnDesktop,"show-in-single-column":_.block.showOnMobile},null,8,["block-id","slot-name","show-in-double-column","show-in-single-column"]))}});let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let $=0;$<256;++$)byteToHex.push(($+256).toString(16).slice(1));function unsafeStringify($,_=0){return byteToHex[$[_+0]]+byteToHex[$[_+1]]+byteToHex[$[_+2]]+byteToHex[$[_+3]]+"-"+byteToHex[$[_+4]]+byteToHex[$[_+5]]+"-"+byteToHex[$[_+6]]+byteToHex[$[_+7]]+"-"+byteToHex[$[_+8]]+byteToHex[$[_+9]]+"-"+byteToHex[$[_+10]]+byteToHex[$[_+11]]+byteToHex[$[_+12]]+byteToHex[$[_+13]]+byteToHex[$[_+14]]+byteToHex[$[_+15]]}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4($,_,j){if(native.randomUUID&&!_&&!$)return native.randomUUID();$=$||{};const ee=$.random||($.rng||rng)();if(ee[6]=ee[6]&15|64,ee[8]=ee[8]&63|128,_){j=j||0;for(let re=0;re<16;++re)_[j+re]=ee[re];return _}return unsafeStringify(ee)}const resolveTargetUrl=$=>{if(!$)return;let _;return(isUrlTarget($)||isScreenTarget($))&&(_=$.url),(isVideoTarget($)||isJWPlayerVideoTarget($)||isAudioTarget($))&&(_=$.shareUrl),_?new URL(_):void 0},relMapper=$=>({[UrlRelation.Nofollow]:"nofollow",[UrlRelation.Noopener]:"noopener",[UrlRelation.Noreferrer]:"noreferrer"})[$],resolveTargetRel=$=>{if(isUrlTarget($)){const _=$.relation?.map(relMapper)||[];return isNunlDomain($.url)||_.push("sponsored"),_.length?_.join(" "):void 0}},isNunlDomain=$=>new RegExp("https?://(www.|www.test.|www.staging.)?(?=nu.nl)","i").test($),idFromPath=$=>/\/(\d+)\//.exec($)?.[1]||"",getTrackingItemType=$=>{if($){if(isAudioTarget($))return"audio";if(isVideoTarget($)||isJWPlayerVideoTarget($))return"video"}return"article"};class Gtm{dataLayer;containerId;constructor(){window.dataLayer=window.dataLayer||[],this.dataLayer=window.dataLayer,this.containerId=getEnvVariable("VITE_GTM_CONTAINER")}install(_){if(environment===Environment.Server)throw new Error("Gtm is a client-side only module");_.provide("Gtm",this)}add(_){this.dataLayer.push(_)}}class ServerGtm{add(){throw new Error("Can't call Gtm add during server rendering!")}}const useGtm=()=>typeof window>"u"?inject("Gtm",new ServerGtm):inject("Gtm",new Gtm),getGtmListLinkAttributes=({block:$,index:_,title:j})=>({__typename:"GTMLinkAttributes",list:j,category:"teaser",teaserType:getTrackingItemType($.link?.target),itemUrl:resolveTargetUrl($.link?.target)?.href,position:(_+1).toString(),contentId:isScreenTarget($.link?.target)?$.link.target.targetId:"",itemLabel:$.link?.linkFlavor?.label?.text,teaserTitle:$.link?.title?.text,element:isLargeArticleLinkFlavor($.link?.linkFlavor)?"headline-image":"list-item"}),getGtmLinkAttributes=({block:$,linkType:_})=>({__typename:"GTMLinkAttributes",action:isMoreLinkFlavor($.link?.linkFlavor)&&isScreenTarget($.link.target)?`click-more_${$.link.target.targetId}`:"link-click",category:isMoreLinkFlavor($.link?.linkFlavor)?"list-block":"article",label:`${_}_${resolveTargetUrl($.link?.target)}`}),camelToHyphenated=$=>$.split("").map(_=>_===_.toUpperCase()?`-${_.toLocaleLowerCase()}`:_).join(""),createDataLinkAttributes=$=>$?Object.entries($).reduce((_,[j,ee])=>j==="__typename"?_:{..._,[`data-${camelToHyphenated(j)}`]:ee},{}):"",_sfc_main$1w=defineComponent({__name:"AppButton",props:{buttonType:{default:void 0},colorway:{default:void 0},brand:{default:void 0},gtmButtonAttributes:{default:void 0}},setup($){const _=$,j=computed(()=>{const re={cta:"app-button--cta",inversed:"app-button--inversed",inline:"app-button--inline"},le=["app-button"];return _.buttonType&&le.push(re[_.buttonType]),_.brand!==void 0&&(_.brand==="inherit"?le.push("branded"):le.push(`branded branded--${_.brand}`)),_.colorway!==void 0&&le.push(`colorway colorway--${_.colorway}`),le}),ee=_.gtmButtonAttributes&&createDataLinkAttributes(_.gtmButtonAttributes);return(re,le)=>(openBlock(),createElementBlock("button",mergeProps({class:j.value},unref(ee)),[renderSlot(re.$slots,"default",{},()=>[createTextVNode("Klik hier")])],16))}});var isVue2=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let activePinia;const setActivePinia=$=>activePinia=$,piniaSymbol=Symbol();function isPlainObject$1($){return $&&typeof $=="object"&&Object.prototype.toString.call($)==="[object Object]"&&typeof $.toJSON!="function"}var MutationType;(function($){$.direct="direct",$.patchObject="patch object",$.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const $=effectScope(!0),_=$.run(()=>ref$1({}));let j=[],ee=[];const re=markRaw({install(le){setActivePinia(re),re._a=le,le.provide(piniaSymbol,re),le.config.globalProperties.$pinia=re,ee.forEach(de=>j.push(de)),ee=[]},use(le){return!this._a&&!isVue2?ee.push(le):j.push(le),this},_p:j,_a:null,_e:$,_s:new Map,state:_});return re}const noop$2=()=>{};function addSubscription($,_,j,ee=noop$2){$.push(_);const re=()=>{const le=$.indexOf(_);le>-1&&($.splice(le,1),ee())};return!j&&getCurrentScope()&&onScopeDispose(re),re}function triggerSubscriptions($,..._){$.slice().forEach(j=>{j(..._)})}const fallbackRunWithContext=$=>$();function mergeReactiveObjects($,_){$ instanceof Map&&_ instanceof Map&&_.forEach((j,ee)=>$.set(ee,j)),$ instanceof Set&&_ instanceof Set&&_.forEach($.add,$);for(const j in _){if(!_.hasOwnProperty(j))continue;const ee=_[j],re=$[j];isPlainObject$1(re)&&isPlainObject$1(ee)&&$.hasOwnProperty(j)&&!isRef(ee)&&!isReactive(ee)?$[j]=mergeReactiveObjects(re,ee):$[j]=ee}return $}const skipHydrateSymbol=Symbol();function shouldHydrate($){return!isPlainObject$1($)||!$.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$1}=Object;function isComputed($){return!!(isRef($)&&$.effect)}function createOptionsStore($,_,j,ee){const{state:re,actions:le,getters:de}=_,ge=j.state.value[$];let ve;function Ee(){ge||(j.state.value[$]=re?re():{});const Ce=toRefs(j.state.value[$]);return assign$1(Ce,le,Object.keys(de||{}).reduce((Ae,Se)=>(Ae[Se]=markRaw(computed(()=>{setActivePinia(j);const ke=j._s.get($);return de[Se].call(ke,ke)})),Ae),{}))}return ve=createSetupStore($,Ee,_,j,ee,!0),ve}function createSetupStore($,_,j={},ee,re,le){let de;const ge=assign$1({actions:{}},j),ve={deep:!0};let Ee,Ce,Ae=[],Se=[],ke;const we=ee.state.value[$];!le&&!we&&(ee.state.value[$]={}),ref$1({});let Ne;function Le(We){let Ze;Ee=Ce=!1,typeof We=="function"?(We(ee.state.value[$]),Ze={type:MutationType.patchFunction,storeId:$,events:ke}):(mergeReactiveObjects(ee.state.value[$],We),Ze={type:MutationType.patchObject,payload:We,storeId:$,events:ke});const Qe=Ne=Symbol();nextTick().then(()=>{Ne===Qe&&(Ee=!0)}),Ce=!0,triggerSubscriptions(Ae,Ze,ee.state.value[$])}const Me=le?function(){const{state:Ze}=j,Qe=Ze?Ze():{};this.$patch(tt=>{assign$1(tt,Qe)})}:noop$2;function Fe(){de.stop(),Ae=[],Se=[],ee._s.delete($)}function xe(We,Ze){return function(){setActivePinia(ee);const Qe=Array.from(arguments),tt=[],Ke=[];function Xe(He){tt.push(He)}function ot(He){Ke.push(He)}triggerSubscriptions(Se,{args:Qe,name:We,store:De,after:Xe,onError:ot});let et;try{et=Ze.apply(this&&this.$id===$?this:De,Qe)}catch(He){throw triggerSubscriptions(Ke,He),He}return et instanceof Promise?et.then(He=>(triggerSubscriptions(tt,He),He)).catch(He=>(triggerSubscriptions(Ke,He),Promise.reject(He))):(triggerSubscriptions(tt,et),et)}}const $e={_p:ee,$id:$,$onAction:addSubscription.bind(null,Se),$patch:Le,$reset:Me,$subscribe(We,Ze={}){const Qe=addSubscription(Ae,We,Ze.detached,()=>tt()),tt=de.run(()=>watch(()=>ee.state.value[$],Ke=>{(Ze.flush==="sync"?Ce:Ee)&&We({storeId:$,type:MutationType.direct,events:ke},Ke)},assign$1({},ve,Ze)));return Qe},$dispose:Fe},De=reactive($e);ee._s.set($,De);const Ge=(ee._a&&ee._a.runWithContext||fallbackRunWithContext)(()=>ee._e.run(()=>(de=effectScope()).run(_)));for(const We in Ge){const Ze=Ge[We];if(isRef(Ze)&&!isComputed(Ze)||isReactive(Ze))le||(we&&shouldHydrate(Ze)&&(isRef(Ze)?Ze.value=we[We]:mergeReactiveObjects(Ze,we[We])),ee.state.value[$][We]=Ze);else if(typeof Ze=="function"){const Qe=xe(We,Ze);Ge[We]=Qe,ge.actions[We]=Ze}}return assign$1(De,Ge),assign$1(toRaw(De),Ge),Object.defineProperty(De,"$state",{get:()=>ee.state.value[$],set:We=>{Le(Ze=>{assign$1(Ze,We)})}}),ee._p.forEach(We=>{assign$1(De,de.run(()=>We({store:De,app:ee._a,pinia:ee,options:ge})))}),we&&le&&j.hydrate&&j.hydrate(De.$state,we),Ee=!0,Ce=!0,De}function defineStore($,_,j){let ee,re;const le=typeof _=="function";typeof $=="string"?(ee=$,re=le?j:_):(re=$,ee=$.id);function de(ge,ve){const Ee=hasInjectionContext();return ge=ge||(Ee?inject(piniaSymbol,null):null),ge&&setActivePinia(ge),ge=activePinia,ge._s.has(ee)||(le?createSetupStore(ee,_,re,ge):createOptionsStore(ee,re,ge)),ge._s.get(ee)}return de.$id=ee,de}const objectToString=Object.prototype.toString;function isError$1($){switch(objectToString.call($)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf($,Error)}}function isBuiltin($,_){return objectToString.call($)===`[object ${_}]`}function isErrorEvent$1($){return isBuiltin($,"ErrorEvent")}function isDOMError($){return isBuiltin($,"DOMError")}function isDOMException($){return isBuiltin($,"DOMException")}function isString($){return isBuiltin($,"String")}function isPrimitive($){return $===null||typeof $!="object"&&typeof $!="function"}function isPlainObject($){return isBuiltin($,"Object")}function isEvent($){return typeof Event<"u"&&isInstanceOf($,Event)}function isElement($){return typeof Element<"u"&&isInstanceOf($,Element)}function isRegExp($){return isBuiltin($,"RegExp")}function isThenable($){return!!($&&$.then&&typeof $.then=="function")}function isSyntheticEvent($){return isPlainObject($)&&"nativeEvent"in $&&"preventDefault"in $&&"stopPropagation"in $}function isNaN$1($){return typeof $=="number"&&$!==$}function isInstanceOf($,_){try{return $ instanceof _}catch{return!1}}function isVueViewModel($){return!!(typeof $=="object"&&$!==null&&($.__isVue||$._isVue))}function truncate($,_=0){return typeof $!="string"||_===0||$.length<=_?$:`${$.slice(0,_)}...`}function safeJoin($,_){if(!Array.isArray($))return"";const j=[];for(let ee=0;ee<$.length;ee++){const re=$[ee];try{isVueViewModel(re)?j.push("[VueViewModel]"):j.push(String(re))}catch{j.push("[value cannot be serialized]")}}return j.join(_)}function isMatchingPattern($,_,j=!1){return isString($)?isRegExp(_)?_.test($):isString(_)?j?$===_:$.includes(_):!1:!1}function stringMatchesSomePattern($,_=[],j=!1){return _.some(ee=>isMatchingPattern($,ee,j))}function applyAggregateErrorsToEvent($,_,j=250,ee,re,le,de){if(!le.exception||!le.exception.values||!de||!isInstanceOf(de.originalException,Error))return;const ge=le.exception.values.length>0?le.exception.values[le.exception.values.length-1]:void 0;ge&&(le.exception.values=truncateAggregateExceptions(aggregateExceptionsFromError($,_,re,de.originalException,ee,le.exception.values,ge,0),j))}function aggregateExceptionsFromError($,_,j,ee,re,le,de,ge){if(le.length>=j+1)return le;let ve=[...le];if(isInstanceOf(ee[re],Error)){applyExceptionGroupFieldsForParentException(de,ge);const Ee=$(_,ee[re]),Ce=ve.length;applyExceptionGroupFieldsForChildException(Ee,re,Ce,ge),ve=aggregateExceptionsFromError($,_,j,ee[re],re,[Ee,...ve],Ee,Ce)}return Array.isArray(ee.errors)&&ee.errors.forEach((Ee,Ce)=>{if(isInstanceOf(Ee,Error)){applyExceptionGroupFieldsForParentException(de,ge);const Ae=$(_,Ee),Se=ve.length;applyExceptionGroupFieldsForChildException(Ae,`errors[${Ce}]`,Se,ge),ve=aggregateExceptionsFromError($,_,j,Ee,re,[Ae,...ve],Ae,Se)}}),ve}function applyExceptionGroupFieldsForParentException($,_){$.mechanism=$.mechanism||{type:"generic",handled:!0},$.mechanism={...$.mechanism,is_exception_group:!0,exception_id:_}}function applyExceptionGroupFieldsForChildException($,_,j,ee){$.mechanism=$.mechanism||{type:"generic",handled:!0},$.mechanism={...$.mechanism,type:"chained",source:_,exception_id:j,parent_id:ee}}function truncateAggregateExceptions($,_){return $.map(j=>(j.value&&(j.value=truncate(j.value,_)),j))}function isGlobalObj($){return $&&$.Math==Math?$:void 0}const GLOBAL_OBJ=typeof globalThis=="object"&&isGlobalObj(globalThis)||typeof window=="object"&&isGlobalObj(window)||typeof self=="object"&&isGlobalObj(self)||typeof global=="object"&&isGlobalObj(global)||function(){return this}()||{};function getGlobalObject(){return GLOBAL_OBJ}function getGlobalSingleton($,_,j){const ee=j||GLOBAL_OBJ,re=ee.__SENTRY__=ee.__SENTRY__||{};return re[$]||(re[$]=_())}const WINDOW$7=getGlobalObject(),DEFAULT_MAX_STRING_LENGTH=80;function htmlTreeAsString($,_={}){if(!$)return"<unknown>";try{let j=$;const ee=5,re=[];let le=0,de=0;const ge=" > ",ve=ge.length;let Ee;const Ce=Array.isArray(_)?_:_.keyAttrs,Ae=!Array.isArray(_)&&_.maxStringLength||DEFAULT_MAX_STRING_LENGTH;for(;j&&le++<ee&&(Ee=_htmlElementAsString(j,Ce),!(Ee==="html"||le>1&&de+re.length*ve+Ee.length>=Ae));)re.push(Ee),de+=Ee.length,j=j.parentNode;return re.reverse().join(ge)}catch{return"<unknown>"}}function _htmlElementAsString($,_){const j=$,ee=[];let re,le,de,ge,ve;if(!j||!j.tagName)return"";ee.push(j.tagName.toLowerCase());const Ee=_&&_.length?_.filter(Ae=>j.getAttribute(Ae)).map(Ae=>[Ae,j.getAttribute(Ae)]):null;if(Ee&&Ee.length)Ee.forEach(Ae=>{ee.push(`[${Ae[0]}="${Ae[1]}"]`)});else if(j.id&&ee.push(`#${j.id}`),re=j.className,re&&isString(re))for(le=re.split(/\s+/),ve=0;ve<le.length;ve++)ee.push(`.${le[ve]}`);const Ce=["aria-label","type","name","title","alt"];for(ve=0;ve<Ce.length;ve++)de=Ce[ve],ge=j.getAttribute(de),ge&&ee.push(`[${de}="${ge}"]`);return ee.join("")}function getLocationHref(){try{return WINDOW$7.document.location.href}catch{return""}}const DEBUG_BUILD$3=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,PREFIX="Sentry Logger ",CONSOLE_LEVELS=["debug","info","warn","error","log","assert","trace"],originalConsoleMethods={};function consoleSandbox($){if(!("console"in GLOBAL_OBJ))return $();const _=GLOBAL_OBJ.console,j={},ee=Object.keys(originalConsoleMethods);ee.forEach(re=>{const le=originalConsoleMethods[re];j[re]=_[re],_[re]=le});try{return $()}finally{ee.forEach(re=>{_[re]=j[re]})}}function makeLogger(){let $=!1;const _={enable:()=>{$=!0},disable:()=>{$=!1},isEnabled:()=>$};return DEBUG_BUILD$3?CONSOLE_LEVELS.forEach(j=>{_[j]=(...ee)=>{$&&consoleSandbox(()=>{GLOBAL_OBJ.console[j](`${PREFIX}[${j}]:`,...ee)})}}):CONSOLE_LEVELS.forEach(j=>{_[j]=()=>{}}),_}const logger$2=makeLogger(),DSN_REGEX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function isValidProtocol($){return $==="http"||$==="https"}function dsnToString($,_=!1){const{host:j,path:ee,pass:re,port:le,projectId:de,protocol:ge,publicKey:ve}=$;return`${ge}://${ve}${_&&re?`:${re}`:""}@${j}${le?`:${le}`:""}/${ee&&`${ee}/`}${de}`}function dsnFromString($){const _=DSN_REGEX.exec($);if(!_){consoleSandbox(()=>{console.error(`Invalid Sentry Dsn: ${$}`)});return}const[j,ee,re="",le,de="",ge]=_.slice(1);let ve="",Ee=ge;const Ce=Ee.split("/");if(Ce.length>1&&(ve=Ce.slice(0,-1).join("/"),Ee=Ce.pop()),Ee){const Ae=Ee.match(/^\d+/);Ae&&(Ee=Ae[0])}return dsnFromComponents({host:le,pass:re,path:ve,projectId:Ee,port:de,protocol:j,publicKey:ee})}function dsnFromComponents($){return{protocol:$.protocol,publicKey:$.publicKey||"",pass:$.pass||"",host:$.host,port:$.port||"",path:$.path||"",projectId:$.projectId}}function validateDsn($){if(!DEBUG_BUILD$3)return!0;const{port:_,projectId:j,protocol:ee}=$;return["protocol","publicKey","host","projectId"].find(de=>$[de]?!1:(logger$2.error(`Invalid Sentry Dsn: ${de} missing`),!0))?!1:j.match(/^\d+$/)?isValidProtocol(ee)?_&&isNaN(parseInt(_,10))?(logger$2.error(`Invalid Sentry Dsn: Invalid port ${_}`),!1):!0:(logger$2.error(`Invalid Sentry Dsn: Invalid protocol ${ee}`),!1):(logger$2.error(`Invalid Sentry Dsn: Invalid projectId ${j}`),!1)}function makeDsn($){const _=typeof $=="string"?dsnFromString($):dsnFromComponents($);if(!(!_||!validateDsn(_)))return _}class SentryError extends Error{constructor(_,j="warn"){super(_),this.message=_,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=j}}function fill($,_,j){if(!(_ in $))return;const ee=$[_],re=j(ee);typeof re=="function"&&markFunctionWrapped(re,ee),$[_]=re}function addNonEnumerableProperty($,_,j){try{Object.defineProperty($,_,{value:j,writable:!0,configurable:!0})}catch{DEBUG_BUILD$3&&logger$2.log(`Failed to add non-enumerable property "${_}" to object`,$)}}function markFunctionWrapped($,_){try{const j=_.prototype||{};$.prototype=_.prototype=j,addNonEnumerableProperty($,"__sentry_original__",_)}catch{}}function getOriginalFunction($){return $.__sentry_original__}function urlEncode($){return Object.keys($).map(_=>`${encodeURIComponent(_)}=${encodeURIComponent($[_])}`).join("&")}function convertToPlainObject($){if(isError$1($))return{message:$.message,name:$.name,stack:$.stack,...getOwnProperties($)};if(isEvent($)){const _={type:$.type,target:serializeEventTarget($.target),currentTarget:serializeEventTarget($.currentTarget),...getOwnProperties($)};return typeof CustomEvent<"u"&&isInstanceOf($,CustomEvent)&&(_.detail=$.detail),_}else return $}function serializeEventTarget($){try{return isElement($)?htmlTreeAsString($):Object.prototype.toString.call($)}catch{return"<unknown>"}}function getOwnProperties($){if(typeof $=="object"&&$!==null){const _={};for(const j in $)Object.prototype.hasOwnProperty.call($,j)&&(_[j]=$[j]);return _}else return{}}function extractExceptionKeysForMessage($,_=40){const j=Object.keys(convertToPlainObject($));if(j.sort(),!j.length)return"[object has no keys]";if(j[0].length>=_)return truncate(j[0],_);for(let ee=j.length;ee>0;ee--){const re=j.slice(0,ee).join(", ");if(!(re.length>_))return ee===j.length?re:truncate(re,_)}return""}function dropUndefinedKeys($){return _dropUndefinedKeys($,new Map)}function _dropUndefinedKeys($,_){if(isPlainObject($)){const j=_.get($);if(j!==void 0)return j;const ee={};_.set($,ee);for(const re of Object.keys($))typeof $[re]<"u"&&(ee[re]=_dropUndefinedKeys($[re],_));return ee}if(Array.isArray($)){const j=_.get($);if(j!==void 0)return j;const ee=[];return _.set($,ee),$.forEach(re=>{ee.push(_dropUndefinedKeys(re,_))}),ee}return $}const STACKTRACE_FRAME_LIMIT=50,WEBPACK_ERROR_REGEXP=/\(error: (.*)\)/,STRIP_FRAME_REGEXP=/captureMessage|captureException/;function createStackParser(...$){const _=$.sort((j,ee)=>j[0]-ee[0]).map(j=>j[1]);return(j,ee=0)=>{const re=[],le=j.split(`
`);for(let de=ee;de<le.length;de++){const ge=le[de];if(ge.length>1024)continue;const ve=WEBPACK_ERROR_REGEXP.test(ge)?ge.replace(WEBPACK_ERROR_REGEXP,"$1"):ge;if(!ve.match(/\S*Error: /)){for(const Ee of _){const Ce=Ee(ve);if(Ce){re.push(Ce);break}}if(re.length>=STACKTRACE_FRAME_LIMIT)break}}return stripSentryFramesAndReverse(re)}}function stackParserFromStackParserOptions($){return Array.isArray($)?createStackParser(...$):$}function stripSentryFramesAndReverse($){if(!$.length)return[];const _=Array.from($);return/sentryWrapped/.test(_[_.length-1].function||"")&&_.pop(),_.reverse(),STRIP_FRAME_REGEXP.test(_[_.length-1].function||"")&&(_.pop(),STRIP_FRAME_REGEXP.test(_[_.length-1].function||"")&&_.pop()),_.slice(0,STACKTRACE_FRAME_LIMIT).map(j=>({...j,filename:j.filename||_[_.length-1].filename,function:j.function||"?"}))}const defaultFunctionName="<anonymous>";function getFunctionName($){try{return!$||typeof $!="function"?defaultFunctionName:$.name||defaultFunctionName}catch{return defaultFunctionName}}const handlers={},instrumented={};function addHandler($,_){handlers[$]=handlers[$]||[],handlers[$].push(_)}function maybeInstrument($,_){instrumented[$]||(_(),instrumented[$]=!0)}function triggerHandlers($,_){const j=$&&handlers[$];if(j)for(const ee of j)try{ee(_)}catch(re){DEBUG_BUILD$3&&logger$2.error(`Error while triggering instrumentation handler.
Type: ${$}
Name: ${getFunctionName(ee)}
Error:`,re)}}function addConsoleInstrumentationHandler($){const _="console";addHandler(_,$),maybeInstrument(_,instrumentConsole)}function instrumentConsole(){"console"in GLOBAL_OBJ&&CONSOLE_LEVELS.forEach(function($){$ in GLOBAL_OBJ.console&&fill(GLOBAL_OBJ.console,$,function(_){return originalConsoleMethods[$]=_,function(...j){triggerHandlers("console",{args:j,level:$});const re=originalConsoleMethods[$];re&&re.apply(GLOBAL_OBJ.console,j)}})})}function uuid4(){const $=GLOBAL_OBJ,_=$.crypto||$.msCrypto;let j=()=>Math.random()*16;try{if(_&&_.randomUUID)return _.randomUUID().replace(/-/g,"");_&&_.getRandomValues&&(j=()=>_.getRandomValues(new Uint8Array(1))[0])}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,ee=>(ee^(j()&15)>>ee/4).toString(16))}function getFirstException($){return $.exception&&$.exception.values?$.exception.values[0]:void 0}function getEventDescription($){const{message:_,event_id:j}=$;if(_)return _;const ee=getFirstException($);return ee?ee.type&&ee.value?`${ee.type}: ${ee.value}`:ee.type||ee.value||j||"<unknown>":j||"<unknown>"}function addExceptionTypeValue($,_,j){const ee=$.exception=$.exception||{},re=ee.values=ee.values||[],le=re[0]=re[0]||{};le.value||(le.value=_||""),le.type||(le.type=j||"Error")}function addExceptionMechanism($,_){const j=getFirstException($);if(!j)return;const ee={type:"generic",handled:!0},re=j.mechanism;if(j.mechanism={...ee,...re,..._},_&&"data"in _){const le={...re&&re.data,..._.data};j.mechanism.data=le}}function checkOrSetAlreadyCaught($){if($&&$.__sentry_captured__)return!0;try{addNonEnumerableProperty($,"__sentry_captured__",!0)}catch{}return!1}function arrayify($){return Array.isArray($)?$:[$]}const WINDOW$6=GLOBAL_OBJ,DEBOUNCE_DURATION=1e3;let debounceTimerID,lastCapturedEventType,lastCapturedEventTargetId;function addClickKeypressInstrumentationHandler($){const _="dom";addHandler(_,$),maybeInstrument(_,instrumentDOM)}function instrumentDOM(){if(!WINDOW$6.document)return;const $=triggerHandlers.bind(null,"dom"),_=makeDOMEventHandler($,!0);WINDOW$6.document.addEventListener("click",_,!1),WINDOW$6.document.addEventListener("keypress",_,!1),["EventTarget","Node"].forEach(j=>{const ee=WINDOW$6[j]&&WINDOW$6[j].prototype;!ee||!ee.hasOwnProperty||!ee.hasOwnProperty("addEventListener")||(fill(ee,"addEventListener",function(re){return function(le,de,ge){if(le==="click"||le=="keypress")try{const ve=this,Ee=ve.__sentry_instrumentation_handlers__=ve.__sentry_instrumentation_handlers__||{},Ce=Ee[le]=Ee[le]||{refCount:0};if(!Ce.handler){const Ae=makeDOMEventHandler($);Ce.handler=Ae,re.call(this,le,Ae,ge)}Ce.refCount++}catch{}return re.call(this,le,de,ge)}}),fill(ee,"removeEventListener",function(re){return function(le,de,ge){if(le==="click"||le=="keypress")try{const ve=this,Ee=ve.__sentry_instrumentation_handlers__||{},Ce=Ee[le];Ce&&(Ce.refCount--,Ce.refCount<=0&&(re.call(this,le,Ce.handler,ge),Ce.handler=void 0,delete Ee[le]),Object.keys(Ee).length===0&&delete ve.__sentry_instrumentation_handlers__)}catch{}return re.call(this,le,de,ge)}}))})}function isSimilarToLastCapturedEvent($){if($.type!==lastCapturedEventType)return!1;try{if(!$.target||$.target._sentryId!==lastCapturedEventTargetId)return!1}catch{}return!0}function shouldSkipDOMEvent($,_){return $!=="keypress"?!1:!_||!_.tagName?!0:!(_.tagName==="INPUT"||_.tagName==="TEXTAREA"||_.isContentEditable)}function makeDOMEventHandler($,_=!1){return j=>{if(!j||j._sentryCaptured)return;const ee=getEventTarget(j);if(shouldSkipDOMEvent(j.type,ee))return;addNonEnumerableProperty(j,"_sentryCaptured",!0),ee&&!ee._sentryId&&addNonEnumerableProperty(ee,"_sentryId",uuid4());const re=j.type==="keypress"?"input":j.type;isSimilarToLastCapturedEvent(j)||($({event:j,name:re,global:_}),lastCapturedEventType=j.type,lastCapturedEventTargetId=ee?ee._sentryId:void 0),clearTimeout(debounceTimerID),debounceTimerID=WINDOW$6.setTimeout(()=>{lastCapturedEventTargetId=void 0,lastCapturedEventType=void 0},DEBOUNCE_DURATION)}}function getEventTarget($){try{return $.target}catch{return null}}const WINDOW$5=getGlobalObject();function supportsFetch(){if(!("fetch"in WINDOW$5))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function isNativeFetch($){return $&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test($.toString())}function supportsNativeFetch(){if(typeof EdgeRuntime=="string")return!0;if(!supportsFetch())return!1;if(isNativeFetch(WINDOW$5.fetch))return!0;let $=!1;const _=WINDOW$5.document;if(_&&typeof _.createElement=="function")try{const j=_.createElement("iframe");j.hidden=!0,_.head.appendChild(j),j.contentWindow&&j.contentWindow.fetch&&($=isNativeFetch(j.contentWindow.fetch)),_.head.removeChild(j)}catch(j){DEBUG_BUILD$3&&logger$2.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",j)}return $}function addFetchInstrumentationHandler($){const _="fetch";addHandler(_,$),maybeInstrument(_,instrumentFetch)}function instrumentFetch(){supportsNativeFetch()&&fill(GLOBAL_OBJ,"fetch",function($){return function(..._){const{method:j,url:ee}=parseFetchArgs(_),re={args:_,fetchData:{method:j,url:ee},startTimestamp:Date.now()};return triggerHandlers("fetch",{...re}),$.apply(GLOBAL_OBJ,_).then(le=>{const de={...re,endTimestamp:Date.now(),response:le};return triggerHandlers("fetch",de),le},le=>{const de={...re,endTimestamp:Date.now(),error:le};throw triggerHandlers("fetch",de),le})}})}function hasProp($,_){return!!$&&typeof $=="object"&&!!$[_]}function getUrlFromResource($){return typeof $=="string"?$:$?hasProp($,"url")?$.url:$.toString?$.toString():"":""}function parseFetchArgs($){if($.length===0)return{method:"GET",url:""};if($.length===2){const[j,ee]=$;return{url:getUrlFromResource(j),method:hasProp(ee,"method")?String(ee.method).toUpperCase():"GET"}}const _=$[0];return{url:getUrlFromResource(_),method:hasProp(_,"method")?String(_.method).toUpperCase():"GET"}}let _oldOnErrorHandler=null;function addGlobalErrorInstrumentationHandler($){const _="error";addHandler(_,$),maybeInstrument(_,instrumentError)}function instrumentError(){_oldOnErrorHandler=GLOBAL_OBJ.onerror,GLOBAL_OBJ.onerror=function($,_,j,ee,re){return triggerHandlers("error",{column:ee,error:re,line:j,msg:$,url:_}),_oldOnErrorHandler&&!_oldOnErrorHandler.__SENTRY_LOADER__?_oldOnErrorHandler.apply(this,arguments):!1},GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}let _oldOnUnhandledRejectionHandler=null;function addGlobalUnhandledRejectionInstrumentationHandler($){const _="unhandledrejection";addHandler(_,$),maybeInstrument(_,instrumentUnhandledRejection)}function instrumentUnhandledRejection(){_oldOnUnhandledRejectionHandler=GLOBAL_OBJ.onunhandledrejection,GLOBAL_OBJ.onunhandledrejection=function($){return triggerHandlers("unhandledrejection",$),_oldOnUnhandledRejectionHandler&&!_oldOnUnhandledRejectionHandler.__SENTRY_LOADER__?_oldOnUnhandledRejectionHandler.apply(this,arguments):!0},GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const WINDOW$4=getGlobalObject();function supportsHistory(){const $=WINDOW$4.chrome,_=$&&$.app&&$.app.runtime,j="history"in WINDOW$4&&!!WINDOW$4.history.pushState&&!!WINDOW$4.history.replaceState;return!_&&j}const WINDOW$3=GLOBAL_OBJ;let lastHref;function addHistoryInstrumentationHandler($){const _="history";addHandler(_,$),maybeInstrument(_,instrumentHistory)}function instrumentHistory(){if(!supportsHistory())return;const $=WINDOW$3.onpopstate;WINDOW$3.onpopstate=function(...j){const ee=WINDOW$3.location.href,re=lastHref;if(lastHref=ee,triggerHandlers("history",{from:re,to:ee}),$)try{return $.apply(this,j)}catch{}};function _(j){return function(...ee){const re=ee.length>2?ee[2]:void 0;if(re){const le=lastHref,de=String(re);lastHref=de,triggerHandlers("history",{from:le,to:de})}return j.apply(this,ee)}}fill(WINDOW$3.history,"pushState",_),fill(WINDOW$3.history,"replaceState",_)}const WINDOW$2=GLOBAL_OBJ,SENTRY_XHR_DATA_KEY="__sentry_xhr_v3__";function addXhrInstrumentationHandler($){const _="xhr";addHandler(_,$),maybeInstrument(_,instrumentXHR)}function instrumentXHR(){if(!WINDOW$2.XMLHttpRequest)return;const $=XMLHttpRequest.prototype;fill($,"open",function(_){return function(...j){const ee=Date.now(),re=isString(j[0])?j[0].toUpperCase():void 0,le=parseUrl$1(j[1]);if(!re||!le)return;this[SENTRY_XHR_DATA_KEY]={method:re,url:le,request_headers:{}},re==="POST"&&le.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const de=()=>{const ge=this[SENTRY_XHR_DATA_KEY];if(ge&&this.readyState===4){try{ge.status_code=this.status}catch{}const ve={args:[re,le],endTimestamp:Date.now(),startTimestamp:ee,xhr:this};triggerHandlers("xhr",ve)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?fill(this,"onreadystatechange",function(ge){return function(...ve){return de(),ge.apply(this,ve)}}):this.addEventListener("readystatechange",de),fill(this,"setRequestHeader",function(ge){return function(...ve){const[Ee,Ce]=ve,Ae=this[SENTRY_XHR_DATA_KEY];return Ae&&isString(Ee)&&isString(Ce)&&(Ae.request_headers[Ee.toLowerCase()]=Ce),ge.apply(this,ve)}}),_.apply(this,j)}}),fill($,"send",function(_){return function(...j){const ee=this[SENTRY_XHR_DATA_KEY];if(!ee)return;j[0]!==void 0&&(ee.body=j[0]);const re={args:[ee.method,ee.url],startTimestamp:Date.now(),xhr:this};return triggerHandlers("xhr",re),_.apply(this,j)}})}function parseUrl$1($){if(isString($))return $;try{return $.toString()}catch{}}function isBrowserBundle(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function getSDKSource(){return"npm"}function isNodeEnv(){return!isBrowserBundle()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function dynamicRequire($,_){return $.require(_)}function memoBuilder(){const $=typeof WeakSet=="function",_=$?new WeakSet:[];function j(re){if($)return _.has(re)?!0:(_.add(re),!1);for(let le=0;le<_.length;le++)if(_[le]===re)return!0;return _.push(re),!1}function ee(re){if($)_.delete(re);else for(let le=0;le<_.length;le++)if(_[le]===re){_.splice(le,1);break}}return[j,ee]}function normalize($,_=100,j=1/0){try{return visit("",$,_,j)}catch(ee){return{ERROR:`**non-serializable** (${ee})`}}}function normalizeToSize($,_=3,j=100*1024){const ee=normalize($,_);return jsonSize(ee)>j?normalizeToSize($,_-1,j):ee}function visit($,_,j=1/0,ee=1/0,re=memoBuilder()){const[le,de]=re;if(_==null||["number","boolean","string"].includes(typeof _)&&!isNaN$1(_))return _;const ge=stringifyValue($,_);if(!ge.startsWith("[object "))return ge;if(_.__sentry_skip_normalization__)return _;const ve=typeof _.__sentry_override_normalization_depth__=="number"?_.__sentry_override_normalization_depth__:j;if(ve===0)return ge.replace("object ","");if(le(_))return"[Circular ~]";const Ee=_;if(Ee&&typeof Ee.toJSON=="function")try{const ke=Ee.toJSON();return visit("",ke,ve-1,ee,re)}catch{}const Ce=Array.isArray(_)?[]:{};let Ae=0;const Se=convertToPlainObject(_);for(const ke in Se){if(!Object.prototype.hasOwnProperty.call(Se,ke))continue;if(Ae>=ee){Ce[ke]="[MaxProperties ~]";break}const we=Se[ke];Ce[ke]=visit(ke,we,ve-1,ee,re),Ae++}return de(_),Ce}function stringifyValue($,_){try{if($==="domain"&&_&&typeof _=="object"&&_._events)return"[Domain]";if($==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&_===global)return"[Global]";if(typeof window<"u"&&_===window)return"[Window]";if(typeof document<"u"&&_===document)return"[Document]";if(isVueViewModel(_))return"[VueViewModel]";if(isSyntheticEvent(_))return"[SyntheticEvent]";if(typeof _=="number"&&_!==_)return"[NaN]";if(typeof _=="function")return`[Function: ${getFunctionName(_)}]`;if(typeof _=="symbol")return`[${String(_)}]`;if(typeof _=="bigint")return`[BigInt: ${String(_)}]`;const j=getConstructorName(_);return/^HTML(\w*)Element$/.test(j)?`[HTMLElement: ${j}]`:`[object ${j}]`}catch(j){return`**non-serializable** (${j})`}}function getConstructorName($){const _=Object.getPrototypeOf($);return _?_.constructor.name:"null prototype"}function utf8Length($){return~-encodeURI($).split(/%..|./).length}function jsonSize($){return utf8Length(JSON.stringify($))}var States;(function($){$[$.PENDING=0]="PENDING";const j=1;$[$.RESOLVED=j]="RESOLVED";const ee=2;$[$.REJECTED=ee]="REJECTED"})(States||(States={}));function resolvedSyncPromise($){return new SyncPromise(_=>{_($)})}function rejectedSyncPromise($){return new SyncPromise((_,j)=>{j($)})}class SyncPromise{constructor(_){SyncPromise.prototype.__init.call(this),SyncPromise.prototype.__init2.call(this),SyncPromise.prototype.__init3.call(this),SyncPromise.prototype.__init4.call(this),this._state=States.PENDING,this._handlers=[];try{_(this._resolve,this._reject)}catch(j){this._reject(j)}}then(_,j){return new SyncPromise((ee,re)=>{this._handlers.push([!1,le=>{if(!_)ee(le);else try{ee(_(le))}catch(de){re(de)}},le=>{if(!j)re(le);else try{ee(j(le))}catch(de){re(de)}}]),this._executeHandlers()})}catch(_){return this.then(j=>j,_)}finally(_){return new SyncPromise((j,ee)=>{let re,le;return this.then(de=>{le=!1,re=de,_&&_()},de=>{le=!0,re=de,_&&_()}).then(()=>{if(le){ee(re);return}j(re)})})}__init(){this._resolve=_=>{this._setResult(States.RESOLVED,_)}}__init2(){this._reject=_=>{this._setResult(States.REJECTED,_)}}__init3(){this._setResult=(_,j)=>{if(this._state===States.PENDING){if(isThenable(j)){j.then(this._resolve,this._reject);return}this._state=_,this._value=j,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===States.PENDING)return;const _=this._handlers.slice();this._handlers=[],_.forEach(j=>{j[0]||(this._state===States.RESOLVED&&j[1](this._value),this._state===States.REJECTED&&j[2](this._value),j[0]=!0)})}}}function makePromiseBuffer($){const _=[];function j(){return $===void 0||_.length<$}function ee(de){return _.splice(_.indexOf(de),1)[0]}function re(de){if(!j())return rejectedSyncPromise(new SentryError("Not adding Promise because buffer limit was reached."));const ge=de();return _.indexOf(ge)===-1&&_.push(ge),ge.then(()=>ee(ge)).then(null,()=>ee(ge).then(null,()=>{})),ge}function le(de){return new SyncPromise((ge,ve)=>{let Ee=_.length;if(!Ee)return ge(!0);const Ce=setTimeout(()=>{de&&de>0&&ge(!1)},de);_.forEach(Ae=>{resolvedSyncPromise(Ae).then(()=>{--Ee||(clearTimeout(Ce),ge(!0))},ve)})})}return{$:_,add:re,drain:le}}function parseUrl($){if(!$)return{};const _=$.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!_)return{};const j=_[6]||"",ee=_[8]||"";return{host:_[4],path:_[5],protocol:_[2],search:j,hash:ee,relative:_[5]+j+ee}}const validSeverityLevels=["fatal","error","warning","log","info","debug"];function severityLevelFromString($){return $==="warn"?"warning":validSeverityLevels.includes($)?$:"log"}const WINDOW$1=getGlobalObject(),dateTimestampSource={nowSeconds:()=>Date.now()/1e3};function getBrowserPerformance(){const{performance:$}=WINDOW$1;if(!$||!$.now)return;const _=Date.now()-$.now();return{now:()=>$.now(),timeOrigin:_}}function getNodePerformance(){try{return dynamicRequire(module,"perf_hooks").performance}catch{return}}const platformPerformance=isNodeEnv()?getNodePerformance():getBrowserPerformance(),timestampSource=platformPerformance===void 0?dateTimestampSource:{nowSeconds:()=>(platformPerformance.timeOrigin+platformPerformance.now())/1e3},dateTimestampInSeconds=dateTimestampSource.nowSeconds.bind(dateTimestampSource),timestampInSeconds=timestampSource.nowSeconds.bind(timestampSource);(()=>{const{performance:$}=WINDOW$1;if(!$||!$.now)return;const _=3600*1e3,j=$.now(),ee=Date.now(),re=$.timeOrigin?Math.abs($.timeOrigin+j-ee):_,le=re<_,de=$.timing&&$.timing.navigationStart,ve=typeof de=="number"?Math.abs(de+j-ee):_,Ee=ve<_;return le||Ee?re<=ve?$.timeOrigin:de:ee})();function createEnvelope($,_=[]){return[$,_]}function addItemToEnvelope($,_){const[j,ee]=$;return[j,[...ee,_]]}function forEachEnvelopeItem($,_){const j=$[1];for(const ee of j){const re=ee[0].type;if(_(ee,re))return!0}return!1}function encodeUTF8($,_){return(_||new TextEncoder).encode($)}function serializeEnvelope($,_){const[j,ee]=$;let re=JSON.stringify(j);function le(de){typeof re=="string"?re=typeof de=="string"?re+de:[encodeUTF8(re,_),de]:re.push(typeof de=="string"?encodeUTF8(de,_):de)}for(const de of ee){const[ge,ve]=de;if(le(`
${JSON.stringify(ge)}
`),typeof ve=="string"||ve instanceof Uint8Array)le(ve);else{let Ee;try{Ee=JSON.stringify(ve)}catch{Ee=JSON.stringify(normalize(ve))}le(Ee)}}return typeof re=="string"?re:concatBuffers(re)}function concatBuffers($){const _=$.reduce((re,le)=>re+le.length,0),j=new Uint8Array(_);let ee=0;for(const re of $)j.set(re,ee),ee+=re.length;return j}function createAttachmentEnvelopeItem($,_){const j=typeof $.data=="string"?encodeUTF8($.data,_):$.data;return[dropUndefinedKeys({type:"attachment",length:j.length,filename:$.filename,content_type:$.contentType,attachment_type:$.attachmentType}),j]}const ITEM_TYPE_TO_DATA_CATEGORY_MAP={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function envelopeItemTypeToDataCategory($){return ITEM_TYPE_TO_DATA_CATEGORY_MAP[$]}function getSdkMetadataForEnvelopeHeader($){if(!$||!$.sdk)return;const{name:_,version:j}=$.sdk;return{name:_,version:j}}function createEventEnvelopeHeaders($,_,j,ee){const re=$.sdkProcessingMetadata&&$.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:$.event_id,sent_at:new Date().toISOString(),..._&&{sdk:_},...!!j&&ee&&{dsn:dsnToString(ee)},...re&&{trace:dropUndefinedKeys({...re})}}}function createClientReportEnvelope($,_,j){const ee=[{type:"client_report"},{timestamp:j||dateTimestampInSeconds(),discarded_events:$}];return createEnvelope(_?{dsn:_}:{},[ee])}const DEFAULT_RETRY_AFTER=60*1e3;function parseRetryAfterHeader($,_=Date.now()){const j=parseInt(`${$}`,10);if(!isNaN(j))return j*1e3;const ee=Date.parse(`${$}`);return isNaN(ee)?DEFAULT_RETRY_AFTER:ee-_}function disabledUntil($,_){return $[_]||$.all||0}function isRateLimited($,_,j=Date.now()){return disabledUntil($,_)>j}function updateRateLimits($,{statusCode:_,headers:j},ee=Date.now()){const re={...$},le=j&&j["x-sentry-rate-limits"],de=j&&j["retry-after"];if(le)for(const ge of le.trim().split(",")){const[ve,Ee]=ge.split(":",2),Ce=parseInt(ve,10),Ae=(isNaN(Ce)?60:Ce)*1e3;if(!Ee)re.all=ee+Ae;else for(const Se of Ee.split(";"))re[Se]=ee+Ae}else de?re.all=ee+parseRetryAfterHeader(de,ee):_===429&&(re.all=ee+60*1e3);return re}const DEBUG_BUILD$2=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,DEFAULT_ENVIRONMENT="production";function getGlobalEventProcessors(){return getGlobalSingleton("globalEventProcessors",()=>[])}function addGlobalEventProcessor($){getGlobalEventProcessors().push($)}function notifyEventProcessors($,_,j,ee=0){return new SyncPromise((re,le)=>{const de=$[ee];if(_===null||typeof de!="function")re(_);else{const ge=de({..._},j);DEBUG_BUILD$2&&de.id&&ge===null&&logger$2.log(`Event processor "${de.id}" dropped event`),isThenable(ge)?ge.then(ve=>notifyEventProcessors($,ve,j,ee+1).then(re)).then(null,le):notifyEventProcessors($,ge,j,ee+1).then(re).then(null,le)}})}function makeSession($){const _=timestampInSeconds(),j={sid:uuid4(),init:!0,timestamp:_,started:_,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>sessionToJSON(j)};return $&&updateSession(j,$),j}function updateSession($,_={}){if(_.user&&(!$.ipAddress&&_.user.ip_address&&($.ipAddress=_.user.ip_address),!$.did&&!_.did&&($.did=_.user.id||_.user.email||_.user.username)),$.timestamp=_.timestamp||timestampInSeconds(),_.abnormal_mechanism&&($.abnormal_mechanism=_.abnormal_mechanism),_.ignoreDuration&&($.ignoreDuration=_.ignoreDuration),_.sid&&($.sid=_.sid.length===32?_.sid:uuid4()),_.init!==void 0&&($.init=_.init),!$.did&&_.did&&($.did=`${_.did}`),typeof _.started=="number"&&($.started=_.started),$.ignoreDuration)$.duration=void 0;else if(typeof _.duration=="number")$.duration=_.duration;else{const j=$.timestamp-$.started;$.duration=j>=0?j:0}_.release&&($.release=_.release),_.environment&&($.environment=_.environment),!$.ipAddress&&_.ipAddress&&($.ipAddress=_.ipAddress),!$.userAgent&&_.userAgent&&($.userAgent=_.userAgent),typeof _.errors=="number"&&($.errors=_.errors),_.status&&($.status=_.status)}function closeSession($,_){let j={};_?j={status:_}:$.status==="ok"&&(j={status:"exited"}),updateSession($,j)}function sessionToJSON($){return dropUndefinedKeys({sid:`${$.sid}`,init:$.init,started:new Date($.started*1e3).toISOString(),timestamp:new Date($.timestamp*1e3).toISOString(),status:$.status,errors:$.errors,did:typeof $.did=="number"||typeof $.did=="string"?`${$.did}`:void 0,duration:$.duration,abnormal_mechanism:$.abnormal_mechanism,attrs:{release:$.release,environment:$.environment,ip_address:$.ipAddress,user_agent:$.userAgent}})}const DEFAULT_MAX_BREADCRUMBS=100;class Scope{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=generatePropagationContext()}static clone(_){const j=new Scope;return _&&(j._breadcrumbs=[..._._breadcrumbs],j._tags={..._._tags},j._extra={..._._extra},j._contexts={..._._contexts},j._user=_._user,j._level=_._level,j._span=_._span,j._session=_._session,j._transactionName=_._transactionName,j._fingerprint=_._fingerprint,j._eventProcessors=[..._._eventProcessors],j._requestSession=_._requestSession,j._attachments=[..._._attachments],j._sdkProcessingMetadata={..._._sdkProcessingMetadata},j._propagationContext={..._._propagationContext}),j}addScopeListener(_){this._scopeListeners.push(_)}addEventProcessor(_){return this._eventProcessors.push(_),this}setUser(_){return this._user=_||{},this._session&&updateSession(this._session,{user:_}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(_){return this._requestSession=_,this}setTags(_){return this._tags={...this._tags,..._},this._notifyScopeListeners(),this}setTag(_,j){return this._tags={...this._tags,[_]:j},this._notifyScopeListeners(),this}setExtras(_){return this._extra={...this._extra,..._},this._notifyScopeListeners(),this}setExtra(_,j){return this._extra={...this._extra,[_]:j},this._notifyScopeListeners(),this}setFingerprint(_){return this._fingerprint=_,this._notifyScopeListeners(),this}setLevel(_){return this._level=_,this._notifyScopeListeners(),this}setTransactionName(_){return this._transactionName=_,this._notifyScopeListeners(),this}setContext(_,j){return j===null?delete this._contexts[_]:this._contexts[_]=j,this._notifyScopeListeners(),this}setSpan(_){return this._span=_,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const _=this.getSpan();return _&&_.transaction}setSession(_){return _?this._session=_:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(_){if(!_)return this;if(typeof _=="function"){const j=_(this);return j instanceof Scope?j:this}return _ instanceof Scope?(this._tags={...this._tags,..._._tags},this._extra={...this._extra,..._._extra},this._contexts={...this._contexts,..._._contexts},_._user&&Object.keys(_._user).length&&(this._user=_._user),_._level&&(this._level=_._level),_._fingerprint&&(this._fingerprint=_._fingerprint),_._requestSession&&(this._requestSession=_._requestSession),_._propagationContext&&(this._propagationContext=_._propagationContext)):isPlainObject(_)&&(_=_,this._tags={...this._tags,..._.tags},this._extra={...this._extra,..._.extra},this._contexts={...this._contexts,..._.contexts},_.user&&(this._user=_.user),_.level&&(this._level=_.level),_.fingerprint&&(this._fingerprint=_.fingerprint),_.requestSession&&(this._requestSession=_.requestSession),_.propagationContext&&(this._propagationContext=_.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=generatePropagationContext(),this}addBreadcrumb(_,j){const ee=typeof j=="number"?j:DEFAULT_MAX_BREADCRUMBS;if(ee<=0)return this;const re={timestamp:dateTimestampInSeconds(),..._},le=this._breadcrumbs;return le.push(re),this._breadcrumbs=le.length>ee?le.slice(-ee):le,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(_){return this._attachments.push(_),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(_,j={},ee){if(this._extra&&Object.keys(this._extra).length&&(_.extra={...this._extra,..._.extra}),this._tags&&Object.keys(this._tags).length&&(_.tags={...this._tags,..._.tags}),this._user&&Object.keys(this._user).length&&(_.user={...this._user,..._.user}),this._contexts&&Object.keys(this._contexts).length&&(_.contexts={...this._contexts,..._.contexts}),this._level&&(_.level=this._level),this._transactionName&&(_.transaction=this._transactionName),this._span){_.contexts={trace:this._span.getTraceContext(),..._.contexts};const de=this._span.transaction;if(de){_.sdkProcessingMetadata={dynamicSamplingContext:de.getDynamicSamplingContext(),..._.sdkProcessingMetadata};const ge=de.name;ge&&(_.tags={transaction:ge,..._.tags})}}this._applyFingerprint(_);const re=this._getBreadcrumbs(),le=[..._.breadcrumbs||[],...re];return _.breadcrumbs=le.length>0?le:void 0,_.sdkProcessingMetadata={..._.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},notifyEventProcessors([...ee||[],...getGlobalEventProcessors(),...this._eventProcessors],_,j)}setSDKProcessingMetadata(_){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,..._},this}setPropagationContext(_){return this._propagationContext=_,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(_=>{_(this)}),this._notifyingListeners=!1)}_applyFingerprint(_){_.fingerprint=_.fingerprint?arrayify(_.fingerprint):[],this._fingerprint&&(_.fingerprint=_.fingerprint.concat(this._fingerprint)),_.fingerprint&&!_.fingerprint.length&&delete _.fingerprint}}function generatePropagationContext(){return{traceId:uuid4(),spanId:uuid4().substring(16)}}const API_VERSION=4,DEFAULT_BREADCRUMBS=100;class Hub{constructor(_,j=new Scope,ee=API_VERSION){this._version=ee,this._stack=[{scope:j}],_&&this.bindClient(_)}isOlderThan(_){return this._version<_}bindClient(_){const j=this.getStackTop();j.client=_,_&&_.setupIntegrations&&_.setupIntegrations()}pushScope(){const _=Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:_}),_}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(_){const j=this.pushScope();try{_(j)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(_,j){const ee=this._lastEventId=j&&j.event_id?j.event_id:uuid4(),re=new Error("Sentry syntheticException");return this._withClient((le,de)=>{le.captureException(_,{originalException:_,syntheticException:re,...j,event_id:ee},de)}),ee}captureMessage(_,j,ee){const re=this._lastEventId=ee&&ee.event_id?ee.event_id:uuid4(),le=new Error(_);return this._withClient((de,ge)=>{de.captureMessage(_,j,{originalException:_,syntheticException:le,...ee,event_id:re},ge)}),re}captureEvent(_,j){const ee=j&&j.event_id?j.event_id:uuid4();return _.type||(this._lastEventId=ee),this._withClient((re,le)=>{re.captureEvent(_,{...j,event_id:ee},le)}),ee}lastEventId(){return this._lastEventId}addBreadcrumb(_,j){const{scope:ee,client:re}=this.getStackTop();if(!re)return;const{beforeBreadcrumb:le=null,maxBreadcrumbs:de=DEFAULT_BREADCRUMBS}=re.getOptions&&re.getOptions()||{};if(de<=0)return;const ve={timestamp:dateTimestampInSeconds(),..._},Ee=le?consoleSandbox(()=>le(ve,j)):ve;Ee!==null&&(re.emit&&re.emit("beforeAddBreadcrumb",Ee,j),ee.addBreadcrumb(Ee,de))}setUser(_){this.getScope().setUser(_)}setTags(_){this.getScope().setTags(_)}setExtras(_){this.getScope().setExtras(_)}setTag(_,j){this.getScope().setTag(_,j)}setExtra(_,j){this.getScope().setExtra(_,j)}setContext(_,j){this.getScope().setContext(_,j)}configureScope(_){const{scope:j,client:ee}=this.getStackTop();ee&&_(j)}run(_){const j=makeMain(this);try{_(this)}finally{makeMain(j)}}getIntegration(_){const j=this.getClient();if(!j)return null;try{return j.getIntegration(_)}catch{return DEBUG_BUILD$2&&logger$2.warn(`Cannot retrieve integration ${_.id} from the current Hub`),null}}startTransaction(_,j){const ee=this._callExtensionMethod("startTransaction",_,j);return DEBUG_BUILD$2&&!ee&&(this.getClient()?logger$2.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):logger$2.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),ee}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(_=!1){if(_)return this.endSession();this._sendSessionUpdate()}endSession(){const j=this.getStackTop().scope,ee=j.getSession();ee&&closeSession(ee),this._sendSessionUpdate(),j.setSession()}startSession(_){const{scope:j,client:ee}=this.getStackTop(),{release:re,environment:le=DEFAULT_ENVIRONMENT}=ee&&ee.getOptions()||{},{userAgent:de}=GLOBAL_OBJ.navigator||{},ge=makeSession({release:re,environment:le,user:j.getUser(),...de&&{userAgent:de},..._}),ve=j.getSession&&j.getSession();return ve&&ve.status==="ok"&&updateSession(ve,{status:"exited"}),this.endSession(),j.setSession(ge),ge}shouldSendDefaultPii(){const _=this.getClient(),j=_&&_.getOptions();return!!(j&&j.sendDefaultPii)}_sendSessionUpdate(){const{scope:_,client:j}=this.getStackTop(),ee=_.getSession();ee&&j&&j.captureSession&&j.captureSession(ee)}_withClient(_){const{scope:j,client:ee}=this.getStackTop();ee&&_(ee,j)}_callExtensionMethod(_,...j){const re=getMainCarrier().__SENTRY__;if(re&&re.extensions&&typeof re.extensions[_]=="function")return re.extensions[_].apply(this,j);DEBUG_BUILD$2&&logger$2.warn(`Extension method ${_} couldn't be found, doing nothing.`)}}function getMainCarrier(){return GLOBAL_OBJ.__SENTRY__=GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},GLOBAL_OBJ}function makeMain($){const _=getMainCarrier(),j=getHubFromCarrier(_);return setHubOnCarrier(_,$),j}function getCurrentHub(){const $=getMainCarrier();if($.__SENTRY__&&$.__SENTRY__.acs){const _=$.__SENTRY__.acs.getCurrentHub();if(_)return _}return getGlobalHub($)}function getGlobalHub($=getMainCarrier()){return(!hasHubOnCarrier($)||getHubFromCarrier($).isOlderThan(API_VERSION))&&setHubOnCarrier($,new Hub),getHubFromCarrier($)}function hasHubOnCarrier($){return!!($&&$.__SENTRY__&&$.__SENTRY__.hub)}function getHubFromCarrier($){return getGlobalSingleton("hub",()=>new Hub,$)}function setHubOnCarrier($,_){if(!$)return!1;const j=$.__SENTRY__=$.__SENTRY__||{};return j.hub=_,!0}function getDynamicSamplingContextFromClient($,_,j){const ee=_.getOptions(),{publicKey:re}=_.getDsn()||{},{segment:le}=j&&j.getUser()||{},de=dropUndefinedKeys({environment:ee.environment||DEFAULT_ENVIRONMENT,release:ee.release,user_segment:le,public_key:re,trace_id:$});return _.emit&&_.emit("createDsc",de),de}function prepareEvent($,_,j,ee,re){const{normalizeDepth:le=3,normalizeMaxBreadth:de=1e3}=$,ge={..._,event_id:_.event_id||j.event_id||uuid4(),timestamp:_.timestamp||dateTimestampInSeconds()},ve=j.integrations||$.integrations.map(Se=>Se.name);applyClientOptions(ge,$),applyIntegrationsMetadata(ge,ve),_.type===void 0&&applyDebugIds(ge,$.stackParser);let Ee=ee;j.captureContext&&(Ee=Scope.clone(Ee).update(j.captureContext)),j.mechanism&&addExceptionMechanism(ge,j.mechanism);let Ce=resolvedSyncPromise(ge);const Ae=re&&re.getEventProcessors?re.getEventProcessors():[];if(Ee){if(Ee.getAttachments){const Se=[...j.attachments||[],...Ee.getAttachments()];Se.length&&(j.attachments=Se)}Ce=Ee.applyToEvent(ge,j,Ae)}else Ce=notifyEventProcessors([...Ae,...getGlobalEventProcessors()],ge,j);return Ce.then(Se=>(Se&&applyDebugMeta(Se),typeof le=="number"&&le>0?normalizeEvent(Se,le,de):Se))}function applyClientOptions($,_){const{environment:j,release:ee,dist:re,maxValueLength:le=250}=_;"environment"in $||($.environment="environment"in _?j:DEFAULT_ENVIRONMENT),$.release===void 0&&ee!==void 0&&($.release=ee),$.dist===void 0&&re!==void 0&&($.dist=re),$.message&&($.message=truncate($.message,le));const de=$.exception&&$.exception.values&&$.exception.values[0];de&&de.value&&(de.value=truncate(de.value,le));const ge=$.request;ge&&ge.url&&(ge.url=truncate(ge.url,le))}const debugIdStackParserCache=new WeakMap;function applyDebugIds($,_){const j=GLOBAL_OBJ._sentryDebugIds;if(!j)return;let ee;const re=debugIdStackParserCache.get(_);re?ee=re:(ee=new Map,debugIdStackParserCache.set(_,ee));const le=Object.keys(j).reduce((de,ge)=>{let ve;const Ee=ee.get(ge);Ee?ve=Ee:(ve=_(ge),ee.set(ge,ve));for(let Ce=ve.length-1;Ce>=0;Ce--){const Ae=ve[Ce];if(Ae.filename){de[Ae.filename]=j[ge];break}}return de},{});try{$.exception.values.forEach(de=>{de.stacktrace.frames.forEach(ge=>{ge.filename&&(ge.debug_id=le[ge.filename])})})}catch{}}function applyDebugMeta($){const _={};try{$.exception.values.forEach(ee=>{ee.stacktrace.frames.forEach(re=>{re.debug_id&&(re.abs_path?_[re.abs_path]=re.debug_id:re.filename&&(_[re.filename]=re.debug_id),delete re.debug_id)})})}catch{}if(Object.keys(_).length===0)return;$.debug_meta=$.debug_meta||{},$.debug_meta.images=$.debug_meta.images||[];const j=$.debug_meta.images;Object.keys(_).forEach(ee=>{j.push({type:"sourcemap",code_file:ee,debug_id:_[ee]})})}function applyIntegrationsMetadata($,_){_.length>0&&($.sdk=$.sdk||{},$.sdk.integrations=[...$.sdk.integrations||[],..._])}function normalizeEvent($,_,j){if(!$)return null;const ee={...$,...$.breadcrumbs&&{breadcrumbs:$.breadcrumbs.map(re=>({...re,...re.data&&{data:normalize(re.data,_,j)}}))},...$.user&&{user:normalize($.user,_,j)},...$.contexts&&{contexts:normalize($.contexts,_,j)},...$.extra&&{extra:normalize($.extra,_,j)}};return $.contexts&&$.contexts.trace&&ee.contexts&&(ee.contexts.trace=$.contexts.trace,$.contexts.trace.data&&(ee.contexts.trace.data=normalize($.contexts.trace.data,_,j))),$.spans&&(ee.spans=$.spans.map(re=>(re.data&&(re.data=normalize(re.data,_,j)),re))),ee}function parseEventHintOrCaptureContext($){if($)return hintIsScopeOrFunction($)?{captureContext:$}:hintIsScopeContext($)?{captureContext:$}:$}function hintIsScopeOrFunction($){return $ instanceof Scope||typeof $=="function"}const captureContextKeys=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function hintIsScopeContext($){return Object.keys($).some(_=>captureContextKeys.includes(_))}function captureException($,_){return getCurrentHub().captureException($,parseEventHintOrCaptureContext(_))}function withScope($){getCurrentHub().withScope($)}function getClient(){return getCurrentHub().getClient()}function hasTracingEnabled($){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const _=getClient(),j=$||_&&_.getOptions();return!!j&&(j.enableTracing||"tracesSampleRate"in j||"tracesSampler"in j)}function enhanceEventWithSdkInfo($,_){return _&&($.sdk=$.sdk||{},$.sdk.name=$.sdk.name||_.name,$.sdk.version=$.sdk.version||_.version,$.sdk.integrations=[...$.sdk.integrations||[],..._.integrations||[]],$.sdk.packages=[...$.sdk.packages||[],..._.packages||[]]),$}function createSessionEnvelope($,_,j,ee){const re=getSdkMetadataForEnvelopeHeader(j),le={sent_at:new Date().toISOString(),...re&&{sdk:re},...!!ee&&_&&{dsn:dsnToString(_)}},de="aggregates"in $?[{type:"sessions"},$]:[{type:"session"},$.toJSON()];return createEnvelope(le,[de])}function createEventEnvelope($,_,j,ee){const re=getSdkMetadataForEnvelopeHeader(j),le=$.type&&$.type!=="replay_event"?$.type:"event";enhanceEventWithSdkInfo($,j&&j.sdk);const de=createEventEnvelopeHeaders($,re,ee,_);return delete $.sdkProcessingMetadata,createEnvelope(de,[[{type:le},$]])}const SENTRY_API_VERSION="7";function getBaseApiEndpoint($){const _=$.protocol?`${$.protocol}:`:"",j=$.port?`:${$.port}`:"";return`${_}//${$.host}${j}${$.path?`/${$.path}`:""}/api/`}function _getIngestEndpoint($){return`${getBaseApiEndpoint($)}${$.projectId}/envelope/`}function _encodedAuth($,_){return urlEncode({sentry_key:$.publicKey,sentry_version:SENTRY_API_VERSION,..._&&{sentry_client:`${_.name}/${_.version}`}})}function getEnvelopeEndpointWithUrlEncodedAuth($,_={}){const j=typeof _=="string"?_:_.tunnel,ee=typeof _=="string"||!_._metadata?void 0:_._metadata.sdk;return j||`${_getIngestEndpoint($)}?${_encodedAuth($,ee)}`}const installedIntegrations=[];function filterDuplicates($){const _={};return $.forEach(j=>{const{name:ee}=j,re=_[ee];re&&!re.isDefaultInstance&&j.isDefaultInstance||(_[ee]=j)}),Object.keys(_).map(j=>_[j])}function getIntegrationsToSetup($){const _=$.defaultIntegrations||[],j=$.integrations;_.forEach(de=>{de.isDefaultInstance=!0});let ee;Array.isArray(j)?ee=[..._,...j]:typeof j=="function"?ee=arrayify(j(_)):ee=_;const re=filterDuplicates(ee),le=findIndex(re,de=>de.name==="Debug");if(le!==-1){const[de]=re.splice(le,1);re.push(de)}return re}function setupIntegrations($,_){const j={};return _.forEach(ee=>{ee&&setupIntegration($,ee,j)}),j}function setupIntegration($,_,j){if(j[_.name]=_,installedIntegrations.indexOf(_.name)===-1&&(_.setupOnce(addGlobalEventProcessor,getCurrentHub),installedIntegrations.push(_.name)),_.setup&&typeof _.setup=="function"&&_.setup($),$.on&&typeof _.preprocessEvent=="function"){const ee=_.preprocessEvent.bind(_);$.on("preprocessEvent",(re,le)=>ee(re,le,$))}if($.addEventProcessor&&typeof _.processEvent=="function"){const ee=_.processEvent.bind(_),re=Object.assign((le,de)=>ee(le,de,$),{id:_.name});$.addEventProcessor(re)}DEBUG_BUILD$2&&logger$2.log(`Integration installed: ${_.name}`)}function findIndex($,_){for(let j=0;j<$.length;j++)if(_($[j])===!0)return j;return-1}const ALREADY_SEEN_ERROR="Not capturing exception because it's already been captured.";class BaseClient{constructor(_){if(this._options=_,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],_.dsn?this._dsn=makeDsn(_.dsn):DEBUG_BUILD$2&&logger$2.warn("No DSN provided, client will not send events."),this._dsn){const j=getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,_);this._transport=_.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),..._.transportOptions,url:j})}}captureException(_,j,ee){if(checkOrSetAlreadyCaught(_)){DEBUG_BUILD$2&&logger$2.log(ALREADY_SEEN_ERROR);return}let re=j&&j.event_id;return this._process(this.eventFromException(_,j).then(le=>this._captureEvent(le,j,ee)).then(le=>{re=le})),re}captureMessage(_,j,ee,re){let le=ee&&ee.event_id;const de=isPrimitive(_)?this.eventFromMessage(String(_),j,ee):this.eventFromException(_,ee);return this._process(de.then(ge=>this._captureEvent(ge,ee,re)).then(ge=>{le=ge})),le}captureEvent(_,j,ee){if(j&&j.originalException&&checkOrSetAlreadyCaught(j.originalException)){DEBUG_BUILD$2&&logger$2.log(ALREADY_SEEN_ERROR);return}let re=j&&j.event_id;return this._process(this._captureEvent(_,j,ee).then(le=>{re=le})),re}captureSession(_){typeof _.release!="string"?DEBUG_BUILD$2&&logger$2.warn("Discarded session because of missing or non-string release"):(this.sendSession(_),updateSession(_,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(_){const j=this._transport;return j?this._isClientDoneProcessing(_).then(ee=>j.flush(_).then(re=>ee&&re)):resolvedSyncPromise(!0)}close(_){return this.flush(_).then(j=>(this.getOptions().enabled=!1,j))}getEventProcessors(){return this._eventProcessors}addEventProcessor(_){this._eventProcessors.push(_)}setupIntegrations(_){(_&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=setupIntegrations(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(_){return this._integrations[_]}getIntegration(_){try{return this._integrations[_.id]||null}catch{return DEBUG_BUILD$2&&logger$2.warn(`Cannot retrieve integration ${_.id} from the current Client`),null}}addIntegration(_){setupIntegration(this,_,this._integrations)}sendEvent(_,j={}){this.emit("beforeSendEvent",_,j);let ee=createEventEnvelope(_,this._dsn,this._options._metadata,this._options.tunnel);for(const le of j.attachments||[])ee=addItemToEnvelope(ee,createAttachmentEnvelopeItem(le,this._options.transportOptions&&this._options.transportOptions.textEncoder));const re=this._sendEnvelope(ee);re&&re.then(le=>this.emit("afterSendEvent",_,le),null)}sendSession(_){const j=createSessionEnvelope(_,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(j)}recordDroppedEvent(_,j,ee){if(this._options.sendClientReports){const re=`${_}:${j}`;DEBUG_BUILD$2&&logger$2.log(`Adding outcome: "${re}"`),this._outcomes[re]=this._outcomes[re]+1||1}}on(_,j){this._hooks[_]||(this._hooks[_]=[]),this._hooks[_].push(j)}emit(_,...j){this._hooks[_]&&this._hooks[_].forEach(ee=>ee(...j))}_updateSessionFromEvent(_,j){let ee=!1,re=!1;const le=j.exception&&j.exception.values;if(le){re=!0;for(const ve of le){const Ee=ve.mechanism;if(Ee&&Ee.handled===!1){ee=!0;break}}}const de=_.status==="ok";(de&&_.errors===0||de&&ee)&&(updateSession(_,{...ee&&{status:"crashed"},errors:_.errors||Number(re||ee)}),this.captureSession(_))}_isClientDoneProcessing(_){return new SyncPromise(j=>{let ee=0;const re=1,le=setInterval(()=>{this._numProcessing==0?(clearInterval(le),j(!0)):(ee+=re,_&&ee>=_&&(clearInterval(le),j(!1)))},re)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(_,j,ee){const re=this.getOptions(),le=Object.keys(this._integrations);return!j.integrations&&le.length>0&&(j.integrations=le),this.emit("preprocessEvent",_,j),prepareEvent(re,_,j,ee,this).then(de=>{if(de===null)return de;const{propagationContext:ge}=de.sdkProcessingMetadata||{};if(!(de.contexts&&de.contexts.trace)&&ge){const{traceId:Ee,spanId:Ce,parentSpanId:Ae,dsc:Se}=ge;de.contexts={trace:{trace_id:Ee,span_id:Ce,parent_span_id:Ae},...de.contexts};const ke=Se||getDynamicSamplingContextFromClient(Ee,this,ee);de.sdkProcessingMetadata={dynamicSamplingContext:ke,...de.sdkProcessingMetadata}}return de})}_captureEvent(_,j={},ee){return this._processEvent(_,j,ee).then(re=>re.event_id,re=>{if(DEBUG_BUILD$2){const le=re;le.logLevel==="log"?logger$2.log(le.message):logger$2.warn(le)}})}_processEvent(_,j,ee){const re=this.getOptions(),{sampleRate:le}=re,de=isTransactionEvent(_),ge=isErrorEvent(_),ve=_.type||"error",Ee=`before send for type \`${ve}\``;if(ge&&typeof le=="number"&&Math.random()>le)return this.recordDroppedEvent("sample_rate","error",_),rejectedSyncPromise(new SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${le})`,"log"));const Ce=ve==="replay_event"?"replay":ve;return this._prepareEvent(_,j,ee).then(Ae=>{if(Ae===null)throw this.recordDroppedEvent("event_processor",Ce,_),new SentryError("An event processor returned `null`, will not send event.","log");if(j.data&&j.data.__sentry__===!0)return Ae;const ke=processBeforeSend(re,Ae,j);return _validateBeforeSendResult(ke,Ee)}).then(Ae=>{if(Ae===null)throw this.recordDroppedEvent("before_send",Ce,_),new SentryError(`${Ee} returned \`null\`, will not send event.`,"log");const Se=ee&&ee.getSession();!de&&Se&&this._updateSessionFromEvent(Se,Ae);const ke=Ae.transaction_info;if(de&&ke&&Ae.transaction!==_.transaction){const we="custom";Ae.transaction_info={...ke,source:we}}return this.sendEvent(Ae,j),Ae}).then(null,Ae=>{throw Ae instanceof SentryError?Ae:(this.captureException(Ae,{data:{__sentry__:!0},originalException:Ae}),new SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${Ae}`))})}_process(_){this._numProcessing++,_.then(j=>(this._numProcessing--,j),j=>(this._numProcessing--,j))}_sendEnvelope(_){if(this.emit("beforeEnvelope",_),this._isEnabled()&&this._transport)return this._transport.send(_).then(null,j=>{DEBUG_BUILD$2&&logger$2.error("Error while sending event:",j)});DEBUG_BUILD$2&&logger$2.error("Transport disabled")}_clearOutcomes(){const _=this._outcomes;return this._outcomes={},Object.keys(_).map(j=>{const[ee,re]=j.split(":");return{reason:ee,category:re,quantity:_[j]}})}}function _validateBeforeSendResult($,_){const j=`${_} must return \`null\` or a valid event.`;if(isThenable($))return $.then(ee=>{if(!isPlainObject(ee)&&ee!==null)throw new SentryError(j);return ee},ee=>{throw new SentryError(`${_} rejected with ${ee}`)});if(!isPlainObject($)&&$!==null)throw new SentryError(j);return $}function processBeforeSend($,_,j){const{beforeSend:ee,beforeSendTransaction:re}=$;return isErrorEvent(_)&&ee?ee(_,j):isTransactionEvent(_)&&re?re(_,j):_}function isErrorEvent($){return $.type===void 0}function isTransactionEvent($){return $.type==="transaction"}function initAndBind($,_){_.debug===!0&&(DEBUG_BUILD$2?logger$2.enable():consoleSandbox(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}));const j=getCurrentHub();j.getScope().update(_.initialScope);const re=new $(_);j.bindClient(re)}const DEFAULT_TRANSPORT_BUFFER_SIZE=30;function createTransport($,_,j=makePromiseBuffer($.bufferSize||DEFAULT_TRANSPORT_BUFFER_SIZE)){let ee={};const re=de=>j.drain(de);function le(de){const ge=[];if(forEachEnvelopeItem(de,(Ae,Se)=>{const ke=envelopeItemTypeToDataCategory(Se);if(isRateLimited(ee,ke)){const we=getEventForEnvelopeItem(Ae,Se);$.recordDroppedEvent("ratelimit_backoff",ke,we)}else ge.push(Ae)}),ge.length===0)return resolvedSyncPromise();const ve=createEnvelope(de[0],ge),Ee=Ae=>{forEachEnvelopeItem(ve,(Se,ke)=>{const we=getEventForEnvelopeItem(Se,ke);$.recordDroppedEvent(Ae,envelopeItemTypeToDataCategory(ke),we)})},Ce=()=>_({body:serializeEnvelope(ve,$.textEncoder)}).then(Ae=>(Ae.statusCode!==void 0&&(Ae.statusCode<200||Ae.statusCode>=300)&&DEBUG_BUILD$2&&logger$2.warn(`Sentry responded with status code ${Ae.statusCode} to sent event.`),ee=updateRateLimits(ee,Ae),Ae),Ae=>{throw Ee("network_error"),Ae});return j.add(Ce).then(Ae=>Ae,Ae=>{if(Ae instanceof SentryError)return DEBUG_BUILD$2&&logger$2.error("Skipped sending event because buffer is full."),Ee("queue_overflow"),resolvedSyncPromise();throw Ae})}return le.__sentry__baseTransport__=!0,{send:le,flush:re}}function getEventForEnvelopeItem($,_){if(!(_!=="event"&&_!=="transaction"))return Array.isArray($)?$[1]:void 0}const SDK_VERSION$2="7.84.0";let originalFunctionToString;class FunctionToString{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=FunctionToString.id}setupOnce(){originalFunctionToString=Function.prototype.toString;try{Function.prototype.toString=function(..._){const j=getOriginalFunction(this)||this;return originalFunctionToString.apply(j,_)}}catch{}}}FunctionToString.__initStatic();const DEFAULT_IGNORE_ERRORS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],DEFAULT_IGNORE_TRANSACTIONS=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/];class InboundFilters{static __initStatic(){this.id="InboundFilters"}constructor(_={}){this.name=InboundFilters.id,this._options=_}setupOnce(_,j){}processEvent(_,j,ee){const re=ee.getOptions(),le=_mergeOptions(this._options,re);return _shouldDropEvent$1(_,le)?null:_}}InboundFilters.__initStatic();function _mergeOptions($={},_={}){return{allowUrls:[...$.allowUrls||[],..._.allowUrls||[]],denyUrls:[...$.denyUrls||[],..._.denyUrls||[]],ignoreErrors:[...$.ignoreErrors||[],..._.ignoreErrors||[],...$.disableErrorDefaults?[]:DEFAULT_IGNORE_ERRORS],ignoreTransactions:[...$.ignoreTransactions||[],..._.ignoreTransactions||[],...$.disableTransactionDefaults?[]:DEFAULT_IGNORE_TRANSACTIONS],ignoreInternal:$.ignoreInternal!==void 0?$.ignoreInternal:!0}}function _shouldDropEvent$1($,_){return _.ignoreInternal&&_isSentryError($)?(DEBUG_BUILD$2&&logger$2.warn(`Event dropped due to being internal Sentry Error.
Event: ${getEventDescription($)}`),!0):_isIgnoredError($,_.ignoreErrors)?(DEBUG_BUILD$2&&logger$2.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${getEventDescription($)}`),!0):_isIgnoredTransaction($,_.ignoreTransactions)?(DEBUG_BUILD$2&&logger$2.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${getEventDescription($)}`),!0):_isDeniedUrl($,_.denyUrls)?(DEBUG_BUILD$2&&logger$2.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${getEventDescription($)}.
Url: ${_getEventFilterUrl($)}`),!0):_isAllowedUrl($,_.allowUrls)?!1:(DEBUG_BUILD$2&&logger$2.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${getEventDescription($)}.
Url: ${_getEventFilterUrl($)}`),!0)}function _isIgnoredError($,_){return $.type||!_||!_.length?!1:_getPossibleEventMessages($).some(j=>stringMatchesSomePattern(j,_))}function _isIgnoredTransaction($,_){if($.type!=="transaction"||!_||!_.length)return!1;const j=$.transaction;return j?stringMatchesSomePattern(j,_):!1}function _isDeniedUrl($,_){if(!_||!_.length)return!1;const j=_getEventFilterUrl($);return j?stringMatchesSomePattern(j,_):!1}function _isAllowedUrl($,_){if(!_||!_.length)return!0;const j=_getEventFilterUrl($);return j?stringMatchesSomePattern(j,_):!0}function _getPossibleEventMessages($){const _=[];$.message&&_.push($.message);let j;try{j=$.exception.values[$.exception.values.length-1]}catch{}return j&&j.value&&(_.push(j.value),j.type&&_.push(`${j.type}: ${j.value}`)),DEBUG_BUILD$2&&_.length===0&&logger$2.error(`Could not extract message for event ${getEventDescription($)}`),_}function _isSentryError($){try{return $.exception.values[0].type==="SentryError"}catch{}return!1}function _getLastValidUrl($=[]){for(let _=$.length-1;_>=0;_--){const j=$[_];if(j&&j.filename!=="<anonymous>"&&j.filename!=="[native code]")return j.filename||null}return null}function _getEventFilterUrl($){try{let _;try{_=$.exception.values[0].stacktrace.frames}catch{}return _?_getLastValidUrl(_):null}catch{return DEBUG_BUILD$2&&logger$2.error(`Cannot extract url for event ${getEventDescription($)}`),null}}const WINDOW=GLOBAL_OBJ;let ignoreOnError=0;function shouldIgnoreOnError(){return ignoreOnError>0}function ignoreNextOnError(){ignoreOnError++,setTimeout(()=>{ignoreOnError--})}function wrap$1($,_={},j){if(typeof $!="function")return $;try{const re=$.__sentry_wrapped__;if(re)return re;if(getOriginalFunction($))return $}catch{return $}const ee=function(){const re=Array.prototype.slice.call(arguments);try{j&&typeof j=="function"&&j.apply(this,arguments);const le=re.map(de=>wrap$1(de,_));return $.apply(this,le)}catch(le){throw ignoreNextOnError(),withScope(de=>{de.addEventProcessor(ge=>(_.mechanism&&(addExceptionTypeValue(ge,void 0,void 0),addExceptionMechanism(ge,_.mechanism)),ge.extra={...ge.extra,arguments:re},ge)),captureException(le)}),le}};try{for(const re in $)Object.prototype.hasOwnProperty.call($,re)&&(ee[re]=$[re])}catch{}markFunctionWrapped(ee,$),addNonEnumerableProperty($,"__sentry_wrapped__",ee);try{Object.getOwnPropertyDescriptor(ee,"name").configurable&&Object.defineProperty(ee,"name",{get(){return $.name}})}catch{}return ee}const DEBUG_BUILD$1=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function exceptionFromError($,_){const j=parseStackFrames($,_),ee={type:_&&_.name,value:extractMessage(_)};return j.length&&(ee.stacktrace={frames:j}),ee.type===void 0&&ee.value===""&&(ee.value="Unrecoverable error caught"),ee}function eventFromPlainObject($,_,j,ee){const le=getCurrentHub().getClient(),de=le&&le.getOptions().normalizeDepth,ge={exception:{values:[{type:isEvent(_)?_.constructor.name:ee?"UnhandledRejection":"Error",value:getNonErrorObjectExceptionValue(_,{isUnhandledRejection:ee})}]},extra:{__serialized__:normalizeToSize(_,de)}};if(j){const ve=parseStackFrames($,j);ve.length&&(ge.exception.values[0].stacktrace={frames:ve})}return ge}function eventFromError($,_){return{exception:{values:[exceptionFromError($,_)]}}}function parseStackFrames($,_){const j=_.stacktrace||_.stack||"",ee=getPopSize(_);try{return $(j,ee)}catch{}return[]}const reactMinifiedRegexp=/Minified React error #\d+;/i;function getPopSize($){if($){if(typeof $.framesToPop=="number")return $.framesToPop;if(reactMinifiedRegexp.test($.message))return 1}return 0}function extractMessage($){const _=$&&$.message;return _?_.error&&typeof _.error.message=="string"?_.error.message:_:"No error message"}function eventFromException($,_,j,ee){const re=j&&j.syntheticException||void 0,le=eventFromUnknownInput($,_,re,ee);return addExceptionMechanism(le),le.level="error",j&&j.event_id&&(le.event_id=j.event_id),resolvedSyncPromise(le)}function eventFromMessage($,_,j="info",ee,re){const le=ee&&ee.syntheticException||void 0,de=eventFromString($,_,le,re);return de.level=j,ee&&ee.event_id&&(de.event_id=ee.event_id),resolvedSyncPromise(de)}function eventFromUnknownInput($,_,j,ee,re){let le;if(isErrorEvent$1(_)&&_.error)return eventFromError($,_.error);if(isDOMError(_)||isDOMException(_)){const de=_;if("stack"in _)le=eventFromError($,_);else{const ge=de.name||(isDOMError(de)?"DOMError":"DOMException"),ve=de.message?`${ge}: ${de.message}`:ge;le=eventFromString($,ve,j,ee),addExceptionTypeValue(le,ve)}return"code"in de&&(le.tags={...le.tags,"DOMException.code":`${de.code}`}),le}return isError$1(_)?eventFromError($,_):isPlainObject(_)||isEvent(_)?(le=eventFromPlainObject($,_,j,re),addExceptionMechanism(le,{synthetic:!0}),le):(le=eventFromString($,_,j,ee),addExceptionTypeValue(le,`${_}`,void 0),addExceptionMechanism(le,{synthetic:!0}),le)}function eventFromString($,_,j,ee){const re={message:_};if(ee&&j){const le=parseStackFrames($,j);le.length&&(re.exception={values:[{value:_,stacktrace:{frames:le}}]})}return re}function getNonErrorObjectExceptionValue($,{isUnhandledRejection:_}){const j=extractExceptionKeysForMessage($),ee=_?"promise rejection":"exception";return isErrorEvent$1($)?`Event \`ErrorEvent\` captured as ${ee} with message \`${$.message}\``:isEvent($)?`Event \`${getObjectClassName($)}\` (type=${$.type}) captured as ${ee}`:`Object captured as ${ee} with keys: ${j}`}function getObjectClassName($){try{const _=Object.getPrototypeOf($);return _?_.constructor.name:void 0}catch{}}function createUserFeedbackEnvelope($,{metadata:_,tunnel:j,dsn:ee}){const re={event_id:$.event_id,sent_at:new Date().toISOString(),..._&&_.sdk&&{sdk:{name:_.sdk.name,version:_.sdk.version}},...!!j&&!!ee&&{dsn:dsnToString(ee)}},le=createUserFeedbackEnvelopeItem($);return createEnvelope(re,[le])}function createUserFeedbackEnvelopeItem($){return[{type:"user_report"},$]}class BrowserClient extends BaseClient{constructor(_){const j=WINDOW.SENTRY_SDK_SOURCE||getSDKSource();_._metadata=_._metadata||{},_._metadata.sdk=_._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${j}:@sentry/browser`,version:SDK_VERSION$2}],version:SDK_VERSION$2},super(_),_.sendClientReports&&WINDOW.document&&WINDOW.document.addEventListener("visibilitychange",()=>{WINDOW.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(_,j){return eventFromException(this._options.stackParser,_,j,this._options.attachStacktrace)}eventFromMessage(_,j="info",ee){return eventFromMessage(this._options.stackParser,_,j,ee,this._options.attachStacktrace)}captureUserFeedback(_){if(!this._isEnabled()){DEBUG_BUILD$1&&logger$2.warn("SDK not enabled, will not capture user feedback.");return}const j=createUserFeedbackEnvelope(_,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(j)}_prepareEvent(_,j,ee){return _.platform=_.platform||"javascript",super._prepareEvent(_,j,ee)}_flushOutcomes(){const _=this._clearOutcomes();if(_.length===0){DEBUG_BUILD$1&&logger$2.log("No outcomes to send");return}if(!this._dsn){DEBUG_BUILD$1&&logger$2.log("No dsn provided, will not send outcomes");return}DEBUG_BUILD$1&&logger$2.log("Sending outcomes:",_);const j=createClientReportEnvelope(_,this._options.tunnel&&dsnToString(this._dsn));this._sendEnvelope(j)}}let cachedFetchImpl;function getNativeFetchImplementation(){if(cachedFetchImpl)return cachedFetchImpl;if(isNativeFetch(WINDOW.fetch))return cachedFetchImpl=WINDOW.fetch.bind(WINDOW);const $=WINDOW.document;let _=WINDOW.fetch;if($&&typeof $.createElement=="function")try{const j=$.createElement("iframe");j.hidden=!0,$.head.appendChild(j);const ee=j.contentWindow;ee&&ee.fetch&&(_=ee.fetch),$.head.removeChild(j)}catch(j){DEBUG_BUILD$1&&logger$2.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",j)}return cachedFetchImpl=_.bind(WINDOW)}function clearCachedFetchImplementation(){cachedFetchImpl=void 0}function makeFetchTransport($,_=getNativeFetchImplementation()){let j=0,ee=0;function re(le){const de=le.body.length;j+=de,ee++;const ge={body:le.body,method:"POST",referrerPolicy:"origin",headers:$.headers,keepalive:j<=6e4&&ee<15,...$.fetchOptions};try{return _($.url,ge).then(ve=>(j-=de,ee--,{statusCode:ve.status,headers:{"x-sentry-rate-limits":ve.headers.get("X-Sentry-Rate-Limits"),"retry-after":ve.headers.get("Retry-After")}}))}catch(ve){return clearCachedFetchImplementation(),j-=de,ee--,rejectedSyncPromise(ve)}}return createTransport($,re)}const XHR_READYSTATE_DONE=4;function makeXHRTransport($){function _(j){return new SyncPromise((ee,re)=>{const le=new XMLHttpRequest;le.onerror=re,le.onreadystatechange=()=>{le.readyState===XHR_READYSTATE_DONE&&ee({statusCode:le.status,headers:{"x-sentry-rate-limits":le.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":le.getResponseHeader("Retry-After")}})},le.open("POST",$.url);for(const de in $.headers)Object.prototype.hasOwnProperty.call($.headers,de)&&le.setRequestHeader(de,$.headers[de]);le.send(j.body)})}return createTransport($,_)}const UNKNOWN_FUNCTION="?",CHROME_PRIORITY=30,WINJS_PRIORITY=40,GECKO_PRIORITY=50;function createFrame($,_,j,ee){const re={filename:$,function:_,in_app:!0};return j!==void 0&&(re.lineno=j),ee!==void 0&&(re.colno=ee),re}const chromeRegex=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,chromeEvalRegex=/\((\S*)(?::(\d+))(?::(\d+))\)/,chrome$1=$=>{const _=chromeRegex.exec($);if(_){if(_[2]&&_[2].indexOf("eval")===0){const le=chromeEvalRegex.exec(_[2]);le&&(_[2]=le[1],_[3]=le[2],_[4]=le[3])}const[ee,re]=extractSafariExtensionDetails(_[1]||UNKNOWN_FUNCTION,_[2]);return createFrame(re,ee,_[3]?+_[3]:void 0,_[4]?+_[4]:void 0)}},chromeStackLineParser=[CHROME_PRIORITY,chrome$1],geckoREgex=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,geckoEvalRegex=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,gecko=$=>{const _=geckoREgex.exec($);if(_){if(_[3]&&_[3].indexOf(" > eval")>-1){const le=geckoEvalRegex.exec(_[3]);le&&(_[1]=_[1]||"eval",_[3]=le[1],_[4]=le[2],_[5]="")}let ee=_[3],re=_[1]||UNKNOWN_FUNCTION;return[re,ee]=extractSafariExtensionDetails(re,ee),createFrame(ee,re,_[4]?+_[4]:void 0,_[5]?+_[5]:void 0)}},geckoStackLineParser=[GECKO_PRIORITY,gecko],winjsRegex=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,winjs=$=>{const _=winjsRegex.exec($);return _?createFrame(_[2],_[1]||UNKNOWN_FUNCTION,+_[3],_[4]?+_[4]:void 0):void 0},winjsStackLineParser=[WINJS_PRIORITY,winjs],defaultStackLineParsers=[chromeStackLineParser,geckoStackLineParser,winjsStackLineParser],defaultStackParser=createStackParser(...defaultStackLineParsers),extractSafariExtensionDetails=($,_)=>{const j=$.indexOf("safari-extension")!==-1,ee=$.indexOf("safari-web-extension")!==-1;return j||ee?[$.indexOf("@")!==-1?$.split("@")[0]:UNKNOWN_FUNCTION,j?`safari-extension:${_}`:`safari-web-extension:${_}`]:[$,_]};class GlobalHandlers{static __initStatic(){this.id="GlobalHandlers"}constructor(_){this.name=GlobalHandlers.id,this._options={onerror:!0,onunhandledrejection:!0,..._},this._installFunc={onerror:_installGlobalOnErrorHandler,onunhandledrejection:_installGlobalOnUnhandledRejectionHandler}}setupOnce(){Error.stackTraceLimit=50;const _=this._options;for(const j in _){const ee=this._installFunc[j];ee&&_[j]&&(globalHandlerLog(j),ee(),this._installFunc[j]=void 0)}}}GlobalHandlers.__initStatic();function _installGlobalOnErrorHandler(){addGlobalErrorInstrumentationHandler($=>{const[_,j,ee]=getHubAndOptions();if(!_.getIntegration(GlobalHandlers))return;const{msg:re,url:le,line:de,column:ge,error:ve}=$;if(shouldIgnoreOnError())return;const Ee=ve===void 0&&isString(re)?_eventFromIncompleteOnError(re,le,de,ge):_enhanceEventWithInitialFrame(eventFromUnknownInput(j,ve||re,void 0,ee,!1),le,de,ge);Ee.level="error",_.captureEvent(Ee,{originalException:ve,mechanism:{handled:!1,type:"onerror"}})})}function _installGlobalOnUnhandledRejectionHandler(){addGlobalUnhandledRejectionInstrumentationHandler($=>{const[_,j,ee]=getHubAndOptions();if(!_.getIntegration(GlobalHandlers))return;if(shouldIgnoreOnError())return!0;const re=_getUnhandledRejectionError($),le=isPrimitive(re)?_eventFromRejectionWithPrimitive(re):eventFromUnknownInput(j,re,void 0,ee,!0);le.level="error",_.captureEvent(le,{originalException:re,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function _getUnhandledRejectionError($){if(isPrimitive($))return $;const _=$;try{if("reason"in _)return _.reason;if("detail"in _&&"reason"in _.detail)return _.detail.reason}catch{}return $}function _eventFromRejectionWithPrimitive($){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String($)}`}]}}}function _eventFromIncompleteOnError($,_,j,ee){const re=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let le=isErrorEvent$1($)?$.message:$,de="Error";const ge=le.match(re);return ge&&(de=ge[1],le=ge[2]),_enhanceEventWithInitialFrame({exception:{values:[{type:de,value:le}]}},_,j,ee)}function _enhanceEventWithInitialFrame($,_,j,ee){const re=$.exception=$.exception||{},le=re.values=re.values||[],de=le[0]=le[0]||{},ge=de.stacktrace=de.stacktrace||{},ve=ge.frames=ge.frames||[],Ee=isNaN(parseInt(ee,10))?void 0:ee,Ce=isNaN(parseInt(j,10))?void 0:j,Ae=isString(_)&&_.length>0?_:getLocationHref();return ve.length===0&&ve.push({colno:Ee,filename:Ae,function:"?",in_app:!0,lineno:Ce}),$}function globalHandlerLog($){DEBUG_BUILD$1&&logger$2.log(`Global Handler attached: ${$}`)}function getHubAndOptions(){const $=getCurrentHub(),_=$.getClient(),j=_&&_.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[$,j.stackParser,j.attachStacktrace]}const DEFAULT_EVENT_TARGET=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class TryCatch{static __initStatic(){this.id="TryCatch"}constructor(_){this.name=TryCatch.id,this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,..._}}setupOnce(){this._options.setTimeout&&fill(WINDOW,"setTimeout",_wrapTimeFunction),this._options.setInterval&&fill(WINDOW,"setInterval",_wrapTimeFunction),this._options.requestAnimationFrame&&fill(WINDOW,"requestAnimationFrame",_wrapRAF),this._options.XMLHttpRequest&&"XMLHttpRequest"in WINDOW&&fill(XMLHttpRequest.prototype,"send",_wrapXHR);const _=this._options.eventTarget;_&&(Array.isArray(_)?_:DEFAULT_EVENT_TARGET).forEach(_wrapEventTarget)}}TryCatch.__initStatic();function _wrapTimeFunction($){return function(..._){const j=_[0];return _[0]=wrap$1(j,{mechanism:{data:{function:getFunctionName($)},handled:!1,type:"instrument"}}),$.apply(this,_)}}function _wrapRAF($){return function(_){return $.apply(this,[wrap$1(_,{mechanism:{data:{function:"requestAnimationFrame",handler:getFunctionName($)},handled:!1,type:"instrument"}})])}}function _wrapXHR($){return function(..._){const j=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(re=>{re in j&&typeof j[re]=="function"&&fill(j,re,function(le){const de={mechanism:{data:{function:re,handler:getFunctionName(le)},handled:!1,type:"instrument"}},ge=getOriginalFunction(le);return ge&&(de.mechanism.data.handler=getFunctionName(ge)),wrap$1(le,de)})}),$.apply(this,_)}}function _wrapEventTarget($){const _=WINDOW,j=_[$]&&_[$].prototype;!j||!j.hasOwnProperty||!j.hasOwnProperty("addEventListener")||(fill(j,"addEventListener",function(ee){return function(re,le,de){try{typeof le.handleEvent=="function"&&(le.handleEvent=wrap$1(le.handleEvent,{mechanism:{data:{function:"handleEvent",handler:getFunctionName(le),target:$},handled:!1,type:"instrument"}}))}catch{}return ee.apply(this,[re,wrap$1(le,{mechanism:{data:{function:"addEventListener",handler:getFunctionName(le),target:$},handled:!1,type:"instrument"}}),de])}}),fill(j,"removeEventListener",function(ee){return function(re,le,de){const ge=le;try{const ve=ge&&ge.__sentry_wrapped__;ve&&ee.call(this,re,ve,de)}catch{}return ee.call(this,re,ge,de)}}))}const DEFAULT_KEY="cause",DEFAULT_LIMIT=5;class LinkedErrors{static __initStatic(){this.id="LinkedErrors"}constructor(_={}){this.name=LinkedErrors.id,this._key=_.key||DEFAULT_KEY,this._limit=_.limit||DEFAULT_LIMIT}setupOnce(){}preprocessEvent(_,j,ee){const re=ee.getOptions();applyAggregateErrorsToEvent(exceptionFromError,re.stackParser,re.maxValueLength,this._key,this._limit,_,j)}}LinkedErrors.__initStatic();class HttpContext{static __initStatic(){this.id="HttpContext"}constructor(){this.name=HttpContext.id}setupOnce(){}preprocessEvent(_){if(!WINDOW.navigator&&!WINDOW.location&&!WINDOW.document)return;const j=_.request&&_.request.url||WINDOW.location&&WINDOW.location.href,{referrer:ee}=WINDOW.document||{},{userAgent:re}=WINDOW.navigator||{},le={..._.request&&_.request.headers,...ee&&{Referer:ee},...re&&{"User-Agent":re}},de={..._.request,...j&&{url:j},headers:le};_.request=de}}HttpContext.__initStatic();class Dedupe{static __initStatic(){this.id="Dedupe"}constructor(){this.name=Dedupe.id}setupOnce(_,j){}processEvent(_){if(_.type)return _;try{if(_shouldDropEvent(_,this._previousEvent))return DEBUG_BUILD$1&&logger$2.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return this._previousEvent=_}}Dedupe.__initStatic();function _shouldDropEvent($,_){return _?!!(_isSameMessageEvent($,_)||_isSameExceptionEvent($,_)):!1}function _isSameMessageEvent($,_){const j=$.message,ee=_.message;return!(!j&&!ee||j&&!ee||!j&&ee||j!==ee||!_isSameFingerprint($,_)||!_isSameStacktrace($,_))}function _isSameExceptionEvent($,_){const j=_getExceptionFromEvent(_),ee=_getExceptionFromEvent($);return!(!j||!ee||j.type!==ee.type||j.value!==ee.value||!_isSameFingerprint($,_)||!_isSameStacktrace($,_))}function _isSameStacktrace($,_){let j=_getFramesFromEvent($),ee=_getFramesFromEvent(_);if(!j&&!ee)return!0;if(j&&!ee||!j&&ee||(j=j,ee=ee,ee.length!==j.length))return!1;for(let re=0;re<ee.length;re++){const le=ee[re],de=j[re];if(le.filename!==de.filename||le.lineno!==de.lineno||le.colno!==de.colno||le.function!==de.function)return!1}return!0}function _isSameFingerprint($,_){let j=$.fingerprint,ee=_.fingerprint;if(!j&&!ee)return!0;if(j&&!ee||!j&&ee)return!1;j=j,ee=ee;try{return j.join("")===ee.join("")}catch{return!1}}function _getExceptionFromEvent($){return $.exception&&$.exception.values&&$.exception.values[0]}function _getFramesFromEvent($){const _=$.exception;if(_)try{return _.values[0].stacktrace.frames}catch{return}}const MAX_ALLOWED_STRING_LENGTH=1024;class Breadcrumbs{static __initStatic(){this.id="Breadcrumbs"}constructor(_){this.name=Breadcrumbs.id,this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,..._}}setupOnce(){if(this.options.console&&addConsoleInstrumentationHandler(_consoleBreadcrumb),this.options.dom&&addClickKeypressInstrumentationHandler(_domBreadcrumb(this.options.dom)),this.options.xhr&&addXhrInstrumentationHandler(_xhrBreadcrumb),this.options.fetch&&addFetchInstrumentationHandler(_fetchBreadcrumb),this.options.history&&addHistoryInstrumentationHandler(_historyBreadcrumb),this.options.sentry){const _=getClient();_&&_.on&&_.on("beforeSendEvent",addSentryBreadcrumb)}}}Breadcrumbs.__initStatic();function addSentryBreadcrumb($){getCurrentHub().addBreadcrumb({category:`sentry.${$.type==="transaction"?"transaction":"event"}`,event_id:$.event_id,level:$.level,message:getEventDescription($)},{event:$})}function _domBreadcrumb($){function _(j){let ee,re=typeof $=="object"?$.serializeAttribute:void 0,le=typeof $=="object"&&typeof $.maxStringLength=="number"?$.maxStringLength:void 0;le&&le>MAX_ALLOWED_STRING_LENGTH&&(DEBUG_BUILD$1&&logger$2.warn(`\`dom.maxStringLength\` cannot exceed ${MAX_ALLOWED_STRING_LENGTH}, but a value of ${le} was configured. Sentry will use ${MAX_ALLOWED_STRING_LENGTH} instead.`),le=MAX_ALLOWED_STRING_LENGTH),typeof re=="string"&&(re=[re]);try{const de=j.event;ee=_isEvent(de)?htmlTreeAsString(de.target,{keyAttrs:re,maxStringLength:le}):htmlTreeAsString(de,{keyAttrs:re,maxStringLength:le})}catch{ee="<unknown>"}ee.length!==0&&getCurrentHub().addBreadcrumb({category:`ui.${j.name}`,message:ee},{event:j.event,name:j.name,global:j.global})}return _}function _consoleBreadcrumb($){const _={category:"console",data:{arguments:$.args,logger:"console"},level:severityLevelFromString($.level),message:safeJoin($.args," ")};if($.level==="assert")if($.args[0]===!1)_.message=`Assertion failed: ${safeJoin($.args.slice(1)," ")||"console.assert"}`,_.data.arguments=$.args.slice(1);else return;getCurrentHub().addBreadcrumb(_,{input:$.args,level:$.level})}function _xhrBreadcrumb($){const{startTimestamp:_,endTimestamp:j}=$,ee=$.xhr[SENTRY_XHR_DATA_KEY];if(!_||!j||!ee)return;const{method:re,url:le,status_code:de,body:ge}=ee,ve={method:re,url:le,status_code:de},Ee={xhr:$.xhr,input:ge,startTimestamp:_,endTimestamp:j};getCurrentHub().addBreadcrumb({category:"xhr",data:ve,type:"http"},Ee)}function _fetchBreadcrumb($){const{startTimestamp:_,endTimestamp:j}=$;if(j&&!($.fetchData.url.match(/sentry_key/)&&$.fetchData.method==="POST"))if($.error){const ee=$.fetchData,re={data:$.error,input:$.args,startTimestamp:_,endTimestamp:j};getCurrentHub().addBreadcrumb({category:"fetch",data:ee,level:"error",type:"http"},re)}else{const ee=$.response,re={...$.fetchData,status_code:ee&&ee.status},le={input:$.args,response:ee,startTimestamp:_,endTimestamp:j};getCurrentHub().addBreadcrumb({category:"fetch",data:re,type:"http"},le)}}function _historyBreadcrumb($){let _=$.from,j=$.to;const ee=parseUrl(WINDOW.location.href);let re=_?parseUrl(_):void 0;const le=parseUrl(j);(!re||!re.path)&&(re=ee),ee.protocol===le.protocol&&ee.host===le.host&&(j=le.relative),ee.protocol===re.protocol&&ee.host===re.host&&(_=re.relative),getCurrentHub().addBreadcrumb({category:"navigation",data:{from:_,to:j}})}function _isEvent($){return!!$&&!!$.target}const defaultIntegrations=[new InboundFilters,new FunctionToString,new TryCatch,new Breadcrumbs,new GlobalHandlers,new LinkedErrors,new Dedupe,new HttpContext];function init$1($={}){$.defaultIntegrations===void 0&&($.defaultIntegrations=defaultIntegrations),$.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&($.release=__SENTRY_RELEASE__),WINDOW.SENTRY_RELEASE&&WINDOW.SENTRY_RELEASE.id&&($.release=WINDOW.SENTRY_RELEASE.id)),$.autoSessionTracking===void 0&&($.autoSessionTracking=!0),$.sendClientReports===void 0&&($.sendClientReports=!0);const _={...$,stackParser:stackParserFromStackParserOptions($.stackParser||defaultStackParser),integrations:getIntegrationsToSetup($),transport:$.transport||(supportsFetch()?makeFetchTransport:makeXHRTransport)};initAndBind(BrowserClient,_),$.autoSessionTracking&&startSessionTracking()}function startSessionOnHub($){$.startSession({ignoreDuration:!0}),$.captureSession()}function startSessionTracking(){if(typeof WINDOW.document>"u"){DEBUG_BUILD$1&&logger$2.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const $=getCurrentHub();$.captureSession&&(startSessionOnHub($),addHistoryInstrumentationHandler(({from:_,to:j})=>{_!==void 0&&_!==j&&startSessionOnHub(getCurrentHub())}))}const DEFAULT_HOOKS=["activate","mount","update"],classifyRE=/(?:^|[-_])(\w)/g,classify=$=>$.replace(classifyRE,_=>_.toUpperCase()).replace(/[-_]/g,""),ROOT_COMPONENT_NAME="<Root>",ANONYMOUS_COMPONENT_NAME="<Anonymous>",repeat=($,_)=>$.repeat?$.repeat(_):$,formatComponentName=($,_)=>{if(!$)return ANONYMOUS_COMPONENT_NAME;if($.$root===$)return ROOT_COMPONENT_NAME;if(!$.$options)return ANONYMOUS_COMPONENT_NAME;const j=$.$options;let ee=j.name||j._componentTag;const re=j.__file;if(!ee&&re){const le=re.match(/([^/\\]+)\.vue$/);le&&(ee=le[1])}return(ee?`<${classify(ee)}>`:ANONYMOUS_COMPONENT_NAME)+(re&&_!==!1?` at ${re}`:"")},generateComponentTrace=$=>{if($&&($._isVue||$.__isVue)&&$.$parent){const _=[];let j=0;for(;$;){if(_.length>0){const re=_[_.length-1];if(re.constructor===$.constructor){j++,$=$.$parent;continue}else j>0&&(_[_.length-1]=[re,j],j=0)}_.push($),$=$.$parent}return`

found in

${_.map((re,le)=>`${(le===0?"---> ":repeat(" ",5+le*2))+(Array.isArray(re)?`${formatComponentName(re[0])}... (${re[1]} recursive calls)`:formatComponentName(re))}`).join(`
`)}`}return`

(found in ${formatComponentName($)})`},attachErrorHandler=($,_)=>{const{errorHandler:j,warnHandler:ee,silent:re}=$.config;$.config.errorHandler=(le,de,ge)=>{const ve=formatComponentName(de,!1),Ee=de?generateComponentTrace(de):"",Ce={componentName:ve,lifecycleHook:ge,trace:Ee};if(_.attachProps&&de&&(de.$options&&de.$options.propsData?Ce.propsData=de.$options.propsData:de.$props&&(Ce.propsData=de.$props)),setTimeout(()=>{getCurrentHub().captureException(le,{captureContext:{contexts:{vue:Ce}},mechanism:{handled:!1}})}),typeof j=="function"&&j.call($,le,de,ge),_.logErrors){const Ae=typeof console<"u",Se=`Error in ${ge}: "${le&&le.toString()}"`;ee?ee.call(null,Se,de,Ee):Ae&&!re&&consoleSandbox(()=>{console.error(`[Vue warn]: ${Se}${Ee}`)})}}},DEBUG_BUILD=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,VUE_OP="ui.vue",HOOKS={activate:["activated","deactivated"],create:["beforeCreate","created"],unmount:["beforeUnmount","unmounted"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]};function getActiveTransaction(){return getCurrentHub().getScope().getTransaction()}function finishRootSpan($,_,j){$.$_sentryRootSpanTimer&&clearTimeout($.$_sentryRootSpanTimer),$.$_sentryRootSpanTimer=setTimeout(()=>{$.$root&&$.$root.$_sentryRootSpan&&($.$root.$_sentryRootSpan.finish(_),$.$root.$_sentryRootSpan=void 0)},j)}const createTracingMixins=$=>{const _=($.hooks||[]).concat(DEFAULT_HOOKS).filter((ee,re,le)=>le.indexOf(ee)===re),j={};for(const ee of _){const re=HOOKS[ee];if(!re){DEBUG_BUILD&&logger$2.warn(`Unknown hook: ${ee}`);continue}for(const le of re)j[le]=function(){const de=this.$root===this;if(de){const Ee=getActiveTransaction();Ee&&(this.$_sentryRootSpan=this.$_sentryRootSpan||Ee.startChild({description:"Application Render",op:`${VUE_OP}.render`,origin:"auto.ui.vue"}))}const ge=formatComponentName(this,!1),ve=Array.isArray($.trackComponents)?$.trackComponents.indexOf(ge)>-1:$.trackComponents;if(!(!de&&!ve))if(this.$_sentrySpans=this.$_sentrySpans||{},le==re[0]){const Ee=this.$root&&this.$root.$_sentryRootSpan||getActiveTransaction();if(Ee){const Ce=this.$_sentrySpans[ee];Ce&&!Ce.endTimestamp&&Ce.finish(),this.$_sentrySpans[ee]=Ee.startChild({description:`Vue <${ge}>`,op:`${VUE_OP}.${ee}`,origin:"auto.ui.vue"})}}else{const Ee=this.$_sentrySpans[ee];if(!Ee)return;Ee.finish(),finishRootSpan(this,timestampInSeconds(),$.timeout)}}}return j},globalWithVue=GLOBAL_OBJ,DEFAULT_CONFIG={Vue:globalWithVue.Vue,attachProps:!0,logErrors:!0,hooks:DEFAULT_HOOKS,timeout:2e3,trackComponents:!1};class VueIntegration{static __initStatic(){this.id="Vue"}constructor(_={}){this.name=VueIntegration.id,this._options=_}setupOnce(_,j){this._setupIntegration(j())}_setupIntegration(_){const j=_.getClient(),ee={...DEFAULT_CONFIG,...j&&j.getOptions(),...this._options};if(!ee.Vue&&!ee.app){consoleSandbox(()=>{console.warn("[@sentry/vue]: Misconfigured SDK. Vue specific errors will not be captured.\nUpdate your `Sentry.init` call with an appropriate config option:\n`app` (Application Instance - Vue 3) or `Vue` (Vue Constructor - Vue 2).")});return}ee.app?arrayify(ee.app).forEach(le=>vueInit(le,ee)):ee.Vue&&vueInit(ee.Vue,ee)}}VueIntegration.__initStatic();const vueInit=($,_)=>{const j=$;(j._instance&&j._instance.isMounted)===!0&&consoleSandbox(()=>{console.warn("[@sentry/vue]: Misconfigured SDK. Vue app is already mounted. Make sure to call `app.mount()` after `Sentry.init()`.")}),attachErrorHandler($,_),hasTracingEnabled(_)&&$.mixin(createTracingMixins({..._,..._.tracingOptions}))};function init($={}){const _={_metadata:{sdk:{name:"sentry.javascript.vue",packages:[{name:"npm:@sentry/vue",version:SDK_VERSION$2}],version:SDK_VERSION$2}},defaultIntegrations:[...defaultIntegrations,new VueIntegration],...$};init$1(_)}const ENVIRONMENT=getEnvVariable("VITE_ENVIRONMENT"),REVISION=getEnvVariable("VITE_REVISION"),SENTRY_DSN_FRONTEND=getEnvVariable("VITE_SENTRY_DSN_FRONTEND"),commonIgnoreErrors=["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage",ENVIRONMENT==="develop"?"TypeError":void 0].filter($=>!!$),baseConfig={attachStacktrace:!0,environment:ENVIRONMENT,ignoreErrors:[...commonIgnoreErrors,"TypeError: Failed to fetch","TypeError: NetworkError when attempting to fetch resource.","TypeError: Cancelled","TypeError: geannuleerd","AbortError","QuotaExceededError","NotAllowedError"],release:(REVISION||"").replace(/[\s\.\\\/]+/,"_").substring(0,200),debug:ENVIRONMENT==="develop",tracesSampleRate:0};function initSentryFrontend($){SENTRY_DSN_FRONTEND&&init({...baseConfig,app:$,allowUrls:[/^https?:\/\/[^\/]+\.nu\.nl/],dsn:SENTRY_DSN_FRONTEND,sampleRate:ENVIRONMENT==="production"?1e-4:1})}const handleContainerBlocks=($,_)=>$.filter(j=>isContainerBlock(j)?hasSelfReference(j)||hasSelfCircularDependency(j,_)?!1:(j.blocks=_.filter(ee=>j.sideLoadedBlockIds?.includes(ee.id)),handleContainerBlocks(j.blocks,_)):!0),hasSelfReference=$=>$.sideLoadedBlockIds?.includes($.id)?(captureException({message:"An invalid block with a (side-loaded) reference to itself was found.",blockId:$.id,sideloadedBlockIds:$.sideLoadedBlockIds}),!0):!1,hasSelfCircularDependency=($,_,j=[])=>j.includes($.id)?(captureException({message:"A container block with circular reference was found.",blockId:$.id,path:j.join(" -> ")}),!0):(j.push($.id),$.sideLoadedBlockIds?$.sideLoadedBlockIds?.some(ee=>_.filter(isContainerBlock).filter(re=>re.id==ee).some(re=>hasSelfCircularDependency(re,_,j))):!1),recursiveBlockRemovalByGroupId=($,_)=>$.filter(j=>(isExtendedContainerBlock(j)&&(j.blocks=recursiveBlockRemovalByGroupId(j.blocks,_)),!j.groupIds||!j.groupIds.some(ee=>_.includes(ee)))),recursiveBlockReplacementById=($,_)=>_.blocks?$.map(j=>isPlaceholderBlock(j)&&_.blocks&&j.id===_.blockId?_.blocks:isExtendedContainerBlock(j)?{...j,blocks:recursiveBlockReplacementById(j.blocks,_)}:j).flat():$,getErrorScreen=({screen:$={firstBlockPage:{},httpResponse:{statusCode:503}},reason:_,safeReason:j="Deze pagina kan helaas niet geladen worden, probeer het later nog eens.",statusCode:ee})=>{const re=getEnvVariable("VITE_ENVIRONMENT"),le="Pagina kon niet geladen worden.",de=[{__typename:"ImageBlock",id:"loader",image:{__typename:"Image",url:"https://media.nu.nl/m/gvzxkn9akexw_xwd854/error-en-laadpagina.jpeg",viewAspectRatio:2},imageFlavor:{__typename:"ArticleHeadImageFlavor",title:{__typename:"StyledText",text:le}}},{__typename:"TextBlock",id:"general-error-text",styledText:{__typename:"StyledText",text:j},textRole:TextRole.ArticleBody}],ge=re!=="production"&&_?[{__typename:"TextBlock",id:"detail-error-text",styledText:{text:`${_}`,textType:TextType.RestrictedHtml},textRole:TextRole.ArticleBody}]:[];return{...$,title:$.title||le,firstBlockPage:{...$.firstBlockPage,blocks:[...de,...ge,...$.firstBlockPage?.blocks||[]]},httpResponse:{statusCode:ee||$.httpResponse?.statusCode||503}}},screens=[{screen:ScreenEntryPoint.Frontpage,slug:"voorpagina"},{screen:ScreenEntryPoint.Traffic,slug:"verkeer"},{screen:ScreenEntryPoint.Trains,slug:"trein"},{screen:ScreenEntryPoint.Gasprices,slug:"brandstof"},{screen:ScreenEntryPoint.Weather,slug:"weer"}],screenToSlug=new Map(screens.map($=>[$.screen,$.slug])),slugToScreen=new Map(screens.map($=>[$.slug,$.screen])),getScreenEntryPointBySlug=$=>slugToScreen.get($),getSlugByScreenEntryPoint=$=>screenToSlug.get($),useErrorStore=defineStore("errors",{state:()=>({errors:[]}),actions:{setErrors($){this.errors=[...this.errors,$]},handleError($){const _=["geannuleerd","The network connection was lost.","Failed to fetch"];if($ instanceof Error&&($=[$]),Array.isArray($))$.forEach(j=>{if(j instanceof TypeError&&_.includes(j.message))this.setErrors(j);else throw j});else throw $}}}),useNuJijStore=defineStore("nujij",{state:()=>({count:0,enabled:!1}),actions:{setScreenCommentsMetadata($){this.enabled=!!$.commentsEnabled,this.count=$.commentsCount||0}}});var ContentCacheKeys=($=>($.menus="BFF_MENUS",$))(ContentCacheKeys||{});const isExtendedContainerBlock=$=>isContainerBlock($)&&"blocks"in $,useContentStore=defineStore("content",()=>{const $=inject("bffClient"),_=ref$1([]),j=ref$1([]),ee=ref$1([]),re=ref$1(),le=ref$1(),de=ref$1(),ge=ref$1(),ve=ref$1(),Ee=ref$1([]),Ce=ref$1(),Ae=ref$1([]),Se=ref$1("NU.nl"),ke=ref$1(),we=ref$1([]),Ne=ref$1(),Le=ref$1({}),Me=ref$1(),Fe=ref$1([]),xe=async ht=>{const ft=getScreenEntryPointBySlug(ht),rt=useErrorStore();if(!ft)return Promise.reject(`unknown slug: ${ht}`);try{let lt;try{lt=await $.screenByEntryPoint(ft)}catch(dt){lt=getErrorScreen({reason:dt})}lt.schemaOrgString&&et(lt.schemaOrgString),lt.screenMetadata&&Ke(lt.screenMetadata),lt.screenOgData&&Xe(lt.screenOgData),lt.sectionTheme&&qe(lt.sectionTheme),lt.title&&tt(lt.title),lt.trackers&&Qe(lt.trackers),lt.twitterCardData&&ot(lt.twitterCardData),lt.updatedAt&&He(lt.updatedAt),De(lt),Ze(lt.id)}catch(lt){rt.handleError(lt)}},$e=async({path:ht,query:ft})=>{const rt=useNuJijStore(),lt=useErrorStore();try{const dt=new URL(ht,"https://www.nu.nl");if(ft?.token){const St=ft?.token;dt.searchParams.set("previewtoken",St)}if(ft?.q){const St=ft.q;dt.searchParams.set("searchQuery",St)}let ct;try{ct=await $.screenByUrl(dt.toString())}catch(St){ct=getErrorScreen({reason:St})}ct.httpResponse?.statusCode===404&&(ct=getErrorScreen({screen:ct,safeReason:"404: De inhoud die je zocht is niet (of niet meer) beschikbaar."}));const Ct=ct.httpResponse?.redirectUrl||ct.screenCanonicalUrl;if(Ct){let St;try{St=new URL(Ct)}catch{St=new URL(Ct,"https://www.nu.nl")}if(St.pathname!==dt.pathname&&dt.pathname.indexOf("preview")===-1){const ze=["commentId","commentID"].reduce((st,it)=>(st[it]=(ft||{})[it],st),{}),nt=Object.keys(ze).filter(st=>!!ze[st]).map(st=>`${st}=${ze[st]}`).join("&");Ge(nt.length>0?St.toString()+"?"+nt:St.toString()),Be(ct.httpResponse?.statusCode||301);return}}rt.setScreenCommentsMetadata(ct),ct.actions&&We(ct.actions),ct.httpResponse?.statusCode&&Be(ct.httpResponse?.statusCode),ct.id&&Ze(ct.id),ct.schemaOrgString&&et(ct.schemaOrgString),ct.screenCanonicalUrl&&Oe(ct.screenCanonicalUrl),ct.screenMetadata&&Ke(ct.screenMetadata),ct.screenOgData&&Xe(ct.screenOgData),ct.title&&tt(ct.title),ct.trackers&&Qe(ct.trackers),ct.twitterCardData&&ot(ct.twitterCardData),ct.updatedAt&&He(ct.updatedAt),ct.variables&&Je(ct.variables),De(ct),ct.sectionTheme&&qe(ct.sectionTheme)}catch(dt){lt.handleError(dt)}},De=ht=>{Fe.value=ht.firstBlockPage?.sideLoadedBlocks||[];const ft=ht.firstBlockPage?.blocks||[],rt=ht.firstBlockPage?.sidebarBlocks||[],lt=ht.firstBlockPage?.topzoneBlocks||[];_.value=handleContainerBlocks(ft,Fe.value),j.value=handleContainerBlocks(rt,Fe.value),ee.value=handleContainerBlocks(lt,Fe.value)},Oe=ht=>{ge.value=ht},Ge=ht=>{le.value=ht},We=ht=>{de.value=ht},Ze=ht=>{ve.value=ht},Qe=ht=>{ke.value=ht},tt=ht=>{try{document.title=ht||"NU.nl"}catch(ft){if(!(ft instanceof ReferenceError))throw ft}Se.value=ht||"NU.nl"},Ke=ht=>{Ae.value=ht},Xe=ht=>{Ee.value=ht},ot=ht=>{we.value=ht},et=ht=>{Ce.value=ht},He=ht=>{Ne.value=ht},qe=ht=>{Me.value=ht},Be=ht=>{re.value=ht||200},Ue=ht=>{ht&&ht.forEach(ft=>{ft.name&&(Le.value[ft.name]=ft.value||"")})},Je=ht=>{Le.value={},ht&&ht.length&&ht.forEach(ft=>{ft.name&&(Le.value[ft.name]=ft.value||"")})},Ye=async ht=>{try{let ft;if(window?.getRecommendedByID?ft=await $.recommendationsByArticleID(idFromPath(ht)):ft=await $.recommendedArticles(`https://www.nu.nl/${ht}`),ft.blocks&&ft.sideLoadedBlocks)return handleContainerBlocks(ft.blocks,ft.sideLoadedBlocks).find(isContainerBlock)}catch(ft){throw console.error(ft),ft}},at=async ht=>{if(ht.id){const ft=await $.handleAction(ht.actionData,ht.id);isBlockReplacementActionResponse(ft)&&ft.blocks?.length&&vt({originalBlock:ht.originalBlock,newBlock:ft.blocks[0]}),isCompoundBlockModificationActionResponse(ft)&&ft.modifications?.length&&Et({modifications:ft.modifications})}},vt=({originalBlock:ht,newBlock:ft})=>{if(ht){const rt=lt=>(lt.forEach((dt,ct)=>{if(dt.id===ht.id){lt[ct]=ft;return}isContainerBlock(dt)&&rt(dt.blocks)}),lt);rt(_.value),rt(j.value)}},Et=({modifications:ht})=>{ht.forEach(ft=>{if(isBlockRemovalByGroupIdActionResponse(ft)&&ft.groupIds&&(_.value=recursiveBlockRemovalByGroupId(_.value,ft.groupIds)),isBlockReplacementByIdActionResponse(ft)){const rt=recursiveBlockReplacementById(_.value,ft);_.value=rt}})};return{blocksMain:_,blocksSidebar:j,blocksTopzone:ee,compoundBlockModification:Et,getRecommendedArticles:Ye,getScreenByEntryPoint:xe,getScreenByPath:$e,handleAction:at,httpStatusCode:re,redirectUrl:le,replaceBlock:vt,screenActions:de,screenCanonicalUrl:ge,screenId:ve,screenOgData:Ee,screenSchemaOrg:Ce,screenScreenMetadata:Ae,screenTitle:Se,screenTrackers:ke,screenTwitterCardData:we,screenUpdatedAt:Ne,screenVariables:Le,sectionTheme:Me,setBlockParents:De,setHttpStatusCode:Be,setRedirectUrl:Ge,setScreenActions:We,setScreenCanonicalUrl:Oe,setScreenId:Ze,setScreenOgData:Xe,setScreenSchemaOrg:et,setScreenScreenMetadata:Ke,setScreenTitle:tt,setScreenTrackers:Qe,setScreenTwitterCardData:ot,setScreenUpdatedAt:He,setScreenVariables:Je,setSectionTheme:qe,sideLoadedBlocks:Fe,updateScreenVariables:Ue}}),useFormElementBlockStore=defineStore("formElementBlock",{state:()=>({formElementBlockTextArea:""}),actions:{setFormElementBlockTextArea($){this.formElementBlockTextArea=$},setFormElementBlockTextAreaToEmptyString(){this.formElementBlockTextArea=""},async handleQuestionFormData($){const _=useContentStore();try{if($.groupId&&$.tagIds&&$.originalBlock){const j=await this.bffClient.handleQuestionFormData($.actionData,$.groupId,$.id,$.tagIds);isBlockReplacementByIdActionResponse(j)&&j.blocks?.length&&(_.replaceBlock({originalBlock:$.originalBlock,newBlock:j.blocks[0]}),this.setFormElementBlockTextAreaToEmptyString()),isCompoundBlockModificationActionResponse(j)&&j.modifications?.length&&_.compoundBlockModification({modifications:j.modifications})}}catch(j){console.error(j)}}}}),addLinkToPage=$=>new Promise(_=>{const j=document.createElement("link");j.setAttribute("rel","stylesheet"),j.setAttribute("href",$.href),j.setAttribute("data-hybrid-script-id",$.href),j.onload=()=>{window.onHybridScriptLoaded(j),_()},j.onerror=ee=>console.log(ee),document.body.appendChild(j)}),addScriptToPage=$=>new Promise(_=>{const j=document.createElement("script");j.setAttribute("src",$.src),j.setAttribute("data-hybrid-script-id",$.src),j.onload=()=>{console.log("onload"),window.onHybridScriptLoaded(j),_()},j.onerror=ee=>console.log(ee),document.body.appendChild(j)}),allScriptLoaded=$=>{let _=!1;return $.filter(j=>j.src).forEach(j=>{_=document.querySelector(`script[data-hybrid-script-id="${j.src}"]`).getAttribute("data-hybrid-script-loaded")==="true"}),$.filter(j=>j.href).forEach(j=>{_=document.querySelector(`link[data-hybrid-script-id="${j.href}"]`).getAttribute("data-hybrid-script-loaded")==="true"}),_},concat=$=>Array.prototype.concat.bind($),promiseConcat=$=>_=>$().then(concat(_)),promiseReduce=($,_)=>$.then(promiseConcat(_)),runPromisesSequantially=$=>$.reduce(promiseReduce,Promise.resolve([])),useHybridScripts=($,_)=>{let j;Array.isArray($)?j=$:j=[$];const ee=j.map(le=>typeof le=="string"?le.indexOf(".js")!==-1?{src:le}:{href:le}:le);if(typeof window>"u"){const le=useSSRContext();le.hybridScripts=le.hybridScripts||new HybridScriptsContext,ee.filter(de=>de.href).forEach(de=>{le.hybridScripts.addLink(de)}),ee.filter(de=>de.src).forEach(de=>{le.hybridScripts.addScript(de)})}else{const le=()=>{allScriptLoaded(ee)&&(window.removeEventListener("hybrid-script-loaded",le),_())};window.onHybridScriptLoaded||(window.onHybridScriptLoaded=function(Ce){Ce.setAttribute("data-hybrid-script-loaded","true"),window.dispatchEvent(new CustomEvent("hybrid-script-loaded"))});const de=ee.filter(Ee=>Ee.src).filter(Ee=>!document.querySelector(`script[data-hybrid-script-id="${Ee.src}"]`)),ve=[...ee.filter(Ee=>Ee.href).filter(Ee=>!document.querySelector(`link[data-hybrid-script-id="${Ee.href}"]`)).map(Ee=>()=>addLinkToPage(Ee)),...de.map(Ee=>()=>addScriptToPage(Ee))];return runPromisesSequantially(ve).then(()=>{allScriptLoaded(ee)?_():window.addEventListener("hybrid-script-loaded",le)}),()=>{window.removeEventListener("hybrid-script-loaded",le)}}};class HybridScriptsContext{constructor(){this.scripts=new Set,this.links=new Set}addScript(_){this.scripts.add(_)}addLink(_){this.links.add(_)}render(){const _=Array.from(this.scripts).map(re=>{let le=`<script src="${re.src}" data-hybrid-script-id="${re.src}"`;return le+=re.async?" async":"",le+=re.defer?" defer":"",le+=' onload="onHybridScriptLoaded(this)"><\/script>',le});return`${["<script>function onHybridScriptLoaded(el) { el.setAttribute('data-hybrid-script-loaded', 'true');window.dispatchEvent(new CustomEvent('hybrid-script-loaded'));}<\/script>",...Array.from(this.links).map(re=>`<link href="${re.href}" data-hybrid-script-id="${re.href}" rel="stylesheet" onload="onHybridScriptLoaded(this)">`),..._].map(re=>re.replace(/(?:\r\n|\r|\n)/g,"")).join(`\r
`)}`}}var Theme=($=>($.Dark="dark",$.Light="light",$))(Theme||{});const isTheme=$=>typeof $=="string"&&Object.values(Theme).includes($),defaultTheme="light",themeCookieName="NU.preferences.theme",usePreferencesStore=defineStore("preferences",{state:()=>({theme:"light"}),actions:{setTheme($){isTheme($)&&(this.theme=$,api.set(themeCookieName,$,{expires:3650}),isBrowser$1()&&document.documentElement.setAttribute("data-theme",$))},toggleTheme(){this.setTheme(this.theme==="light"?"dark":"light")}}}),runPipSso=($,_)=>{$.loggedInEmail=_,window.ssoDetection.trigger($)},ssoConfig=($=defaultTheme)=>{const _=window.location.host,j=encodeURIComponent(window.location.href),ee=`https://${_}/login?originalUrl=${j}`;return{topLevelDomain:"nl",authorizeUrl:()=>ee,logoutUrl:"",logoUrl:"https://www.nu.nl/assets/favicon/nu_logo.svg?v=1",bannerConfig:"NL-Newspaper",loggedInEmail:"",intraSsoEnabled:!1,automaticLoginEnabled:!0,multipleSessionsPopupEnabled:!0,theme:$.toUpperCase()}},usePipSso=($,_)=>{useHybridScripts(["https://login-static.dpgmedia.net/ssosession/main.js"],()=>{runPipSso(ssoConfig(_),$)})},assign=$=>{window.location.assign($)},login=($={},_)=>{const j=usePreferencesStore();let ee=encodeURIComponent(document.location.href);_&&(ee=encodeURIComponent(_));const re={originalUrl:ee,theme:j.theme,...$},le="?"+Object.keys(re).map(de=>`${de}=${re[de]}`).join("&");assign(`/login${le}`)},ssoLogout=$=>{isBrowser$1()&&window.ssoDetection&&window.ssoLogout.logout({...ssoConfig(),logoutUrl:$})},logout=()=>{const $=usePreferencesStore(),j=`/logout?originalUrl=${encodeURIComponent(document.location.href)}&theme=${$.theme}`;window.location.pathname.startsWith("/components")?assign(j):ssoLogout(j)},showProfile=()=>{assign("https://mijnomgeving.nu.nl")};function setConsentCookie(){const $={expires:365,path:"/",domain:location.hostname.replace(/^www\./i,""),sameSite:"None",secure:!0},_=(...j)=>ee=>j.forEach(re=>api.set(re,ee,$));window._privacy?.push(["onTcString",_("CookieConsent")]),window._privacy?.push(["onDpgConsentString",_("tcf20_purposes","dpg-consent-string")])}let privacyGateLoaded;const loadPrivacyGate=async $=>{window.cmpProperties={baseUrl:getEnvVariable("VITE_PRIVACY_GATE_BASE_URL"),cmpCname:getEnvVariable("VITE_PRIVACY_GATE_CMP_C_NAME"),language:getEnvVariable("VITE_PRIVACY_GATE_LANGUAGE"),privacyManagerId:getEnvVariable("VITE_PRIVACY_GATE_PRIVACY_MANAGER_ID")},privacyGateLoaded=new Promise(_=>{useHybridScripts(getEnvVariable("VITE_PRIVACY_GATE_CONSENT_SCRIPT")||"",()=>{api.get("CookieConsent")||window._privacy?.push(["functional",setConsentCookie]),window._privacy?.push(["consentupdated",()=>{setConsentCookie(),window.location.reload()}]),$.add({"gtm.start":new Date().getTime(),event:"gtm.js"}),_(),useHybridScripts(`https://www.googletagmanager.com/gtm.js?id=${$.containerId}&l=dataLayer`,()=>{})})})},onConsentKnown=($,_)=>{privacyGateLoaded.then(()=>{window._privacy?.push([$,()=>_(!0),()=>_(!1)])})},updateConsent=()=>{if(!window._privacy||!window._privacy.openModal)throw new Error("privacy gate not properly loaded, _privacy not set");window._privacy.openModal()},_hoisted_1$16={key:0,class:"app-button-bar"},_hoisted_2$y={key:1,class:"app-button-bar"},_sfc_main$1v=defineComponent({__name:"ButtonBarBlock",props:{block:{}},emits:["change"],setup($){const _=$,j=useRoute(),ee=useContentStore(),re=useFormElementBlockStore(),le=resolvedParentBlock(),de=v4(),ge=Se=>{const ke=[];return _.block.buttonsPresentationStyle===ButtonsPresentationStyle.Tabs&&(ke.push("tab"),(isSetVariablesTarget(Se.target)?Se.target.variables?.find(Ne=>Ne.name==="showTab"):void 0)?.value===ee.screenVariables.showTab&&ke.push("tab--active")),ke},ve=computed(()=>_.block.buttonsPresentationStyle===ButtonsPresentationStyle.Tabs),Ee=computed(()=>ve.value?"cta":""),Ce=Se=>{isSetVariablesTarget(Se.target)?ee.updateScreenVariables(Se.target.variables):isConsentTarget(Se.target)?updateConsent():isLoginTarget(Se.target)?login({dpg_medium:"loginwall",dpg_campaign:idFromPath(j.path),dpg_term:"go-to-login-button",dpg_source:"nu"}):isFormSubmitTarget(Se.target)&&re.handleQuestionFormData({actionData:[{key:de,value:re.formElementBlockTextArea}],groupId:Se.target.groupId,id:idFromPath(j.path),tagIds:Se.target.tagIds,originalBlock:le})},Ae=Se=>{if(isLoginTarget(Se.target))return{__typename:"GTMLinkAttributes",category:"login_wall",action:"click",label:"go-to-login-button"};if(isFormSubmitTarget(Se.target))return{__typename:"GTMLinkAttributes",category:"news_question",action:"click",label:"submit-news_question-button"}};return(Se,ke)=>ve.value?(openBlock(),createElementBlock("nav",_hoisted_1$16,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Se.block.buttons,(we,Ne)=>(openBlock(),createBlock(_sfc_main$1w,{key:we.title&&we.title.text||`bar-button-${Ne}`,"button-type":Ee.value,class:normalizeClass(ge(we)),"gtm-button-attributes":Ae(we),onClick:Le=>Ce(we)},{default:withCtx(()=>[createTextVNode(toDisplayString(we.title&&we.title.text||"Click"),1)]),_:2},1032,["button-type","class","gtm-button-attributes","onClick"]))),128))])):(openBlock(),createElementBlock("div",_hoisted_2$y,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Se.block.buttons,(we,Ne)=>(openBlock(),createBlock(_sfc_main$1w,{key:we.title&&we.title.text||`bar-button-${Ne}`,"button-type":Ee.value,class:normalizeClass(ge(we)),colorway:"green","gtm-button-attributes":Ae(we),onClick:Le=>Ce(we)},{default:withCtx(()=>[createTextVNode(toDisplayString(we.title&&we.title.text||"Click"),1)]),_:2},1032,["button-type","class","gtm-button-attributes","onClick"]))),128))]))}}),_hoisted_1$15=["src","alt","aria-hidden"],_sfc_main$1u=defineComponent({__name:"AppImage",props:{id:{},description:{},title:{},alt:{},url:{},viewAspectRatio:{},mediaAspect:{},ariaHidden:{type:Boolean}},setup($){const _=$,j=computed(()=>{const ee=["app-image"];let re=_.mediaAspect;if(!re&&_.viewAspectRatio&&(re={1.77777:"16:9",1.33333:"4:3",1.14285:"8:7",.75:"3:4",2:"2:1",1:"1:1"}[_.viewAspectRatio]),re){ee.push("lazy-aspect");const le=computed(()=>{switch(re){case"16:9":return"16by9";case"4:3":return"4by3";case"8:7":return"8by7";case"3:4":return"3by4";case"2:1":return"2by1";case"1:1":return"1by1";default:return!1}});le.value&&ee.push("lazy-aspect--"+le.value)}return ee});return(ee,re)=>(openBlock(),createElementBlock("img",{src:ee.url,alt:ee.alt||ee.description||ee.title,loading:"lazy",class:normalizeClass(j.value),"aria-hidden":ee.ariaHidden},null,10,_hoisted_1$15))}}),_hoisted_1$14={key:1,class:"icon"},_hoisted_2$x=["width","height","viewBox","aria-labelledby","alt"],_hoisted_3$h={lang:"nl"},_sfc_main$1t=defineComponent({__name:"AppIcon",props:{icon:{default:void 0},embed:{type:Boolean,default:!1},embedAlt:{default:""},width:{default:"24"},height:{default:"24"},viewboxWidth:{default:"24"},viewboxHeight:{default:"24"},iconColor:{default:"currentColor"}},setup($){const _=$,j=computed(()=>`width: ${_.width}px; height: ${_.height}px;`);return(ee,re)=>ee.icon&&ee.icon.url?(openBlock(),createBlock(_sfc_main$1u,{key:0,url:ee.icon.url,description:ee.icon.description,title:ee.icon.title,class:"icon"},null,8,["url","description","title"])):ee.embed?(openBlock(),createElementBlock("i",_hoisted_1$14,[(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:ee.width,height:ee.height,viewBox:`0 0 ${ee.viewboxWidth} ${ee.viewboxHeight}`,"aria-labelledby":ee.embedAlt,alt:ee.embedAlt,role:"img",style:normalizeStyle(j.value)},[createBaseVNode("title",_hoisted_3$h,toDisplayString(ee.embedAlt),1),createBaseVNode("g",null,[renderSlot(ee.$slots,"default")])],12,_hoisted_2$x))])):createCommentVNode("",!0)}}),useIntersectionObserver=($,{threshold:_=0,root:j=null,rootMargin:ee="0%",freezeOnceVisible:re=!1})=>{const le=ref$1(!1),de=computed(()=>le.value&&re),ge=([Se])=>{de.value||(le.value=Se.isIntersecting)},ve=$.value,Ee=!!window.IntersectionObserver;if(!Ee||de.value||!ve)return{stop:()=>{},isIntersecting:le,isSupported:Ee};const Ce={threshold:_,root:j,rootMargin:ee},Ae=new IntersectionObserver(ge,Ce);return Ae.observe(ve),{stop:()=>Ae.disconnect(),isIntersecting:le,isSupported:Ee}},useWhenPartlyInView=({target:$,threshold:_,callback:j})=>{let ee;onMounted(()=>{const{stop:re,isIntersecting:le}=useIntersectionObserver($,{freezeOnceVisible:!0,threshold:_});watch(le,de=>de&&j()),ee=re}),onUnmounted(()=>{ee?.()})},useWhenInView=({target:$,callback:_})=>useWhenPartlyInView({target:$,threshold:0,callback:_}),useWhenFullyInView=({target:$,callback:_})=>useWhenPartlyInView({target:$,threshold:1,callback:_}),setData=($,_,j)=>{$.data(_,j)},getData=($,_)=>$.data(_),amendData=($,_,j,ee,re)=>{const le=$.find(_);setData(le,j,{...getData(le,j),[ee]:re})},setFullscreenToggleAttributes=($,_)=>{const j=getData($,_?"closeFullScreen":"openFullScreen"),ee=j&&Object.entries(j);if(ee)for(const[re,le]of ee)$.attr(re,le)},setFlipperAttribute=($,_,j)=>{$.find(".rsArrow").each((ee,re)=>{window.$(re).attr(_,j)})},setFullScreenAttribute=($,_,j)=>{amendData($,".rsFullscreenBtn","openFullScreen",_,j),setFullscreenToggleAttributes($.find(".rsFullscreenBtn"),!1)},setCloseFullScreenAttribute=($,_,j)=>{amendData($,".rsFullscreenBtn","closeFullScreen",_,j)},initializeRoyalSlider=($,_)=>{const j={fullscreen:{enabled:!0,nativeFS:!1},controlNavigation:"none",autoScaleSlider:!0,autoScaleSliderWidth:640,autoScaleSliderHeight:360,imageScalePadding:0,loop:!1,imageScaleMode:"fit",navigateByClick:!0,numImagesToPreload:0,arrowsNav:!0,arrowsNavAutoHide:!0,arrowsNavHideOnTouch:!0,keyboardNavEnabled:!0,fadeinLoadedSlide:!0,globalCaption:!0,globalCaptionInside:!1,transitionType:"fade",transitionSpeed:200,thumbs:{fitInViewport:!1,appendSpan:!0,firstMargin:!0,paddingBottom:0}},ee=window.$($).royalSlider(j),re=ee.data("royalSlider");if(re){let le=function(){ge.html(re.currSlideId+1+" / "+re.numSlides)};const de=ee.find(".rsOverflow");window.$(_.innerHTML).appendTo(de);const ge=window.$(".rsSlideCount",de),ve=window.$($).parents(".slideshow:first"),Ee=ve.find(".rsImageOnlyBtn"),Ce=ve.find(".rsCloseShareOverlayBtn"),Ae=ve.find(".rsFullscreenBtn");Ae.on("click",function(){ve.toggleClass("slideshowIsFullscreen"),setFullscreenToggleAttributes(Ae,ve.hasClass("slideshowIsFullscreen"))}),window.$(document).keyup(Se=>{Se.key==="Escape"&&(Se.preventDefault(),ve.removeClass("slideshowIsFullscreen"))}),Ee.on("click",function(Se){Se.preventDefault(),Ee.toggleClass("open").toggleClass("closed"),ee.toggleClass("rsImageOnly"),setTimeout(function(){re.updateSliderSize(!0)},10)}),Ce.on("click",function(Se){Se.preventDefault(),ve.removeClass("overlayActive")}),re.ev.on("rsAfterSlideChange",le),le()}return ee},_hoisted_1$13={key:0,class:"slideshow slideshow--breakout"},_hoisted_2$w=["href","data-rsBigImg"],_hoisted_3$g={class:"rsCaption"},_hoisted_4$c={key:0},_hoisted_5$9={key:1,class:"rsCopyright"},_hoisted_6$6=createBaseVNode("div",{class:"rsActionBar left"},[createBaseVNode("div",{class:"rsActionBarBtn rsSlideCount"})],-1),_hoisted_7$5={class:"rsActionBar right"},_hoisted_8$4={class:"rsActionBarBtn rsImageOnlyBtn"},_hoisted_9$2={class:"rsActionBar center"},_hoisted_10$2={class:"rsSlideshowTitle"},_sfc_main$1s=defineComponent({__name:"CarouselLinkBlock",props:{block:{}},setup($){const _=$,j=ref$1(null),ee=ref$1(),re=inject("gtmLocation");useHybridScripts(["/assets/royalSlider/css/royalslider.css","/assets/royalSlider/skins/default/rs-default.css","https://code.jquery.com/jquery-3.5.1.min.js","/assets/royalSlider/js/jquery.royalslider.min.js"],()=>{if(ee.value&&ee.value?.children?.length>0){const ge=initializeRoyalSlider(ee.value,j.value);[["data-category","slideshow"],["data-action","flip"],["data-label",re]].forEach(([ve,Ee])=>setFlipperAttribute(ge,ve,Ee)),[["data-category","slideshow"],["data-action","full-screen"],["data-label",re]].forEach(([ve,Ee])=>setFullScreenAttribute(ge,ve,Ee)),[["data-category","slideshow"],["data-action","close-full-screen"],["data-label",re]].forEach(([ve,Ee])=>setCloseFullScreenAttribute(ge,ve,Ee))}});const le=computed(()=>_.block.links?.filter(ge=>isImageLinkFlavor(ge.linkFlavor)).map(ge=>{const ve=ge.linkFlavor,Ee=ve.image;return{...ge,linkFlavor:{...ve,image:Ee}}})),de=useGtm();return useWhenPartlyInView({target:ee,threshold:.5,callback:()=>de.add({event:"slideshow-in-view","slideshow-location":re})}),(ge,ve)=>le.value&&le.value.length>0?(openBlock(),createElementBlock("div",_hoisted_1$13,[createBaseVNode("div",{ref_key:"royalSLider",ref:ee,style:{width:"100%"},class:"royalSlider rsDefault rsNunl"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(le.value,Ee=>(openBlock(),createElementBlock("a",{key:Ee.title?.text,class:"rsImg",href:Ee.linkFlavor?.image?.url,"data-rsBigImg":Ee.linkFlavor?.image?.url},[createBaseVNode("div",_hoisted_3$g,[Ee.linkFlavor?.image.description?(openBlock(),createElementBlock("span",_hoisted_4$c,toDisplayString(Ee.linkFlavor.image.description),1)):createCommentVNode("",!0),Ee.linkFlavor?.image.copyright?(openBlock(),createElementBlock("span",_hoisted_5$9," "+toDisplayString(Ee.linkFlavor?.image.copyright),1)):createCommentVNode("",!0)])],8,_hoisted_2$w))),128))],512),createBaseVNode("div",{ref_key:"rsActionBar",ref:j,style:{display:"none"}},[_hoisted_6$6,createBaseVNode("div",_hoisted_7$5,[createBaseVNode("div",_hoisted_8$4,[createVNode(_sfc_main$1t,{embed:"","embed-alt":"Toon alleen het Plaatje",width:"20",height:"20",class:"iconEyeOpen"},{default:withCtx(()=>[createVNode(IconEyeOpen)]),_:1}),createVNode(_sfc_main$1t,{embed:"","embed-alt":"Toon alleen het Plaatje",width:"20",height:"20",class:"iconEyeClosed"},{default:withCtx(()=>[createVNode(IconEyeClosed)]),_:1})])]),createBaseVNode("div",_hoisted_9$2,[createBaseVNode("div",_hoisted_10$2,[createBaseVNode("span",null,toDisplayString(ge.block.legacySlideshowName),1)])])],512)])):createCommentVNode("",!0)}}),_hoisted_1$12={class:"comment-block"},_hoisted_2$v={class:"comment-block__header"},_hoisted_3$f={class:"username"},_hoisted_4$b={key:0,class:"username__label"},_hoisted_5$8={class:"when"},_hoisted_6$5={class:"comment-block__footer"},_hoisted_7$4={class:"left"},_sfc_main$1r=defineComponent({__name:"CommentBlock",props:{block:{}},setup($){const _=$,j=ref$1(null),ee=computed(()=>j.value&&j.value.scrollHeight>j.value.clientHeight),re=ref$1(!0),le=computed(()=>_.block.username?.text),de=computed(()=>_.block.commentText?.text),ge=computed(()=>_.block.repliesText?.text),ve=computed(()=>_.block.likesText?.text),Ee=computed(()=>_.block.dateLabel?.text),Ce=computed(()=>_.block.usernameLabel?.text?.text),Ae=useRouter(),Se=()=>{if(isUrlTarget(_.block.target)&&_.block.target.url.indexOf("?commentId=")!==-1){const we=_.block.target.url.split("?commentId=")[1];Ae.replace({path:Ae.currentRoute.value.path,query:{commentId:we}})}},ke=()=>{re.value=!1};return(we,Ne)=>(openBlock(),createElementBlock("div",_hoisted_1$12,[createBaseVNode("div",_hoisted_2$v,[createBaseVNode("div",_hoisted_3$f,toDisplayString(le.value),1),Ce.value?(openBlock(),createElementBlock("span",_hoisted_4$b,toDisplayString(Ce.value),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_5$8,toDisplayString(Ee.value),1)]),createBaseVNode("div",{ref_key:"commentBody",ref:j,class:normalizeClass(["comment-block__body",{"comment-block__body--truncated":re.value,"comment-block__body--short":!ee.value}])},toDisplayString(de.value),3),re.value&&ee.value?(openBlock(),createBlock(_sfc_main$1w,{key:0,"button-type":"inline",class:"comment-block__readmore",onClick:ke},{default:withCtx(()=>[createTextVNode("Toon meer "),createVNode(_sfc_main$1t,{embed:"","embed-alt":"neerwaarts-caret-icoon",width:"16",height:"16"},{default:withCtx(()=>[createVNode(IconCaretDown)]),_:1})]),_:1})):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$5,[createBaseVNode("div",_hoisted_7$4,[createBaseVNode("a",{href:"#nujij",class:"likes","data-category":"nujij","data-action":"click","data-label":"respect_highlight-block",onClick:Se},toDisplayString(ve.value),1),createBaseVNode("a",{href:"#nujij",class:"replies","data-category":"nujij","data-action":"click","data-label":"reactions_highlight-block",onClick:Se},toDisplayString(ge.value),1)]),createBaseVNode("div",null,[createBaseVNode("a",{href:"#nujij",class:"reaction-button","data-category":"nujij","data-action":"click","data-label":"respond_highlight-block",onClick:Se}," Reageer ")])])]))}}),useShouldBeShown=()=>$=>{const _=useContentStore();return!$||!$.variableName?!0:_.screenVariables[$.variableName]===$.variableValue},getFlagCookieName=$=>`F1_FEATURE_FLAG_${$.toUpperCase()}`,hasCookieFeatureFlag=$=>!!api.get(getFlagCookieName($));class TeaserImpressionTracking{teaserInViewList;constructor(){window.teaserInViewList=window.teaserInViewList||[],this.teaserInViewList=window.teaserInViewList}add(_,j){_&&this.teaserInViewList.push({position:_.position,list:_.list,type:getTrackingItemType(j),contentId:isScreenTarget(j)?j.targetId:""})}}class ServerTeaserImpressionTracking{add(){throw new Error("Can't call Teaser impressions add during server rendering!")}}const useTeaserImpressionTracking=()=>typeof window>"u"?inject("TeaserTracking",new ServerTeaserImpressionTracking):inject("TeaserTracking",new TeaserImpressionTracking),_hoisted_1$11=["href","target","rel"],_sfc_main$1q=defineComponent({__name:"AppTargetLink",props:{target:{},gtmLinkAttributes:{},teaserImpression:{},targetGroupIds:{}},setup($){const _=$,j=useGtm(),ee=ref$1(),re=useTeaserImpressionTracking(),le=()=>{_.targetGroupIds?.includes("nuvoorjou_anonymous")&&j.add({dataCategory:"login_wall",dataAction:"click",dataLabel:"nuvoorjou"}),_.targetGroupIds?.includes("nuvoorjou_noconsent")&&j.add({dataCategory:"navigation",dataAction:"click",dataLabel:"nuvoorjou_noconsent"})};useWhenFullyInView({target:ee,callback:()=>{re.add(_.gtmLinkAttributes,_.target)}});const de=computed(()=>createDataLinkAttributes(_.gtmLinkAttributes)),ge=computed(()=>resolveTargetRel(_.target)),ve=computed(()=>resolveTargetUrl(_.target)?.href||""),Ee=computed(()=>new URL(ve.value).pathname),Ce=computed(()=>isNunlDomain(ve.value)),Ae=computed(()=>Ce.value?"_self":"_blank"),Se=computed(()=>Ce.value&&hasCookieFeatureFlag("spaNav")),ke=we=>{le();try{const Ne=new URL(ve.value),Le=new URLSearchParams(Ne.search);Le.has("modal")&&Le.get("modal")==="cookie-instellingen"&&(we.preventDefault(),updateConsent())}catch{}};return(we,Ne)=>Se.value?(openBlock(),createBlock(unref(RouterLink),mergeProps({key:0,ref_key:"linkBlockContainerRef",ref:ee,to:Ee.value,rel:ge.value},de.value),{default:withCtx(()=>[renderSlot(we.$slots,"default")]),_:3},16,["to","rel"])):(openBlock(),createElementBlock("a",mergeProps({key:1,ref_key:"linkBlockContainerRef",ref:ee,href:ve.value,target:Ae.value,rel:ge.value},de.value,{onClick:ke}),[renderSlot(we.$slots,"default")],16,_hoisted_1$11))}}),dpnsRef={instance:void 0,isLoaded:ref$1(!1)},useDpns=()=>(onMounted(()=>{dpnsRef.isLoaded.value||useHybridScripts("https://web-sdk.dpns-notifications.com/v8/dpns.js",async()=>{Dpns.initDpns()})}),dpnsRef);class Dpns{dpnsClient;constructor(_){this.dpnsClient=_}static initDpns(){const _={debug:!0,secret:getEnvVariable("VITE_DPNS_W3C_WEB_PUSH_SECRET"),safariOptions:{secret:getEnvVariable("VITE_DPNS_SAFARI_WEB_PUSH_SECRET"),bundleId:getEnvVariable("VITE_DPNS_SAFARI_WEB_PUSH_ID")},onInitFinished:j=>{const ee=new Dpns(j);dpnsRef.instance=ee,j.deviceToken?api.set("x-dpns-device-token",j.deviceToken):api.remove("x-dpns-device-token"),j.deviceSecret?api.set("x-push-device-token",j.deviceSecret):api.remove("x-push-device-token"),dpnsRef.isLoaded.value=!0}};window.dpns=window.DPNS.init(_)}async subscribe(){if(console.log(this.dpnsClient),!this.dpnsClient)return!1;let _=await this.dpnsClient.isSubscribed();_||(_=await this.dpnsClient.subscribe());const j=this.getDeviceSecret();j&&api.set("x-push-device-token",j);const ee=this.getDeviceToken();return ee&&api.set("x-dpns-device-token",ee),_}async addBreaking(){return this.dpnsClient?.addTag("breaking_nu")||!1}async getTags(){return this.dpnsClient?.getTags()||[]}async hasTag(_){return(await this.getTags()).includes(_)}getDeviceSecret(){return this.dpnsClient?.deviceSecret}getDeviceToken(){return this.dpnsClient?.deviceToken}}const _hoisted_1$10={class:"btn-title"},_sfc_main$1p=defineComponent({__name:"button",props:{block:{},gtmLinkAttributes:{},header:{},index:{},isPartner:{type:Boolean},parentTemplate:{},showReadState:{type:Boolean},showMarker:{type:Boolean}},setup($){const _=$,j=resolvedParentBlock(),ee=useDpns(),re=useContentStore(),le=computed(()=>isButtonLinkFlavor(_.block.link?.linkFlavor)&&_.block.link?.linkFlavor?.prefixIcon&&isGraphic(_.block.link?.linkFlavor?.prefixIcon)?_.block.link?.linkFlavor.prefixIcon.name:null),de=computed(()=>isRemoteTarget(_.block.link?.target)&&_.block.link.target.permissions?.includes(TargetPermission.Notification)),ge=computed(()=>mapPerfApiIcon(le.value)),ve=async()=>{if(isRemoteTarget(_.block.link?.target)&&_.block.link.target.action){de.value&&ee.isLoaded.value&&await ee.instance?.subscribe();const Ce={notification:{dpns_device:ee.instance?.getDeviceSecret()}};return re.handleAction({actionData:Ce,id:_.block.link.target.action,originalBlock:j})}},Ee=computed(()=>de.value?ee.isLoaded.value:!0);return(Ce,Ae)=>unref(isUrlTarget)(Ce.block.link?.target)?(openBlock(),createBlock(_sfc_main$1q,{key:0,target:Ce.block.link.target,class:"app-button app-button--inversed","gtm-link-attributes":Ce.gtmLinkAttributes},{default:withCtx(()=>[createTextVNode(toDisplayString(Ce.block.link?.title?.text),1)]),_:1},8,["target","gtm-link-attributes"])):(openBlock(),createBlock(_sfc_main$1w,{key:1,disabled:!Ee.value,class:"app-button--inversed","gtm-button-attributes":Ce.gtmLinkAttributes,onClick:Ae[0]||(Ae[0]=Se=>Ee.value&&ve())},{default:withCtx(()=>[ge.value?(openBlock(),createBlock(_sfc_main$1t,{key:0,embed:"","embed-alt":"",width:"15",height:"15"},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ge.value)))]),_:1})):createCommentVNode("",!0),createBaseVNode("span",_hoisted_1$10,toDisplayString(Ce.block.link?.title?.text),1)]),_:1},8,["disabled","gtm-button-attributes"]))}}),_hoisted_1$$={class:"item-partner"},_hoisted_2$u={class:"item-partner__caption"},_sfc_main$1o=defineComponent({__name:"partner",props:{caption:{},image:{}},setup($){const _=$,j=computed(()=>_.image?.url),ee=computed(()=>_.image?.title);return(re,le)=>(openBlock(),createElementBlock("div",_hoisted_1$$,[createBaseVNode("span",_hoisted_2$u,toDisplayString(re.caption),1),j.value?(openBlock(),createBlock(_sfc_main$1u,{key:0,url:j.value,alt:ee.value,title:ee.value,class:"item-partner__image"},null,8,["url","alt","title"])):createCommentVNode("",!0)]))}}),_hoisted_1$_={key:1,class:"item-thumb__icon"},_sfc_main$1n=defineComponent({__name:"thumb",props:{url:{},title:{},mediaDuration:{},mediaAspect:{}},setup($){const _=$,j=["item-thumb"];if(_.mediaAspect){j.push("lazy-aspect");const ee=computed(()=>{switch(_.mediaAspect){case"16:9":return"16by9";case"4:3":return"4by3";case"8:7":return"8by7";case"3:4":return"3by4";case"2:1":return"2by1";case"1:1":return"1by1";default:return!1}});ee.value&&j.push("lazy-aspect--"+ee.value)}return(ee,re)=>(openBlock(),createElementBlock("figure",{class:normalizeClass(j)},[ee.url?(openBlock(),createBlock(_sfc_main$1u,{key:0,url:ee.url,title:ee.title,class:"item-thumb__image","media-aspect":ee.mediaAspect,"aria-hidden":""},null,8,["url","title","media-aspect"])):createCommentVNode("",!0),ee.mediaDuration?(openBlock(),createElementBlock("figcaption",_hoisted_1$_,[createVNode(_sfc_main$1t,{embed:"",class:"link-block__icon"},{default:withCtx(()=>[createVNode(IconPlay)]),_:1})])):createCommentVNode("",!0)]))}}),_hoisted_1$Z=["title"],_hoisted_2$t={key:0,class:"item-title__title-label"},_hoisted_3$e=createBaseVNode("span",{class:"item-title__title-label-divider","aria-hidden":"true"},"|",-1),_hoisted_4$a={key:1,class:"item-title__title-text"},_hoisted_5$7={key:0,class:"item-title__meta"},_sfc_main$1m=defineComponent({__name:"title",props:{label:{default:""},title:{default:""},meta:{default:""},status:{default:"old"},labelInline:{type:Boolean,default:!0}},setup($){const _=$,j=computed(()=>({"item-title--new":_.status==="new","item-title--has-label":_.label,"item-title--label-inline":_.label&&_.labelInline===!0}));return(ee,re)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["item-title",j.value])},[createBaseVNode("span",{class:"item-title__title",title:ee.title},[ee.label?(openBlock(),createElementBlock("span",_hoisted_2$t,[createTextVNode(toDisplayString(ee.label)+" ",1),_hoisted_3$e])):createCommentVNode("",!0),ee.title?(openBlock(),createElementBlock("span",_hoisted_4$a,toDisplayString(ee.title),1)):createCommentVNode("",!0)],8,_hoisted_1$Z),ee.meta?(openBlock(),createElementBlock("span",_hoisted_5$7,toDisplayString(ee.meta),1)):createCommentVNode("",!0)],2))}}),_hoisted_1$Y={class:"title-wrapper"},_hoisted_2$s={key:1,class:"item-byline"},_sfc_main$1l=defineComponent({__name:"datetime",props:{block:{},gtmLinkAttributes:{},header:{},index:{},isPartner:{type:Boolean},parentTemplate:{},showReadState:{type:Boolean},showMarker:{type:Boolean},meta:{},mediaSize:{},mediaAspect:{},hasMarker:{type:Boolean}},setup($){const _=$;let j;const ee=_.block.link?.linkFlavor;ee?.image&&(j=ee.image);const re=computed(()=>j?.url),le=computed(()=>j?.title||_.block.link?.title?.text||void 0),de=computed(()=>ee?.label?.text),ge=computed(()=>_.block.link?.target),ve=computed(()=>ge.value?_sfc_main$1q:"span"),Ee=computed(()=>ee?.byline?.text),Ce=computed(()=>ee?.estimatedDuration),Ae=computed(()=>ee?.brandIcon),Se=computed(()=>{const ke=["link-block","link-block--datetime"];return _.showReadState&&ke.push("link-block--read-state"),ke});return(ke,we)=>(openBlock(),createBlock(resolveDynamicComponent(ve.value),{target:ge.value,class:normalizeClass(Se.value),"gtm-link-attributes":ke.gtmLinkAttributes},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$Y,[Ee.value&&Ae.value?(openBlock(),createBlock(_sfc_main$1o,{key:0,caption:Ee.value,image:Ae.value},null,8,["caption","image"])):Ee.value?(openBlock(),createElementBlock("span",_hoisted_2$s,toDisplayString(Ee.value),1)):createCommentVNode("",!0),createVNode(_sfc_main$1m,{title:ke.block.link?.title?.text,label:de.value,meta:ke.meta},null,8,["title","label","meta"])]),createVNode(_sfc_main$1n,{url:re.value,title:le.value,"media-duration":Ce.value,"media-aspect":"8:7"},null,8,["url","title","media-duration"])]),_:1},8,["target","class","gtm-link-attributes"]))}}),_hoisted_1$X={class:"title-wrapper"},_sfc_main$1k=defineComponent({__name:"grid",props:{block:{},gtmLinkAttributes:{},header:{},index:{},isPartner:{type:Boolean},parentTemplate:{},showReadState:{type:Boolean},showMarker:{type:Boolean},meta:{},mediaSize:{},mediaAspect:{},hasMarker:{type:Boolean}},setup($){const _=$;let j;const ee=_.block.link?.linkFlavor;ee?.image&&(j=ee.image);const re=computed(()=>j?.url),le=computed(()=>j?.title||_.block.link?.title?.text||void 0),de=computed(()=>ee?.label?.text),ge=computed(()=>_.block.link?.target),ve=computed(()=>ge.value?_sfc_main$1q:"span"),Ee=computed(()=>{if(!isVideoTarget(ge.value))return ee?.byline?.text}),Ce=computed(()=>ee?.estimatedDuration),Ae=computed(()=>ee?.brandIcon),Se=computed(()=>["link-block","link-block--grid",_.showReadState?"link-block--read-state":null]);return(ke,we)=>(openBlock(),createBlock(resolveDynamicComponent(ve.value),{target:ge.value,class:normalizeClass(Se.value),"gtm-link-attributes":ke.gtmLinkAttributes},{default:withCtx(()=>[re.value?(openBlock(),createBlock(_sfc_main$1n,{key:0,url:re.value,title:le.value,"media-duration":Ce.value,"media-aspect":"16:9"},null,8,["url","title","media-duration"])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_1$X,[createVNode(_sfc_main$1m,{title:_.block.link?.title?.text,label:de.value,meta:ke.meta},null,8,["title","label","meta"]),Ee.value&&ke.isPartner?(openBlock(),createBlock(_sfc_main$1o,{key:0,caption:Ee.value,image:Ae.value},null,8,["caption","image"])):createCommentVNode("",!0),ke.hasMarker&&!re.value?(openBlock(),createBlock(_sfc_main$1t,{key:1,embed:"",class:"item-marker"},{default:withCtx(()=>[createVNode(IconChevronRight)]),_:1})):createCommentVNode("",!0)])]),_:1},8,["target","class","gtm-link-attributes"]))}}),_hoisted_1$W={key:0,class:"app-figure__caption"},_sfc_main$1j=defineComponent({__name:"AppFigure",props:{overlay:{type:Boolean},aspectRatio:{}},setup($){const _=useSlots(),j=$,ee=computed(()=>["app-figure",j.overlay?"app-figure--caption-overlay":null]),re=computed(()=>({"padding-bottom":(j.aspectRatio?100/j.aspectRatio:114.535666218035)+"% !important"}));return(le,de)=>(openBlock(),createElementBlock("figure",{class:normalizeClass(ee.value)},[createBaseVNode("div",{class:"app-figure__img",style:normalizeStyle(re.value)},[renderSlot(le.$slots,"image")],4),unref(_).caption?(openBlock(),createElementBlock("figcaption",_hoisted_1$W,[renderSlot(le.$slots,"caption")])):createCommentVNode("",!0)],2))}}),preloadClientSide=$=>{if(typeof window>"u"){const _=useSSRContext();_&&_.modules.add($.href)}},prioContextKey=Symbol(),usePriorityLoadContext=()=>{provide(prioContextKey,{})},usePriorityLoading=$=>{const _=inject(prioContextKey);_&&!_?.priorityCandidate&&(_.priorityCandidate=$,preloadClientSide($))},_hoisted_1$V={class:"link-block__title"},_hoisted_2$r={key:0,class:"link-block__label"},_sfc_main$1i=defineComponent({__name:"hero",props:{block:{},gtmLinkAttributes:{},header:{},index:{},isPartner:{type:Boolean},parentTemplate:{},showReadState:{type:Boolean},showMarker:{type:Boolean},mediaSize:{},mediaAspect:{}},setup($){const _=$;let j;const ee=_.block.link?.linkFlavor;ee?.image&&(j=ee.image);const re=computed(()=>j?.url);re.value&&usePriorityLoading(new URL(re.value));const le=computed(()=>j?.title||_.block.link?.title?.text||void 0),de=computed(()=>ee?.label?.text),ge=computed(()=>le.value===_.block.link?.title?.text),ve=computed(()=>_.block.link?.target),Ee=computed(()=>ve.value?_sfc_main$1q:"span");return(Ce,Ae)=>(openBlock(),createBlock(resolveDynamicComponent(Ee.value),{target:ve.value,class:"link-block link-block--hero image-block--stretched","gtm-link-attributes":Ce.gtmLinkAttributes},{default:withCtx(()=>[createVNode(_sfc_main$1j,{overlay:"","aspect-ratio":1.7777777777777777},{image:withCtx(()=>[re.value?(openBlock(),createBlock(_sfc_main$1u,{key:0,url:re.value,alt:le.value,"aria-hidden":ge.value},null,8,["url","alt","aria-hidden"])):createCommentVNode("",!0)]),caption:withCtx(()=>[createBaseVNode("span",_hoisted_1$V,[de.value?(openBlock(),createElementBlock("span",_hoisted_2$r,toDisplayString(de.value),1)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(_.block.link?.title?.text),1)])]),_:1})]),_:1},8,["target","gtm-link-attributes"]))}}),_sfc_main$1h=defineComponent({__name:"marker",props:{block:{},gtmLinkAttributes:{},header:{},index:{},isPartner:{type:Boolean},parentTemplate:{},showReadState:{type:Boolean},showMarker:{type:Boolean}},setup($){const _=$,j=computed(()=>_.gtmLinkAttributes||{__typename:"GTMLinkAttributes",category:"article",action:"tag-click",label:_.block.link?.target?.url}),ee=computed(()=>_.block.link?.target);return(re,le)=>ee.value?(openBlock(),createBlock(_sfc_main$1q,{key:0,target:ee.value,class:"link-block marker-link-block","gtm-link-attributes":j.value},{default:withCtx(()=>[createTextVNode(toDisplayString(_.block.link?.title?.text),1),createVNode(_sfc_main$1t,{embed:"",class:"item-marker marker-link-block__item-marker"},{default:withCtx(()=>[createVNode(IconChevronRight)]),_:1})]),_:1},8,["target","gtm-link-attributes"])):createCommentVNode("",!0)}}),_sfc_main$1g=defineComponent({__name:"more",props:{block:{},gtmLinkAttributes:{},header:{},index:{},isPartner:{type:Boolean},parentTemplate:{},showReadState:{type:Boolean},showMarker:{type:Boolean}},setup($){const _=$,j=computed(()=>({..._.block.link,target:{..._.block.link?.target}})),ee=computed(()=>_.block.link?.target),re=computed(()=>ee.value?_sfc_main$1q:"span"),le=computed(()=>["branded",`branded--${(_.block.link?.linkFlavor).theme||"nu"}`]);return(de,ge)=>(openBlock(),createBlock(resolveDynamicComponent(re.value),{target:ee.value,class:normalizeClass(["link-block link-block--more states states--hover",le.value]),"gtm-link-attributes":de.gtmLinkAttributes},{default:withCtx(()=>[createVNode(_sfc_main$1m,{title:j.value.title?.text},null,8,["title"]),createVNode(_sfc_main$1t,{embed:"",class:"item-marker"},{default:withCtx(()=>[createVNode(IconChevronRight)]),_:1})]),_:1},8,["target","class","gtm-link-attributes"]))}}),_sfc_main$1f=defineComponent({__name:"MoreComments",props:{block:{},gtmLinkAttributes:{},header:{},index:{},isPartner:{type:Boolean},parentTemplate:{},showReadState:{type:Boolean},showMarker:{type:Boolean}},setup($){const _=$,j=computed(()=>_.gtmLinkAttributes||{__typename:"GTMLinkAttributes",category:"nujij",action:"go-to-reactions",label:"via-highlighted-comments"}),ee=computed(()=>_.block.link?.target);return(re,le)=>ee.value?(openBlock(),createBlock(_sfc_main$1q,{key:0,target:ee.value,class:"all-comments-button","gtm-link-attributes":j.value},{default:withCtx(()=>[createVNode(_sfc_main$1t,{embed:"","embed-alt":"Bekijk meer reacties",class:"all-comments-button__icon",width:"15",height:"15"},{default:withCtx(()=>[createVNode(IconComment)]),_:1}),createTextVNode(toDisplayString(re.block.link?.title?.text),1)]),_:1},8,["target","gtm-link-attributes"])):createCommentVNode("",!0)}}),_hoisted_1$U={key:1,class:"item-marker"},_hoisted_2$q={key:1,class:"item-byline"},_sfc_main$1e=defineComponent({__name:"text",props:{block:{},gtmLinkAttributes:{},header:{},index:{},isPartner:{type:Boolean},parentTemplate:{},showReadState:{type:Boolean},showMarker:{type:Boolean}},setup($){const _=$,j=_.block.link?.linkFlavor,ee=computed(()=>_.block.link?.target),re=computed(()=>_.block.link?.title?.text),le=computed(()=>isSmallArticleLinkFlavor(j)?j.label?.text:""),de=computed(()=>isTextLinkFlavor(j)&&j.prefixIcon&&isGraphic(j.prefixIcon)?mapPerfApiIcon(j.prefixIcon.name):null),ge=computed(()=>isTextLinkFlavor(j)&&j.suffixIcon&&isGraphic(j.suffixIcon)?mapPerfApiIcon(j.suffixIcon.name):null),ve=computed(()=>{if(!isVideoTarget(ee.value))return isSmallArticleLinkFlavor(j)?j.byline?.text:null}),Ee=computed(()=>isSmallArticleLinkFlavor(j)?j.brandIcon:null),Ce=ref$1(),Ae=useGtm();useWhenInView({target:Ce,callback:()=>{_.isPartner&&Ae.add({event:"smarticle-in-view",action:_.gtmLinkAttributes?.action,label:_.gtmLinkAttributes?.label}),isGTMTrackers(ee.value?.GTMTrackers)&&ee.value.GTMTrackers.view?.forEach(we=>{const Ne=we.data?{[we.data.key]:we.data.value}:{};Ae.add({event:we.event,...Ne})})}});const Se=computed(()=>{const we=["link-block","link-block--text"];return _.showReadState&&we.push("link-block--read-state"),ve.value&&we.push("link-block--has-byline"),we}),ke=computed(()=>{const we=["title-wrapper"];return ge.value&&we.push("title-wrapper--has-suffix-icon"),_.showMarker||we.push("title-wrapper--no-marker"),we});return(we,Ne)=>ee.value?(openBlock(),createBlock(_sfc_main$1q,{key:0,target:ee.value,class:normalizeClass(Se.value),"gtm-link-attributes":we.gtmLinkAttributes},{default:withCtx(()=>[de.value?(openBlock(),createBlock(_sfc_main$1t,{key:0,embed:"",width:"18",class:"item__prefix-icon"},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(de.value)))]),_:1})):createCommentVNode("",!0),we.showMarker?(openBlock(),createElementBlock("div",_hoisted_1$U)):createCommentVNode("",!0),createBaseVNode("div",{ref_key:"linkItem",ref:Ce,class:normalizeClass(ke.value)},[createBaseVNode("div",null,[ve.value&&Ee.value?(openBlock(),createBlock(_sfc_main$1o,{key:0,caption:ve.value,image:Ee.value},null,8,["caption","image"])):ve.value?(openBlock(),createElementBlock("span",_hoisted_2$q,toDisplayString(ve.value),1)):createCommentVNode("",!0)]),createVNode(_sfc_main$1m,{title:re.value,label:le.value},null,8,["title","label"])],2),ge.value?(openBlock(),createBlock(_sfc_main$1t,{key:2,embed:"",width:"18",class:"item__suffix-icon"},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ge.value)))]),_:1})):createCommentVNode("",!0)]),_:1},8,["target","class","gtm-link-attributes"])):createCommentVNode("",!0)}}),_hoisted_1$T={key:1,class:"item-byline"},_sfc_main$1d=defineComponent({__name:"thumb",props:{block:{},gtmLinkAttributes:{},header:{},index:{},isPartner:{type:Boolean},parentTemplate:{},showReadState:{type:Boolean},showMarker:{type:Boolean},meta:{},mediaSize:{},mediaAspect:{},hasMarker:{type:Boolean},thumbOptional:{type:Boolean}},setup($){const _=$;let j;const ee=_.block.link?.linkFlavor;ee?.image&&(j=ee.image);const re=computed(()=>j?.url),le=computed(()=>_.thumbOptional&&!!re.value||!_.thumbOptional),de=computed(()=>{const Ne=["link-block","link-block--thumb"];return le.value&&Ne.push("link-block--has-thumb"),_.showReadState&&Ne.push("link-block--read-state"),Ne}),ge=computed(()=>j?.title||_.block.link?.title?.text||void 0),ve=computed(()=>ee?.label?.text),Ee=computed(()=>_.block.link?.target),Ce=computed(()=>Ee.value?_sfc_main$1q:"span"),Ae=computed(()=>!isVideoTarget(Ee.value)&&ee?.byline?.text||void 0),Se=computed(()=>ee?.estimatedDuration),ke=computed(()=>ee?.brandIcon),we=ref$1();if(_.isPartner){const Ne=useGtm();useWhenInView({target:we,callback:()=>Ne.add({event:"smarticle-in-view",action:_.gtmLinkAttributes?.action,label:_.gtmLinkAttributes?.label})})}return(Ne,Le)=>(openBlock(),createBlock(resolveDynamicComponent(Ce.value),{target:Ee.value,class:normalizeClass(de.value),"gtm-link-attributes":Ne.gtmLinkAttributes},{default:withCtx(()=>[le.value?(openBlock(),createBlock(_sfc_main$1n,{key:0,url:re.value,title:ge.value,"media-duration":Se.value,"media-aspect":"8:7"},null,8,["url","title","media-duration"])):createCommentVNode("",!0),createBaseVNode("div",{ref_key:"linkEl",ref:we,class:"title-wrapper"},[createVNode(_sfc_main$1m,{title:_.block?.link?.title?.text,label:ve.value,"label-inline":!1,meta:Ne.meta},null,8,["title","label","meta"]),Ae.value&&ke.value?(openBlock(),createBlock(_sfc_main$1o,{key:0,caption:Ae.value,image:ke.value},null,8,["caption","image"])):Ae.value?(openBlock(),createElementBlock("span",_hoisted_1$T,toDisplayString(Ae.value),1)):createCommentVNode("",!0),Ne.thumbOptional&&Ne.hasMarker&&!re.value?(openBlock(),createBlock(_sfc_main$1t,{key:2,embed:"",class:"item-marker"},{default:withCtx(()=>[createVNode(IconChevronRight)]),_:1})):createCommentVNode("",!0)],512)]),_:1},8,["target","class","gtm-link-attributes"]))}}),_hoisted_1$S={ref:"linkBlockContainerRef",class:"link-block link-block--plain"},_sfc_main$1c=defineComponent({__name:"plain",props:{block:{},gtmLinkAttributes:{},header:{},index:{},isPartner:{type:Boolean},parentTemplate:{},showReadState:{type:Boolean},showMarker:{type:Boolean}},setup($){const _=$;return(j,ee)=>(openBlock(),createElementBlock("span",_hoisted_1$S,[createVNode(_sfc_main$1d,normalizeProps(guardReactiveProps(_)),null,16),createVNode(_sfc_main$1e,normalizeProps(guardReactiveProps(_)),null,16)],512))}}),_hoisted_1$R={class:"item-counter"},_sfc_main$1b=defineComponent({__name:"counter",props:{count:{}},setup($){return(_,j)=>(openBlock(),createElementBlock("span",_hoisted_1$R,toDisplayString(_.count),1))}}),_sfc_main$1a=defineComponent({__name:"ranked",props:{block:{},gtmLinkAttributes:{},header:{},index:{},isPartner:{type:Boolean},parentTemplate:{},showReadState:{type:Boolean},showMarker:{type:Boolean}},setup($){const _=$,j=_.block.link?.linkFlavor,ee=computed(()=>_.block.link?.target),re=computed(()=>_.block.link?.title?.text),le=computed(()=>j?.label?.text),de=computed(()=>{const ge=["link-block","link-block--rank"];return _.showReadState&&ge.push("link-block--read-state"),ge});return(ge,ve)=>ee.value?(openBlock(),createBlock(_sfc_main$1q,{key:0,target:ee.value,class:normalizeClass(de.value),"gtm-link-attributes":ge.gtmLinkAttributes},{default:withCtx(()=>[createVNode(_sfc_main$1b,{count:_.index+1},null,8,["count"]),createVNode(_sfc_main$1m,{title:re.value,label:le.value},null,8,["title","label"]),createVNode(_sfc_main$1t,{embed:"",class:"item-marker"},{default:withCtx(()=>[createVNode(IconChevronRight)]),_:1})]),_:1},8,["target","class","gtm-link-attributes"])):createCommentVNode("",!0)}}),_sfc_main$19=defineComponent({__name:"teaser",props:{block:{},gtmLinkAttributes:{},header:{},index:{},isPartner:{type:Boolean},parentTemplate:{},showReadState:{type:Boolean},showMarker:{type:Boolean}},setup($){const _=$,j=ref$1(),ee=_.block.template==="teaser"?"Zie-ook":"hyperlink",re=useGtm();useWhenInView({target:j,callback:()=>re.add({event:"link-block-in-view","link-type":ee,"click-url":resolveTargetUrl(_.block.link?.target)?.href})});const le=computed(()=>{const de=["link-block","link-block--teaser","states--hover"];return _.showReadState&&de.push("link-block--read-state"),de});return(de,ge)=>(openBlock(),createElementBlock("div",{class:normalizeClass(le.value)},[createVNode(_sfc_main$1d,mergeProps(_,{"thumb-optional":"","has-marker":""}),null,16)],2))}}),_hoisted_1$Q={class:"item-datetime"},_sfc_main$18=defineComponent({__name:"datetime",props:{datetimeFormatted:{}},setup($){return(_,j)=>(openBlock(),createElementBlock("time",_hoisted_1$Q,toDisplayString(_.datetimeFormatted),1))}}),getCETDayName=$=>$.toLocaleDateString("nl-NL",{timeZone:"CET",weekday:"long"}),getCETDateString=($,_=!0)=>{const j={timeZone:"CET",weekday:"long",day:"numeric",month:"long"};return _&&(j.year="numeric"),$.toLocaleDateString("nl-NL",j)},formatToCETTime=$=>$.toLocaleTimeString("nl-NL",{timeZone:"CET",hour:"2-digit",minute:"2-digit"}),humanizeDatetimeToCET=$=>{const _=new Date,j=6e4,ee=60*j,re=24*ee,le=_.getTime()-$.getTime();return le<=0-5*j?"":le<=j?"een paar seconden geleden":le<55*j?`${Math.ceil(le/j)} minuten geleden`:le<6*ee?`${Math.round(le/ee)} uur geleden`:le<re&&$.getDate()===_.getDate()?formatToCETTime($):le<2*re&&new Date(_.getTime()-re).getDate()===$.getDate()?`gisteren om ${formatToCETTime($)}`:le<=(_.getDay()+1)*re?`${getCETDayName($)} om ${formatToCETTime($)}`:le<=365*re?`${getCETDateString($,!1)} om ${formatToCETTime($)}`:`${getCETDateString($,!0)} om ${formatToCETTime($)}`},_sfc_main$17=defineComponent({__name:"timestamp",props:{block:{},gtmLinkAttributes:{},header:{},index:{},isPartner:{type:Boolean},parentTemplate:{},showReadState:{type:Boolean},showMarker:{type:Boolean}},setup($){const _=$,j=_.block.link?.linkFlavor,ee=computed(()=>_.block.link?.target),re=computed(()=>j?.label?.text),le=computed(()=>j?.publishedAt?formatToCETTime(new Date(j?.publishedAt)):""),de=computed(()=>["link-block","link-block--timestamp",_.showReadState?"link-block--read-state":null]);return(ge,ve)=>ee.value?(openBlock(),createBlock(_sfc_main$1q,{key:0,target:ee.value,class:normalizeClass(de.value),"gtm-link-attributes":ge.gtmLinkAttributes},{default:withCtx(()=>[createVNode(_sfc_main$18,{"datetime-formatted":le.value},null,8,["datetime-formatted"]),createVNode(_sfc_main$1m,{title:_.block.link?.title?.text,label:re.value},null,8,["title","label"]),createVNode(_sfc_main$1t,{embed:"",class:"item-marker"},{default:withCtx(()=>[createVNode(IconChevronRight)]),_:1})]),_:1},8,["target","class","gtm-link-attributes"])):createCommentVNode("",!0)}}),sanitiseObject=$=>{const _={};for(const j in $)$[j]!==null&&$[j]!==void 0&&(_[j]=$[j]);return _},DEFAULT_LINK_TEMPLATE="plain",_sfc_main$16=defineComponent({__name:"LinkBlock",props:{block:{},gtmLinkAttributes:{},header:{},index:{},isPartner:{type:Boolean},parentTemplate:{},showReadState:{type:Boolean},showMarker:{type:Boolean}},setup($){const _=$,j=!isTextLinkFlavor(_.block.link?.linkFlavor),ee=computed(()=>{const ve={ButtonLinkFlavor:"button",TimelineLinkFlavor:"teaser",LargeArticleLinkFlavor:"hero",MoreLinkFlavor:"more",TextLinkFlavor:"text"},Ee={"all-comments":_sfc_main$1f,button:_sfc_main$1p,datetime:_sfc_main$1l,grid:_sfc_main$1k,hero:_sfc_main$1i,link:_sfc_main$19,more:_sfc_main$1g,plain:_sfc_main$1c,ranked:_sfc_main$1a,tag:_sfc_main$1h,teaser:_sfc_main$19,thumb:_sfc_main$1d,timeline:_sfc_main$1c,timestamp:_sfc_main$17,text:_sfc_main$1e},Ce=_.block.link?.linkFlavor?.__typename&&ve[_.block.link.linkFlavor.__typename],Ae=_.block.template||_.parentTemplate||Ce||DEFAULT_LINK_TEMPLATE;return Ee[Ae]||Ee[DEFAULT_LINK_TEMPLATE]}),re=computed(()=>{const ve={more:"more",teaser:"Zie-ook"},Ee=ee.value.__name,Ce=ve[Ee]||"hyperlink",Ae=isGTMLinkAttributes(_.block.link?.target?.GTMTrackers?.click)?sanitiseObject(_.block.link.target.GTMTrackers.click):{};return{...getGtmLinkAttributes({block:_.block,linkType:Ce}),..._.gtmLinkAttributes,...Ae}}),de=((isScreenTarget(_.block.link?.target)?_.block.link.target.targetId:"")!==""||isVideoTarget(_.block.link?.target)||isJWPlayerVideoTarget(_.block.link?.target))&&_.block.type!=="timeline"&&_.block.type!=="section"&&!isTextLinkFlavor(_.block.link?.linkFlavor),ge=computed(()=>_.block.link?.groupIds);return(ve,Ee)=>(openBlock(),createBlock(resolveDynamicComponent(ee.value),{key:ve.block.id,block:ve.block,index:ve.index,"gtm-link-attributes":re.value,"is-partner":ve.isPartner,"show-read-state":unref(de),"show-marker":j,"target-group-ids":ge.value},null,8,["block","index","gtm-link-attributes","is-partner","show-read-state","target-group-ids"]))}}),_sfc_main$15=defineComponent({__name:"ContentList",props:{grid:{},blocks:{},flavor:{},previousBlockData:{}},setup($){const _=useShouldBeShown(),j=$,ee=ref$1(),re=computed(()=>j.flavor?.template),le=computed(()=>j.blocks.filter(Me=>_(Me.displayRule))),de=computed(()=>j.flavor?.GTMTrackers||[]),ge=computed(()=>j.flavor?.header||""),ve=computed(()=>["branded",`branded--${j.flavor.theme||"nu"}`]),Ee=computed(()=>["contentlist",...(()=>{switch(re.value){case"timestamp":return["contentlist--timestamp","list-timeline","list-timeline--centered","list-timeline--infinite","list--first-of-type"];case"datetime":return["contentlist--datetime","list-timeline","list-timeline--branded"];case"link":return["contentlist--teaser"];default:return[`contentlist--${re.value}`]}})()]),Ce=Me=>["contentlist__item",isLargeArticleLinkFlavor(Me?.linkFlavor)?"contentlist__item--wide":null],Ae=computed(()=>j.blocks?.every(Me=>isLinkBlock(Me)&&(isVideoTarget(Me.link?.target)||isJWPlayerVideoTarget(Me.link?.target)))?"video":"article"),Se=computed(()=>re.value==="teaser"?"Zie-ook":"hyperlink"),ke=computed(()=>{switch(re.value){case"teaser":case"link":return{gtm:{inViewAttr:{event:"link-block-in-view","link-type":Se.value,"click-url":isLinkBlock(j.blocks[0])?resolveTargetUrl(j.blocks[0]?.link?.target)?.href:""},isListItem:!1}};default:return{gtm:{inViewAttr:{event:`${Ae.value}-list-in-view`,"list-header":ge.value||`${j.previousBlockData?.header}${j.previousBlockData?.blocksCount}`},isListItem:!0}}}}),we=computed(()=>ke.value.gtm.isListItem),Ne=(Me,Fe)=>{let xe=Fe;return!ge.value&&j.previousBlockData?.blocksCount&&(xe+=j.previousBlockData?.blocksCount),we.value?getGtmListLinkAttributes({block:Me,index:xe,title:ge.value||j.previousBlockData?.header||""}):getGtmLinkAttributes({block:Me,linkType:Se.value})},Le=useGtm();return useWhenInView({target:ee,callback:()=>{isGTMTrackers(de.value)?de.value.view?.forEach(Me=>{const Fe=Me.data?{[Me.data.key]:Me.data.value}:{};Le.add({event:Me.event,...Fe})}):Le.add(ke.value.gtm.inViewAttr)}}),(Me,Fe)=>(openBlock(),createElementBlock("ul",{ref_key:"list",ref:ee,class:normalizeClass(Ee.value)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(le.value,(xe,$e)=>(openBlock(),createElementBlock("li",{key:xe.id,class:normalizeClass(Ce(xe.link))},[unref(isLinkBlock)(xe)?(openBlock(),createBlock(_sfc_main$16,{key:0,block:xe,header:ge.value,class:normalizeClass(ve.value),index:$e,"parent-template":re.value,"gtm-link-attributes":Ne(xe,$e)},null,8,["block","header","class","index","parent-template","gtm-link-attributes"])):(openBlock(),createBlock(_sfc_main$t,{key:1,block:xe},null,8,["block"]))],2))),128))],2))}}),useContextStore=defineStore("context",{state:()=>({outputMode:OutputMode.DEFAULT}),actions:{setOutputMode($){this.outputMode=$}},getters:{inFallbackMode:$=>$.outputMode==OutputMode.FALLBACK}}),_hoisted_1$P=["data-label"],_sfc_main$14=defineComponent({__name:"Talk2022Button",props:{count:{},position:{}},setup($){const _=$,{inFallbackMode:j}=useContextStore(),ee=computed(()=>{const de=_.count;return de===void 0?"":de<1e3?de.toString():de<1e3*1e3?`${(de/1e3).toFixed(1).replace(".0","")}K`:`${(de/(1e3*1e3)).toFixed(1).replace(".0","")}M`}),re=computed(()=>_.count&&_.count===1?" reactie":" reacties"),le=computed(()=>`via-article_${_.position}`);return(de,ge)=>unref(j)?createCommentVNode("",!0):(openBlock(),createElementBlock("a",{key:0,class:"app-button app-button--inversed app-button--nowrap branded comments-link",href:"#nujij","data-category":"nujij","data-action":"go-to-reactions","data-label":le.value},[createVNode(_sfc_main$1t,{embed:"","embed-alt":"Reacties op dit nieuwsbericht",class:"comments-link__icon",width:"15",height:"15"},{default:withCtx(()=>[createVNode(IconComment)]),_:1}),createBaseVNode("span",null,toDisplayString(ee.value)+" "+toDisplayString(re.value),1)],8,_hoisted_1$P))}}),_sfc_main$13={},_hoisted_1$O={fill:"currentColor",d:"M0 6a3 3 0 0 1 3-3h18a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3Zm2.25 0v1.04l8.09 6.63c.96.8 2.36.8 3.32 0l8.09-6.63V5.96A.78.78 0 0 0 21 5.2H3a.78.78 0 0 0-.75.75zm0 3.95V18c0 .41.34.75.75.75h18c.41 0 .75-.34.75-.75V9.95l-6.66 5.46a4.93 4.93 0 0 1-6.23 0z"};function _sfc_render$7($,_){return openBlock(),createElementBlock("path",_hoisted_1$O)}const IconEnvelope=_export_sfc(_sfc_main$13,[["render",_sfc_render$7]]),_hoisted_1$N={class:"pop-out__trigger"},_hoisted_2$p={class:"pop-out__scroll"},_sfc_main$12=defineComponent({__name:"PopOut",props:{position:{default:"bottom"},enablePopout:{type:Boolean,default:!0},scrollable:{type:Boolean,default:!1},fullWidthOnMobile:{type:Boolean,default:!1},triggerOn:{default:"hover"}},emits:["contentShow","contentHide"],setup($,{emit:_}){const j=_,ee=ref$1(),re=ref$1(),le=$,de=ref$1(!1),ge=ref$1(!1),ve=computed(()=>["pop-out",le.position=="top"?"pop-out--pop-up":"pop-out--pop-down",le.triggerOn=="click"?"pop-out--trigger-click":"pop-out--trigger-hover",le.scrollable?"pop-out--scrollable":null,le.fullWidthOnMobile?"pop-out--allow-fw":null,de.value?"pop-out--show-content":null,ge.value?"pop-out--overflowing":null]);let Ee;const Ce=()=>{Ee=window.setTimeout(()=>{de.value=!de.value,j("contentHide")},400)};onMounted(()=>{ge.value=ee.value.clientWidth<ee.value.scrollWidth||ee.value.clientHeight<ee.value.scrollHeight});const Ae=()=>{le.enablePopout&&(window.clearTimeout(Ee),de.value=!0,j("contentShow"))},Se=we=>{ee.value.contains(we.target)||re.value.contains(we.target)||(de.value=!1,j("contentHide"),document.querySelector("body")?.removeEventListener("click",Se))},ke=()=>{le.enablePopout&&(de.value=!de.value,de.value?(document.querySelector("body")?.addEventListener("click",Se),j("contentShow")):(document.querySelector("body")?.removeEventListener("click",Se),j("contentHide")))};return(we,Ne)=>(openBlock(),createElementBlock("div",mergeProps({ref_key:"target",ref:ee,class:ve.value},toHandlers(we.triggerOn==="hover"?{mouseenter:Ae,mouseleave:Ce}:{click:ke},!0)),[createBaseVNode("div",_hoisted_1$N,[renderSlot(we.$slots,"trigger")]),we.enablePopout?(openBlock(),createElementBlock("div",{key:0,ref_key:"content",ref:re,class:"pop-out__content"},[createBaseVNode("div",_hoisted_2$p,[renderSlot(we.$slots,"content")])],512)):createCommentVNode("",!0)],16))}}),_hoisted_1$M=createBaseVNode("span",{"aria-hidden":"true"},"Delen",-1),_hoisted_2$o=["href","data-label"],_hoisted_3$d={class:"sr-only"},_sfc_main$11=defineComponent({__name:"SocialSharing",props:{position:{}},setup($){const _=$,j=useContentStore();let ee=useGtm();const re=ref$1();useWhenInView({target:re,callback:()=>ee.add({event:"share-in-view",position:_.position})});const le=computed(()=>j.screenTitle.split(" |",1).join()),de=[{id:0,name:"whatsapp",friendlyName:"WhatsApp",icon:IconWhatsapp,url:`//api.whatsapp.com/send?text=Bekijk+dit+artikel+op+NU.nl%3A+${j.screenCanonicalUrl}`},{id:1,name:"facebook",friendlyName:"Facebook",icon:IconFacebook,url:`//www.facebook.com/sharer.php?u=${j.screenCanonicalUrl}`},{id:2,name:"X",friendlyName:"X",icon:IconX,url:`//twitter.com/intent/tweet/?text=${le.value}&url=${j.screenCanonicalUrl}&via=NUnl`},{id:3,name:"linkedin",friendlyName:"LinkedIn",icon:IconLinkedin,url:`//www.linkedin.com/shareArticle?url=${j.screenCanonicalUrl}`},{id:4,name:"email",friendlyName:"E-mail",icon:IconEnvelope,url:`mailto:?subject=${le.value}&body=${j.screenCanonicalUrl}`}],ge=_.position==="top"?"bottom":"top";return(ve,Ee)=>(openBlock(),createElementBlock("div",{ref_key:"socialSharing",ref:re,class:normalizeClass(`social-sharing social-sharing--${ve.position}`)},[createVNode(_sfc_main$12,{position:unref(ge)},{trigger:withCtx(()=>[createVNode(_sfc_main$1w,{"button-type":"inversed",class:"social-sharing__button",brand:"inherit"},{default:withCtx(()=>[createVNode(_sfc_main$1t,{embed:"",class:"icon--share",width:"15",height:"15","embed-alt":"Deel dit nieuwsbericht"},{default:withCtx(()=>[createVNode(IconShare)]),_:1}),_hoisted_1$M]),_:1})]),content:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(de,Ce=>createBaseVNode("a",{key:Ce.id,href:Ce.url,"data-category":"article","data-action":"share","data-label":`${Ce.name}_${ve.position}`,class:"social-sharing__link states states--hover"},[createBaseVNode("span",_hoisted_3$d,"Delen via "+toDisplayString(Ce.friendlyName),1),createVNode(_sfc_main$1t,{embed:"",class:normalizeClass(`icon--${Ce.name}`),width:"20",height:"20","embed-alt":`Delen via ${Ce.friendlyName}`},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ce.icon)))]),_:2},1032,["class","embed-alt"]),createBaseVNode("span",null,toDisplayString(Ce.friendlyName),1)],8,_hoisted_2$o)),64))]),_:1},8,["position"])],2))}}),_hoisted_1$L={class:"article-meta__static"},_hoisted_2$n=["aria-hidden"],_sfc_main$10=defineComponent({__name:"ArticleMetaContainer",props:{blocks:{},flavor:{}},setup($){const _=$,j=useNuJijStore(),ee=computed(()=>j.enabled),re=computed(()=>j.count),le=_.flavor.location==="TOP"?"top":"bottom",de=_.flavor.location==="TOP"?"header":"footer",ge=ref$1();let ve=!1;if(_.flavor.location==="TOP"&&(ve=!0),_.flavor.location==="END"){const Ee=useGtm();useWhenFullyInView({target:ge,callback:()=>Ee.add({event:"article-end-in-view"})})}return(Ee,Ce)=>(openBlock(),createBlock(resolveDynamicComponent(unref(de)),{ref_key:"articleMeta",ref:ge,class:normalizeClass(`article-meta article-meta--${unref(le)}`)},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$L,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ee.blocks,Ae=>(openBlock(),createBlock(_sfc_main$t,{key:Ae.id,block:Ae,class:"article-meta__static-info"},null,8,["block"]))),128))]),createBaseVNode("div",{class:"article-meta__interactive","aria-hidden":unref(ve)},[ee.value?(openBlock(),createBlock(_sfc_main$14,{key:0,count:re.value,class:"article-meta__nujij-link",position:unref(le)},null,8,["count","position"])):createCommentVNode("",!0),createVNode(_sfc_main$11,{position:unref(le)},null,8,["position"])],8,_hoisted_2$n)]),_:1},8,["class"]))}}),_sfc_main$$=defineComponent({__name:"StyledWebContainer",props:{blocks:{},flavor:{}},setup($){const _=$,j=computed(()=>_.flavor?.tag||"div"),ee=computed(()=>_.flavor?.cssClass||"container"),re=computed(()=>`blocks-container-${ee.value} ${ee.value}`),le=["followtag","qa-block","featured-comments"],de=useContextStore(),ge=computed(()=>de.inFallbackMode&&le.some(Ce=>ee.value===Ce)),ve=computed(()=>_.flavor.attributes?_.flavor.attributes.reduce((Ce,Ae)=>(Ce[Ae.key]=Ae.value,Ce),{}):{}),Ee=ref$1();if(_.flavor?.cssClass==="login-wall"){const Ce=useGtm();useWhenPartlyInView({target:Ee,threshold:.5,callback:()=>Ce.add({event:"loginwall-in-view"})})}if(_.flavor?.cssClass==="featured-comments"){const Ce=useGtm();useWhenPartlyInView({target:Ee,threshold:.5,callback:()=>Ce.add({event:"nujij-comment-in-view"})})}if(_.flavor?.cssClass==="linked-tags"){const Ce=useGtm();useWhenFullyInView({target:Ee,callback:()=>Ce.add({event:"tags-in-view"})})}return(Ce,Ae)=>ge.value?createCommentVNode("",!0):(openBlock(),createBlock(resolveDynamicComponent(j.value),mergeProps({key:0,ref_key:"containerRef",ref:Ee,class:re.value},ve.value),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ce.blocks,Se=>(openBlock(),createBlock(_sfc_main$t,{key:Se.id,block:Se},null,8,["block"]))),128))]),_:1},16,["class"]))}}),__default__$2=defineComponent({components:{ContentList:_sfc_main$15,StyledWebContainer:_sfc_main$$,ArticleMetaContainer:_sfc_main$10}}),_sfc_main$_=defineComponent({...__default__$2,__name:"ContainerBlock",props:{block:{}},setup($){const _=$,j=computed(()=>isContentListContainer(_.block.webContainerFlavor)?"content-list":isStyledWebContainer(_.block.webContainerFlavor)?"styled-web-container":isArticleMetaContainer(_.block.webContainerFlavor)?"article-meta-container":"div");return(ee,re)=>(openBlock(),createBlock(resolveDynamicComponent(j.value),{blocks:ee.block.blocks,flavor:ee.block.webContainerFlavor},null,8,["blocks","flavor"]))}}),_hoisted_1$K=["id"],_hoisted_2$m={class:"details__summary"},_hoisted_3$c={class:"details__summary__wrapper"},_hoisted_4$9={key:0,class:"details__figure"},_hoisted_5$6={class:"details__title"},_hoisted_6$4=["innerHTML"],_sfc_main$Z=defineComponent({__name:"DetailBlock",props:{block:{}},setup($){return(_,j)=>(openBlock(),createElementBlock("details",{id:_.block.id,class:"details"},[createBaseVNode("summary",_hoisted_2$m,[createBaseVNode("div",_hoisted_3$c,[_.block.icon?(openBlock(),createElementBlock("figure",_hoisted_4$9,[createVNode(_sfc_main$1t,{description:"Wegnummer",icon:_.block.icon,class:"details__img"},null,8,["icon"])])):createCommentVNode("",!0),createBaseVNode("h2",_hoisted_5$6,toDisplayString(_.block.title?.text),1)])]),createBaseVNode("div",{class:"details__content",innerHTML:_.block.summary},null,8,_hoisted_6$4)],8,_hoisted_1$K))}}),_sfc_main$Y={},_hoisted_1$J={class:"app-divider","aria-hidden":"true"};function _sfc_render$6($,_){return openBlock(),createElementBlock("hr",_hoisted_1$J)}const DividerBlock=_export_sfc(_sfc_main$Y,[["render",_sfc_render$6]]);class InvalidTokenError extends Error{}InvalidTokenError.prototype.name="InvalidTokenError";function b64DecodeUnicode($){return decodeURIComponent(atob($).replace(/(.)/g,(_,j)=>{let ee=j.charCodeAt(0).toString(16).toUpperCase();return ee.length<2&&(ee="0"+ee),"%"+ee}))}function base64UrlDecode($){let _=$.replace(/-/g,"+").replace(/_/g,"/");switch(_.length%4){case 0:break;case 2:_+="==";break;case 3:_+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return b64DecodeUnicode(_)}catch{return atob(_)}}function jwtDecode($,_){if(typeof $!="string")throw new InvalidTokenError("Invalid token specified: must be a string");_||(_={});const j=_.header===!0?0:1,ee=$.split(".")[j];if(typeof ee!="string")throw new InvalidTokenError(`Invalid token specified: missing part #${j+1}`);let re;try{re=base64UrlDecode(ee)}catch(le){throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${j+1} (${le.message})`)}try{return JSON.parse(re)}catch(le){throw new InvalidTokenError(`Invalid token specified: invalid json for part #${j+1} (${le.message})`)}}const useUserStore=defineStore("user",{state:()=>({user:{UID:"",firstName:"",middleName:"",lastName:"",fullName:"",email:""},pipTokens:{"dpg-component-at":"","dpg-component-uit":"","pip-refresh-token":""}}),actions:{initializeUser({pipTokens:$}){let _;const j=$["dpg-component-uit"];if(j){const ee=jwtDecode(j);ee&&(_={UID:ee.sub,firstName:ee.given_name,middleName:ee.middle_name,lastName:ee.family_name,fullName:ee.name,email:ee.email})}this.user=_,this.pipTokens=$}}}),_hoisted_1$I=["id"],_sfc_main$X=defineComponent({__name:"ExternalEmbed",props:{url:{},id:{},useAuth:{type:Boolean},classname:{},lazy:{type:Boolean}},setup($){const _=usePreferencesStore(),j=useUserStore(),ee=_.theme,re=$,le=ref$1();let de=ref$1();const ge=computed(()=>re.classname||"externalembed"),ve=computed(()=>re.id?re.id.replace(/=/g,"-"):v4());onMounted(()=>{_.$subscribe(()=>{Ce()}),re.lazy||we()}),useWhenInView({target:le,callback:()=>{re.lazy&&we()}}),onUnmounted(()=>{});const Ee=(Ne,Le)=>{de.value&&de.value.sendMessage(Ne,JSON.stringify(Le))},Ce=()=>{Ee("theme",{theme:ee})},Ae=()=>{const Ne={pageYOffset:window.scrollY,pageXOffset:window.scrollX,innerHeight:window.innerHeight,innerWidth:window.innerWidth,iframeOffset:function(Le){const Me=Le.getBoundingClientRect(),Fe=window.pageYOffset,xe=window.pageXOffset;return{top:Me.top+Fe,right:Me.right+xe,bottom:Me.bottom+Fe,left:Me.left+xe}}(document.querySelector(`#${ve.value} > iframe`)),theme:ee};Ee("screen_info",Ne)},Se=()=>{if(!j.user&&j.pipTokens){Ee("account_info",!1);return}const Ne=j.pipTokens?.["dpg-component-at"];Ee("account_info",{pip_access_token:Ne,profile:j.user})},ke=(Ne,Le,Me)=>typeof window<"u"?typeof window.pym<"u"?new window.pym.Parent(Ne,Le,Me):new pym_v1Exports.Parent(Ne,Le,Me):null,we=()=>{if(de.value)return;const Ne=ke(ve.value,re.url+window.location.search+window.location.hash,{trackscroll:!0,scrollwait:20});Ne&&(Ne.iframe.onload=()=>{Ce()},Ne.onMessage("screen_info",Ae),Ne.onMessage("theme",Ce),re.useAuth&&(Ne.onMessage("account_info",Se),Ne.onMessage("login",()=>login({dpg_medium:"socios",dpg_campaign:ve.value})),Ne.onMessage("register",()=>login({dpg_medium:"socios",dpg_campaign:ve.value})),Ne.onMessage("logout",logout),Ne.onMessage("account",showProfile)),de.value=Ne)};return(Ne,Le)=>(openBlock(),createElementBlock("div",{ref_key:"rootComponent",ref:le},[createBaseVNode("div",{id:ve.value,class:normalizeClass(["external-embed",ge.value])},null,10,_hoisted_1$I)],512))}}),_hoisted_1$H={class:"infographic"},_hoisted_2$l={class:"infographic--hasiframe"},_hoisted_3$b=["src"],_hoisted_4$8={key:0,class:"infographic__meta"},_hoisted_5$5={key:0,class:"infographic__provider"},_hoisted_6$3=["href"],_hoisted_7$3={key:1},_hoisted_8$3={key:1,class:"infographic__copyright"},_sfc_main$W=defineComponent({__name:"Infographic",props:{id:{},__typename:{},copyright:{},heightHint:{},provider:{},providerUrl:{},themedUrl:{},url:{},usePym:{type:Boolean}},setup($){const _=$;function j(Ee){return Ee.split("").reduce((Ce,Ae)=>(Ce<<5)-Ce+Ae.charCodeAt(0)|0,0)}const ee=computed(()=>_.id??_.url?"embed"+j(_.url):void 0),re=ref$1("about:blank"),le=Ee=>re.value=Ee,de=computed(()=>_.heightHint?`height: ${_.heightHint}px;`:"");let ge;const ve=usePreferencesStore();return onMounted(()=>{ge=watchEffect(()=>le(_.themedUrl?.[ve.theme]??_.url))}),onUnmounted(()=>ge?.()),(Ee,Ce)=>(openBlock(),createElementBlock("section",_hoisted_1$H,[createBaseVNode("div",{class:normalizeClass({infographic__wrapper:!0,"infographic--nopym":Ee.usePym==!1})},[createBaseVNode("div",_hoisted_2$l,[Ee.usePym?(openBlock(),createBlock(_sfc_main$X,{key:0,id:ee.value,url:re.value,lazy:!0},null,8,["id","url"])):(openBlock(),createElementBlock("div",{key:1,class:"infographic__content",style:normalizeStyle(de.value)},[createBaseVNode("iframe",{title:"Infographic",src:re.value,type:"text/html",frameborder:"0",allowfullscreen:"",class:"infographic__content-frame"},null,8,_hoisted_3$b)],4))]),Ee.provider||Ee.copyright?(openBlock(),createElementBlock("div",_hoisted_4$8,[Ee.provider?(openBlock(),createElementBlock("span",_hoisted_5$5,[createTextVNode(" Bron: "),Ee.providerUrl?(openBlock(),createElementBlock("a",{key:0,href:Ee.providerUrl,target:"_blank",rel:"nofollow"},toDisplayString(Ee.provider),9,_hoisted_6$3)):(openBlock(),createElementBlock("span",_hoisted_7$3,toDisplayString(Ee.provider),1))])):createCommentVNode("",!0),Ee.copyright?(openBlock(),createElementBlock("span",_hoisted_8$3," "+toDisplayString(Ee.copyright),1)):createCommentVNode("",!0)])):createCommentVNode("",!0)],2)]))}}),_hoisted_1$G=["src"],_sfc_main$V=defineComponent({__name:"TrackingPixel",props:{__typename:{},url:{}},setup($){const _=$,j=computed(()=>{const ee=(Math.random()+"").replace("0.","");return _.url?.replace(/\[timestamp]/i,Date.now().toString()).replace(/\[random]/i,ee).replace(/\[cachebuster]/i,ee)});return(ee,re)=>(openBlock(),createElementBlock("img",{class:"tracking-pixel",src:j.value},null,8,_hoisted_1$G))}});let addScriptPromise=null;const addPlatformScript=$=>{if(!addScriptPromise){const _=document.createElement("script");_.setAttribute("src",$),document.body.appendChild(_),addScriptPromise=new Promise(j=>{_.onload=()=>{j(window.twttr)}})}return addScriptPromise},createTweet=($,_,j)=>new Promise(async(ee,re)=>{try{const de=await(await Promise.resolve(window.twttr||addPlatformScript("//platform.twitter.com/widgets.js"))).widgets.createTweet(_,$,j);ee(de)}catch(le){re(new Error(`Failed to load tweet: '${_}', ${le}`))}}),_hoisted_1$F={class:"tweet-error"},__default__$1={name:"TweetEmbed",inheritAttrs:!1},_sfc_main$U=defineComponent({...__default__$1,props:{__typename:{},align:{},cards:{},conversation:{},tweetId:{},width:{}},setup($){const _=$,j=usePreferencesStore(),ee=ref$1(!1),re=ref$1(),le=()=>!!(_.tweetId&&_.conversation&&_.cards&&_.width&&_.align),de=()=>re.value&&le()?createTweet(re.value,_.tweetId,{cards:_.cards,conversation:_.conversation,width:_.width,align:_.align,theme:j.theme}).then(()=>{}).catch(()=>{ee.value=!0}):Promise.reject(new Error("Cannot find target to attach tweet")),ge=()=>{const Ee=re.value;if(Ee)for(;Ee.firstChild;)Ee.removeChild(Ee.firstChild)};let ve;return onMounted(()=>{j.$subscribe(()=>{ge(),de()}),de()}),onUnmounted(()=>ve?.()),(Ee,Ce)=>(openBlock(),createElementBlock(Fragment,null,[withDirectives(createBaseVNode("div",_hoisted_1$F,"Oeps! We hadden geen toegang tot deze Tweet.",512),[[vShow,ee.value]]),createBaseVNode("div",{ref_key:"tweetEl",ref:re,class:"tweet-embed__content"},null,512)],64))}}),_hoisted_1$E=["innerHTML"],_sfc_main$T=defineComponent({__name:"WebEmbed",props:{__typename:{},embedCode:{},heightHint:{},url:{}},setup($){const j=toRef$1($,"embedCode"),ee=ref$1(),re=inject("UpdateImmediately",!1),le=()=>{const de=ee.value;if(!de||!j.value)return;const ge=document.createRange();ge.selectNode(de),de.innerHTML="",de.appendChild(ge.createContextualFragment(j.value))};return onMounted(()=>{watch(j,le,{immediate:re})}),(de,ge)=>(openBlock(),createElementBlock("section",{ref_key:"embedContainer",ref:ee,class:"web-embed body-style body-style--s1",innerHTML:j.value},null,8,_hoisted_1$E))}}),_hoisted_1$D={key:1,class:"embed-block"},_hoisted_2$k=["innerHTML"],_sfc_main$S=defineComponent({__name:"EmbedBlock",props:{block:{}},setup($){return(_,j)=>unref(isTrackingPixelFlavor)(_.block.blockFlavor)?(openBlock(),createBlock(_sfc_main$V,mergeProps({key:0,class:"embed-block__content"},_.block.blockFlavor),null,16)):(openBlock(),createElementBlock("article",_hoisted_1$D,[unref(isTwitterEmbedBlockFlavor)(_.block.blockFlavor)?(openBlock(),createBlock(_sfc_main$U,mergeProps({key:0,class:"embed-block__content"},_.block.blockFlavor),null,16)):unref(isWebEmbedBlockFlavor)(_.block.blockFlavor)?(openBlock(),createBlock(_sfc_main$T,mergeProps({key:1,class:"embed-block__content"},_.block.blockFlavor),null,16)):unref(isInfographicEmbedBlockFlavor)(_.block.blockFlavor)?(openBlock(),createBlock(_sfc_main$W,mergeProps({key:2,id:_.block.id,class:"embed-block__content"},_.block.blockFlavor),null,16,["id"])):unref(isTrackingPixelEmbedBlockFlavor)(_.block.blockFlavor)?(openBlock(),createElementBlock("div",{key:3,class:"embed-block__content",innerHTML:_.block.blockFlavor.embedCode},null,8,_hoisted_2$k)):createCommentVNode("",!0)]))}}),_sfc_main$R=defineComponent({__name:"ErrorBlock",props:{block:{}},setup($){const _=getEnvVariable("VITE_ENVIRONMENT","")==="production",j=$,ee=computed(()=>_?"Er is een fout opgetreden.":j.block?.message);return(re,le)=>renderSlot(re.$slots,"default",{},()=>[createBaseVNode("p",null,toDisplayString(ee.value),1)])}}),_hoisted_1$C={class:"form-element"},_hoisted_2$j=["placeholder","maxlength"],_hoisted_3$a={class:"form-element--counter"},_sfc_main$Q=defineComponent({__name:"FormElementBlock",props:{block:{}},setup($){const _=useFormElementBlockStore(),j=$,ee=computed(()=>j.block.formElementFlavor?.placeholder),re=computed(()=>j.block.formElementFlavor?.maxlength),le=computed(()=>_.formElementBlockTextArea.length),de=ge=>{const ve=ge.target;_.setFormElementBlockTextArea(ve.value)};return(ge,ve)=>(openBlock(),createElementBlock("form",_hoisted_1$C,[createBaseVNode("textarea",{class:"form-element--textarea",placeholder:ee.value,maxlength:re.value,onInput:de},null,40,_hoisted_2$j),createBaseVNode("span",_hoisted_3$a,toDisplayString(le.value)+"/"+toDisplayString(re.value),1)]))}}),decode64String=$=>typeof window>"u"?Buffer.from($,"base64").toString("utf8"):atob($),_sfc_main$P=defineComponent({__name:"AppHeader",props:{level:{default:HeaderLevel.H2}},setup($){const _=$;return(j,ee)=>(openBlock(),createBlock(resolveDynamicComponent(_.level),{class:"header"},{default:withCtx(()=>[renderSlot(j.$slots,"default")]),_:3}))}}),_hoisted_1$B=["id","data-slug"],_hoisted_2$i={key:0,class:"header-block__subtitle"},_sfc_main$O=defineComponent({__name:"HeaderBlock",props:{block:{}},setup($){const _=ref$1(),j=useGtm(),ee=$,re=we=>we.toLowerCase().replace(/\s+/g,"-").replace("&","en").replace(/[^a-z0-9-_]/g,""),le=computed(()=>ee.block.title?.text?re(ee.block.title.text):"");let de="";try{de=JSON.parse(decode64String(ee.block.id)).containerId}catch{}const ge=computed(()=>de==="nuvoorjou"?de:void 0),ve=computed(()=>ee.block?.titlePrefixIcon&&isGraphic(ee.block?.titlePrefixIcon)?ee.block?.titlePrefixIcon.name:null),Ee=computed(()=>ee.block.headerLevel||HeaderLevel.H2),Ce=computed(()=>ee.block.groupIds?.includes("nuvoorjou")?{action:"show_nuvoorjou",category:"list-block",label:"nuvoorjou",event:"nuvoorjou-in-view"}:ee.block.groupIds?.includes("nuvoorjou_anonymous")?{action:"show_nuvoorjou",category:"list-block",label:"nuvoorjou_anonymous",event:"nuvoorjou-in-view"}:ee.block.groupIds?.includes("nuvoorjou_noconsent")?{action:"show_nuvoorjou",category:"list-block",label:"nuvoorjou_noconsent",event:"nuvoorjou-in-view"}:{action:`show_${ee.block.title?.text}`,category:"list-block",label:ee.block.title?.text}),Ae=computed(()=>({__typename:"GTMLinkAttributes",category:"list-block",label:ee.block.target?.url,action:`click-header_${ee.block.title?.text}`})),Se=computed(()=>["header-block","branded",`branded--${ee.block.theme||"nu"}`]),ke=computed(()=>mapPerfApiIcon(ve.value));return useWhenInView({target:_,callback:()=>j.add(Ce.value)}),(we,Ne)=>(openBlock(),createElementBlock("header",{id:ge.value,ref_key:"header",ref:_,class:normalizeClass(Se.value),"data-slug":le.value},[createVNode(_sfc_main$P,{level:Ee.value,class:"header-block__header"},{default:withCtx(()=>[we.block.target?(openBlock(),createBlock(_sfc_main$1q,{key:0,class:"header-block__link",target:we.block.target,"gtm-link-attributes":Ae.value},{default:withCtx(()=>[createTextVNode(toDisplayString(we.block.title?.text),1)]),_:1},8,["target","gtm-link-attributes"])):we.block.title?(openBlock(),createElementBlock(Fragment,{key:1},[ke.value?(openBlock(),createBlock(_sfc_main$1t,{key:0,embed:"","embed-alt":"",width:"24px",height:"24px",class:"header-block__icon"},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ke.value)))]),_:1})):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(we.block.title.text),1)],64)):renderSlot(we.$slots,"default",{key:2})]),_:3},8,["level"]),we.block.subtitle?(openBlock(),createElementBlock("p",_hoisted_2$i,toDisplayString(we.block.subtitle.text),1)):createCommentVNode("",!0)],10,_hoisted_1$B))}}),_hoisted_1$A={class:"image-header-block__title"},_hoisted_2$h={key:0,class:"image-header-block__label"},_sfc_main$N=defineComponent({__name:"ArticleHeadImageFlavorImage",props:{block:{},nested:{type:Boolean}},setup($){const _=$,j=computed(()=>_.block.imageFlavor.label?.text),ee=computed(()=>_.block.imageFlavor.title?.text);return _.block.image?.url&&usePriorityLoading(new URL(_.block.image.url)),(re,le)=>(openBlock(),createBlock(_sfc_main$1j,{overlay:"","aspect-ratio":re.block.image?.viewAspectRatio,class:"image-header-block"},{image:withCtx(()=>[re.block.image?(openBlock(),createBlock(_sfc_main$1u,mergeProps({key:0},re.block.image,{"aria-hidden":""}),null,16)):createCommentVNode("",!0)]),caption:withCtx(()=>[createBaseVNode("h1",_hoisted_1$A,[j.value?(openBlock(),createElementBlock("span",_hoisted_2$h,toDisplayString(j.value),1)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(ee.value),1)])]),_:1},8,["aspect-ratio"]))}}),_hoisted_1$z={key:0,class:"image-figure-block__caption-text"},_hoisted_2$g={key:1,class:"image-figure-block__copyright"},_sfc_main$M=defineComponent({__name:"FigureImageFlavorImage",props:{block:{}},setup($){const _=$,j=computed(()=>_.block.image?.url),ee=computed(()=>_.block.imageFlavor.copyright?.text),re=computed(()=>_.block.imageFlavor.caption?.text);return(le,de)=>(openBlock(),createBlock(_sfc_main$1j,{"aspect-ratio":le.block.image?.viewAspectRatio,class:"image-figure-block"},createSlots({_:2},[j.value?{name:"image",fn:withCtx(()=>[createVNode(_sfc_main$1u,{url:j.value},null,8,["url"])]),key:"0"}:void 0,re.value||ee.value?{name:"caption",fn:withCtx(()=>[re.value?(openBlock(),createElementBlock("span",_hoisted_1$z,toDisplayString(re.value),1)):createCommentVNode("",!0),ee.value?(openBlock(),createElementBlock("address",_hoisted_2$g,"Foto: "+toDisplayString(ee.value),1)):createCommentVNode("",!0)]),key:"1"}:void 0]),1032,["aspect-ratio"]))}}),_sfc_main$L=defineComponent({__name:"ImageBlock",props:{block:{},nested:{type:Boolean}},setup($){const _=$,j=computed(()=>_.block.image?.url),ee=computed(()=>_.block.target),re=computed(()=>resolveTargetUrl(ee.value)),le=computed(()=>isArticleHeadImageFlavor(_.block.imageFlavor)),de=computed(()=>isFigureImageFlavor(_.block.imageFlavor)),ge=computed(()=>!!(!_.block.imageFlavor&&re)),ve=computed(()=>de.value||le.value?"image-block--stretched":""),Ee={__typename:"GTMLinkAttributes",category:"article",action:"image-click",label:re.value?.href},Ce=computed(()=>({..._.block,target:void 0})),Ae=ref$1();if(re.value){const Se=useGtm();useWhenPartlyInView({target:Ae,threshold:.5,callback:()=>Se.add({event:"image-with-url-in-view","click-url":re.value?.href})})}return(Se,ke)=>ee.value&&re.value?(openBlock(),createBlock(_sfc_main$1q,{key:0,class:normalizeClass(["image-block-link",ve.value]),target:ee.value,"gtm-link-attributes":Ee},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"linkImage",ref:Ae},[createVNode(_sfc_main$L,{block:Ce.value,nested:!0},null,8,["block"])],512)]),_:1},8,["class","target"])):le.value?(openBlock(),createBlock(_sfc_main$N,{key:1,block:Se.block,class:normalizeClass(ve.value)},null,8,["block","class"])):de.value?(openBlock(),createBlock(_sfc_main$M,{key:2,block:Se.block,class:normalizeClass(ve.value)},null,8,["block","class"])):ge.value&&j.value?(openBlock(),createBlock(_sfc_main$1u,{key:3,url:j.value},null,8,["url"])):createCommentVNode("",!0)}}),_sfc_main$K=defineComponent({name:"MenuItemBlock",components:{AppIcon:_sfc_main$1t},props:{block:{type:Object,required:!0}},setup($){const _=useRoute(),j=computed(()=>_.path.includes("component")),re=toRefs($.block)?.target;return{slug:computed(()=>{const de=re?.value.targetId?.toUpperCase();return getSlugByScreenEntryPoint(de)}),isComponent:j}}}),_hoisted_1$y=["href"];function _sfc_render$5($,_,j,ee,re,le){const de=resolveComponent("AppIcon"),ge=resolveComponent("router-link");return $.isComponent&&$.block.title?(openBlock(),createBlock(ge,{key:0,class:"widget-navigation__item",to:`/component/${$.slug}`},{default:withCtx(()=>[$.block.icon?(openBlock(),createBlock(de,{key:0,icon:$.block.icon},null,8,["icon"])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString($.block.title.text),1)]),_:1},8,["to"])):$.block.title?(openBlock(),createElementBlock("a",{key:1,class:"widget-navigation__item",href:`/${$.slug}`},[$.block.icon?(openBlock(),createBlock(de,{key:0,icon:$.block.icon},null,8,["icon"])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString($.block.title.text),1)],8,_hoisted_1$y)):createCommentVNode("",!0)}const MenuItemBlock=_export_sfc(_sfc_main$K,[["render",_sfc_render$5]]),_sfc_main$J={},_hoisted_1$x={class:"placeholder-block"};function _sfc_render$4($,_){return openBlock(),createElementBlock("div",_hoisted_1$x)}const PlaceholderBlock=_export_sfc(_sfc_main$J,[["render",_sfc_render$4]]),placeholderAmount=8,_sfc_main$I=defineComponent({__name:"RecommendedArticles",props:{block:{}},setup($){const _={__typename:"LinkBlock",link:{linkFlavor:{},title:{}},template:"thumb"},j=new Array(placeholderAmount).fill(_),ee=ref$1(j),re=ref$1(),le=useContentStore(),{inFallbackMode:de}=useContextStore(),ge={__typename:"ContentListContainer",template:"thumb",header:"Aanbevolen artikelen"};return useWhenInView({target:re,callback:async()=>{const ve=await le.getRecommendedArticles(window.location.pathname);ve&&(ee.value=ve.blocks)}}),(ve,Ee)=>unref(de)?createCommentVNode("",!0):(openBlock(),createElementBlock("section",{key:0,ref_key:"inview",ref:re,class:"recommended"},[createVNode(_sfc_main$P,{class:"recommended__header"},{default:withCtx(()=>[createTextVNode("Aanbevolen artikelen")]),_:1}),createVNode(_sfc_main$15,{blocks:ee.value,flavor:ge},null,8,["blocks"])],512))}}),_sfc_main$H=defineComponent({__name:"SkeletonTextBlock",props:{block:{}},setup($){const _=computed(()=>j.block.modifiers?.map(ee=>`skeleton-text-block--${ee}`)),j=$;return(ee,re)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["skeleton-text-block",_.value])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ee.block.rows,le=>(openBlock(),createElementBlock("div",{key:le,class:"skeleton-text-block__row"}))),128))],2))}}),_hoisted_1$w={key:0,class:"data-provider"},_hoisted_2$f=["href"],_hoisted_3$9={class:"data-provider__label"},_hoisted_4$7=["src","alt"],_sfc_main$G=defineComponent({__name:"SourceBlock",props:{block:{}},setup($){const _=$,j=computed(()=>_.block.target.url||"");return(ee,re)=>ee.block.title&&ee.block.icon?(openBlock(),createElementBlock("div",_hoisted_1$w,[createBaseVNode("a",{class:"data-provider__link",href:j.value,target:"_blank"},[createBaseVNode("span",_hoisted_3$9,toDisplayString(ee.block.title.text),1),createBaseVNode("img",{src:ee.block.icon.url,alt:ee.block.title.text,class:"data-provider__logo"},null,8,_hoisted_4$7)],8,_hoisted_2$f)])):createCommentVNode("",!0)}}),_sfc_main$F=defineComponent({__name:"LottieIcon",props:{animation:{},height:{},width:{}},setup($){const _=$,j=ref$1("");return onMounted(()=>{const ee=_.animation.src.split("?")[0];switch(window.location.hostname){case"localhost":j.value=`${ee}?src=local`;break;case"dev.nu.nl":j.value=`${ee}?src=dev`;break;case"test.nu.nl":case"www.test.nu.nl":j.value=`${ee}?src=test`;break;case"staging.nu.nl":case"www.staging.nu.nl":j.value=`${ee}?src=staging`;break;default:j.value=ee}}),(ee,re)=>{const le=resolveComponent("Vue3Lottie");return j.value?(openBlock(),createBlock(le,{key:0,autoplay:ee.animation.autoplay??!0,"animation-link":j.value,loop:ee.animation.loop??!0,speed:ee.animation.speed??1,height:ee.height??"100%",width:ee.width??"100%",style:{margin:"0"}},null,8,["autoplay","animation-link","loop","speed","height","width"])):createCommentVNode("",!0)}}}),_hoisted_1$v=["innerHTML"],_sfc_main$E=defineComponent({__name:"TextBlock",props:{block:{}},setup($){const _=$,j=computed(()=>isIconTextFlavor(_.block.textFlavor)?_.block.textFlavor:void 0),ee=computed(()=>j.value?.prefixIcon||void 0),re=computed(()=>j.value?.suffixIcon||void 0),le={default:{tag:"span"},[TextRole.ArticleBody]:{tag:"p",className:"paragraph"},[TextRole.ArticleExcerpt]:{tag:"p",className:"paragraph paragraph--lead"},[TextRole.ArticleAuthor]:{tag:"address",className:"author"},[TextRole.ArticleQuoteBody]:{tag:"blockquote",className:"quote"},[TextRole.ArticleQuoteAuthor]:{tag:"span",className:"quote__author"},[TextRole.ArticleHeader]:{tag:"h2",className:"heading"},[TextRole.ArticleSubheader]:{tag:"h2",className:"heading"},[TextRole.ArticleSummaryTitle]:{tag:"h2",className:"heading heading--contextualblock"},[TextRole.ArticleTagTitle]:{tag:"h2",className:"heading--tags"},[TextRole.ArticleSummaryItem]:{tag:"div",className:"summary__body"},[TextRole.LiveblogHeader]:{tag:"h2",className:"heading heading--liveblog"},[TextRole.LiveblogTimestamp]:{tag:"h3",className:"timestamp"},[TextRole.LiveblogTimestampNew]:{tag:"h3",className:"timestamp timestamp--unread"},[TextRole.LiveblogLastseen]:{tag:"div",className:"separator separator--grey"}},de=computed(()=>(_.block.textRole&&le[_.block.textRole])??le.default),ge=computed(()=>_.block.styledText?.textType||TextType.Plain),ve=de.value.className?`textblock ${de.value.className}`:void 0;return(Ee,Ce)=>ge.value===unref(TextType).Plain&&Ee.block.styledText?.text?(openBlock(),createBlock(resolveDynamicComponent(de.value.tag),{key:0,class:normalizeClass(unref(ve))},{default:withCtx(()=>[unref(isLottieAnimation)(ee.value)?(openBlock(),createBlock(_sfc_main$F,{key:0,animation:ee.value,height:"32px",width:"32px"},null,8,["animation"])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(Ee.block.styledText?.text)+" ",1),unref(isLottieAnimation)(re.value)?(openBlock(),createBlock(_sfc_main$F,{key:1,animation:re.value,height:"32px",width:"32px"},null,8,["animation"])):createCommentVNode("",!0)]),_:1},8,["class"])):ge.value===unref(TextType).RestrictedHtml?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(ve)),innerHTML:Ee.block.styledText?.text},null,10,_hoisted_1$v)):createCommentVNode("",!0)}}),_hoisted_1$u={class:"video-meta"},_hoisted_2$e={class:"video-meta__title"},_hoisted_3$8={key:0,class:"video-meta__published-at body-style body-style--s0"},_hoisted_4$6=createBaseVNode("span",null,"Gepubliceerd op",-1),_hoisted_5$4={key:1,class:"video-meta__description body-style body-style--s0"},_sfc_main$D=defineComponent({__name:"VideoMeta",props:{caption:{},createdAt:{},title:{},nujij:{}},setup($){const _=$,j=computed(()=>_.createdAt?new Date(Date.parse(_.createdAt)).toLocaleString("nl-NL",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Europe/Amsterdam"}):void 0);return(ee,re)=>(openBlock(),createElementBlock("section",_hoisted_1$u,[createBaseVNode("h1",_hoisted_2$e,toDisplayString(ee.title?.text),1),j.value?(openBlock(),createElementBlock("p",_hoisted_3$8,[_hoisted_4$6,createTextVNode(" "+toDisplayString(j.value),1)])):createCommentVNode("",!0),ee.caption?(openBlock(),createElementBlock("p",_hoisted_5$4,toDisplayString(ee.caption),1)):createCommentVNode("",!0),ee.nujij?.enabled?(openBlock(),createBlock(_sfc_main$14,{key:2,count:ee.nujij.count,"data-label":"next-to-video"},null,8,["count"])):createCommentVNode("",!0)]))}}),formatDuration=$=>{if($&&$>=2){const _=Math.floor($/60),j=$%60;return`${_}:${j.toString().padStart(2,"0")}`}},_hoisted_1$t={class:"video-preview__wrapper"},_hoisted_2$d=["aria-label"],_hoisted_3$7={key:2,class:"video-preview__caption"},_hoisted_4$5=["aria-label"],_sfc_main$C=defineComponent({__name:"VideoPreview",props:{title:{},imageUrl:{},imageAlt:{},duration:{},isVertical:{type:Boolean},videoId:{}},setup($){const _=$,j=ref$1(),ee=computed(()=>{let de=[];return _.isVertical?de.push("video-preview--vertical"):de.push("video-preview--horizontal"),de}),re=useGtm(),le=computed(()=>{if(!_.duration)return;const[de,ge]=_.duration.split(":");return`video looptijd: ${de} minuten en ${ge} seconden`});return useWhenPartlyInView({target:j,threshold:.5,callback:()=>re.add({event:"article-video-in-view","video-id":_.videoId})}),(de,ge)=>(openBlock(),createElementBlock("figure",{ref_key:"rootComponent",ref:j,class:normalizeClass([ee.value,"video-preview"]),role:"button","aria-roledescription":"video afspelen"},[createBaseVNode("div",_hoisted_1$t,[de.imageUrl?(openBlock(),createBlock(_sfc_main$1u,{key:0,class:"video-preview__image",url:de.imageUrl,alt:de.imageAlt},null,8,["url","alt"])):createCommentVNode("",!0),de.duration?(openBlock(),createElementBlock("span",{key:1,class:"video-preview__duration","aria-label":le.value},toDisplayString(de.duration),9,_hoisted_2$d)):createCommentVNode("",!0),de.title?(openBlock(),createElementBlock("figcaption",_hoisted_3$7,[createVNode(_sfc_main$1t,{embed:"","embed-alt":"Afspelen knop",width:"56",height:"56",class:"video-preview__icon"},{default:withCtx(()=>[createVNode(IconPlay)]),_:1}),createBaseVNode("h2",{class:"video-preview__title","aria-label":"titel: "+de.title.text},toDisplayString(de.title.text),9,_hoisted_4$5)])):createCommentVNode("",!0)])],2))}}),VideoPreview=_export_sfc(_sfc_main$C,[["__scopeId","data-v-4741c9c5"]]),_hoisted_1$s=["src","alt"],_hoisted_2$c=["innerHTML"],_sfc_main$B=defineComponent({__name:"EmbedVideoPlayer",props:{embedCode:{},formattedDuration:{},previewImage:{},previewImageAlt:{},title:{},isVertical:{type:Boolean},isInline:{type:Boolean}},setup($){const _=$,j=ref$1(_.isInline),ee=computed(()=>_.isInline?["embed-player--inline"]:[]),re=()=>{j.value=!1};return(le,de)=>(openBlock(),createElementBlock("section",{class:normalizeClass(["embed-player",ee.value])},[le.previewImage&&le.previewImage.url?(openBlock(),createElementBlock("img",{key:0,class:"embed-player__preview-image",src:le.previewImage&&le.previewImage.url,alt:le.previewImageAlt},null,8,_hoisted_1$s)):createCommentVNode("",!0),j.value?(openBlock(),createBlock(VideoPreview,{key:1,title:le.title,"image-url":le.previewImage&&le.previewImage.url,"image-alt":le.previewImageAlt,duration:le.formattedDuration,"is-vertical":le.isVertical,"video-id":"embedded",onClick:re},null,8,["title","image-url","image-alt","duration","is-vertical"])):(openBlock(),createElementBlock("div",{key:2,innerHTML:le.embedCode},null,8,_hoisted_2$c))],2))}}),_hoisted_1$r=["id"],_hoisted_2$b=createBaseVNode("a",{href:"/klachten.html"},"klachten en feedback",-1),_sfc_main$A=defineComponent({__name:"JWVideoPlayer",props:{adSectionName:{default:void 0},disableAds:{type:Boolean,default:!1},duration:{default:void 0},isLivestream:{type:Boolean},mediaId:{default:void 0},playlist:{default:void 0},previewImageAlt:{default:void 0},previewImageUrl:{default:void 0},title:{default:()=>({})},isInline:{type:Boolean},isVertical:{type:Boolean}},setup($){const _=ref$1(),j=$,{disableAds:ee,duration:re,isLivestream:le,mediaId:de,playlist:ge,previewImageAlt:ve,previewImageUrl:Ee,title:Ce}=toRefs(j),Ae=ref$1(void 0),Se=ref$1(void 0),ke=ref$1(j.isInline);let we={},Ne=!0;const Le=ref$1(formatDuration(j.duration)),Me=computed(()=>j.isInline?["jw-player--inline"]:[]),Fe=useGtm(),xe=inject(isInAppViewKey,!1);onMounted(()=>{j.isInline||Oe()});const $e=()=>{ke.value=!1,Oe()},De=Ge=>{const We=getEnvVariable("VITE_JWPLAYER_SCRIPT_URL");We&&useHybridScripts([We],()=>Ge())},Oe=()=>{const Ge=Ye=>({event:"player",id:de.value,title:Ce.value?.text,...we,...Ye}),We=(Ye,at)=>{Fe.add(Ge({playerEventAction:Ye,...at}))};let Ze=null,Qe=!1,tt=!1,Ke=!1;const Xe=Ye=>{Ye.item.mediaid!==void 0&&Ye.item.mediaid!==de.value&&(de.value=Ye.item.mediaid,Ce.value.text=Ye.item.title,Ze=null,Qe=!1,tt=!1,Ke=!1,Ne=!1),Ae.value=new Date(Ye.item.pubdate*1e3),Se.value=Ye.item.description;const at=Ye.item.feedData.kind==="FEED",vt=Ae.value.toJSON().replace("T"," ").slice(0,19);we={channelId:at?Ye.item.feedData.feedid:"",channelTitle:at?Ye.item.feedData.title:"",productionId:Ye.item.mediaid,productionTitle:Ye.item.title,productionDuration:Ye.item.duration,productionPublicationDate:vt,productionOrigin:"",productionTheme:"",theme:"",playerName:"JW player",isPlaylist:!Ne,liveBroadcast:le.value,audio:jwplayer().getVolume()!==0,audioLevel:jwplayer().getVolume(),isMuted:jwplayer().getMute(),quality:jwplayer().getQualityLevels()[jwplayer().getCurrentQuality()]?.label,viewingMode:"default",visible:!!jwplayer().getViewable(),isInAppView:xe,platform:"nu.nl",isIframe:jwplayer().getEnvironment().Features.iframe}},ot=Ye=>{const at=Ye.duration,vt=Ye.position;if(at!==1/0){const Et=Math.floor(vt/at*10);Ze===null?(We("progress",{playThrough:0}),Ze=0):Et>Ze&&(We("progress",{playThrough:Et*10}),Ze++)}},et=()=>{Ke||(We("itemstarted"),Ke=!0)},He=Ye=>{tt||(we.startingMethod=Ye.playReason,et(),Ye.playReason==="interaction"&&We("itemplay"),We("productionstarted"),tt=!0)},qe=Ye=>{[10101,10303,11e3,20101,20303,21009,60001,60005].includes(Ye.adErrorCode)||Fe.add(Ge({action:"adError"}))},Be=()=>{et(),Qe||(We("advertstarted"),Qe=!0)},Ue=Ye=>Ye.map(at=>({...at,tag:at.tag?.map(vt=>{const Et={ziggo:{ang_cntp:"ZiggoSport",source:"nu.web/ziggosport"},viaplay:{ang_cntp:"NENT",source:"nu.web/nent"},formule1:{ang_cntp:"NENT",source:"nu.web/nent"},default:{ang_cntp:"DPG",source:"nu.web"}},ht=Et[String(j.adSectionName)]??Et.default;return vt.replace("__item-duration__",String(re.value)).replace("__item-mediaid__",de.value||"").replace("__fwd_adsenabled__",String(ee.value?0:1)).replace("__fwd_contenttype__",le.value?"livestream":"vod").replace("__gdpr_consent__",window._privacy?.consentString||api.get("CookieConsent")||"").replace("__page-url__",window.location.href).replace("__random-number__",Math.random().toString()).replace("__source__",ht.source).replace("__ang_cntp__",ht.ang_cntp)})})),Je=Ye=>{const at=JSON.parse(JSON.stringify(Ye)),vt=api.get("dpg-consent-string");return at.mediaId=de.value,at.doNotTrackCookies=!vt?.includes("marketing"),at.related&&(at.related.onclick="link",at.related.file="/rss/videopages/nieuwsvideos.rss"),at.advertising?.schedule&&(at.advertising.schedule=Ue(at.advertising.schedule)),at};De(()=>{if(!j.mediaId)return;const Ye=Je(window.jwDefaults||{}),at=window.jwplayer(j.mediaId);if(typeof at.setup!="function"){_.value=!1;return}_.value=!0,at.setup({...Ye,playlist:ge?.value||"",nextUpDisplay:!1,autostart:"viewable"}).on("play",He).on("complete",()=>We("itemended")).on("pause",()=>We("itempause")).on("time",ot).on("playlistItem",Xe).on("adError",qe).on("adClick",()=>We("clickout")).on("adStarted",Be).on("adTime",Be).on("adSkipped",()=>We("adSkipped")).on("adComplete",()=>We("adend"))})};return(Ge,We)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{class:normalizeClass(["jw-player",Me.value])},[ke.value?(openBlock(),createBlock(VideoPreview,{key:0,title:unref(Ce),"image-url":unref(Ee),"image-alt":unref(ve),duration:Le.value,"is-vertical":Ge.isVertical,"video-id":unref(de),onClick:$e},null,8,["title","image-url","image-alt","duration","is-vertical","video-id"])):(openBlock(),createElementBlock("div",{key:1,id:unref(de),class:"player"},[unref(Ee)?(openBlock(),createBlock(_sfc_main$1u,{key:0,class:"player__preview-image",url:unref(Ee),alt:unref(ve)},null,8,["url","alt"])):createCommentVNode("",!0)],8,_hoisted_1$r))],2),_.value===!1?(openBlock(),createBlock(_sfc_main$R,{key:0},{default:withCtx(()=>[createTextVNode(" De video speler is incorrect geladen. Dit kan een gevolg zijn van uw browser instellingen of eventuele plugins en extensies. Mocht dit probleem zich blijven voordoen verwijzen we u graag naar "),_hoisted_2$b,createTextVNode(". ")]),_:1})):createCommentVNode("",!0)],64))}}),_hoisted_1$q=["src"],_sfc_main$z=defineComponent({__name:"YoutubeVideoPlayer",props:{url:{},formattedDuration:{},previewImage:{},previewImageAlt:{},title:{},isVertical:{type:Boolean},isInline:{type:Boolean}},setup($){const _=$,j=computed(()=>{if(_.url.includes("watch")){const ge=_.url.split("?")[1];return Object.fromEntries(new URLSearchParams(ge).entries()).v}else{if(_.url.length<15)return _.url;{const ge=_.url.split("?")[0].split("/");return ge[ge.length-1]}}}),ee=ref$1(_.previewImage?.url);!ee.value&&j.value&&(ee.value=`https://i.ytimg.com/vi/${j.value}/maxresdefault.jpg`);const re=ref$1(_.isInline),le=computed(()=>_.isInline?["youtube-player--inline"]:[]),de=()=>{re.value=!1};return(ge,ve)=>(openBlock(),createElementBlock("section",{class:normalizeClass(["youtube-player",le.value])},[re.value?(openBlock(),createBlock(VideoPreview,{key:0,title:ge.title,"image-url":ee.value,"image-alt":ge.previewImageAlt,duration:ge.formattedDuration,"is-vertical":ge.isVertical,"video-id":j.value,onClick:de},null,8,["title","image-url","image-alt","duration","is-vertical","video-id"])):(openBlock(),createElementBlock("iframe",{key:1,id:"ytplayer",title:"Video player",type:"text/html",src:`https://www.youtube.com/embed/${j.value}?autoplay=1&modestbranding=1`,frameborder:"0",allowfullscreen:""},null,8,_hoisted_1$q))],2))}}),_hoisted_1$p={class:"video-player"},_sfc_main$y=defineComponent({__name:"VideoPlayer",props:{mediaId:{default:void 0},previewImage:{default:void 0},title:{default:void 0},duration:{default:void 0},isLivestream:{type:Boolean,default:!1},videoPlayerFlavor:{default:void 0},isInline:{type:Boolean,default:!1}},setup($){const _=$,j=computed(()=>!!(isJWPlayerFlavor(_.videoPlayerFlavor)&&_.videoPlayerFlavor.disableAds)),ee=ref$1(_.previewImage?.description||`Beeld uit video: ${_.title?.text||""}`),re=ref$1(void 0),le=ref$1(!1),de=ref$1(formatDuration(_.duration)),ge=ref$1(),ve=ref$1();return isJWPlayerFlavor(_.videoPlayerFlavor)?re.value=_.videoPlayerFlavor.playlist||void 0:isEmbedPlayerFlavor(_.videoPlayerFlavor)&&_.videoPlayerFlavor.embedCode?ge.value=_.videoPlayerFlavor.embedCode:isYouTubePlayerFlavor(_.videoPlayerFlavor)&&_.videoPlayerFlavor.url&&(ve.value=_.videoPlayerFlavor.url),(Ee,Ce)=>(openBlock(),createElementBlock("div",_hoisted_1$p,[unref(isJWPlayerFlavor)(Ee.videoPlayerFlavor)?(openBlock(),createBlock(_sfc_main$A,{key:0,"media-id":Ee.mediaId,playlist:re.value,"is-livestream":Ee.isLivestream,duration:Ee.duration,"disable-ads":j.value,"ad-section-name":Ee.videoPlayerFlavor?.adSectionName,"preview-image-alt":ee.value,"preview-image-url":Ee.previewImage&&Ee.previewImage.url,title:Ee.title,"is-inline":Ee.isInline,"is-vertical":le.value},null,8,["media-id","playlist","is-livestream","duration","disable-ads","ad-section-name","preview-image-alt","preview-image-url","title","is-inline","is-vertical"])):unref(isEmbedPlayerFlavor)(Ee.videoPlayerFlavor)&&ge.value?(openBlock(),createBlock(_sfc_main$B,{key:1,class:"video-player__player",title:Ee.title,"embed-code":ge.value,"preview-image":Ee.previewImage,"preview-image-alt":ee.value,"formatted-duration":de.value,"is-vertical":le.value,"is-inline":Ee.isInline},null,8,["title","embed-code","preview-image","preview-image-alt","formatted-duration","is-vertical","is-inline"])):unref(isYouTubePlayerFlavor)(Ee.videoPlayerFlavor)&&ve.value?(openBlock(),createBlock(_sfc_main$z,{key:2,class:"video-player__player",title:Ee.title,"embed-code":ge.value,"preview-image":Ee.previewImage,"preview-image-alt":ee.value,"formatted-duration":de.value,"is-vertical":le.value,"is-inline":Ee.isInline,url:ve.value},null,8,["title","embed-code","preview-image","preview-image-alt","formatted-duration","is-vertical","is-inline","url"])):createCommentVNode("",!0)]))}}),_sfc_main$x=defineComponent({__name:"VideoBlock",props:{block:{}},setup($){const _=$,j=useNuJijStore(),ee=computed(()=>de.value?void 0:{count:j.count,enabled:j.enabled}),re=computed(()=>_.block.videoFlavor?.caption),le=computed(()=>_.block.videoFlavor?.createdAt),de=computed(()=>!_.block.videoFlavor),ge=computed(()=>{let ve=[];return isArticleHeaderVideoFlavor(_.block.videoFlavor)?(_.block.previewImage?.url&&usePriorityLoading(new URL(_.block.previewImage.url)),ve.push("video-block--hero")):ve.push("video-block--inline"),ve});return(ve,Ee)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["video-block",ge.value]),"aria-label":"video"},[createVNode(_sfc_main$D,{caption:re.value,"created-at":le.value,title:ve.block.title,nujij:ee.value},null,8,["caption","created-at","title","nujij"]),createVNode(_sfc_main$y,{"media-id":ve.block.mediaId,"preview-image":ve.block.previewImage,title:ve.block.title,duration:ve.block.duration,"is-livestream":ve.block.isLivestream,"video-player-flavor":ve.block.videoPlayerFlavor,"is-inline":de.value},null,8,["media-id","preview-image","title","duration","is-livestream","video-player-flavor","is-inline"])],2))}}),_sfc_main$w=defineComponent({__name:"WidgetBarIcon",props:{block:{}},setup($){const _=$,j=computed(()=>_.block?.image&&isGraphic(_.block?.image)?_.block?.image:null),ee=computed(()=>j.value?.name?.includes("weather")?`Weer, ${j.value?.title?.toLowerCase()}`:j.value?.title||_.block.label),re=computed(()=>mapGraphicIcon(j.value?.name));return(le,de)=>le.block.target?(openBlock(),createBlock(_sfc_main$1q,{key:0,class:"widget",target:le.block.target},{default:withCtx(()=>[re.value?(openBlock(),createBlock(_sfc_main$1t,{key:0,"embed-alt":ee.value,embed:"",class:"widget__icon"},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(re.value)))]),_:1},8,["embed-alt"])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(le.block.label),1)]),_:1},8,["target"])):createCommentVNode("",!0)}}),_hoisted_1$o={class:"widgets","aria-hidden":"true"},_sfc_main$v=defineComponent({__name:"WidgetBarBlock",props:{block:{}},setup($){return(_,j)=>(openBlock(),createElementBlock("div",_hoisted_1$o,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_.block.widgetBarIcons,(ee,re)=>(openBlock(),createBlock(_sfc_main$w,{key:`widget_${re}`,block:ee},null,8,["block"]))),128))]))}}),_hoisted_1$n={class:"widget-link__item"},_hoisted_2$a={key:1,class:"widget-link__message"},_sfc_main$u=defineComponent({__name:"WidgetLinkBlock",props:{block:{}},setup($){const j=$.block.link?.linkFlavor,ee=computed(()=>j&&j.image);return(re,le)=>(openBlock(),createElementBlock("div",_hoisted_1$n,[ee.value?(openBlock(),createBlock(_sfc_main$1t,{key:0,description:"test",icon:ee.value,class:"widget-link__icon"},null,8,["icon"])):createCommentVNode("",!0),re.block.link?.title?(openBlock(),createElementBlock("span",_hoisted_2$a,toDisplayString(re.block.link.title.text),1)):createCommentVNode("",!0)]))}}),resolvedParentBlock=()=>inject("RESOLVEDPARENTBLOCK"),__default__=defineComponent({components:{AudioBlock:_sfc_main$1z,BannerBlock:_sfc_main$1x,ButtonBarBlock:_sfc_main$1v,CarouselLinkBlock:_sfc_main$1s,CommentBlock:_sfc_main$1r,ContainerBlock:_sfc_main$_,DetailBlock:_sfc_main$Z,DividerBlock,EmbedBlock:_sfc_main$S,ErrorBlock:_sfc_main$R,FormElementBlock:_sfc_main$Q,HeaderBlock:_sfc_main$O,ImageBlock:_sfc_main$L,LinkBlock:_sfc_main$16,MenuItemBlock,PlaceholderBlock,RecommendedArticles:_sfc_main$I,SkeletonTextBlock:_sfc_main$H,SourceBlock:_sfc_main$G,TextBlock:_sfc_main$E,VideoBlock:_sfc_main$x,WidgetBarBlock:_sfc_main$v,WidgetLinkBlock:_sfc_main$u}}),_sfc_main$t=defineComponent({...__default__,__name:"BlockResolver",props:{block:{}},setup($){const _=$;provide("RESOLVEDPARENTBLOCK",_.block);const j=["WidgetBarBlock","WidgetLinkBlock"],ee=inject(isInAppViewKey),re=le=>ee&&le&&j.includes(le)?null:le?`${le}`.replace(/[A-Z]/g,de=>`-${de.toLowerCase()}`).replace(/^-/,""):"error-block";return(le,de)=>(openBlock(),createBlock(resolveDynamicComponent(re(le.block.__typename)),normalizeProps(guardReactiveProps(_)),null,16))}}),_sfc_main$s=defineComponent({name:"AppFollowUs",components:{AppIcon:_sfc_main$1t,IconFacebook,IconInstagram,IconRSS,IconX},props:{instagram:{type:Boolean,default:!1},facebook:{type:Boolean,default:!1},twitter:{type:Boolean,default:!1},rss:{type:Boolean,default:!1}}}),_hoisted_1$m={class:"app-follow-us","data-nosnippet":""},_hoisted_2$9=createBaseVNode("h4",{class:"app-follow-us__title"},"Volg ons op:",-1),_hoisted_3$6={class:"app-follow-us__badges"},_hoisted_4$4={key:0,class:"instagram"},_hoisted_5$3={href:"https://www.instagram.com/nu.nl/",target:"_blank"},_hoisted_6$2=createBaseVNode("span",{class:"visually-hidden"},"Volg ons op Instagram",-1),_hoisted_7$2={key:1,class:"facebook"},_hoisted_8$2={href:"https://www.facebook.com/NUnl",target:"_blank"},_hoisted_9$1=createBaseVNode("span",{class:"visually-hidden"},"Volg ons op Facebook",-1),_hoisted_10$1={key:2,class:"twitter"},_hoisted_11$1={href:"https://www.twitter.com/NUnl",target:"_blank"},_hoisted_12$1=createBaseVNode("span",{class:"visually-hidden"},"Volg ons op X",-1),_hoisted_13={key:3,class:"rss"},_hoisted_14={href:"/rss",target:"_blank"},_hoisted_15=createBaseVNode("span",{class:"visually-hidden"},"RSS Feed",-1);function _sfc_render$3($,_,j,ee,re,le){const de=resolveComponent("IconInstagram"),ge=resolveComponent("AppIcon"),ve=resolveComponent("IconFacebook"),Ee=resolveComponent("IconX"),Ce=resolveComponent("IconRSS");return openBlock(),createElementBlock("div",_hoisted_1$m,[_hoisted_2$9,createBaseVNode("ul",_hoisted_3$6,[$.instagram?(openBlock(),createElementBlock("li",_hoisted_4$4,[createBaseVNode("a",_hoisted_5$3,[createVNode(ge,{embed:""},{default:withCtx(()=>[createVNode(de)]),_:1}),_hoisted_6$2])])):createCommentVNode("",!0),$.facebook?(openBlock(),createElementBlock("li",_hoisted_7$2,[createBaseVNode("a",_hoisted_8$2,[createVNode(ge,{embed:""},{default:withCtx(()=>[createVNode(ve)]),_:1}),_hoisted_9$1])])):createCommentVNode("",!0),$.twitter?(openBlock(),createElementBlock("li",_hoisted_10$1,[createBaseVNode("a",_hoisted_11$1,[createVNode(ge,{embed:""},{default:withCtx(()=>[createVNode(Ee)]),_:1}),_hoisted_12$1])])):createCommentVNode("",!0),$.rss?(openBlock(),createElementBlock("li",_hoisted_13,[createBaseVNode("a",_hoisted_14,[createVNode(ge,{embed:""},{default:withCtx(()=>[createVNode(Ce)]),_:1}),_hoisted_15])])):createCommentVNode("",!0)])])}const AppFollowUs=_export_sfc(_sfc_main$s,[["render",_sfc_render$3]]),_hoisted_1$l=["aria-label","data-action","data-category","data-label","data-text","data-type","href","tabindex","title"],_sfc_main$r=defineComponent({__name:"AppNavItem",props:{item:{},eventAction:{},eventCategory:{},preventTabIndexing:{type:Boolean}},setup($){const _=ref$1(!1),j=$,ee=de=>de.classNames!==void 0,re=computed(()=>ee(j.item)?j.item.classNames:"");onMounted(()=>{const de=window.location.pathname;j.item.url===de&&(_.value=!0)});const le=computed(()=>{const de=[];return j.item.theme&&de.push("branded branded--"+j.item.theme),_.value&&de.push("app-nav-item__link--active"),de});return(de,ge)=>(openBlock(),createElementBlock("li",{class:normalizeClass(["app-nav-item",re.value])},[de.item.title?(openBlock(),createElementBlock("a",{key:0,class:normalizeClass(["app-nav-item__link",le.value]),"aria-label":de.item.title,"data-action":de.eventAction,"data-category":de.eventCategory,"data-label":de.item.title,"data-text":de.item.title,"data-type":de.eventAction,href:de.item.url,tabindex:de.preventTabIndexing?-1:0,title:de.item.title},toDisplayString(de.item.title),11,_hoisted_1$l)):createCommentVNode("",!0),renderSlot(de.$slots,"default")],2))}}),_hoisted_1$k={class:"app-nav-item"},_sfc_main$q=defineComponent({__name:"PrivacySettings",setup($){const j={url:new URL("?modal=cookie-instellingen",`https://${getEnvVariable("VITE_NUNL_URL")}`).href,__typename:"UrlTarget"};return(ee,re)=>(openBlock(),createElementBlock("li",_hoisted_1$k,[createVNode(_sfc_main$1q,{class:"app-nav-item__link",target:j},{default:withCtx(()=>[createTextVNode("Privacy instellingen")]),_:1}),renderSlot(ee.$slots,"default")]))}});var CacheTypes=($=>($.Menus="Menus",$.Ads="Ads",$))(CacheTypes||{});const styleMenus=$=>{const _={algemeen:"app-hide--m",economie:"app-hide--m",sport:"app-hide--m",tech:"app-hide--m","cultuur en media":"app-hide--m","media en cultuur":"app-hide--m",entertainment:"app-hide--m",achterklap:"app-hide--m",shop:"app-hide--m",voorpagina:"app-hide--d","meest gelezen":"app-hide--d",populair:"app-hide--d"},j=ee=>ee.title?{...ee,classNames:_[ee.title.toLowerCase()]||""}:ee;return{mainMenu:$.mainMenu?.map(j)||[],siteOverview:$.siteOverview||[],mainMenuEditorials:$.mainMenuEditorials||[],footerEditorials:$.footerEditorials||[]}},useMenusStore=defineStore("menus",{state:()=>({mainMenu:[],siteOverview:[],mainMenuEditorials:[],footerEditorials:[]}),actions:{async getMenus(){const $=useErrorStore();try{const _=await this.cacheProvider.get(CacheTypes.Menus,ContentCacheKeys.menus);let j;_?j=JSON.parse(_):(j=await this.bffClient.menus(),await this.cacheProvider.set(CacheTypes.Menus,ContentCacheKeys.menus,JSON.stringify(j)));const ee=styleMenus(j);this.mainMenu=ee.mainMenu,this.siteOverview=ee.siteOverview,this.mainMenuEditorials=ee.mainMenuEditorials,this.footerEditorials=ee.footerEditorials}catch(_){$.handleError(_)}}}}),_hoisted_1$j={class:"app-footer","data-nosnippet":""},_hoisted_2$8={class:"app-footer__wrapper"},_hoisted_3$5={class:"app-footer__main"},_hoisted_4$3={class:"app-footer__links app-hide--d"},_hoisted_5$2={class:"app-footer__links app-hide--m"},_hoisted_6$1={key:0},_hoisted_7$1={class:"app-nav-item nav-item-group"},_hoisted_8$1={class:"app-footer__editorials app-hide--d"},_hoisted_9={class:"app-footer__links"},_hoisted_10={class:"app-footer__info"},_hoisted_11={class:"app-footer__info-wrapper"},_hoisted_12={class:"body-style body-style--s0 app-footer__copyright"},_sfc_main$p=defineComponent({__name:"FooterMenuBlock",setup($){const _=useMenusStore(),j=ref$1(_.siteOverview),ee=ref$1(_.footerEditorials),re=computed(()=>`${new Date().getFullYear()} DPG Media B.V.  alle rechten voorbehouden`);return(le,de)=>(openBlock(),createElementBlock("footer",_hoisted_1$j,[createBaseVNode("div",_hoisted_2$8,[createBaseVNode("nav",_hoisted_3$5,[createBaseVNode("ul",_hoisted_4$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(j.value,ge=>(openBlock(),createBlock(_sfc_main$r,{key:ge.title,item:ge,class:"nav-item-group","event-category":"menu","event-action":"footer-menu"},null,8,["item"]))),128))]),createBaseVNode("ul",_hoisted_5$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(j.value,ge=>(openBlock(),createBlock(_sfc_main$r,{key:ge.title,item:ge,class:"nav-item-group","event-category":"menu","event-action":"footer-menu"},{default:withCtx(()=>[ge.items?(openBlock(),createElementBlock("ul",_hoisted_6$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ge.items,ve=>(openBlock(),createBlock(_sfc_main$r,{key:ve.title,item:ve,"event-category":"menu","event-action":"footer-menu"},null,8,["item"]))),128))])):createCommentVNode("",!0)]),_:2},1032,["item"]))),128)),createBaseVNode("li",_hoisted_7$1,[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ee.value,ge=>(openBlock(),createBlock(_sfc_main$r,{key:ge.title,item:ge,"event-category":"menu","event-action":"footer-menu"},null,8,["item"]))),128)),createVNode(_sfc_main$q)])])])]),createBaseVNode("nav",_hoisted_8$1,[createBaseVNode("ul",_hoisted_9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ee.value,ge=>(openBlock(),createBlock(_sfc_main$r,{key:ge.title,item:ge,class:"","event-category":"menu","event-action":"footer-menu"},null,8,["item"]))),128)),createVNode(_sfc_main$q)])])]),createBaseVNode("div",_hoisted_10,[createBaseVNode("div",_hoisted_11,[createVNode(AppFollowUs,{instagram:"",facebook:"",twitter:"",rss:""}),createBaseVNode("p",_hoisted_12,""+toDisplayString(re.value),1)])])]))}});function tryOnScopeDispose($){return getCurrentScope()?(onScopeDispose($),!0):!1}function toValue($){return typeof $=="function"?$():unref($)}const isClient=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const toString=Object.prototype.toString,isObject$1=$=>toString.call($)==="[object Object]",noop$1=()=>{},isIOS=getIsIOS();function getIsIOS(){var $,_;return isClient&&(($=window?.navigator)==null?void 0:$.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((_=window?.navigator)==null?void 0:_.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}const directiveHooks={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function toRef(...$){if($.length!==1)return toRef$1(...$);const _=$[0];return typeof _=="function"?readonly(customRef(()=>({get:_,set:noop$1}))):ref$1(_)}function unrefElement($){var _;const j=toValue($);return(_=j?.$el)!=null?_:j}const defaultWindow=isClient?window:void 0;function useEventListener(...$){let _,j,ee,re;if(typeof $[0]=="string"||Array.isArray($[0])?([j,ee,re]=$,_=defaultWindow):[_,j,ee,re]=$,!_)return noop$1;Array.isArray(j)||(j=[j]),Array.isArray(ee)||(ee=[ee]);const le=[],de=()=>{le.forEach(Ce=>Ce()),le.length=0},ge=(Ce,Ae,Se,ke)=>(Ce.addEventListener(Ae,Se,ke),()=>Ce.removeEventListener(Ae,Se,ke)),ve=watch(()=>[unrefElement(_),toValue(re)],([Ce,Ae])=>{if(de(),!Ce)return;const Se=isObject$1(Ae)?{...Ae}:Ae;le.push(...j.flatMap(ke=>ee.map(we=>ge(Ce,ke,we,Se))))},{immediate:!0,flush:"post"}),Ee=()=>{ve(),de()};return tryOnScopeDispose(Ee),Ee}let _iOSWorkaround=!1;function onClickOutside($,_,j={}){const{window:ee=defaultWindow,ignore:re=[],capture:le=!0,detectIframe:de=!1}=j;if(!ee)return noop$1;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(ee.document.body.children).forEach(Se=>Se.addEventListener("click",noop$1)),ee.document.documentElement.addEventListener("click",noop$1));let ge=!0;const ve=Se=>re.some(ke=>{if(typeof ke=="string")return Array.from(ee.document.querySelectorAll(ke)).some(we=>we===Se.target||Se.composedPath().includes(we));{const we=unrefElement(ke);return we&&(Se.target===we||Se.composedPath().includes(we))}}),Ce=[useEventListener(ee,"click",Se=>{const ke=unrefElement($);if(!(!ke||ke===Se.target||Se.composedPath().includes(ke))){if(Se.detail===0&&(ge=!ve(Se)),!ge){ge=!0;return}_(Se)}},{passive:!0,capture:le}),useEventListener(ee,"pointerdown",Se=>{const ke=unrefElement($);ge=!ve(Se)&&!!(ke&&!Se.composedPath().includes(ke))},{passive:!0}),de&&useEventListener(ee,"blur",Se=>{setTimeout(()=>{var ke;const we=unrefElement($);((ke=ee.document.activeElement)==null?void 0:ke.tagName)==="IFRAME"&&!we?.contains(ee.document.activeElement)&&_(Se)},0)})].filter(Boolean);return()=>Ce.forEach(Se=>Se())}const vOnClickOutside={[directiveHooks.mounted]($,_){const j=!_.modifiers.bubble;if(typeof _.value=="function")$.__onClickOutside_stop=onClickOutside($,_.value,{capture:j});else{const[ee,re]=_.value;$.__onClickOutside_stop=onClickOutside($,ee,Object.assign({capture:j},re))}},[directiveHooks.unmounted]($){$.__onClickOutside_stop()}};function resolveElement($){return typeof Window<"u"&&$ instanceof Window?$.document.documentElement:typeof Document<"u"&&$ instanceof Document?$.documentElement:$}function checkOverflowScroll($){const _=window.getComputedStyle($);if(_.overflowX==="scroll"||_.overflowY==="scroll"||_.overflowX==="auto"&&$.clientWidth<$.scrollWidth||_.overflowY==="auto"&&$.clientHeight<$.scrollHeight)return!0;{const j=$.parentNode;return!j||j.tagName==="BODY"?!1:checkOverflowScroll(j)}}function preventDefault($){const _=$||window.event,j=_.target;return checkOverflowScroll(j)?!1:_.touches.length>1?!0:(_.preventDefault&&_.preventDefault(),!1)}const elInitialOverflow=new WeakMap;function useScrollLock($,_=!1){const j=ref$1(_);let ee=null;watch(toRef($),de=>{const ge=resolveElement(toValue(de));if(ge){const ve=ge;elInitialOverflow.get(ve)||elInitialOverflow.set(ve,ve.style.overflow),j.value&&(ve.style.overflow="hidden")}},{immediate:!0});const re=()=>{const de=resolveElement(toValue($));!de||j.value||(isIOS&&(ee=useEventListener(de,"touchmove",ge=>{preventDefault(ge)},{passive:!1})),de.style.overflow="hidden",j.value=!0)},le=()=>{var de;const ge=resolveElement(toValue($));!ge||!j.value||(isIOS&&ee?.(),ge.style.overflow=(de=elInitialOverflow.get(ge))!=null?de:"",elInitialOverflow.delete(ge),j.value=!1)};return tryOnScopeDispose(le),computed({get(){return j.value},set(de){de?re():le()}})}function onScrollLock(){let $=!1;const _=ref$1(!1);return(j,ee)=>{if(_.value=ee.value,$)return;$=!0;const re=useScrollLock(j,ee.value);watch(_,le=>re.value=le)}}onScrollLock();const _hoisted_1$i={key:2,class:"nav-tools__tool__label account-trigger__username","aria-hidden":"true"},_sfc_main$o=defineComponent({__name:"AccountTrigger",props:{user:{}},setup($){const _=$,j=computed(()=>!!_.user),ee=()=>{login({dpg_medium:"menu",dpg_campaign:"menu"})},re=()=>{j.value||ee()};return(le,de)=>(openBlock(),createBlock(_sfc_main$12,{"enable-popout":j.value,class:"nav-tools__tool"},{trigger:withCtx(()=>[createVNode(_sfc_main$1w,{"button-type":"cta",class:normalizeClass([{loggedin:j.value},"account-trigger"]),"data-nosnippet":"",onClick:withModifiers(re,["prevent"])},{default:withCtx(()=>[j.value&&le.user?(openBlock(),createBlock(_sfc_main$1t,{key:0,embed:"",class:"account-trigger__icon","embed-alt":"Profiel van "+le.user.firstName},{default:withCtx(()=>[createVNode(IconUser)]),_:1},8,["embed-alt"])):(openBlock(),createBlock(_sfc_main$1t,{key:1,embed:"","embed-alt":"Inloggen",class:"account-trigger__icon"},{default:withCtx(()=>[createVNode(IconUser)]),_:1})),j.value&&le.user?(openBlock(),createElementBlock("span",_hoisted_1$i,toDisplayString(le.user.firstName||"Mijn account"),1)):(openBlock(),createElementBlock("a",{key:3,class:"nav-tools__tool__label","aria-hidden":"true",onClick:withModifiers(ee,["prevent"])}," Inloggen ")),j.value?(openBlock(),createBlock(_sfc_main$1t,{key:4,embed:"",width:"16",height:"16","aria-hidden":"true"},{default:withCtx(()=>[createVNode(IconCaretDown)]),_:1})):createCommentVNode("",!0)]),_:1},8,["class"])]),content:withCtx(()=>[createBaseVNode("button",{class:"account-trigger__link states states--hover",onClick:de[0]||(de[0]=withModifiers((...ge)=>unref(showProfile)&&unref(showProfile)(...ge),["stop"]))},"Account"),createBaseVNode("button",{class:"account-trigger__link states states--hover",onClick:de[1]||(de[1]=withModifiers((...ge)=>unref(logout)&&unref(logout)(...ge),["stop"]))},"Uitloggen")]),_:1},8,["enable-popout"]))}}),_hoisted_1$h={class:"searchbar"},_hoisted_2$7={class:"search-input"},_sfc_main$n=defineComponent({__name:"AppSearch",setup($,{expose:_}){const j=ref$1(""),ee=ref$1(null),re=()=>{ee.value?.focus()},le=()=>{j.value&&(window.location.href=`/zoeken?q=${j.value}&page=1`)};return _({setFieldHasFocus:re}),(de,ge)=>(openBlock(),createElementBlock("div",_hoisted_1$h,[createBaseVNode("div",_hoisted_2$7,[withDirectives(createBaseVNode("input",{ref_key:"searchfield",ref:ee,"onUpdate:modelValue":ge[0]||(ge[0]=ve=>j.value=ve),type:"search",class:normalizeClass(["search-input__input",{"search-input--filled":!!j.value}]),placeholder:"Zoeken op onderwerp",onKeyup:withKeys(le,["enter"])},null,34),[[vModelText,j.value]]),createVNode(_sfc_main$1w,{"button-type":"inline",onClick:le},{default:withCtx(()=>[createTextVNode("Zoeken")]),_:1})])]))}}),_sfc_main$m={},_hoisted_1$g={"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.021486 10.998164c0 2.172814-.694647 4.223706-2.103589 5.854749l4.877533 4.964964c.27174.27024.27174.708144 0 .979734-.136621.134372-.314931.202307-.493393.202307-.17831 0-.356772-.06794-.491891-.202307l-4.877534-4.965113c-1.640491 1.402343-3.703064 2.172875-5.888355 2.172875-2.4194214 0-4.6938987-.936695-6.4053391-2.638373-3.5315772-3.511466-3.5315772-9.2261909 0-12.7376123C6.3503583 2.92771 8.6248356 1.99097 11.044257 1.99097c2.419419 0 4.693867.93674 6.405293 2.6384177 1.710074 1.7002828 2.571936 3.9631676 2.571936 6.3687763zm-9.011168-7.5431693c-2.0174029 0-3.9139479.785423-5.3408106 2.2121058-2.9457604 2.9439758-2.9457604 7.7348125 0 10.6801225 1.4268627 1.426788 3.3234077 2.212167 5.3408106 2.212167 2.017389 0 3.913934-.785379 5.340872-2.212167 1.426787-1.426637 2.212316-3.322927 2.212316-5.340046 0-2.0171187-.785529-3.9134086-2.212316-5.3400765-1.426938-1.4266828-3.323483-2.2121058-5.340872-2.2121058Z",fill:"currentColor"};function _sfc_render$2($,_){return openBlock(),createElementBlock("path",_hoisted_1$g)}const IconSearch=_export_sfc(_sfc_main$m,[["render",_sfc_render$2]]),_sfc_main$l=defineComponent({__name:"LogoNu",setup($){return(_,j)=>(openBlock(),createBlock(_sfc_main$1t,{embed:"","embed-alt":"Logo NU.nl",width:"26",height:"26",class:"main-nav__logo-img","data-category":"menu","data-action":"logo","data-event":""},{default:withCtx(()=>[createVNode(IconLogoNu)]),_:1}))}}),_hoisted_1$f=createBaseVNode("span",{class:"main-nav__logo-label"}," NU.nl ",-1),_sfc_main$k=defineComponent({__name:"LogoNu25Year",setup($){return(_,j)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(_sfc_main$1t,{embed:"","embed-alt":"Logo NU.nl",width:"32",height:"32","viewbox-width":"32","viewbox-height":"32",class:"main-nav__logo-img","data-category":"menu","data-action":"logo","data-event":""},{default:withCtx(()=>[createVNode(IconLogoNu25Year)]),_:1}),_hoisted_1$f],64))}}),_hoisted_1$e={class:"link-block__icon"},_hoisted_2$6={class:"link-block__message"},_hoisted_3$4={key:0,class:"link-block__title"},_hoisted_4$2={key:1,class:"link-block__body"},_hoisted_5$1={key:2,class:"link-block__timestamp"},_sfc_main$j=defineComponent({__name:"notification",props:{link:{}},setup($){const _=$,j=computed(()=>["link-block","link-block--notification","states","states--hover",_.link?.linkFlavor?.is_read?"link-block--read":"link-block--unread"]);return(ee,re)=>ee.link?.target?(openBlock(),createBlock(_sfc_main$1q,{key:0,target:ee.link?.target,class:normalizeClass(j.value),"data-category":"notification-center","data-action":"click-notification","data-label":ee.link.linkFlavor?.title},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$e,[ee.link.linkFlavor?.icon?(openBlock(),createBlock(_sfc_main$1t,{key:0,embed:"","embed-alt":"notificatie icoon"},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ee.link.linkFlavor?.icon)))]),_:1})):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_2$6,[ee.link.linkFlavor?.title?(openBlock(),createElementBlock("h3",_hoisted_3$4,toDisplayString(ee.link.linkFlavor.title),1)):createCommentVNode("",!0),ee.link.linkFlavor?.body?(openBlock(),createElementBlock("div",_hoisted_4$2,toDisplayString(ee.link.linkFlavor.body),1)):createCommentVNode("",!0),ee.link.linkFlavor?.timestamp?(openBlock(),createElementBlock("time",_hoisted_5$1,toDisplayString(ee.link.linkFlavor.timestamp),1)):createCommentVNode("",!0)])]),_:1},8,["target","class","data-label"])):createCommentVNode("",!0)}});var define_process_env_default$1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const assert=function($,_){if(!$)throw assertionError(_)},assertionError=function($){return new Error("Firebase Database ("+CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+$)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function($){const _=[];let j=0;for(let ee=0;ee<$.length;ee++){let re=$.charCodeAt(ee);re<128?_[j++]=re:re<2048?(_[j++]=re>>6|192,_[j++]=re&63|128):(re&64512)===55296&&ee+1<$.length&&($.charCodeAt(ee+1)&64512)===56320?(re=65536+((re&1023)<<10)+($.charCodeAt(++ee)&1023),_[j++]=re>>18|240,_[j++]=re>>12&63|128,_[j++]=re>>6&63|128,_[j++]=re&63|128):(_[j++]=re>>12|224,_[j++]=re>>6&63|128,_[j++]=re&63|128)}return _},byteArrayToString=function($){const _=[];let j=0,ee=0;for(;j<$.length;){const re=$[j++];if(re<128)_[ee++]=String.fromCharCode(re);else if(re>191&&re<224){const le=$[j++];_[ee++]=String.fromCharCode((re&31)<<6|le&63)}else if(re>239&&re<365){const le=$[j++],de=$[j++],ge=$[j++],ve=((re&7)<<18|(le&63)<<12|(de&63)<<6|ge&63)-65536;_[ee++]=String.fromCharCode(55296+(ve>>10)),_[ee++]=String.fromCharCode(56320+(ve&1023))}else{const le=$[j++],de=$[j++];_[ee++]=String.fromCharCode((re&15)<<12|(le&63)<<6|de&63)}}return _.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray($,_){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=_?this.byteToCharMapWebSafe_:this.byteToCharMap_,ee=[];for(let re=0;re<$.length;re+=3){const le=$[re],de=re+1<$.length,ge=de?$[re+1]:0,ve=re+2<$.length,Ee=ve?$[re+2]:0,Ce=le>>2,Ae=(le&3)<<4|ge>>4;let Se=(ge&15)<<2|Ee>>6,ke=Ee&63;ve||(ke=64,de||(Se=64)),ee.push(j[Ce],j[Ae],j[Se],j[ke])}return ee.join("")},encodeString($,_){return this.HAS_NATIVE_SUPPORT&&!_?btoa($):this.encodeByteArray(stringToByteArray$1($),_)},decodeString($,_){return this.HAS_NATIVE_SUPPORT&&!_?atob($):byteArrayToString(this.decodeStringToByteArray($,_))},decodeStringToByteArray($,_){this.init_();const j=_?this.charToByteMapWebSafe_:this.charToByteMap_,ee=[];for(let re=0;re<$.length;){const le=j[$.charAt(re++)],ge=re<$.length?j[$.charAt(re)]:0;++re;const Ee=re<$.length?j[$.charAt(re)]:64;++re;const Ae=re<$.length?j[$.charAt(re)]:64;if(++re,le==null||ge==null||Ee==null||Ae==null)throw new DecodeBase64StringError;const Se=le<<2|ge>>4;if(ee.push(Se),Ee!==64){const ke=ge<<4&240|Ee>>2;if(ee.push(ke),Ae!==64){const we=Ee<<6&192|Ae;ee.push(we)}}}return ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function($){const _=stringToByteArray$1($);return base64.encodeByteArray(_,!0)},base64urlEncodeWithoutPadding=function($){return base64Encode($).replace(/\./g,"")},base64Decode=function($){try{return base64.decodeString($,!0)}catch(_){console.error("base64Decode failed: ",_)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function deepCopy($){return deepExtend(void 0,$)}function deepExtend($,_){if(!(_ instanceof Object))return _;switch(_.constructor){case Date:const j=_;return new Date(j.getTime());case Object:$===void 0&&($={});break;case Array:$=[];break;default:return _}for(const j in _)!_.hasOwnProperty(j)||!isValidKey$1(j)||($[j]=deepExtend($[j],_[j]));return $}function isValidKey$1($){return $!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default$1>"u")return;const $=define_process_env_default$1.__FIREBASE_DEFAULTS__;if($)return JSON.parse($)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const _=$&&base64Decode($[1]);return _&&JSON.parse(_)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch($){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`);return}},getDefaultEmulatorHost=$=>{var _,j;return(j=(_=getDefaults())===null||_===void 0?void 0:_.emulatorHosts)===null||j===void 0?void 0:j[$]},getDefaultEmulatorHostnameAndPort=$=>{const _=getDefaultEmulatorHost($);if(!_)return;const j=_.lastIndexOf(":");if(j<=0||j+1===_.length)throw new Error(`Invalid host ${_} with no separate hostname and port!`);const ee=parseInt(_.substring(j+1),10);return _[0]==="["?[_.substring(1,j-1),ee]:[_.substring(0,j),ee]},getDefaultAppConfig=()=>{var $;return($=getDefaults())===null||$===void 0?void 0:$.config},getExperimentalSetting=$=>{var _;return(_=getDefaults())===null||_===void 0?void 0:_[`_${$}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_,j)=>{this.resolve=_,this.reject=j})}wrapCallback(_){return(j,ee)=>{j?this.reject(j):this.resolve(ee),typeof _=="function"&&(this.promise.catch(()=>{}),_.length===1?_(j):_(j,ee))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken($,_){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j={alg:"none",type:"JWT"},ee=_||"demo-project",re=$.iat||0,le=$.sub||$.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const de=Object.assign({iss:`https://securetoken.google.com/${ee}`,aud:ee,iat:re,exp:re+3600,auth_time:re,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},$);return[base64urlEncodeWithoutPadding(JSON.stringify(j)),base64urlEncodeWithoutPadding(JSON.stringify(de)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isBrowserExtension(){const $=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof $=="object"&&$.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const $=getUA();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function isNodeSdk(){return CONSTANTS.NODE_ADMIN===!0}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise(($,_)=>{try{let j=!0;const ee="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(ee);re.onsuccess=()=>{re.result.close(),j||self.indexedDB.deleteDatabase(ee),$(!0)},re.onupgradeneeded=()=>{j=!1},re.onerror=()=>{var le;_(((le=re.error)===null||le===void 0?void 0:le.message)||"")}}catch(j){_(j)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(_,j,ee){super(j),this.code=_,this.customData=ee,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(_,j,ee){this.service=_,this.serviceName=j,this.errors=ee}create(_,...j){const ee=j[0]||{},re=`${this.service}/${_}`,le=this.errors[_],de=le?replaceTemplate(le,ee):"Error",ge=`${this.serviceName}: ${de} (${re}).`;return new FirebaseError(re,ge,ee)}}function replaceTemplate($,_){return $.replace(PATTERN,(j,ee)=>{const re=_[ee];return re!=null?String(re):`<${ee}?>`})}const PATTERN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonEval($){return JSON.parse($)}function stringify($){return JSON.stringify($)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const decode=function($){let _={},j={},ee={},re="";try{const le=$.split(".");_=jsonEval(base64Decode(le[0])||""),j=jsonEval(base64Decode(le[1])||""),re=le[2],ee=j.d||{},delete j.d}catch{}return{header:_,claims:j,data:ee,signature:re}},isValidFormat=function($){const _=decode($),j=_.claims;return!!j&&typeof j=="object"&&j.hasOwnProperty("iat")},isAdmin=function($){const _=decode($).claims;return typeof _=="object"&&_.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function contains($,_){return Object.prototype.hasOwnProperty.call($,_)}function safeGet($,_){if(Object.prototype.hasOwnProperty.call($,_))return $[_]}function isEmpty$1($){for(const _ in $)if(Object.prototype.hasOwnProperty.call($,_))return!1;return!0}function map($,_,j){const ee={};for(const re in $)Object.prototype.hasOwnProperty.call($,re)&&(ee[re]=_.call(j,$[re],re,$));return ee}function deepEqual($,_){if($===_)return!0;const j=Object.keys($),ee=Object.keys(_);for(const re of j){if(!ee.includes(re))return!1;const le=$[re],de=_[re];if(isObject(le)&&isObject(de)){if(!deepEqual(le,de))return!1}else if(le!==de)return!1}for(const re of ee)if(!j.includes(re))return!1;return!0}function isObject($){return $!==null&&typeof $=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring($){const _=[];for(const[j,ee]of Object.entries($))Array.isArray(ee)?ee.forEach(re=>{_.push(encodeURIComponent(j)+"="+encodeURIComponent(re))}):_.push(encodeURIComponent(j)+"="+encodeURIComponent(ee));return _.length?"&"+_.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sha1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let _=1;_<this.blockSize;++_)this.pad_[_]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(_,j){j||(j=0);const ee=this.W_;if(typeof _=="string")for(let Ae=0;Ae<16;Ae++)ee[Ae]=_.charCodeAt(j)<<24|_.charCodeAt(j+1)<<16|_.charCodeAt(j+2)<<8|_.charCodeAt(j+3),j+=4;else for(let Ae=0;Ae<16;Ae++)ee[Ae]=_[j]<<24|_[j+1]<<16|_[j+2]<<8|_[j+3],j+=4;for(let Ae=16;Ae<80;Ae++){const Se=ee[Ae-3]^ee[Ae-8]^ee[Ae-14]^ee[Ae-16];ee[Ae]=(Se<<1|Se>>>31)&4294967295}let re=this.chain_[0],le=this.chain_[1],de=this.chain_[2],ge=this.chain_[3],ve=this.chain_[4],Ee,Ce;for(let Ae=0;Ae<80;Ae++){Ae<40?Ae<20?(Ee=ge^le&(de^ge),Ce=1518500249):(Ee=le^de^ge,Ce=1859775393):Ae<60?(Ee=le&de|ge&(le|de),Ce=2400959708):(Ee=le^de^ge,Ce=3395469782);const Se=(re<<5|re>>>27)+Ee+ve+Ce+ee[Ae]&4294967295;ve=ge,ge=de,de=(le<<30|le>>>2)&4294967295,le=re,re=Se}this.chain_[0]=this.chain_[0]+re&4294967295,this.chain_[1]=this.chain_[1]+le&4294967295,this.chain_[2]=this.chain_[2]+de&4294967295,this.chain_[3]=this.chain_[3]+ge&4294967295,this.chain_[4]=this.chain_[4]+ve&4294967295}update(_,j){if(_==null)return;j===void 0&&(j=_.length);const ee=j-this.blockSize;let re=0;const le=this.buf_;let de=this.inbuf_;for(;re<j;){if(de===0)for(;re<=ee;)this.compress_(_,re),re+=this.blockSize;if(typeof _=="string"){for(;re<j;)if(le[de]=_.charCodeAt(re),++de,++re,de===this.blockSize){this.compress_(le),de=0;break}}else for(;re<j;)if(le[de]=_[re],++de,++re,de===this.blockSize){this.compress_(le),de=0;break}}this.inbuf_=de,this.total_+=j}digest(){const _=[];let j=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let re=this.blockSize-1;re>=56;re--)this.buf_[re]=j&255,j/=256;this.compress_(this.buf_);let ee=0;for(let re=0;re<5;re++)for(let le=24;le>=0;le-=8)_[ee]=this.chain_[re]>>le&255,++ee;return _}}function createSubscribe($,_){const j=new ObserverProxy($,_);return j.subscribe.bind(j)}class ObserverProxy{constructor(_,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{_(this)}).catch(ee=>{this.error(ee)})}next(_){this.forEachObserver(j=>{j.next(_)})}error(_){this.forEachObserver(j=>{j.error(_)}),this.close(_)}complete(){this.forEachObserver(_=>{_.complete()}),this.close()}subscribe(_,j,ee){let re;if(_===void 0&&j===void 0&&ee===void 0)throw new Error("Missing Observer.");implementsAnyMethods(_,["next","error","complete"])?re=_:re={next:_,error:j,complete:ee},re.next===void 0&&(re.next=noop),re.error===void 0&&(re.error=noop),re.complete===void 0&&(re.complete=noop);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),le}unsubscribeOne(_){this.observers===void 0||this.observers[_]===void 0||(delete this.observers[_],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(_){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,_)}sendOne(_,j){this.task.then(()=>{if(this.observers!==void 0&&this.observers[_]!==void 0)try{j(this.observers[_])}catch(ee){typeof console<"u"&&console.error&&console.error(ee)}})}close(_){this.finalized||(this.finalized=!0,_!==void 0&&(this.finalError=_),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods($,_){if(typeof $!="object"||$===null)return!1;for(const j of _)if(j in $&&typeof $[j]=="function")return!0;return!1}function noop(){}function errorPrefix($,_){return`${$} failed: ${_} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray=function($){const _=[];let j=0;for(let ee=0;ee<$.length;ee++){let re=$.charCodeAt(ee);if(re>=55296&&re<=56319){const le=re-55296;ee++,assert(ee<$.length,"Surrogate pair missing trail surrogate.");const de=$.charCodeAt(ee)-56320;re=65536+(le<<10)+de}re<128?_[j++]=re:re<2048?(_[j++]=re>>6|192,_[j++]=re&63|128):re<65536?(_[j++]=re>>12|224,_[j++]=re>>6&63|128,_[j++]=re&63|128):(_[j++]=re>>18|240,_[j++]=re>>12&63|128,_[j++]=re>>6&63|128,_[j++]=re&63|128)}return _},stringLength=function($){let _=0;for(let j=0;j<$.length;j++){const ee=$.charCodeAt(j);ee<128?_++:ee<2048?_+=2:ee>=55296&&ee<=56319?(_+=4,j++):_+=3}return _};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance($){return $&&$._delegate?$._delegate:$}class Component{constructor(_,j,ee){this.name=_,this.instanceFactory=j,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_){return this.instantiationMode=_,this}setMultipleInstances(_){return this.multipleInstances=_,this}setServiceProps(_){return this.serviceProps=_,this}setInstanceCreatedCallback(_){return this.onInstanceCreated=_,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(_,j){this.name=_,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_){const j=this.normalizeInstanceIdentifier(_);if(!this.instancesDeferred.has(j)){const ee=new Deferred;if(this.instancesDeferred.set(j,ee),this.isInitialized(j)||this.shouldAutoInitialize())try{const re=this.getOrInitializeService({instanceIdentifier:j});re&&ee.resolve(re)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(_){var j;const ee=this.normalizeInstanceIdentifier(_?.identifier),re=(j=_?.optional)!==null&&j!==void 0?j:!1;if(this.isInitialized(ee)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(le){if(re)return null;throw le}else{if(re)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(_){if(_.name!==this.name)throw Error(`Mismatching Component ${_.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_,!!this.shouldAutoInitialize()){if(isComponentEager(_))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[j,ee]of this.instancesDeferred.entries()){const re=this.normalizeInstanceIdentifier(j);try{const le=this.getOrInitializeService({instanceIdentifier:re});ee.resolve(le)}catch{}}}}clearInstance(_=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(_),this.instancesOptions.delete(_),this.instances.delete(_)}async delete(){const _=Array.from(this.instances.values());await Promise.all([..._.filter(j=>"INTERNAL"in j).map(j=>j.INTERNAL.delete()),..._.filter(j=>"_delete"in j).map(j=>j._delete())])}isComponentSet(){return this.component!=null}isInitialized(_=DEFAULT_ENTRY_NAME$1){return this.instances.has(_)}getOptions(_=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(_)||{}}initialize(_={}){const{options:j={}}=_,ee=this.normalizeInstanceIdentifier(_.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const re=this.getOrInitializeService({instanceIdentifier:ee,options:j});for(const[le,de]of this.instancesDeferred.entries()){const ge=this.normalizeInstanceIdentifier(le);ee===ge&&de.resolve(re)}return re}onInit(_,j){var ee;const re=this.normalizeInstanceIdentifier(j),le=(ee=this.onInitCallbacks.get(re))!==null&&ee!==void 0?ee:new Set;le.add(_),this.onInitCallbacks.set(re,le);const de=this.instances.get(re);return de&&_(de,re),()=>{le.delete(_)}}invokeOnInitCallbacks(_,j){const ee=this.onInitCallbacks.get(j);if(ee)for(const re of ee)try{re(_,j)}catch{}}getOrInitializeService({instanceIdentifier:_,options:j={}}){let ee=this.instances.get(_);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(_),options:j}),this.instances.set(_,ee),this.instancesOptions.set(_,j),this.invokeOnInitCallbacks(ee,_),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_,ee)}catch{}return ee||null}normalizeInstanceIdentifier(_=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?_:DEFAULT_ENTRY_NAME$1:_}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory($){return $===DEFAULT_ENTRY_NAME$1?void 0:$}function isComponentEager($){return $.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(_){this.name=_,this.providers=new Map}addComponent(_){const j=this.getProvider(_.name);if(j.isComponentSet())throw new Error(`Component ${_.name} has already been registered with ${this.name}`);j.setComponent(_)}addOrOverwriteComponent(_){this.getProvider(_.name).isComponentSet()&&this.providers.delete(_.name),this.addComponent(_)}getProvider(_){if(this.providers.has(_))return this.providers.get(_);const j=new Provider(_,this);return this.providers.set(_,j),j}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function($){$[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=($,_,...j)=>{if(_<$.logLevel)return;const ee=new Date().toISOString(),re=ConsoleMethod[_];if(re)console[re](`[${ee}]  ${$.name}:`,...j);else throw new Error(`Attempted to log a message with an invalid logType (value: ${_})`)};class Logger{constructor(_){this.name=_,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(_){if(!(_ in LogLevel))throw new TypeError(`Invalid value "${_}" assigned to \`logLevel\``);this._logLevel=_}setLogLevel(_){this._logLevel=typeof _=="string"?levelStringToEnum[_]:_}get logHandler(){return this._logHandler}set logHandler(_){if(typeof _!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_}get userLogHandler(){return this._userLogHandler}set userLogHandler(_){this._userLogHandler=_}debug(..._){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,..._),this._logHandler(this,LogLevel.DEBUG,..._)}log(..._){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,..._),this._logHandler(this,LogLevel.VERBOSE,..._)}info(..._){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,..._),this._logHandler(this,LogLevel.INFO,..._)}warn(..._){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,..._),this._logHandler(this,LogLevel.WARN,..._)}error(..._){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,..._),this._logHandler(this,LogLevel.ERROR,..._)}}const instanceOfAny=($,_)=>_.some(j=>$ instanceof j);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest($){const _=new Promise((j,ee)=>{const re=()=>{$.removeEventListener("success",le),$.removeEventListener("error",de)},le=()=>{j(wrap($.result)),re()},de=()=>{ee($.error),re()};$.addEventListener("success",le),$.addEventListener("error",de)});return _.then(j=>{j instanceof IDBCursor&&cursorRequestMap.set(j,$)}).catch(()=>{}),reverseTransformCache.set(_,$),_}function cacheDonePromiseForTransaction($){if(transactionDoneMap.has($))return;const _=new Promise((j,ee)=>{const re=()=>{$.removeEventListener("complete",le),$.removeEventListener("error",de),$.removeEventListener("abort",de)},le=()=>{j(),re()},de=()=>{ee($.error||new DOMException("AbortError","AbortError")),re()};$.addEventListener("complete",le),$.addEventListener("error",de),$.addEventListener("abort",de)});transactionDoneMap.set($,_)}let idbProxyTraps={get($,_,j){if($ instanceof IDBTransaction){if(_==="done")return transactionDoneMap.get($);if(_==="objectStoreNames")return $.objectStoreNames||transactionStoreNamesMap.get($);if(_==="store")return j.objectStoreNames[1]?void 0:j.objectStore(j.objectStoreNames[0])}return wrap($[_])},set($,_,j){return $[_]=j,!0},has($,_){return $ instanceof IDBTransaction&&(_==="done"||_==="store")?!0:_ in $}};function replaceTraps($){idbProxyTraps=$(idbProxyTraps)}function wrapFunction($){return $===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(_,...j){const ee=$.call(unwrap(this),_,...j);return transactionStoreNamesMap.set(ee,_.sort?_.sort():[_]),wrap(ee)}:getCursorAdvanceMethods().includes($)?function(..._){return $.apply(unwrap(this),_),wrap(cursorRequestMap.get(this))}:function(..._){return wrap($.apply(unwrap(this),_))}}function transformCachableValue($){return typeof $=="function"?wrapFunction($):($ instanceof IDBTransaction&&cacheDonePromiseForTransaction($),instanceOfAny($,getIdbProxyableTypes())?new Proxy($,idbProxyTraps):$)}function wrap($){if($ instanceof IDBRequest)return promisifyRequest($);if(transformCache.has($))return transformCache.get($);const _=transformCachableValue($);return _!==$&&(transformCache.set($,_),reverseTransformCache.set(_,$)),_}const unwrap=$=>reverseTransformCache.get($);function openDB($,_,{blocked:j,upgrade:ee,blocking:re,terminated:le}={}){const de=indexedDB.open($,_),ge=wrap(de);return ee&&de.addEventListener("upgradeneeded",ve=>{ee(wrap(de.result),ve.oldVersion,ve.newVersion,wrap(de.transaction),ve)}),j&&de.addEventListener("blocked",ve=>j(ve.oldVersion,ve.newVersion,ve)),ge.then(ve=>{le&&ve.addEventListener("close",()=>le()),re&&ve.addEventListener("versionchange",Ee=>re(Ee.oldVersion,Ee.newVersion,Ee))}).catch(()=>{}),ge}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod($,_){if(!($ instanceof IDBDatabase&&!(_ in $)&&typeof _=="string"))return;if(cachedMethods.get(_))return cachedMethods.get(_);const j=_.replace(/FromIndex$/,""),ee=_!==j,re=writeMethods.includes(j);if(!(j in(ee?IDBIndex:IDBObjectStore).prototype)||!(re||readMethods.includes(j)))return;const le=async function(de,...ge){const ve=this.transaction(de,re?"readwrite":"readonly");let Ee=ve.store;return ee&&(Ee=Ee.index(ge.shift())),(await Promise.all([Ee[j](...ge),re&&ve.done]))[0]};return cachedMethods.set(_,le),le}replaceTraps($=>({...$,get:(_,j,ee)=>getMethod(_,j)||$.get(_,j,ee),has:(_,j)=>!!getMethod(_,j)||$.has(_,j)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(_){this.container=_}getPlatformInfoString(){return this.container.getProviders().map(j=>{if(isVersionServiceProvider(j)){const ee=j.getImmediate();return`${ee.library}/${ee.version}`}else return null}).filter(j=>j).join(" ")}}function isVersionServiceProvider($){const _=$.getComponent();return _?.type==="VERSION"}const name$o="@firebase/app",version$1$1="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3="@firebase/storage-compat",name$2$1="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$3="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3]:"fire-gcs-compat",[name$2$1]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent($,_){try{$.container.addComponent(_)}catch(j){logger$1.debug(`Component ${_.name} failed to register with FirebaseApp ${$.name}`,j)}}function _registerComponent($){const _=$.name;if(_components.has(_))return logger$1.debug(`There were multiple attempts to register component ${_}.`),!1;_components.set(_,$);for(const j of _apps.values())_addComponent(j,$);return!0}function _getProvider($,_){const j=$.container.getProvider("heartbeat").getImmediate({optional:!0});return j&&j.triggerHeartbeat(),$.container.getProvider(_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(_,j,ee){this._isDeleted=!1,this._options=Object.assign({},_),this._config=Object.assign({},j),this._name=j.name,this._automaticDataCollectionEnabled=j.automaticDataCollectionEnabled,this._container=ee,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_){this.checkDestroyed(),this._automaticDataCollectionEnabled=_}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_){this._isDeleted=_}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION$1=version$3;function initializeApp($,_={}){let j=$;typeof _!="object"&&(_={name:_});const ee=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},_),re=ee.name;if(typeof re!="string"||!re)throw ERROR_FACTORY.create("bad-app-name",{appName:String(re)});if(j||(j=getDefaultAppConfig()),!j)throw ERROR_FACTORY.create("no-options");const le=_apps.get(re);if(le){if(deepEqual(j,le.options)&&deepEqual(ee,le.config))return le;throw ERROR_FACTORY.create("duplicate-app",{appName:re})}const de=new ComponentContainer(re);for(const ve of _components.values())de.addComponent(ve);const ge=new FirebaseAppImpl(j,ee,de);return _apps.set(re,ge),ge}function getApp($=DEFAULT_ENTRY_NAME){const _=_apps.get($);if(!_&&$===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!_)throw ERROR_FACTORY.create("no-app",{appName:$});return _}function registerVersion($,_,j){var ee;let re=(ee=PLATFORM_LOG_STRING[$])!==null&&ee!==void 0?ee:$;j&&(re+=`-${j}`);const le=re.match(/\s|\//),de=_.match(/\s|\//);if(le||de){const ge=[`Unable to register library "${re}" with version "${_}":`];le&&ge.push(`library name "${re}" contains illegal characters (whitespace or "/")`),le&&de&&ge.push("and"),de&&ge.push(`version name "${_}" contains illegal characters (whitespace or "/")`),logger$1.warn(ge.join(" "));return}_registerComponent(new Component(`${re}-version`,()=>({library:re,version:_}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:($,_)=>{switch(_){case 0:$.createObjectStore(STORE_NAME)}}}).catch($=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:$.message})})),dbPromise}async function readHeartbeatsFromIndexedDB($){try{return await(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey($))}catch(_){if(_ instanceof FirebaseError)logger$1.warn(_.message);else{const j=ERROR_FACTORY.create("idb-get",{originalErrorMessage:_?.message});logger$1.warn(j.message)}}}async function writeHeartbeatsToIndexedDB($,_){try{const ee=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await ee.objectStore(STORE_NAME).put(_,computeKey($)),await ee.done}catch(j){if(j instanceof FirebaseError)logger$1.warn(j.message);else{const ee=ERROR_FACTORY.create("idb-set",{originalErrorMessage:j?.message});logger$1.warn(ee.message)}}}function computeKey($){return`${$.name}!${$.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(_){this.container=_,this._heartbeatsCache=null;const j=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(j),this._heartbeatsCachePromise=this._storage.read().then(ee=>(this._heartbeatsCache=ee,ee))}async triggerHeartbeat(){var _;const ee=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),re=getUTCDateString();if(((_=this._heartbeatsCache)===null||_===void 0?void 0:_.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===re||this._heartbeatsCache.heartbeats.some(le=>le.date===re)))return this._heartbeatsCache.heartbeats.push({date:re,agent:ee}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(le=>{const de=new Date(le.date).valueOf();return Date.now()-de<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var _;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((_=this._heartbeatsCache)===null||_===void 0?void 0:_.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const j=getUTCDateString(),{heartbeatsToSend:ee,unsentEntries:re}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),le=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:ee}));return this._heartbeatsCache.lastSentHeartbeatDate=j,re.length>0?(this._heartbeatsCache.heartbeats=re,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),le}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader($,_=MAX_HEADER_BYTES){const j=[];let ee=$.slice();for(const re of $){const le=j.find(de=>de.agent===re.agent);if(le){if(le.dates.push(re.date),countBytes(j)>_){le.dates.pop();break}}else if(j.push({agent:re.agent,dates:[re.date]}),countBytes(j)>_){j.pop();break}ee=ee.slice(1)}return{heartbeatsToSend:j,unsentEntries:ee}}class HeartbeatStorageImpl{constructor(_){this.app=_,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(_){var j;if(await this._canUseIndexedDBPromise){const re=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(j=_.lastSentHeartbeatDate)!==null&&j!==void 0?j:re.lastSentHeartbeatDate,heartbeats:_.heartbeats})}else return}async add(_){var j;if(await this._canUseIndexedDBPromise){const re=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(j=_.lastSentHeartbeatDate)!==null&&j!==void 0?j:re.lastSentHeartbeatDate,heartbeats:[...re.heartbeats,..._.heartbeats]})}else return}}function countBytes($){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:$})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents($){_registerComponent(new Component("platform-logger",_=>new PlatformLoggerServiceImpl(_),"PRIVATE")),_registerComponent(new Component("heartbeat",_=>new HeartbeatServiceImpl(_),"PRIVATE")),registerVersion(name$o,version$1$1,$),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");function __rest($,_){var j={};for(var ee in $)Object.prototype.hasOwnProperty.call($,ee)&&_.indexOf(ee)<0&&(j[ee]=$[ee]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var re=0,ee=Object.getOwnPropertySymbols($);re<ee.length;re++)_.indexOf(ee[re])<0&&Object.prototype.propertyIsEnumerable.call($,ee[re])&&(j[ee[re]]=$[ee[re]]);return j}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient$1=new Logger("@firebase/auth");function _logWarn($,..._){logClient$1.logLevel<=LogLevel.WARN&&logClient$1.warn(`Auth (${SDK_VERSION$1}): ${$}`,..._)}function _logError($,..._){logClient$1.logLevel<=LogLevel.ERROR&&logClient$1.error(`Auth (${SDK_VERSION$1}): ${$}`,..._)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail($,..._){throw createErrorInternal($,..._)}function _createError($,..._){return createErrorInternal($,..._)}function _errorWithCustomMessage($,_,j){const ee=Object.assign(Object.assign({},prodErrorMap()),{[_]:j});return new ErrorFactory("auth","Firebase",ee).create(_,{appName:$.name})}function createErrorInternal($,..._){if(typeof $!="string"){const j=_[0],ee=[..._.slice(1)];return ee[0]&&(ee[0].appName=$.name),$._errorFactory.create(j,...ee)}return _DEFAULT_AUTH_ERROR_FACTORY.create($,..._)}function _assert($,_,...j){if(!$)throw createErrorInternal(_,...j)}function debugFail($){const _="INTERNAL ASSERTION FAILED: "+$;throw _logError(_),new Error(_)}function debugAssert($,_){$||debugFail(_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var $;return typeof self<"u"&&(($=self.location)===null||$===void 0?void 0:$.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var $;return typeof self<"u"&&(($=self.location)===null||$===void 0?void 0:$.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const $=navigator;return $.languages&&$.languages[0]||$.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(_,j){this.shortDelay=_,this.longDelay=j,debugAssert(j>_,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl($,_){debugAssert($.emulator,"Emulator should always be set here");const{url:j}=$.emulator;return _?`${j}${_.startsWith("/")?_.slice(1):_}`:j}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(_,j,ee){this.fetchImpl=_,j&&(this.headersImpl=j),ee&&(this.responseImpl=ee)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary($,_){return $.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:$.tenantId}):_}async function _performApiRequest($,_,j,ee,re={}){return _performFetchWithErrorHandling($,re,async()=>{let le={},de={};ee&&(_==="GET"?de=ee:le={body:JSON.stringify(ee)});const ge=querystring(Object.assign({key:$.config.apiKey},de)).slice(1),ve=await $._getAdditionalHeaders();return ve["Content-Type"]="application/json",$.languageCode&&(ve["X-Firebase-Locale"]=$.languageCode),FetchProvider.fetch()(_getFinalTarget($,$.config.apiHost,j,ge),Object.assign({method:_,headers:ve,referrerPolicy:"no-referrer"},le))})}async function _performFetchWithErrorHandling($,_,j){$._canInitEmulator=!1;const ee=Object.assign(Object.assign({},SERVER_ERROR_MAP),_);try{const re=new NetworkTimeout($),le=await Promise.race([j(),re.promise]);re.clearNetworkTimeout();const de=await le.json();if("needConfirmation"in de)throw _makeTaggedError($,"account-exists-with-different-credential",de);if(le.ok&&!("errorMessage"in de))return de;{const ge=le.ok?de.errorMessage:de.error.message,[ve,Ee]=ge.split(" : ");if(ve==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError($,"credential-already-in-use",de);if(ve==="EMAIL_EXISTS")throw _makeTaggedError($,"email-already-in-use",de);if(ve==="USER_DISABLED")throw _makeTaggedError($,"user-disabled",de);const Ce=ee[ve]||ve.toLowerCase().replace(/[_\s]+/g,"-");if(Ee)throw _errorWithCustomMessage($,Ce,Ee);_fail($,Ce)}}catch(re){if(re instanceof FirebaseError)throw re;_fail($,"network-request-failed",{message:String(re)})}}async function _performSignInRequest($,_,j,ee,re={}){const le=await _performApiRequest($,_,j,ee,re);return"mfaPendingCredential"in le&&_fail($,"multi-factor-auth-required",{_serverResponse:le}),le}function _getFinalTarget($,_,j,ee){const re=`${_}${j}?${ee}`;return $.config.emulator?_emulatorUrl($.config,re):`${$.config.apiScheme}://${re}`}class NetworkTimeout{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((j,ee)=>{this.timer=setTimeout(()=>ee(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError($,_,j){const ee={appName:$.name};j.email&&(ee.email=j.email),j.phoneNumber&&(ee.phoneNumber=j.phoneNumber);const re=_createError($,_,ee);return re.customData._tokenResponse=j,re}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount($,_){return _performApiRequest($,"POST","/v1/accounts:delete",_)}async function getAccountInfo($,_){return _performApiRequest($,"POST","/v1/accounts:lookup",_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString($){if($)try{const _=new Date(Number($));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}async function getIdTokenResult($,_=!1){const j=getModularInstance($),ee=await j.getIdToken(_),re=_parseToken(ee);_assert(re&&re.exp&&re.auth_time&&re.iat,j.auth,"internal-error");const le=typeof re.firebase=="object"?re.firebase:void 0,de=le?.sign_in_provider;return{claims:re,token:ee,authTime:utcTimestampToDateString(secondsStringToMilliseconds(re.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(re.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(re.exp)),signInProvider:de||null,signInSecondFactor:le?.sign_in_second_factor||null}}function secondsStringToMilliseconds($){return Number($)*1e3}function _parseToken($){const[_,j,ee]=$.split(".");if(_===void 0||j===void 0||ee===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const re=base64Decode(j);return re?JSON.parse(re):(_logError("Failed to decode base64 JWT payload"),null)}catch(re){return _logError("Caught error parsing JWT payload as JSON",re?.toString()),null}}function _tokenExpiresIn($){const _=_parseToken($);return _assert(_,"internal-error"),_assert(typeof _.exp<"u","internal-error"),_assert(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated($,_,j=!1){if(j)return _;try{return await _}catch(ee){throw ee instanceof FirebaseError&&isUserInvalidated(ee)&&$.auth.currentUser===$&&await $.auth.signOut(),ee}}function isUserInvalidated({code:$}){return $==="auth/user-disabled"||$==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(_){var j;if(_){const ee=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),ee}else{this.errorBackoff=3e4;const re=((j=this.user.stsTokenManager.expirationTime)!==null&&j!==void 0?j:0)-Date.now()-3e5;return Math.max(0,re)}}schedule(_=!1){if(!this.isRunning)return;const j=this.getInterval(_);this.timerId=setTimeout(async()=>{await this.iteration()},j)}async iteration(){try{await this.user.getIdToken(!0)}catch(_){_?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(_,j){this.createdAt=_,this.lastLoginAt=j,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving($){var _;const j=$.auth,ee=await $.getIdToken(),re=await _logoutIfInvalidated($,getAccountInfo(j,{idToken:ee}));_assert(re?.users.length,j,"internal-error");const le=re.users[0];$._notifyReloadListener(le);const de=!((_=le.providerUserInfo)===null||_===void 0)&&_.length?extractProviderData(le.providerUserInfo):[],ge=mergeProviderData($.providerData,de),ve=$.isAnonymous,Ee=!($.email&&le.passwordHash)&&!ge?.length,Ce=ve?Ee:!1,Ae={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:ge,metadata:new UserMetadata(le.createdAt,le.lastLoginAt),isAnonymous:Ce};Object.assign($,Ae)}async function reload($){const _=getModularInstance($);await _reloadWithoutSaving(_),await _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)}function mergeProviderData($,_){return[...$.filter(ee=>!_.some(re=>re.providerId===ee.providerId)),..._]}function extractProviderData($){return $.map(_=>{var{providerId:j}=_,ee=__rest(_,["providerId"]);return{providerId:j,uid:ee.rawId||"",displayName:ee.displayName||null,email:ee.email||null,phoneNumber:ee.phoneNumber||null,photoURL:ee.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken($,_){const j=await _performFetchWithErrorHandling($,{},async()=>{const ee=querystring({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:re,apiKey:le}=$.config,de=_getFinalTarget($,re,"/v1/token",`key=${le}`),ge=await $._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(de,{method:"POST",headers:ge,body:ee})});return{accessToken:j.access_token,expiresIn:j.expires_in,refreshToken:j.refresh_token}}async function revokeToken($,_){return _performApiRequest($,"POST","/v2/accounts:revokeToken",_addTidIfNecessary($,_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){_assert(_.idToken,"internal-error"),_assert(typeof _.idToken<"u","internal-error"),_assert(typeof _.refreshToken<"u","internal-error");const j="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):_tokenExpiresIn(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,j)}async getToken(_,j=!1){return _assert(!this.accessToken||this.refreshToken,_,"user-token-expired"),!j&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(_,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(_,j){const{accessToken:ee,refreshToken:re,expiresIn:le}=await requestStsToken(_,j);this.updateTokensAndExpiration(ee,re,Number(le))}updateTokensAndExpiration(_,j,ee){this.refreshToken=j||null,this.accessToken=_||null,this.expirationTime=Date.now()+ee*1e3}static fromJSON(_,j){const{refreshToken:ee,accessToken:re,expirationTime:le}=j,de=new StsTokenManager;return ee&&(_assert(typeof ee=="string","internal-error",{appName:_}),de.refreshToken=ee),re&&(_assert(typeof re=="string","internal-error",{appName:_}),de.accessToken=re),le&&(_assert(typeof le=="number","internal-error",{appName:_}),de.expirationTime=le),de}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined($,_){_assert(typeof $=="string"||typeof $>"u","internal-error",{appName:_})}class UserImpl{constructor(_){var{uid:j,auth:ee,stsTokenManager:re}=_,le=__rest(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=j,this.auth=ee,this.stsTokenManager=re,this.accessToken=re.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new UserMetadata(le.createdAt||void 0,le.lastLoginAt||void 0)}async getIdToken(_){const j=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,_));return _assert(j,this.auth,"internal-error"),this.accessToken!==j&&(this.accessToken=j,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),j}getIdTokenResult(_){return getIdTokenResult(this,_)}reload(){return reload(this)}_assign(_){this!==_&&(_assert(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(j=>Object.assign({},j)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const j=new UserImpl(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return j.metadata._copy(this.metadata),j}_onReload(_){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(_,j=!1){let ee=!1;_.idToken&&_.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(_),ee=!0),j&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),ee&&this.auth._notifyListenersIfCurrent(this)}async delete(){const _=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:_})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,j){var ee,re,le,de,ge,ve,Ee,Ce;const Ae=(ee=j.displayName)!==null&&ee!==void 0?ee:void 0,Se=(re=j.email)!==null&&re!==void 0?re:void 0,ke=(le=j.phoneNumber)!==null&&le!==void 0?le:void 0,we=(de=j.photoURL)!==null&&de!==void 0?de:void 0,Ne=(ge=j.tenantId)!==null&&ge!==void 0?ge:void 0,Le=(ve=j._redirectEventId)!==null&&ve!==void 0?ve:void 0,Me=(Ee=j.createdAt)!==null&&Ee!==void 0?Ee:void 0,Fe=(Ce=j.lastLoginAt)!==null&&Ce!==void 0?Ce:void 0,{uid:xe,emailVerified:$e,isAnonymous:De,providerData:Oe,stsTokenManager:Ge}=j;_assert(xe&&Ge,_,"internal-error");const We=StsTokenManager.fromJSON(this.name,Ge);_assert(typeof xe=="string",_,"internal-error"),assertStringOrUndefined(Ae,_.name),assertStringOrUndefined(Se,_.name),_assert(typeof $e=="boolean",_,"internal-error"),_assert(typeof De=="boolean",_,"internal-error"),assertStringOrUndefined(ke,_.name),assertStringOrUndefined(we,_.name),assertStringOrUndefined(Ne,_.name),assertStringOrUndefined(Le,_.name),assertStringOrUndefined(Me,_.name),assertStringOrUndefined(Fe,_.name);const Ze=new UserImpl({uid:xe,auth:_,email:Se,emailVerified:$e,displayName:Ae,isAnonymous:De,photoURL:we,phoneNumber:ke,tenantId:Ne,stsTokenManager:We,createdAt:Me,lastLoginAt:Fe});return Oe&&Array.isArray(Oe)&&(Ze.providerData=Oe.map(Qe=>Object.assign({},Qe))),Le&&(Ze._redirectEventId=Le),Ze}static async _fromIdTokenResponse(_,j,ee=!1){const re=new StsTokenManager;re.updateFromServerResponse(j);const le=new UserImpl({uid:j.localId,auth:_,stsTokenManager:re,isAnonymous:ee});return await _reloadWithoutSaving(le),le}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance($){debugAssert($ instanceof Function,"Expected a class definition");let _=instanceCache.get($);return _?(debugAssert(_ instanceof $,"Instance stored in cache mismatched with class"),_):(_=new $,instanceCache.set($,_),_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(_,j){this.storage[_]=j}async _get(_){const j=this.storage[_];return j===void 0?null:j}async _remove(_){delete this.storage[_]}_addListener(_,j){}_removeListener(_,j){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName($,_,j){return`firebase:${$}:${_}:${j}`}class PersistenceUserManager{constructor(_,j,ee){this.persistence=_,this.auth=j,this.userKey=ee;const{config:re,name:le}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,re.apiKey,le),this.fullPersistenceKey=_persistenceKeyName("persistence",re.apiKey,le),this.boundEventHandler=j._onStorageEvent.bind(j),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}async getCurrentUser(){const _=await this.persistence._get(this.fullUserKey);return _?UserImpl._fromJSON(this.auth,_):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(_){if(this.persistence===_)return;const j=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=_,j)return this.setCurrentUser(j)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(_,j,ee="authUser"){if(!j.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),_,ee);const re=(await Promise.all(j.map(async Ee=>{if(await Ee._isAvailable())return Ee}))).filter(Ee=>Ee);let le=re[0]||_getInstance(inMemoryPersistence);const de=_persistenceKeyName(ee,_.config.apiKey,_.name);let ge=null;for(const Ee of j)try{const Ce=await Ee._get(de);if(Ce){const Ae=UserImpl._fromJSON(_,Ce);Ee!==le&&(ge=Ae),le=Ee;break}}catch{}const ve=re.filter(Ee=>Ee._shouldAllowMigration);return!le._shouldAllowMigration||!ve.length?new PersistenceUserManager(le,_,ee):(le=ve[0],ge&&await le._set(de,ge.toJSON()),await Promise.all(j.map(async Ee=>{if(Ee!==le)try{await Ee._remove(de)}catch{}})),new PersistenceUserManager(le,_,ee))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName($){const _=$.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(_isIEMobile(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(_isFirefox(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(_isBlackBerry(_))return"Blackberry";if(_isWebOS(_))return"Webos";if(_isSafari(_))return"Safari";if((_.includes("chrome/")||_isChromeIOS(_))&&!_.includes("edge/"))return"Chrome";if(_isAndroid(_))return"Android";{const j=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,ee=$.match(j);if(ee?.length===2)return ee[1]}return"Other"}function _isFirefox($=getUA()){return/firefox\//i.test($)}function _isSafari($=getUA()){const _=$.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function _isChromeIOS($=getUA()){return/crios\//i.test($)}function _isIEMobile($=getUA()){return/iemobile/i.test($)}function _isAndroid($=getUA()){return/android/i.test($)}function _isBlackBerry($=getUA()){return/blackberry/i.test($)}function _isWebOS($=getUA()){return/webos/i.test($)}function _isIOS($=getUA()){return/iphone|ipad|ipod/i.test($)||/macintosh/i.test($)&&/mobile/i.test($)}function _isIOSStandalone($=getUA()){var _;return _isIOS($)&&!!(!((_=window.navigator)===null||_===void 0)&&_.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser($=getUA()){return _isIOS($)||_isAndroid($)||_isWebOS($)||_isBlackBerry($)||/windows phone/i.test($)||_isIEMobile($)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion($,_=[]){let j;switch($){case"Browser":j=_getBrowserName(getUA());break;case"Worker":j=`${_getBrowserName(getUA())}-${$}`;break;default:j=$}const ee=_.length?_.join(","):"FirebaseCore-web";return`${j}/JsCore/${SDK_VERSION$1}/${ee}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,j){const ee=le=>new Promise((de,ge)=>{try{const ve=_(le);de(ve)}catch(ve){ge(ve)}});ee.onAbort=j,this.queue.push(ee);const re=this.queue.length-1;return()=>{this.queue[re]=()=>Promise.resolve()}}async runMiddleware(_){if(this.auth.currentUser===_)return;const j=[];try{for(const ee of this.queue)await ee(_),ee.onAbort&&j.push(ee.onAbort)}catch(ee){j.reverse();for(const re of j)try{re()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:ee?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy($,_={}){return _performApiRequest($,"GET","/v2/passwordPolicy",_addTidIfNecessary($,_))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(_){var j,ee,re,le;const de=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(j=de.minPasswordLength)!==null&&j!==void 0?j:MINIMUM_MIN_PASSWORD_LENGTH,de.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=de.maxPasswordLength),de.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=de.containsLowercaseCharacter),de.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=de.containsUppercaseCharacter),de.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=de.containsNumericCharacter),de.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=de.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(re=(ee=_.allowedNonAlphanumericCharacters)===null||ee===void 0?void 0:ee.join(""))!==null&&re!==void 0?re:"",this.forceUpgradeOnSignin=(le=_.forceUpgradeOnSignin)!==null&&le!==void 0?le:!1,this.schemaVersion=_.schemaVersion}validatePassword(_){var j,ee,re,le,de,ge;const ve={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,ve),this.validatePasswordCharacterOptions(_,ve),ve.isValid&&(ve.isValid=(j=ve.meetsMinPasswordLength)!==null&&j!==void 0?j:!0),ve.isValid&&(ve.isValid=(ee=ve.meetsMaxPasswordLength)!==null&&ee!==void 0?ee:!0),ve.isValid&&(ve.isValid=(re=ve.containsLowercaseLetter)!==null&&re!==void 0?re:!0),ve.isValid&&(ve.isValid=(le=ve.containsUppercaseLetter)!==null&&le!==void 0?le:!0),ve.isValid&&(ve.isValid=(de=ve.containsNumericCharacter)!==null&&de!==void 0?de:!0),ve.isValid&&(ve.isValid=(ge=ve.containsNonAlphanumericCharacter)!==null&&ge!==void 0?ge:!0),ve}validatePasswordLengthOptions(_,j){const ee=this.customStrengthOptions.minPasswordLength,re=this.customStrengthOptions.maxPasswordLength;ee&&(j.meetsMinPasswordLength=_.length>=ee),re&&(j.meetsMaxPasswordLength=_.length<=re)}validatePasswordCharacterOptions(_,j){this.updatePasswordCharacterOptionsStatuses(j,!1,!1,!1,!1);let ee;for(let re=0;re<_.length;re++)ee=_.charAt(re),this.updatePasswordCharacterOptionsStatuses(j,ee>="a"&&ee<="z",ee>="A"&&ee<="Z",ee>="0"&&ee<="9",this.allowedNonAlphanumericCharacters.includes(ee))}updatePasswordCharacterOptionsStatuses(_,j,ee,re,le){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=j)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=ee)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=re)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=le))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(_,j,ee,re){this.app=_,this.heartbeatServiceProvider=j,this.appCheckServiceProvider=ee,this.config=re,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=re.sdkClientVersion}_initializeWithPersistence(_,j){return j&&(this._popupRedirectResolver=_getInstance(j)),this._initializationPromise=this.queue(async()=>{var ee,re;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,_),!this._deleted)){if(!((ee=this._popupRedirectResolver)===null||ee===void 0)&&ee._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(j),this.lastNotifiedUid=((re=this.currentUser)===null||re===void 0?void 0:re.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const _=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!_)){if(this.currentUser&&_&&this.currentUser.uid===_.uid){this._currentUser._assign(_),await this.currentUser.getIdToken();return}await this._updateCurrentUser(_,!0)}}async initializeCurrentUser(_){var j;const ee=await this.assertedPersistence.getCurrentUser();let re=ee,le=!1;if(_&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const de=(j=this.redirectUser)===null||j===void 0?void 0:j._redirectEventId,ge=re?._redirectEventId,ve=await this.tryRedirectSignIn(_);(!de||de===ge)&&ve?.user&&(re=ve.user,le=!0)}if(!re)return this.directlySetCurrentUser(null);if(!re._redirectEventId){if(le)try{await this.beforeStateQueue.runMiddleware(re)}catch(de){re=ee,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(de))}return re?this.reloadAndSetCurrentUserOrClear(re):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===re._redirectEventId?this.directlySetCurrentUser(re):this.reloadAndSetCurrentUserOrClear(re)}async tryRedirectSignIn(_){let j=null;try{j=await this._popupRedirectResolver._completeRedirectFn(this,_,!0)}catch{await this._setRedirectUser(null)}return j}async reloadAndSetCurrentUserOrClear(_){try{await _reloadWithoutSaving(_)}catch(j){if(j?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(_)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(_){const j=_?getModularInstance(_):null;return j&&_assert(j.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(j&&j._clone(this))}async _updateCurrentUser(_,j=!1){if(!this._deleted)return _&&_assert(this.tenantId===_.tenantId,this,"tenant-id-mismatch"),j||await this.beforeStateQueue.runMiddleware(_),this.queue(async()=>{await this.directlySetCurrentUser(_),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(_){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(_))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(_){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const j=this._getPasswordPolicyInternal();return j.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):j.validatePassword(_)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const _=await _getPasswordPolicy(this),j=new PasswordPolicyImpl(_);this.tenantId===null?this._projectPasswordPolicy=j:this._tenantPasswordPolicies[this.tenantId]=j}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new ErrorFactory("auth","Firebase",_())}onAuthStateChanged(_,j,ee){return this.registerStateListener(this.authStateSubscription,_,j,ee)}beforeAuthStateChanged(_,j){return this.beforeStateQueue.pushCallback(_,j)}onIdTokenChanged(_,j,ee){return this.registerStateListener(this.idTokenSubscription,_,j,ee)}authStateReady(){return new Promise((_,j)=>{if(this.currentUser)_();else{const ee=this.onAuthStateChanged(()=>{ee(),_()},j)}})}async revokeAccessToken(_){if(this.currentUser){const j=await this.currentUser.getIdToken(),ee={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:j};this.tenantId!=null&&(ee.tenantId=this.tenantId),await revokeToken(this,ee)}}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(_=this._currentUser)===null||_===void 0?void 0:_.toJSON()}}async _setRedirectUser(_,j){const ee=await this.getOrInitRedirectPersistenceManager(j);return _===null?ee.removeCurrentUser():ee.setCurrentUser(_)}async getOrInitRedirectPersistenceManager(_){if(!this.redirectPersistenceManager){const j=_&&_getInstance(_)||this._popupRedirectResolver;_assert(j,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(j._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(_){var j,ee;return this._isInitialized&&await this.queue(async()=>{}),((j=this._currentUser)===null||j===void 0?void 0:j._redirectEventId)===_?this._currentUser:((ee=this.redirectUser)===null||ee===void 0?void 0:ee._redirectEventId)===_?this.redirectUser:null}async _persistUserIfCurrent(_){if(_===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(_))}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,j;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const ee=(j=(_=this.currentUser)===null||_===void 0?void 0:_.uid)!==null&&j!==void 0?j:null;this.lastNotifiedUid!==ee&&(this.lastNotifiedUid=ee,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,j,ee,re){if(this._deleted)return()=>{};const le=typeof j=="function"?j:j.next.bind(j);let de=!1;const ge=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(ge,this,"internal-error"),ge.then(()=>{de||le(this.currentUser)}),typeof j=="function"){const ve=_.addObserver(j,ee,re);return()=>{de=!0,ve()}}else{const ve=_.addObserver(j);return()=>{de=!0,ve()}}}async directlySetCurrentUser(_){this.currentUser&&this.currentUser!==_&&this._currentUser._stopProactiveRefresh(),_&&this.isProactiveRefreshEnabled&&_._startProactiveRefresh(),this.currentUser=_,_?await this.assertedPersistence.setCurrentUser(_):await this.assertedPersistence.removeCurrentUser()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var _;const j={"X-Client-Version":this.clientVersion};this.app.options.appId&&(j["X-Firebase-gmpid"]=this.app.options.appId);const ee=await((_=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||_===void 0?void 0:_.getHeartbeatsHeader());ee&&(j["X-Firebase-Client"]=ee);const re=await this._getAppCheckToken();return re&&(j["X-Firebase-AppCheck"]=re),j}async _getAppCheckToken(){var _;const j=await((_=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||_===void 0?void 0:_.getToken());return j?.error&&_logWarn(`Error while retrieving App Check token: ${j.error}`),j?.token}}function _castAuth($){return getModularInstance($)}class Subscription{constructor(_){this.auth=_,this.observer=null,this.addObserver=createSubscribe(j=>this.observer=j)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getScriptParentElement(){var $,_;return(_=($=document.getElementsByTagName("head"))===null||$===void 0?void 0:$[0])!==null&&_!==void 0?_:document}function _loadJS($){return new Promise((_,j)=>{const ee=document.createElement("script");ee.setAttribute("src",$),ee.onload=_,ee.onerror=re=>{const le=_createError("internal-error");le.customData=re,j(le)},ee.type="text/javascript",ee.charset="UTF-8",getScriptParentElement().appendChild(ee)})}function _generateCallbackName($){return`__${$}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth($,_){const j=_getProvider($,"auth");if(j.isInitialized()){const re=j.getImmediate(),le=j.getOptions();if(deepEqual(le,_??{}))return re;_fail(re,"already-initialized")}return j.initialize({options:_})}function _initializeAuthInstance($,_){const j=_?.persistence||[],ee=(Array.isArray(j)?j:[j]).map(_getInstance);_?.errorMap&&$._updateErrorMap(_.errorMap),$._initializeWithPersistence(ee,_?.popupRedirectResolver)}function connectAuthEmulator($,_,j){const ee=_castAuth($);_assert(ee._canInitEmulator,ee,"emulator-config-failed"),_assert(/^https?:\/\//.test(_),ee,"invalid-emulator-scheme");const re=!!j?.disableWarnings,le=extractProtocol(_),{host:de,port:ge}=extractHostAndPort(_),ve=ge===null?"":`:${ge}`;ee.config.emulator={url:`${le}//${de}${ve}/`},ee.settings.appVerificationDisabledForTesting=!0,ee.emulatorConfig=Object.freeze({host:de,port:ge,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:re})}),re||emitEmulatorWarning()}function extractProtocol($){const _=$.indexOf(":");return _<0?"":$.substr(0,_+1)}function extractHostAndPort($){const _=extractProtocol($),j=/(\/\/)?([^?#/]+)/.exec($.substr(_.length));if(!j)return{host:"",port:null};const ee=j[2].split("@").pop()||"",re=/^(\[[^\]]+\])(:|$)/.exec(ee);if(re){const le=re[1];return{host:le,port:parsePort(ee.substr(le.length+1))}}else{const[le,de]=ee.split(":");return{host:le,port:parsePort(de)}}}function parsePort($){if(!$)return null;const _=Number($);return isNaN(_)?null:_}function emitEmulatorWarning(){function $(){const _=document.createElement("p"),j=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",j.position="fixed",j.width="100%",j.backgroundColor="#ffffff",j.border=".1em solid #000000",j.color="#b50000",j.bottom="0px",j.left="0px",j.margin="0px",j.zIndex="10000",j.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",$):$())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(_,j){this.providerId=_,this.signInMethod=j}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(_){return debugFail("not implemented")}_linkToIdToken(_,j){return debugFail("not implemented")}_getReauthenticationResolver(_){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp($,_){return _performSignInRequest($,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary($,_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const j=new OAuthCredential(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(j.idToken=_.idToken),_.accessToken&&(j.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(j.nonce=_.nonce),_.pendingToken&&(j.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(j.accessToken=_.oauthToken,j.secret=_.oauthTokenSecret):_fail("argument-error"),j}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const j=typeof _=="string"?JSON.parse(_):_,{providerId:ee,signInMethod:re}=j,le=__rest(j,["providerId","signInMethod"]);if(!ee||!re)return null;const de=new OAuthCredential(ee,re);return de.idToken=le.idToken||void 0,de.accessToken=le.accessToken||void 0,de.secret=le.secret,de.nonce=le.nonce,de.pendingToken=le.pendingToken||null,de}_getIdTokenResponse(_){const j=this.buildRequest();return signInWithIdp(_,j)}_linkToIdToken(_,j){const ee=this.buildRequest();return ee.idToken=j,signInWithIdp(_,ee)}_getReauthenticationResolver(_){const j=this.buildRequest();return j.autoCreate=!1,signInWithIdp(_,j)}buildRequest(){const _={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const j={};this.idToken&&(j.id_token=this.idToken),this.accessToken&&(j.access_token=this.accessToken),this.secret&&(j.oauth_token_secret=this.secret),j.providerId=this.providerId,this.nonce&&!this.pendingToken&&(j.nonce=this.nonce),_.postBody=querystring(j)}return _}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(_){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return FacebookAuthProvider.credentialFromTaggedObject(_)}static credentialFromError(_){return FacebookAuthProvider.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(_.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(_,j){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:j})}static credentialFromResult(_){return GoogleAuthProvider.credentialFromTaggedObject(_)}static credentialFromError(_){return GoogleAuthProvider.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:j,oauthAccessToken:ee}=_;if(!j&&!ee)return null;try{return GoogleAuthProvider.credential(j,ee)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(_){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return GithubAuthProvider.credentialFromTaggedObject(_)}static credentialFromError(_){return GithubAuthProvider.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return GithubAuthProvider.credential(_.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(_,j){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:j})}static credentialFromResult(_){return TwitterAuthProvider.credentialFromTaggedObject(_)}static credentialFromError(_){return TwitterAuthProvider.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:j,oauthTokenSecret:ee}=_;if(!j||!ee)return null;try{return TwitterAuthProvider.credential(j,ee)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static async _fromIdTokenResponse(_,j,ee,re=!1){const le=await UserImpl._fromIdTokenResponse(_,ee,re),de=providerIdForResponse(ee);return new UserCredentialImpl({user:le,providerId:de,_tokenResponse:ee,operationType:j})}static async _forOperation(_,j,ee){await _._updateTokensIfNecessary(ee,!0);const re=providerIdForResponse(ee);return new UserCredentialImpl({user:_,providerId:re,_tokenResponse:ee,operationType:j})}}function providerIdForResponse($){return $.providerId?$.providerId:"phoneNumber"in $?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(_,j,ee,re){var le;super(j.code,j.message),this.operationType=ee,this.user=re,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:_.name,tenantId:(le=_.tenantId)!==null&&le!==void 0?le:void 0,_serverResponse:j.customData._serverResponse,operationType:ee}}static _fromErrorAndOperation(_,j,ee,re){return new MultiFactorError(_,j,ee,re)}}function _processCredentialSavingMfaContextIfNecessary($,_,j,ee){return(_==="reauthenticate"?j._getReauthenticationResolver($):j._getIdTokenResponse($)).catch(le=>{throw le.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation($,le,_,ee):le})}async function _link$1($,_,j=!1){const ee=await _logoutIfInvalidated($,_._linkToIdToken($.auth,await $.getIdToken()),j);return UserCredentialImpl._forOperation($,"link",ee)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate($,_,j=!1){const{auth:ee}=$,re="reauthenticate";try{const le=await _logoutIfInvalidated($,_processCredentialSavingMfaContextIfNecessary(ee,re,_,$),j);_assert(le.idToken,ee,"internal-error");const de=_parseToken(le.idToken);_assert(de,ee,"internal-error");const{sub:ge}=de;return _assert($.uid===ge,ee,"user-mismatch"),UserCredentialImpl._forOperation($,re,le)}catch(le){throw le?.code==="auth/user-not-found"&&_fail(ee,"user-mismatch"),le}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential($,_,j=!1){const ee="signIn",re=await _processCredentialSavingMfaContextIfNecessary($,ee,_),le=await UserCredentialImpl._fromIdTokenResponse($,ee,re);return j||await $._updateCurrentUser(le.user),le}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithCustomToken$1($,_){return _performSignInRequest($,"POST","/v1/accounts:signInWithCustomToken",_addTidIfNecessary($,_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithCustomToken($,_){const j=_castAuth($),ee=await signInWithCustomToken$1(j,{token:_,returnSecureToken:!0}),re=await UserCredentialImpl._fromIdTokenResponse(j,"signIn",ee);return await j._updateCurrentUser(re.user),re}function onIdTokenChanged($,_,j,ee){return getModularInstance($).onIdTokenChanged(_,j,ee)}function beforeAuthStateChanged($,_,j){return getModularInstance($).beforeAuthStateChanged(_,j)}function signOut($){return getModularInstance($).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(_,j){this.storageRetriever=_,this.type=j}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,j){return this.storage.setItem(_,JSON.stringify(j)),Promise.resolve()}_get(_){const j=this.storage.getItem(_);return Promise.resolve(j?JSON.parse(j):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const $=getUA();return _isSafari($)||_isIOS($)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,j)=>this.onStorageEvent(_,j),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const j of Object.keys(this.listeners)){const ee=this.storage.getItem(j),re=this.localCache[j];ee!==re&&_(j,re,ee)}}onStorageEvent(_,j=!1){if(!_.key){this.forAllChangedKeys((de,ge,ve)=>{this.notifyListeners(de,ve)});return}const ee=_.key;if(j?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(ee);if(_.newValue!==de)_.newValue!==null?this.storage.setItem(ee,_.newValue):this.storage.removeItem(ee);else if(this.localCache[ee]===_.newValue&&!j)return}const re=()=>{const de=this.storage.getItem(ee);!j&&this.localCache[ee]===de||this.notifyListeners(ee,de)},le=this.storage.getItem(ee);_isIE10()&&le!==_.newValue&&_.newValue!==_.oldValue?setTimeout(re,IE10_LOCAL_STORAGE_SYNC_DELAY):re()}notifyListeners(_,j){this.localCache[_]=j;const ee=this.listeners[_];if(ee)for(const re of Array.from(ee))re(j&&JSON.parse(j))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,j,ee)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:j,newValue:ee}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,j){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(j)}_removeListener(_,j){this.listeners[_]&&(this.listeners[_].delete(j),this.listeners[_].size===0&&delete this.listeners[_]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(_,j){await super._set(_,j),this.localCache[_]=JSON.stringify(j)}async _get(_){const j=await super._get(_);return this.localCache[_]=JSON.stringify(j),j}async _remove(_){await super._remove(_),delete this.localCache[_]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,j){}_removeListener(_,j){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled($){return Promise.all($.map(async _=>{try{return{fulfilled:!0,value:await _}}catch(j){return{fulfilled:!1,reason:j}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const j=this.receivers.find(re=>re.isListeningto(_));if(j)return j;const ee=new Receiver(_);return this.receivers.push(ee),ee}isListeningto(_){return this.eventTarget===_}async handleEvent(_){const j=_,{eventId:ee,eventType:re,data:le}=j.data,de=this.handlersMap[re];if(!de?.size)return;j.ports[0].postMessage({status:"ack",eventId:ee,eventType:re});const ge=Array.from(de).map(async Ee=>Ee(j.origin,le)),ve=await _allSettled(ge);j.ports[0].postMessage({status:"done",eventId:ee,eventType:re,response:ve})}_subscribe(_,j){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(j)}_unsubscribe(_,j){this.handlersMap[_]&&j&&this.handlersMap[_].delete(j),(!j||this.handlersMap[_].size===0)&&delete this.handlersMap[_],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId($="",_=10){let j="";for(let ee=0;ee<_;ee++)j+=Math.floor(Math.random()*10);return $+j}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}async _send(_,j,ee=50){const re=typeof MessageChannel<"u"?new MessageChannel:null;if(!re)throw new Error("connection_unavailable");let le,de;return new Promise((ge,ve)=>{const Ee=_generateEventId("",20);re.port1.start();const Ce=setTimeout(()=>{ve(new Error("unsupported_event"))},ee);de={messageChannel:re,onMessage(Ae){const Se=Ae;if(Se.data.eventId===Ee)switch(Se.data.status){case"ack":clearTimeout(Ce),le=setTimeout(()=>{ve(new Error("timeout"))},3e3);break;case"done":clearTimeout(le),ge(Se.data.response);break;default:clearTimeout(Ce),clearTimeout(le),ve(new Error("invalid_response"));break}}},this.handlers.add(de),re.port1.addEventListener("message",de.onMessage),this.target.postMessage({eventType:_,eventId:Ee,data:j},[re.port2])}).finally(()=>{de&&this.removeMessageHandler(de)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation($){_window().location.href=$}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var $;return(($=navigator?.serviceWorker)===null||$===void 0?void 0:$.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(_){this.request=_}toPromise(){return new Promise((_,j)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{j(this.request.error)})})}}function getObjectStore($,_){return $.transaction([DB_OBJECTSTORE_NAME],_?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const $=indexedDB.deleteDatabase(DB_NAME);return new DBPromise($).toPromise()}function _openDatabase(){const $=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((_,j)=>{$.addEventListener("error",()=>{j($.error)}),$.addEventListener("upgradeneeded",()=>{const ee=$.result;try{ee.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(re){j(re)}}),$.addEventListener("success",async()=>{const ee=$.result;ee.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?_(ee):(ee.close(),await _deleteDatabase(),_(await _openDatabase()))})})}async function _putObject($,_,j){const ee=getObjectStore($,!0).put({[DB_DATA_KEYPATH]:_,value:j});return new DBPromise(ee).toPromise()}async function getObject($,_){const j=getObjectStore($,!1).get(_),ee=await new DBPromise(j).toPromise();return ee===void 0?null:ee.value}function _deleteObject($,_){const j=getObjectStore($,!0).delete(_);return new DBPromise(j).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(_){let j=0;for(;;)try{const ee=await this._openDb();return await _(ee)}catch(ee){if(j++>_TRANSACTION_RETRY_COUNT)throw ee;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(_,j)=>({keyProcessed:(await this._poll()).includes(j.key)})),this.receiver._subscribe("ping",async(_,j)=>["keyChanged"])}async initializeSender(){var _,j;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const ee=await this.sender._send("ping",{},800);ee&&!((_=ee[0])===null||_===void 0)&&_.fulfilled&&!((j=ee[0])===null||j===void 0)&&j.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(_){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:_},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const _=await _openDatabase();return await _putObject(_,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(_,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(_){this.pendingWrites++;try{await _()}finally{this.pendingWrites--}}async _set(_,j){return this._withPendingWrite(async()=>(await this._withRetries(ee=>_putObject(ee,_,j)),this.localCache[_]=j,this.notifyServiceWorker(_)))}async _get(_){const j=await this._withRetries(ee=>getObject(ee,_));return this.localCache[_]=j,j}async _remove(_){return this._withPendingWrite(async()=>(await this._withRetries(j=>_deleteObject(j,_)),delete this.localCache[_],this.notifyServiceWorker(_)))}async _poll(){const _=await this._withRetries(re=>{const le=getObjectStore(re,!1).getAll();return new DBPromise(le).toPromise()});if(!_)return[];if(this.pendingWrites!==0)return[];const j=[],ee=new Set;for(const{fbase_key:re,value:le}of _)ee.add(re),JSON.stringify(this.localCache[re])!==JSON.stringify(le)&&(this.notifyListeners(re,le),j.push(re));for(const re of Object.keys(this.localCache))this.localCache[re]&&!ee.has(re)&&(this.notifyListeners(re,null),j.push(re));return j}notifyListeners(_,j){this.localCache[_]=j;const ee=this.listeners[_];if(ee)for(const re of Array.from(ee))re(j)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,j){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(j)}_removeListener(_,j){this.listeners[_]&&(this.listeners[_].delete(j),this.listeners[_].size===0&&delete this.listeners[_]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver($,_){return _?_getInstance(_):(_assert($._popupRedirectResolver,$,"argument-error"),$._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return signInWithIdp(_,this._buildIdpRequest())}_linkToIdToken(_,j){return signInWithIdp(_,this._buildIdpRequest(j))}_getReauthenticationResolver(_){return signInWithIdp(_,this._buildIdpRequest())}_buildIdpRequest(_){const j={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(j.idToken=_),j}}function _signIn($){return _signInWithCredential($.auth,new IdpCredential($),$.bypassAuthState)}function _reauth($){const{auth:_,user:j}=$;return _assert(j,_,"internal-error"),_reauthenticate(j,new IdpCredential($),$.bypassAuthState)}async function _link($){const{auth:_,user:j}=$;return _assert(j,_,"internal-error"),_link$1(j,new IdpCredential($),$.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(_,j,ee,re,le=!1){this.auth=_,this.resolver=ee,this.user=re,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(j)?j:[j]}execute(){return new Promise(async(_,j)=>{this.pendingPromise={resolve:_,reject:j};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(ee){this.reject(ee)}})}async onAuthEvent(_){const{urlResponse:j,sessionId:ee,postBody:re,tenantId:le,error:de,type:ge}=_;if(de){this.reject(de);return}const ve={auth:this.auth,requestUri:j,sessionId:ee,tenantId:le||void 0,postBody:re||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(ge)(ve))}catch(Ee){this.reject(Ee)}}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(_){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(_,j,ee,re,le){super(_,j,re,le),this.provider=ee,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const _=await this.execute();return _assert(_,this.auth,"internal-error"),_}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const _=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],_),this.authWindow.associatedEvent=_,this.resolver._originValidation(this.auth).catch(j=>{this.reject(j)}),this.resolver._isIframeWebStorageSupported(this.auth,j=>{j||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var _;return((_=this.authWindow)===null||_===void 0?void 0:_.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const _=()=>{var j,ee;if(!((ee=(j=this.authWindow)===null||j===void 0?void 0:j.window)===null||ee===void 0)&&ee.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(_,_POLL_WINDOW_CLOSE_TIMEOUT.get())};_()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(_,j,ee=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],j,void 0,ee),this.eventId=null}async execute(){let _=redirectOutcomeMap.get(this.auth._key());if(!_){try{const ee=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;_=()=>Promise.resolve(ee)}catch(j){_=()=>Promise.reject(j)}redirectOutcomeMap.set(this.auth._key(),_)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),_()}async onAuthEvent(_){if(_.type==="signInViaRedirect")return super.onAuthEvent(_);if(_.type==="unknown"){this.resolve(null);return}if(_.eventId){const j=await this.auth._redirectUserForId(_.eventId);if(j)return this.user=j,super.onAuthEvent(_);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus($,_){const j=pendingRedirectKey(_),ee=resolverPersistence($);if(!await ee._isAvailable())return!1;const re=await ee._get(j)==="true";return await ee._remove(j),re}function _overrideRedirectResult($,_){redirectOutcomeMap.set($._key(),_)}function resolverPersistence($){return _getInstance($._redirectPersistence)}function pendingRedirectKey($){return _persistenceKeyName(PENDING_REDIRECT_KEY,$.config.apiKey,$.name)}async function _getRedirectResult($,_,j=!1){const ee=_castAuth($),re=_withDefaultResolver(ee,_),de=await new RedirectAction(ee,re,j).execute();return de&&!j&&(delete de.user._redirectEventId,await ee._persistUserIfCurrent(de.user),await ee._setRedirectUser(null,_)),de}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let j=!1;return this.consumers.forEach(ee=>{this.isEventForConsumer(_,ee)&&(j=!0,this.sendToConsumer(_,ee),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!isRedirectEvent(_)||(this.hasHandledPotentialRedirect=!0,j||(this.queuedRedirectEvent=_,j=!0)),j}sendToConsumer(_,j){var ee;if(_.error&&!isNullRedirectEvent(_)){const re=((ee=_.error.code)===null||ee===void 0?void 0:ee.split("auth/")[1])||"internal-error";j.onError(_createError(this.auth,re))}else j.onAuthEvent(_)}isEventForConsumer(_,j){const ee=j.eventId===null||!!_.eventId&&_.eventId===j.eventId;return j.filter.includes(_.type)&&ee}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(_))}saveEventToCache(_){this.cachedEventUids.add(eventUid(_)),this.lastProcessedEventTime=Date.now()}}function eventUid($){return[$.type,$.eventId,$.sessionId,$.tenantId].filter(_=>_).join("-")}function isNullRedirectEvent({type:$,error:_}){return $==="unknown"&&_?.code==="auth/no-auth-event"}function isRedirectEvent($){switch($.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent($);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig($,_={}){return _performApiRequest($,"GET","/v1/projects",_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin($){if($.config.emulator)return;const{authorizedDomains:_}=await _getProjectConfig($);for(const j of _)try{if(matchDomain(j))return}catch{}_fail($,"unauthorized-domain")}function matchDomain($){const _=_getCurrentUrl(),{protocol:j,hostname:ee}=new URL(_);if($.startsWith("chrome-extension://")){const de=new URL($);return de.hostname===""&&ee===""?j==="chrome-extension:"&&$.replace("chrome-extension://","")===_.replace("chrome-extension://",""):j==="chrome-extension:"&&de.hostname===ee}if(!HTTP_REGEX.test(j))return!1;if(IP_ADDRESS_REGEX.test($))return ee===$;const re=$.replace(/\./g,"\\.");return new RegExp("^(.+\\."+re+"|"+re+")$","i").test(ee)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const $=_window().___jsl;if($?.H){for(const _ of Object.keys($.H))if($.H[_].r=$.H[_].r||[],$.H[_].L=$.H[_].L||[],$.H[_].r=[...$.H[_].L],$.CP)for(let j=0;j<$.CP.length;j++)$.CP[j]=null}}function loadGapi($){return new Promise((_,j)=>{var ee,re,le;function de(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),j(_createError($,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((re=(ee=_window().gapi)===null||ee===void 0?void 0:ee.iframes)===null||re===void 0)&&re.Iframe)_(gapi.iframes.getContext());else if(!((le=_window().gapi)===null||le===void 0)&&le.load)de();else{const ge=_generateCallbackName("iframefcb");return _window()[ge]=()=>{gapi.load?de():j(_createError($,"network-request-failed"))},_loadJS(`https://apis.google.com/js/api.js?onload=${ge}`).catch(ve=>j(ve))}}).catch(_=>{throw cachedGApiLoader=null,_})}let cachedGApiLoader=null;function _loadGapi($){return cachedGApiLoader=cachedGApiLoader||loadGapi($),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl($){const _=$.config;_assert(_.authDomain,$,"auth-domain-config-required");const j=_.emulator?_emulatorUrl(_,EMULATED_IFRAME_PATH):`https://${$.config.authDomain}/${IFRAME_PATH}`,ee={apiKey:_.apiKey,appName:$.name,v:SDK_VERSION$1},re=EID_FROM_APIHOST.get($.config.apiHost);re&&(ee.eid=re);const le=$._getFrameworks();return le.length&&(ee.fw=le.join(",")),`${j}?${querystring(ee).slice(1)}`}async function _openIframe($){const _=await _loadGapi($),j=_window().gapi;return _assert(j,$,"internal-error"),_.open({where:document.body,url:getIframeUrl($),messageHandlersFilter:j.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},ee=>new Promise(async(re,le)=>{await ee.restyle({setHideOnLeave:!1});const de=_createError($,"network-request-failed"),ge=_window().setTimeout(()=>{le(de)},PING_TIMEOUT.get());function ve(){_window().clearTimeout(ge),re(ee)}ee.ping(ve).then(ve,()=>{le(de)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open($,_,j,ee=DEFAULT_WIDTH,re=DEFAULT_HEIGHT){const le=Math.max((window.screen.availHeight-re)/2,0).toString(),de=Math.max((window.screen.availWidth-ee)/2,0).toString();let ge="";const ve=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:ee.toString(),height:re.toString(),top:le,left:de}),Ee=getUA().toLowerCase();j&&(ge=_isChromeIOS(Ee)?TARGET_BLANK:j),_isFirefox(Ee)&&(_=_||FIREFOX_EMPTY_URL,ve.scrollbars="yes");const Ce=Object.entries(ve).reduce((Se,[ke,we])=>`${Se}${ke}=${we},`,"");if(_isIOSStandalone(Ee)&&ge!=="_self")return openAsNewWindowIOS(_||"",ge),new AuthPopup(null);const Ae=window.open(_||"",ge,Ce);_assert(Ae,$,"popup-blocked");try{Ae.focus()}catch{}return new AuthPopup(Ae)}function openAsNewWindowIOS($,_){const j=document.createElement("a");j.href=$,j.target=_;const ee=document.createEvent("MouseEvent");ee.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),j.dispatchEvent(ee)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl($,_,j,ee,re,le){_assert($.config.authDomain,$,"auth-domain-config-required"),_assert($.config.apiKey,$,"invalid-api-key");const de={apiKey:$.config.apiKey,appName:$.name,authType:j,redirectUrl:ee,v:SDK_VERSION$1,eventId:re};if(_ instanceof FederatedAuthProvider){_.setDefaultLanguage($.languageCode),de.providerId=_.providerId||"",isEmpty$1(_.getCustomParameters())||(de.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Ce,Ae]of Object.entries(le||{}))de[Ce]=Ae}if(_ instanceof BaseOAuthProvider){const Ce=_.getScopes().filter(Ae=>Ae!=="");Ce.length>0&&(de.scopes=Ce.join(","))}$.tenantId&&(de.tid=$.tenantId);const ge=de;for(const Ce of Object.keys(ge))ge[Ce]===void 0&&delete ge[Ce];const ve=await $._getAppCheckToken(),Ee=ve?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(ve)}`:"";return`${getHandlerBase($)}?${querystring(ge).slice(1)}${Ee}`}function getHandlerBase({config:$}){return $.emulator?_emulatorUrl($,EMULATOR_WIDGET_PATH):`https://${$.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(_,j,ee,re){var le;debugAssert((le=this.eventManagers[_._key()])===null||le===void 0?void 0:le.manager,"_initialize() not called before _openPopup()");const de=await _getRedirectUrl(_,j,ee,_getCurrentUrl(),re);return _open(_,de,_generateEventId())}async _openRedirect(_,j,ee,re){await this._originValidation(_);const le=await _getRedirectUrl(_,j,ee,_getCurrentUrl(),re);return _setWindowLocation(le),new Promise(()=>{})}_initialize(_){const j=_._key();if(this.eventManagers[j]){const{manager:re,promise:le}=this.eventManagers[j];return re?Promise.resolve(re):(debugAssert(le,"If manager is not set, promise should be"),le)}const ee=this.initAndGetManager(_);return this.eventManagers[j]={promise:ee},ee.catch(()=>{delete this.eventManagers[j]}),ee}async initAndGetManager(_){const j=await _openIframe(_),ee=new AuthEventManager(_);return j.register("authEvent",re=>(_assert(re?.authEvent,_,"invalid-auth-event"),{status:ee.onEvent(re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[_._key()]={manager:ee},this.iframes[_._key()]=j,ee}_isIframeWebStorageSupported(_,j){this.iframes[_._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},re=>{var le;const de=(le=re?.[0])===null||le===void 0?void 0:le[WEB_STORAGE_SUPPORT_KEY];de!==void 0&&j(!!de),_fail(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const j=_._key();return this.originValidationPromises[j]||(this.originValidationPromises[j]=_validateOrigin(_)),this.originValidationPromises[j]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$2="@firebase/auth",version$2="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),((_=this.auth.currentUser)===null||_===void 0?void 0:_.uid)||null}async getToken(_){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(_)}:null}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const j=this.auth.onIdTokenChanged(ee=>{_(ee?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,j),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const j=this.internalListeners.get(_);j&&(this.internalListeners.delete(_),j(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform($){switch($){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function registerAuth($){_registerComponent(new Component("auth",(_,{options:j})=>{const ee=_.getProvider("app").getImmediate(),re=_.getProvider("heartbeat"),le=_.getProvider("app-check-internal"),{apiKey:de,authDomain:ge}=ee.options;_assert(de&&!de.includes(":"),"invalid-api-key",{appName:ee.name});const ve={apiKey:de,authDomain:ge,clientPlatform:$,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion($)},Ee=new AuthImpl(ee,re,le,ve);return _initializeAuthInstance(Ee,j),Ee},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,j,ee)=>{_.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",_=>{const j=_castAuth(_.getProvider("auth").getImmediate());return(ee=>new AuthInterop(ee))(j)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$2,getVersionForPlatform($)),registerVersion(name$2,version$2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=$=>async _=>{const j=_&&await _.getIdTokenResult(),ee=j&&(new Date().getTime()-Date.parse(j.issuedAtTime))/1e3;if(ee&&ee>authIdTokenMaxAge)return;const re=j?.token;lastPostedIdToken!==re&&(lastPostedIdToken=re,await fetch($,{method:re?"POST":"DELETE",headers:re?{Authorization:`Bearer ${re}`}:{}}))};function getAuth($=getApp()){const _=_getProvider($,"auth");if(_.isInitialized())return _.getImmediate();const j=initializeAuth($,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),ee=getExperimentalSetting("authTokenSyncURL");if(ee){const le=mintCookieFactory(ee);beforeAuthStateChanged(j,le,()=>le(j.currentUser)),onIdTokenChanged(j,de=>le(de))}const re=getDefaultEmulatorHost("auth");return re&&connectAuthEmulator(j,`http://${re}`),j}registerAuth("Browser");var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k,goog=goog||{},l=commonjsGlobal||self;function aa($){var _=typeof $;return _=_!="object"?_:$?Array.isArray($)?"array":_:"null",_=="array"||_=="object"&&typeof $.length=="number"}function p($){var _=typeof $;return _=="object"&&$!=null||_=="function"}function ba($){return Object.prototype.hasOwnProperty.call($,ca)&&$[ca]||($[ca]=++da)}var ca="closure_uid_"+(1e9*Math.random()>>>0),da=0;function ea($,_,j){return $.call.apply($.bind,arguments)}function fa($,_,j){if(!$)throw Error();if(2<arguments.length){var ee=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,ee),$.apply(_,re)}}return function(){return $.apply(_,arguments)}}function q($,_,j){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?q=ea:q=fa,q.apply(null,arguments)}function ha($,_){var j=Array.prototype.slice.call(arguments,1);return function(){var ee=j.slice();return ee.push.apply(ee,arguments),$.apply(this,ee)}}function r$1($,_){function j(){}j.prototype=_.prototype,$.$=_.prototype,$.prototype=new j,$.prototype.constructor=$,$.ac=function(ee,re,le){for(var de=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)de[ge-2]=arguments[ge];return _.prototype[re].apply(ee,de)}}function v$1(){this.s=this.s,this.o=this.o}var ia=0;v$1.prototype.s=!1;v$1.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ia!=0)&&ba(this)};v$1.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ka=Array.prototype.indexOf?function($,_){return Array.prototype.indexOf.call($,_,void 0)}:function($,_){if(typeof $=="string")return typeof _!="string"||_.length!=1?-1:$.indexOf(_,0);for(let j=0;j<$.length;j++)if(j in $&&$[j]===_)return j;return-1};function ma($){const _=$.length;if(0<_){const j=Array(_);for(let ee=0;ee<_;ee++)j[ee]=$[ee];return j}return[]}function na($,_){for(let j=1;j<arguments.length;j++){const ee=arguments[j];if(aa(ee)){const re=$.length||0,le=ee.length||0;$.length=re+le;for(let de=0;de<le;de++)$[re+de]=ee[de]}else $.push(ee)}}function w($,_){this.type=$,this.g=this.target=_,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var oa=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var $=!1,_=Object.defineProperty({},"passive",{get:function(){$=!0}});try{l.addEventListener("test",()=>{},_),l.removeEventListener("test",()=>{},_)}catch{}return $}();function x($){return/^[\s\xa0]*$/.test($)}function pa(){var $=l.navigator;return $&&($=$.userAgent)?$:""}function y($){return pa().indexOf($)!=-1}function qa($){return qa[" "]($),$}qa[" "]=function(){};function ra($,_){var j=sa;return Object.prototype.hasOwnProperty.call(j,$)?j[$]:j[$]=_($)}var ta=y("Opera"),z=y("Trident")||y("MSIE"),ua=y("Edge"),va=ua||z,wa=y("Gecko")&&!(pa().toLowerCase().indexOf("webkit")!=-1&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),xa=pa().toLowerCase().indexOf("webkit")!=-1&&!y("Edge");function ya(){var $=l.document;return $?$.documentMode:void 0}var za;e:{var Aa="",Ba=function(){var $=pa();if(wa)return/rv:([^\);]+)(\)|;)/.exec($);if(ua)return/Edge\/([\d\.]+)/.exec($);if(z)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec($);if(xa)return/WebKit\/(\S+)/.exec($);if(ta)return/(?:Version)[ \/]?(\S+)/.exec($)}();if(Ba&&(Aa=Ba?Ba[1]:""),z){var Ca=ya();if(Ca!=null&&Ca>parseFloat(Aa)){za=String(Ca);break e}}za=Aa}var Da;if(l.document&&z){var Ea=ya();Da=Ea||parseInt(za,10)||void 0}else Da=void 0;var Fa=Da;function A($,_){if(w.call(this,$?$.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,$){var j=this.type=$.type,ee=$.changedTouches&&$.changedTouches.length?$.changedTouches[0]:null;if(this.target=$.target||$.srcElement,this.g=_,_=$.relatedTarget){if(wa){e:{try{qa(_.nodeName);var re=!0;break e}catch{}re=!1}re||(_=null)}}else j=="mouseover"?_=$.fromElement:j=="mouseout"&&(_=$.toElement);this.relatedTarget=_,ee?(this.clientX=ee.clientX!==void 0?ee.clientX:ee.pageX,this.clientY=ee.clientY!==void 0?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0),this.button=$.button,this.key=$.key||"",this.ctrlKey=$.ctrlKey,this.altKey=$.altKey,this.shiftKey=$.shiftKey,this.metaKey=$.metaKey,this.pointerId=$.pointerId||0,this.pointerType=typeof $.pointerType=="string"?$.pointerType:Ga[$.pointerType]||"",this.state=$.state,this.i=$,$.defaultPrevented&&A.$.h.call(this)}}r$1(A,w);var Ga={2:"touch",3:"pen",4:"mouse"};A.prototype.h=function(){A.$.h.call(this);var $=this.i;$.preventDefault?$.preventDefault():$.returnValue=!1};var Ha="closure_listenable_"+(1e6*Math.random()|0),Ia=0;function Ja($,_,j,ee,re){this.listener=$,this.proxy=null,this.src=_,this.type=j,this.capture=!!ee,this.la=re,this.key=++Ia,this.fa=this.ia=!1}function Ka($){$.fa=!0,$.listener=null,$.proxy=null,$.src=null,$.la=null}function Na($,_,j){for(const ee in $)_.call(j,$[ee],ee,$)}function Oa($,_){for(const j in $)_.call(void 0,$[j],j,$)}function Pa($){const _={};for(const j in $)_[j]=$[j];return _}const Qa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ra($,_){let j,ee;for(let re=1;re<arguments.length;re++){ee=arguments[re];for(j in ee)$[j]=ee[j];for(let le=0;le<Qa.length;le++)j=Qa[le],Object.prototype.hasOwnProperty.call(ee,j)&&($[j]=ee[j])}}function Sa($){this.src=$,this.g={},this.h=0}Sa.prototype.add=function($,_,j,ee,re){var le=$.toString();$=this.g[le],$||($=this.g[le]=[],this.h++);var de=Ta($,_,ee,re);return-1<de?(_=$[de],j||(_.ia=!1)):(_=new Ja(_,this.src,le,!!ee,re),_.ia=j,$.push(_)),_};function Ua($,_){var j=_.type;if(j in $.g){var ee=$.g[j],re=ka(ee,_),le;(le=0<=re)&&Array.prototype.splice.call(ee,re,1),le&&(Ka(_),$.g[j].length==0&&(delete $.g[j],$.h--))}}function Ta($,_,j,ee){for(var re=0;re<$.length;++re){var le=$[re];if(!le.fa&&le.listener==_&&le.capture==!!j&&le.la==ee)return re}return-1}var Va="closure_lm_"+(1e6*Math.random()|0),Wa={};function Ya($,_,j,ee,re){if(ee&&ee.once)return Za($,_,j,ee,re);if(Array.isArray(_)){for(var le=0;le<_.length;le++)Ya($,_[le],j,ee,re);return null}return j=$a(j),$&&$[Ha]?$.O(_,j,p(ee)?!!ee.capture:!!ee,re):ab($,_,j,!1,ee,re)}function ab($,_,j,ee,re,le){if(!_)throw Error("Invalid event type");var de=p(re)?!!re.capture:!!re,ge=bb($);if(ge||($[Va]=ge=new Sa($)),j=ge.add(_,j,ee,de,le),j.proxy)return j;if(ee=cb(),j.proxy=ee,ee.src=$,ee.listener=j,$.addEventListener)oa||(re=de),re===void 0&&(re=!1),$.addEventListener(_.toString(),ee,re);else if($.attachEvent)$.attachEvent(db$1(_.toString()),ee);else if($.addListener&&$.removeListener)$.addListener(ee);else throw Error("addEventListener and attachEvent are unavailable.");return j}function cb(){function $(j){return _.call($.src,$.listener,j)}const _=eb;return $}function Za($,_,j,ee,re){if(Array.isArray(_)){for(var le=0;le<_.length;le++)Za($,_[le],j,ee,re);return null}return j=$a(j),$&&$[Ha]?$.P(_,j,p(ee)?!!ee.capture:!!ee,re):ab($,_,j,!0,ee,re)}function fb($,_,j,ee,re){if(Array.isArray(_))for(var le=0;le<_.length;le++)fb($,_[le],j,ee,re);else ee=p(ee)?!!ee.capture:!!ee,j=$a(j),$&&$[Ha]?($=$.i,_=String(_).toString(),_ in $.g&&(le=$.g[_],j=Ta(le,j,ee,re),-1<j&&(Ka(le[j]),Array.prototype.splice.call(le,j,1),le.length==0&&(delete $.g[_],$.h--)))):$&&($=bb($))&&(_=$.g[_.toString()],$=-1,_&&($=Ta(_,j,ee,re)),(j=-1<$?_[$]:null)&&gb(j))}function gb($){if(typeof $!="number"&&$&&!$.fa){var _=$.src;if(_&&_[Ha])Ua(_.i,$);else{var j=$.type,ee=$.proxy;_.removeEventListener?_.removeEventListener(j,ee,$.capture):_.detachEvent?_.detachEvent(db$1(j),ee):_.addListener&&_.removeListener&&_.removeListener(ee),(j=bb(_))?(Ua(j,$),j.h==0&&(j.src=null,_[Va]=null)):Ka($)}}}function db$1($){return $ in Wa?Wa[$]:Wa[$]="on"+$}function eb($,_){if($.fa)$=!0;else{_=new A(_,this);var j=$.listener,ee=$.la||$.src;$.ia&&gb($),$=j.call(ee,_)}return $}function bb($){return $=$[Va],$ instanceof Sa?$:null}var hb="__closure_events_fn_"+(1e9*Math.random()>>>0);function $a($){return typeof $=="function"?$:($[hb]||($[hb]=function(_){return $.handleEvent(_)}),$[hb])}function B(){v$1.call(this),this.i=new Sa(this),this.S=this,this.J=null}r$1(B,v$1);B.prototype[Ha]=!0;B.prototype.removeEventListener=function($,_,j,ee){fb(this,$,_,j,ee)};function C$1($,_){var j,ee=$.J;if(ee)for(j=[];ee;ee=ee.J)j.push(ee);if($=$.S,ee=_.type||_,typeof _=="string")_=new w(_,$);else if(_ instanceof w)_.target=_.target||$;else{var re=_;_=new w(ee,$),Ra(_,re)}if(re=!0,j)for(var le=j.length-1;0<=le;le--){var de=_.g=j[le];re=ib(de,ee,!0,_)&&re}if(de=_.g=$,re=ib(de,ee,!0,_)&&re,re=ib(de,ee,!1,_)&&re,j)for(le=0;le<j.length;le++)de=_.g=j[le],re=ib(de,ee,!1,_)&&re}B.prototype.N=function(){if(B.$.N.call(this),this.i){var $=this.i,_;for(_ in $.g){for(var j=$.g[_],ee=0;ee<j.length;ee++)Ka(j[ee]);delete $.g[_],$.h--}}this.J=null};B.prototype.O=function($,_,j,ee){return this.i.add(String($),_,!1,j,ee)};B.prototype.P=function($,_,j,ee){return this.i.add(String($),_,!0,j,ee)};function ib($,_,j,ee){if(_=$.i.g[String(_)],!_)return!0;_=_.concat();for(var re=!0,le=0;le<_.length;++le){var de=_[le];if(de&&!de.fa&&de.capture==j){var ge=de.listener,ve=de.la||de.src;de.ia&&Ua($.i,de),re=ge.call(ve,ee)!==!1&&re}}return re&&!ee.defaultPrevented}var jb=l.JSON.stringify;class kb{constructor(_,j){this.i=_,this.j=j,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function lb(){var $=mb;let _=null;return $.g&&(_=$.g,$.g=$.g.next,$.g||($.h=null),_.next=null),_}class nb{constructor(){this.h=this.g=null}add(_,j){const ee=ob.get();ee.set(_,j),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var ob=new kb(()=>new pb,$=>$.reset());class pb{constructor(){this.next=this.g=this.h=null}set(_,j){this.h=_,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}function qb($){var _=1;$=$.split(":");const j=[];for(;0<_&&$.length;)j.push($.shift()),_--;return $.length&&j.push($.join(":")),j}function rb($){l.setTimeout(()=>{throw $},0)}let sb,tb=!1,mb=new nb,vb=()=>{const $=l.Promise.resolve(void 0);sb=()=>{$.then(ub)}};var ub=()=>{for(var $;$=lb();){try{$.h.call($.g)}catch(j){rb(j)}var _=ob;_.j($),100>_.h&&(_.h++,$.next=_.g,_.g=$)}tb=!1};function wb($,_){B.call(this),this.h=$||1,this.g=_||l,this.j=q(this.qb,this),this.l=Date.now()}r$1(wb,B);k=wb.prototype;k.ga=!1;k.T=null;k.qb=function(){if(this.ga){var $=Date.now()-this.l;0<$&&$<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-$):(this.T&&(this.g.clearTimeout(this.T),this.T=null),C$1(this,"tick"),this.ga&&(xb(this),this.start()))}};k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xb($){$.ga=!1,$.T&&($.g.clearTimeout($.T),$.T=null)}k.N=function(){wb.$.N.call(this),xb(this),delete this.g};function yb($,_,j){if(typeof $=="function")j&&($=q($,j));else if($&&typeof $.handleEvent=="function")$=q($.handleEvent,$);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:l.setTimeout($,_||0)}function zb($){$.g=yb(()=>{$.g=null,$.i&&($.i=!1,zb($))},$.j);const _=$.h;$.h=null,$.m.apply(null,_)}class Ab extends v$1{constructor(_,j){super(),this.m=_,this.j=j,this.h=null,this.i=!1,this.g=null}l(_){this.h=arguments,this.g?this.i=!0:zb(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bb($){v$1.call(this),this.h=$,this.g={}}r$1(Bb,v$1);var Cb=[];function Db($,_,j,ee){Array.isArray(j)||(j&&(Cb[0]=j.toString()),j=Cb);for(var re=0;re<j.length;re++){var le=Ya(_,j[re],ee||$.handleEvent,!1,$.h||$);if(!le)break;$.g[le.key]=le}}function Fb($){Na($.g,function(_,j){this.g.hasOwnProperty(j)&&gb(_)},$),$.g={}}Bb.prototype.N=function(){Bb.$.N.call(this),Fb(this)};Bb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gb(){this.g=!0}Gb.prototype.Ea=function(){this.g=!1};function Hb($,_,j,ee,re,le){$.info(function(){if($.g)if(le)for(var de="",ge=le.split("&"),ve=0;ve<ge.length;ve++){var Ee=ge[ve].split("=");if(1<Ee.length){var Ce=Ee[0];Ee=Ee[1];var Ae=Ce.split("_");de=2<=Ae.length&&Ae[1]=="type"?de+(Ce+"="+Ee+"&"):de+(Ce+"=redacted&")}}else de=null;else de=le;return"XMLHTTP REQ ("+ee+") [attempt "+re+"]: "+_+`
`+j+`
`+de})}function Ib($,_,j,ee,re,le,de){$.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+re+"]: "+_+`
`+j+`
`+le+" "+de})}function D$1($,_,j,ee){$.info(function(){return"XMLHTTP TEXT ("+_+"): "+Jb($,j)+(ee?" "+ee:"")})}function Kb($,_){$.info(function(){return"TIMEOUT: "+_})}Gb.prototype.info=function(){};function Jb($,_){if(!$.g)return _;if(!_)return null;try{var j=JSON.parse(_);if(j){for($=0;$<j.length;$++)if(Array.isArray(j[$])){var ee=j[$];if(!(2>ee.length)){var re=ee[1];if(Array.isArray(re)&&!(1>re.length)){var le=re[0];if(le!="noop"&&le!="stop"&&le!="close")for(var de=1;de<re.length;de++)re[de]=""}}}}return jb(j)}catch{return _}}var E={},Lb=null;function Mb(){return Lb=Lb||new B}E.Ta="serverreachability";function Nb($){w.call(this,E.Ta,$)}r$1(Nb,w);function Ob($){const _=Mb();C$1(_,new Nb(_))}E.STAT_EVENT="statevent";function Pb($,_){w.call(this,E.STAT_EVENT,$),this.stat=_}r$1(Pb,w);function F$1($){const _=Mb();C$1(_,new Pb(_,$))}E.Ua="timingevent";function Qb($,_){w.call(this,E.Ua,$),this.size=_}r$1(Qb,w);function Rb($,_){if(typeof $!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){$()},_)}var Sb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Tb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ub(){}Ub.prototype.h=null;function Vb($){return $.h||($.h=$.i())}function Wb(){}var Xb={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yb(){w.call(this,"d")}r$1(Yb,w);function Zb(){w.call(this,"c")}r$1(Zb,w);var $b;function ac(){}r$1(ac,Ub);ac.prototype.g=function(){return new XMLHttpRequest};ac.prototype.i=function(){return{}};$b=new ac;function bc($,_,j,ee){this.l=$,this.j=_,this.m=j,this.W=ee||1,this.U=new Bb(this),this.P=cc,$=va?125:void 0,this.V=new wb($),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dc}function dc(){this.i=null,this.g="",this.h=!1}var cc=45e3,ec={},fc={};k=bc.prototype;k.setTimeout=function($){this.P=$};function gc($,_,j){$.L=1,$.v=hc(G(_)),$.s=j,$.S=!0,ic($,null)}function ic($,_){$.G=Date.now(),jc($),$.A=G($.v);var j=$.A,ee=$.W;Array.isArray(ee)||(ee=[String(ee)]),kc(j.i,"t",ee),$.C=0,j=$.l.J,$.h=new dc,$.g=lc($.l,j?_:null,!$.s),0<$.O&&($.M=new Ab(q($.Pa,$,$.g),$.O)),Db($.U,$.g,"readystatechange",$.nb),_=$.I?Pa($.I):{},$.s?($.u||($.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",$.g.ha($.A,$.u,$.s,_)):($.u="GET",$.g.ha($.A,$.u,null,_)),Ob(),Hb($.j,$.u,$.A,$.m,$.W,$.s)}k.nb=function($){$=$.target;const _=this.M;_&&H($)==3?_.l():this.Pa($)};k.Pa=function($){try{if($==this.g)e:{const Ce=H(this.g);var _=this.g.Ia();const Ae=this.g.da();if(!(3>Ce)&&(Ce!=3||va||this.g&&(this.h.h||this.g.ja()||mc(this.g)))){this.J||Ce!=4||_==7||(_==8||0>=Ae?Ob(3):Ob(2)),nc(this);var j=this.g.da();this.ca=j;t:if(oc(this)){var ee=mc(this.g);$="";var re=ee.length,le=H(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){I(this),pc(this);var de="";break t}this.h.i=new l.TextDecoder}for(_=0;_<re;_++)this.h.h=!0,$+=this.h.i.decode(ee[_],{stream:le&&_==re-1});ee.splice(0,re),this.h.g+=$,this.C=0,de=this.h.g}else de=this.g.ja();if(this.i=j==200,Ib(this.j,this.u,this.A,this.m,this.W,Ce,j),this.i){if(this.aa&&!this.K){t:{if(this.g){var ge,ve=this.g;if((ge=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(ge)){var Ee=ge;break t}}Ee=null}if(j=Ee)D$1(this.j,this.m,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qc(this,j);else{this.i=!1,this.o=3,F$1(12),I(this),pc(this);break e}}this.S?(rc(this,Ce,de),va&&this.i&&Ce==3&&(Db(this.U,this.V,"tick",this.mb),this.V.start())):(D$1(this.j,this.m,de,null),qc(this,de)),Ce==4&&I(this),this.i&&!this.J&&(Ce==4?sc(this.l,this):(this.i=!1,jc(this)))}else tc(this.g),j==400&&0<de.indexOf("Unknown SID")?(this.o=3,F$1(12)):(this.o=0,F$1(13)),I(this),pc(this)}}}catch{}finally{}};function oc($){return $.g?$.u=="GET"&&$.L!=2&&$.l.Ha:!1}function rc($,_,j){let ee=!0,re;for(;!$.J&&$.C<j.length;)if(re=uc($,j),re==fc){_==4&&($.o=4,F$1(14),ee=!1),D$1($.j,$.m,null,"[Incomplete Response]");break}else if(re==ec){$.o=4,F$1(15),D$1($.j,$.m,j,"[Invalid Chunk]"),ee=!1;break}else D$1($.j,$.m,re,null),qc($,re);oc($)&&re!=fc&&re!=ec&&($.h.g="",$.C=0),_!=4||j.length!=0||$.h.h||($.o=1,F$1(16),ee=!1),$.i=$.i&&ee,ee?0<j.length&&!$.ba&&($.ba=!0,_=$.l,_.g==$&&_.ca&&!_.M&&(_.l.info("Great, no buffering proxy detected. Bytes received: "+j.length),vc(_),_.M=!0,F$1(11))):(D$1($.j,$.m,j,"[Invalid Chunked Response]"),I($),pc($))}k.mb=function(){if(this.g){var $=H(this.g),_=this.g.ja();this.C<_.length&&(nc(this),rc(this,$,_),this.i&&$!=4&&jc(this))}};function uc($,_){var j=$.C,ee=_.indexOf(`
`,j);return ee==-1?fc:(j=Number(_.substring(j,ee)),isNaN(j)?ec:(ee+=1,ee+j>_.length?fc:(_=_.slice(ee,ee+j),$.C=ee+j,_)))}k.cancel=function(){this.J=!0,I(this)};function jc($){$.Y=Date.now()+$.P,wc($,$.P)}function wc($,_){if($.B!=null)throw Error("WatchDog timer not null");$.B=Rb(q($.lb,$),_)}function nc($){$.B&&(l.clearTimeout($.B),$.B=null)}k.lb=function(){this.B=null;const $=Date.now();0<=$-this.Y?(Kb(this.j,this.A),this.L!=2&&(Ob(),F$1(17)),I(this),this.o=2,pc(this)):wc(this,this.Y-$)};function pc($){$.l.H==0||$.J||sc($.l,$)}function I($){nc($);var _=$.M;_&&typeof _.sa=="function"&&_.sa(),$.M=null,xb($.V),Fb($.U),$.g&&(_=$.g,$.g=null,_.abort(),_.sa())}function qc($,_){try{var j=$.l;if(j.H!=0&&(j.g==$||xc(j.i,$))){if(!$.K&&xc(j.i,$)&&j.H==3){try{var ee=j.Ja.g.parse(_)}catch{ee=null}if(Array.isArray(ee)&&ee.length==3){var re=ee;if(re[0]==0){e:if(!j.u){if(j.g)if(j.g.G+3e3<$.G)yc(j),zc(j);else break e;Ac(j),F$1(18)}}else j.Fa=re[1],0<j.Fa-j.V&&37500>re[2]&&j.G&&j.A==0&&!j.v&&(j.v=Rb(q(j.ib,j),6e3));if(1>=Bc(j.i)&&j.oa){try{j.oa()}catch{}j.oa=void 0}}else J(j,11)}else if(($.K||j.g==$)&&yc(j),!x(_))for(re=j.Ja.g.parse(_),_=0;_<re.length;_++){let Ee=re[_];if(j.V=Ee[0],Ee=Ee[1],j.H==2)if(Ee[0]=="c"){j.K=Ee[1],j.pa=Ee[2];const Ce=Ee[3];Ce!=null&&(j.ra=Ce,j.l.info("VER="+j.ra));const Ae=Ee[4];Ae!=null&&(j.Ga=Ae,j.l.info("SVER="+j.Ga));const Se=Ee[5];Se!=null&&typeof Se=="number"&&0<Se&&(ee=1.5*Se,j.L=ee,j.l.info("backChannelRequestTimeoutMs_="+ee)),ee=j;const ke=$.g;if(ke){const we=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(we){var le=ee.i;le.g||we.indexOf("spdy")==-1&&we.indexOf("quic")==-1&&we.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(Cc(le,le.h),le.h=null))}if(ee.F){const Ne=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;Ne&&(ee.Da=Ne,K(ee.I,ee.F,Ne))}}j.H=3,j.h&&j.h.Ba(),j.ca&&(j.S=Date.now()-$.G,j.l.info("Handshake RTT: "+j.S+"ms")),ee=j;var de=$;if(ee.wa=Dc(ee,ee.J?ee.pa:null,ee.Y),de.K){Ec(ee.i,de);var ge=de,ve=ee.L;ve&&ge.setTimeout(ve),ge.B&&(nc(ge),jc(ge)),ee.g=de}else Fc(ee);0<j.j.length&&Gc(j)}else Ee[0]!="stop"&&Ee[0]!="close"||J(j,7);else j.H==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?J(j,7):Hc(j):Ee[0]!="noop"&&j.h&&j.h.Aa(Ee),j.A=0)}}Ob(4)}catch{}}function Ic($){if($.Z&&typeof $.Z=="function")return $.Z();if(typeof Map<"u"&&$ instanceof Map||typeof Set<"u"&&$ instanceof Set)return Array.from($.values());if(typeof $=="string")return $.split("");if(aa($)){for(var _=[],j=$.length,ee=0;ee<j;ee++)_.push($[ee]);return _}_=[],j=0;for(ee in $)_[j++]=$[ee];return _}function Jc($){if($.ta&&typeof $.ta=="function")return $.ta();if(!$.Z||typeof $.Z!="function"){if(typeof Map<"u"&&$ instanceof Map)return Array.from($.keys());if(!(typeof Set<"u"&&$ instanceof Set)){if(aa($)||typeof $=="string"){var _=[];$=$.length;for(var j=0;j<$;j++)_.push(j);return _}_=[],j=0;for(const ee in $)_[j++]=ee;return _}}}function Kc($,_){if($.forEach&&typeof $.forEach=="function")$.forEach(_,void 0);else if(aa($)||typeof $=="string")Array.prototype.forEach.call($,_,void 0);else for(var j=Jc($),ee=Ic($),re=ee.length,le=0;le<re;le++)_.call(void 0,ee[le],j&&j[le],$)}var Lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mc($,_){if($){$=$.split("&");for(var j=0;j<$.length;j++){var ee=$[j].indexOf("="),re=null;if(0<=ee){var le=$[j].substring(0,ee);re=$[j].substring(ee+1)}else le=$[j];_(le,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function M($){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,$ instanceof M){this.h=$.h,Nc(this,$.j),this.s=$.s,this.g=$.g,Oc(this,$.m),this.l=$.l;var _=$.i,j=new Pc;j.i=_.i,_.g&&(j.g=new Map(_.g),j.h=_.h),Qc(this,j),this.o=$.o}else $&&(_=String($).match(Lc))?(this.h=!1,Nc(this,_[1]||"",!0),this.s=Rc(_[2]||""),this.g=Rc(_[3]||"",!0),Oc(this,_[4]),this.l=Rc(_[5]||"",!0),Qc(this,_[6]||"",!0),this.o=Rc(_[7]||"")):(this.h=!1,this.i=new Pc(null,this.h))}M.prototype.toString=function(){var $=[],_=this.j;_&&$.push(Sc(_,Tc,!0),":");var j=this.g;return(j||_=="file")&&($.push("//"),(_=this.s)&&$.push(Sc(_,Tc,!0),"@"),$.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.m,j!=null&&$.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&$.push("/"),$.push(Sc(j,j.charAt(0)=="/"?Uc:Vc,!0))),(j=this.i.toString())&&$.push("?",j),(j=this.o)&&$.push("#",Sc(j,Wc)),$.join("")};function G($){return new M($)}function Nc($,_,j){$.j=j?Rc(_,!0):_,$.j&&($.j=$.j.replace(/:$/,""))}function Oc($,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);$.m=_}else $.m=null}function Qc($,_,j){_ instanceof Pc?($.i=_,Xc($.i,$.h)):(j||(_=Sc(_,Yc)),$.i=new Pc(_,$.h))}function K($,_,j){$.i.set(_,j)}function hc($){return K($,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),$}function Rc($,_){return $?_?decodeURI($.replace(/%25/g,"%2525")):decodeURIComponent($):""}function Sc($,_,j){return typeof $=="string"?($=encodeURI($).replace(_,Zc),j&&($=$.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$):null}function Zc($){return $=$.charCodeAt(0),"%"+($>>4&15).toString(16)+($&15).toString(16)}var Tc=/[#\/\?@]/g,Vc=/[#\?:]/g,Uc=/[#\?]/g,Yc=/[#\?@]/g,Wc=/#/g;function Pc($,_){this.h=this.g=null,this.i=$||null,this.j=!!_}function N($){$.g||($.g=new Map,$.h=0,$.i&&Mc($.i,function(_,j){$.add(decodeURIComponent(_.replace(/\+/g," ")),j)}))}k=Pc.prototype;k.add=function($,_){N(this),this.i=null,$=O(this,$);var j=this.g.get($);return j||this.g.set($,j=[]),j.push(_),this.h+=1,this};function $c($,_){N($),_=O($,_),$.g.has(_)&&($.i=null,$.h-=$.g.get(_).length,$.g.delete(_))}function ad($,_){return N($),_=O($,_),$.g.has(_)}k.forEach=function($,_){N(this),this.g.forEach(function(j,ee){j.forEach(function(re){$.call(_,re,ee,this)},this)},this)};k.ta=function(){N(this);const $=Array.from(this.g.values()),_=Array.from(this.g.keys()),j=[];for(let ee=0;ee<_.length;ee++){const re=$[ee];for(let le=0;le<re.length;le++)j.push(_[ee])}return j};k.Z=function($){N(this);let _=[];if(typeof $=="string")ad(this,$)&&(_=_.concat(this.g.get(O(this,$))));else{$=Array.from(this.g.values());for(let j=0;j<$.length;j++)_=_.concat($[j])}return _};k.set=function($,_){return N(this),this.i=null,$=O(this,$),ad(this,$)&&(this.h-=this.g.get($).length),this.g.set($,[_]),this.h+=1,this};k.get=function($,_){return $?($=this.Z($),0<$.length?String($[0]):_):_};function kc($,_,j){$c($,_),0<j.length&&($.i=null,$.g.set(O($,_),ma(j)),$.h+=j.length)}k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const $=[],_=Array.from(this.g.keys());for(var j=0;j<_.length;j++){var ee=_[j];const le=encodeURIComponent(String(ee)),de=this.Z(ee);for(ee=0;ee<de.length;ee++){var re=le;de[ee]!==""&&(re+="="+encodeURIComponent(String(de[ee]))),$.push(re)}}return this.i=$.join("&")};function O($,_){return _=String(_),$.j&&(_=_.toLowerCase()),_}function Xc($,_){_&&!$.j&&(N($),$.i=null,$.g.forEach(function(j,ee){var re=ee.toLowerCase();ee!=re&&($c(this,ee),kc(this,re,j))},$)),$.j=_}var bd=class{constructor($,_){this.g=$,this.map=_}};function cd($){this.l=$||dd,l.PerformanceNavigationTiming?($=l.performance.getEntriesByType("navigation"),$=0<$.length&&($[0].nextHopProtocol=="hq"||$[0].nextHopProtocol=="h2")):$=!!(l.g&&l.g.Ka&&l.g.Ka()&&l.g.Ka().dc),this.j=$?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dd=10;function ed($){return $.h?!0:$.g?$.g.size>=$.j:!1}function Bc($){return $.h?1:$.g?$.g.size:0}function xc($,_){return $.h?$.h==_:$.g?$.g.has(_):!1}function Cc($,_){$.g?$.g.add(_):$.h=_}function Ec($,_){$.h&&$.h==_?$.h=null:$.g&&$.g.has(_)&&$.g.delete(_)}cd.prototype.cancel=function(){if(this.i=fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const $ of this.g.values())$.cancel();this.g.clear()}};function fd($){if($.h!=null)return $.i.concat($.h.F);if($.g!=null&&$.g.size!==0){let _=$.i;for(const j of $.g.values())_=_.concat(j.F);return _}return ma($.i)}var gd=class{stringify($){return l.JSON.stringify($,void 0)}parse($){return l.JSON.parse($,void 0)}};function hd(){this.g=new gd}function id($,_,j){const ee=j||"";try{Kc($,function(re,le){let de=re;p(re)&&(de=jb(re)),_.push(ee+le+"="+encodeURIComponent(de))})}catch(re){throw _.push(ee+"type="+encodeURIComponent("_badmap")),re}}function jd($,_){const j=new Gb;if(l.Image){const ee=new Image;ee.onload=ha(kd,j,ee,"TestLoadImage: loaded",!0,_),ee.onerror=ha(kd,j,ee,"TestLoadImage: error",!1,_),ee.onabort=ha(kd,j,ee,"TestLoadImage: abort",!1,_),ee.ontimeout=ha(kd,j,ee,"TestLoadImage: timeout",!1,_),l.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=$}else _(!1)}function kd($,_,j,ee,re){try{_.onload=null,_.onerror=null,_.onabort=null,_.ontimeout=null,re(ee)}catch{}}function ld($){this.l=$.ec||null,this.j=$.ob||!1}r$1(ld,Ub);ld.prototype.g=function(){return new md(this.l,this.j)};ld.prototype.i=function($){return function(){return $}}({});function md($,_){B.call(this),this.F=$,this.u=_,this.m=void 0,this.readyState=nd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}r$1(md,B);var nd=0;k=md.prototype;k.open=function($,_){if(this.readyState!=nd)throw this.abort(),Error("Error reopening a connection");this.C=$,this.B=_,this.readyState=1,od(this)};k.send=function($){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.v,method:this.C,credentials:this.m,cache:void 0};$&&(_.body=$),(this.F||l).fetch(new Request(this.B,_)).then(this.$a.bind(this),this.ka.bind(this))};k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pd(this)),this.readyState=nd};k.$a=function($){if(this.g&&(this.l=$,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=$.headers,this.readyState=2,od(this)),this.g&&(this.readyState=3,od(this),this.g)))if(this.responseType==="arraybuffer")$.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in $){if(this.j=$.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qd(this)}else $.text().then(this.Za.bind(this),this.ka.bind(this))};function qd($){$.j.read().then($.Xa.bind($)).catch($.ka.bind($))}k.Xa=function($){if(this.g){if(this.u&&$.value)this.response.push($.value);else if(!this.u){var _=$.value?$.value:new Uint8Array(0);(_=this.A.decode(_,{stream:!$.done}))&&(this.response=this.responseText+=_)}$.done?pd(this):od(this),this.readyState==3&&qd(this)}};k.Za=function($){this.g&&(this.response=this.responseText=$,pd(this))};k.Ya=function($){this.g&&(this.response=$,pd(this))};k.ka=function(){this.g&&pd(this)};function pd($){$.readyState=4,$.l=null,$.j=null,$.A=null,od($)}k.setRequestHeader=function($,_){this.v.append($,_)};k.getResponseHeader=function($){return this.h&&this.h.get($.toLowerCase())||""};k.getAllResponseHeaders=function(){if(!this.h)return"";const $=[],_=this.h.entries();for(var j=_.next();!j.done;)j=j.value,$.push(j[0]+": "+j[1]),j=_.next();return $.join(`\r
`)};function od($){$.onreadystatechange&&$.onreadystatechange.call($)}Object.defineProperty(md.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function($){this.m=$?"include":"same-origin"}});var rd=l.JSON.parse;function P($){B.call(this),this.headers=new Map,this.u=$||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sd,this.L=this.M=!1}r$1(P,B);var sd="",td=/^https?$/i,ud=["POST","PUT"];k=P.prototype;k.Oa=function($){this.M=$};k.ha=function($,_,j,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+$);_=_?_.toUpperCase():"GET",this.I=$,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$b.g(),this.C=this.u?Vb(this.u):Vb($b),this.g.onreadystatechange=q(this.La,this);try{this.G=!0,this.g.open(_,String($),!0),this.G=!1}catch(le){vd(this,le);return}if($=j||"",j=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var re in ee)j.set(re,ee[re]);else if(typeof ee.keys=="function"&&typeof ee.get=="function")for(const le of ee.keys())j.set(le,ee.get(le));else throw Error("Unknown input type for opt_headers: "+String(ee));ee=Array.from(j.keys()).find(le=>le.toLowerCase()=="content-type"),re=l.FormData&&$ instanceof l.FormData,!(0<=ka(ud,_))||ee||re||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,de]of j)this.g.setRequestHeader(le,de);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wd(this),0<this.B&&((this.L=xd(this.g))?(this.g.timeout=this.B,this.g.ontimeout=q(this.ua,this)):this.A=yb(this.ua,this.B,this)),this.v=!0,this.g.send($),this.v=!1}catch(le){vd(this,le)}};function xd($){return z&&typeof $.timeout=="number"&&$.ontimeout!==void 0}k.ua=function(){typeof goog<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,C$1(this,"timeout"),this.abort(8))};function vd($,_){$.h=!1,$.g&&($.l=!0,$.g.abort(),$.l=!1),$.j=_,$.m=5,yd($),zd($)}function yd($){$.F||($.F=!0,C$1($,"complete"),C$1($,"error"))}k.abort=function($){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=$||7,C$1(this,"complete"),C$1(this,"abort"),zd(this))};k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zd(this,!0)),P.$.N.call(this)};k.La=function(){this.s||(this.G||this.v||this.l?Ad(this):this.kb())};k.kb=function(){Ad(this)};function Ad($){if($.h&&typeof goog<"u"&&(!$.C[1]||H($)!=4||$.da()!=2)){if($.v&&H($)==4)yb($.La,0,$);else if(C$1($,"readystatechange"),H($)==4){$.h=!1;try{const de=$.da();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var j;if(!(j=_)){var ee;if(ee=de===0){var re=String($.I).match(Lc)[1]||null;!re&&l.self&&l.self.location&&(re=l.self.location.protocol.slice(0,-1)),ee=!td.test(re?re.toLowerCase():"")}j=ee}if(j)C$1($,"complete"),C$1($,"success");else{$.m=6;try{var le=2<H($)?$.g.statusText:""}catch{le=""}$.j=le+" ["+$.da()+"]",yd($)}}finally{zd($)}}}}function zd($,_){if($.g){wd($);const j=$.g,ee=$.C[0]?()=>{}:null;$.g=null,$.C=null,_||C$1($,"ready");try{j.onreadystatechange=ee}catch{}}}function wd($){$.g&&$.L&&($.g.ontimeout=null),$.A&&(l.clearTimeout($.A),$.A=null)}k.isActive=function(){return!!this.g};function H($){return $.g?$.g.readyState:0}k.da=function(){try{return 2<H(this)?this.g.status:-1}catch{return-1}};k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};k.Wa=function($){if(this.g){var _=this.g.responseText;return $&&_.indexOf($)==0&&(_=_.substring($.length)),rd(_)}};function mc($){try{if(!$.g)return null;if("response"in $.g)return $.g.response;switch($.K){case sd:case"text":return $.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in $.g)return $.g.mozResponseArrayBuffer}return null}catch{return null}}function tc($){const _={};$=($.g&&2<=H($)&&$.g.getAllResponseHeaders()||"").split(`\r
`);for(let ee=0;ee<$.length;ee++){if(x($[ee]))continue;var j=qb($[ee]);const re=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const le=_[re]||[];_[re]=le,le.push(j)}Oa(_,function(ee){return ee.join(", ")})}k.Ia=function(){return this.m};k.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Bd($){let _="";return Na($,function(j,ee){_+=ee,_+=":",_+=j,_+=`\r
`}),_}function Cd($,_,j){e:{for(ee in j){var ee=!1;break e}ee=!0}ee||(j=Bd(j),typeof $=="string"?j!=null&&encodeURIComponent(String(j)):K($,_,j))}function Dd($,_,j){return j&&j.internalChannelParams&&j.internalChannelParams[$]||_}function Ed($){this.Ga=0,this.j=[],this.l=new Gb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dd("failFast",!1,$),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dd("baseRetryDelayMs",5e3,$),this.hb=Dd("retryDelaySeedMs",1e4,$),this.eb=Dd("forwardChannelMaxRetries",2,$),this.xa=Dd("forwardChannelRequestTimeoutMs",2e4,$),this.va=$&&$.xmlHttpFactory||void 0,this.Ha=$&&$.useFetchStreams||!1,this.L=void 0,this.J=$&&$.supportsCrossDomainXhr||!1,this.K="",this.i=new cd($&&$.concurrentRequestLimit),this.Ja=new hd,this.P=$&&$.fastHandshake||!1,this.O=$&&$.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=$&&$.bc||!1,$&&$.Ea&&this.l.Ea(),$&&$.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&$&&$.detectBufferingProxy||!1,this.qa=void 0,$&&$.longPollingTimeout&&0<$.longPollingTimeout&&(this.qa=$.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}k=Ed.prototype;k.ra=8;k.H=1;function Hc($){if(Fd($),$.H==3){var _=$.W++,j=G($.I);if(K(j,"SID",$.K),K(j,"RID",_),K(j,"TYPE","terminate"),Gd($,j),_=new bc($,$.l,_),_.L=2,_.v=hc(G(j)),j=!1,l.navigator&&l.navigator.sendBeacon)try{j=l.navigator.sendBeacon(_.v.toString(),"")}catch{}!j&&l.Image&&(new Image().src=_.v,j=!0),j||(_.g=lc(_.l,null),_.g.ha(_.v)),_.G=Date.now(),jc(_)}Hd($)}function zc($){$.g&&(vc($),$.g.cancel(),$.g=null)}function Fd($){zc($),$.u&&(l.clearTimeout($.u),$.u=null),yc($),$.i.cancel(),$.m&&(typeof $.m=="number"&&l.clearTimeout($.m),$.m=null)}function Gc($){if(!ed($.i)&&!$.m){$.m=!0;var _=$.Na;sb||vb(),tb||(sb(),tb=!0),mb.add(_,$),$.C=0}}function Id($,_){return Bc($.i)>=$.i.j-($.m?1:0)?!1:$.m?($.j=_.F.concat($.j),!0):$.H==1||$.H==2||$.C>=($.cb?0:$.eb)?!1:($.m=Rb(q($.Na,$,_),Jd($,$.C)),$.C++,!0)}k.Na=function($){if(this.m)if(this.m=null,this.H==1){if(!$){this.W=Math.floor(1e5*Math.random()),$=this.W++;const re=new bc(this,this.l,$);let le=this.s;if(this.U&&(le?(le=Pa(le),Ra(le,this.U)):le=this.U),this.o!==null||this.O||(re.I=le,le=null),this.P)e:{for(var _=0,j=0;j<this.j.length;j++){t:{var ee=this.j[j];if("__data__"in ee.map&&(ee=ee.map.__data__,typeof ee=="string")){ee=ee.length;break t}ee=void 0}if(ee===void 0)break;if(_+=ee,4096<_){_=j;break e}if(_===4096||j===this.j.length-1){_=j+1;break e}}_=1e3}else _=1e3;_=Kd(this,re,_),j=G(this.I),K(j,"RID",$),K(j,"CVER",22),this.F&&K(j,"X-HTTP-Session-Id",this.F),Gd(this,j),le&&(this.O?_="headers="+encodeURIComponent(String(Bd(le)))+"&"+_:this.o&&Cd(j,this.o,le)),Cc(this.i,re),this.bb&&K(j,"TYPE","init"),this.P?(K(j,"$req",_),K(j,"SID","null"),re.aa=!0,gc(re,j,null)):gc(re,j,_),this.H=2}}else this.H==3&&($?Ld(this,$):this.j.length==0||ed(this.i)||Ld(this))};function Ld($,_){var j;_?j=_.m:j=$.W++;const ee=G($.I);K(ee,"SID",$.K),K(ee,"RID",j),K(ee,"AID",$.V),Gd($,ee),$.o&&$.s&&Cd(ee,$.o,$.s),j=new bc($,$.l,j,$.C+1),$.o===null&&(j.I=$.s),_&&($.j=_.F.concat($.j)),_=Kd($,j,1e3),j.setTimeout(Math.round(.5*$.xa)+Math.round(.5*$.xa*Math.random())),Cc($.i,j),gc(j,ee,_)}function Gd($,_){$.na&&Na($.na,function(j,ee){K(_,ee,j)}),$.h&&Kc({},function(j,ee){K(_,ee,j)})}function Kd($,_,j){j=Math.min($.j.length,j);var ee=$.h?q($.h.Va,$.h,$):null;e:{var re=$.j;let le=-1;for(;;){const de=["count="+j];le==-1?0<j?(le=re[0].g,de.push("ofs="+le)):le=0:de.push("ofs="+le);let ge=!0;for(let ve=0;ve<j;ve++){let Ee=re[ve].g;const Ce=re[ve].map;if(Ee-=le,0>Ee)le=Math.max(0,re[ve].g-100),ge=!1;else try{id(Ce,de,"req"+Ee+"_")}catch{ee&&ee(Ce)}}if(ge){ee=de.join("&");break e}}}return $=$.j.splice(0,j),_.F=$,ee}function Fc($){if(!$.g&&!$.u){$.ba=1;var _=$.Ma;sb||vb(),tb||(sb(),tb=!0),mb.add(_,$),$.A=0}}function Ac($){return $.g||$.u||3<=$.A?!1:($.ba++,$.u=Rb(q($.Ma,$),Jd($,$.A)),$.A++,!0)}k.Ma=function(){if(this.u=null,Md(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var $=2*this.S;this.l.info("BP detection timer enabled: "+$),this.B=Rb(q(this.jb,this),$)}};k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,F$1(10),zc(this),Md(this))};function vc($){$.B!=null&&(l.clearTimeout($.B),$.B=null)}function Md($){$.g=new bc($,$.l,"rpc",$.ba),$.o===null&&($.g.I=$.s),$.g.O=0;var _=G($.wa);K(_,"RID","rpc"),K(_,"SID",$.K),K(_,"AID",$.V),K(_,"CI",$.G?"0":"1"),!$.G&&$.qa&&K(_,"TO",$.qa),K(_,"TYPE","xmlhttp"),Gd($,_),$.o&&$.s&&Cd(_,$.o,$.s),$.L&&$.g.setTimeout($.L);var j=$.g;$=$.pa,j.L=1,j.v=hc(G(_)),j.s=null,j.S=!0,ic(j,$)}k.ib=function(){this.v!=null&&(this.v=null,zc(this),Ac(this),F$1(19))};function yc($){$.v!=null&&(l.clearTimeout($.v),$.v=null)}function sc($,_){var j=null;if($.g==_){yc($),vc($),$.g=null;var ee=2}else if(xc($.i,_))j=_.F,Ec($.i,_),ee=1;else return;if($.H!=0){if(_.i)if(ee==1){j=_.s?_.s.length:0,_=Date.now()-_.G;var re=$.C;ee=Mb(),C$1(ee,new Qb(ee,j)),Gc($)}else Fc($);else if(re=_.o,re==3||re==0&&0<_.ca||!(ee==1&&Id($,_)||ee==2&&Ac($)))switch(j&&0<j.length&&(_=$.i,_.i=_.i.concat(j)),re){case 1:J($,5);break;case 4:J($,10);break;case 3:J($,6);break;default:J($,2)}}}function Jd($,_){let j=$.ab+Math.floor(Math.random()*$.hb);return $.isActive()||(j*=2),j*_}function J($,_){if($.l.info("Error code "+_),_==2){var j=null;$.h&&(j=null);var ee=q($.pb,$);j||(j=new M("//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Nc(j,"https"),hc(j)),jd(j.toString(),ee)}else F$1(2);$.H=0,$.h&&$.h.za(_),Hd($),Fd($)}k.pb=function($){$?(this.l.info("Successfully pinged google.com"),F$1(2)):(this.l.info("Failed to ping google.com"),F$1(1))};function Hd($){if($.H=0,$.ma=[],$.h){const _=fd($.i);(_.length!=0||$.j.length!=0)&&(na($.ma,_),na($.ma,$.j),$.i.i.length=0,ma($.j),$.j.length=0),$.h.ya()}}function Dc($,_,j){var ee=j instanceof M?G(j):new M(j);if(ee.g!="")_&&(ee.g=_+"."+ee.g),Oc(ee,ee.m);else{var re=l.location;ee=re.protocol,_=_?_+"."+re.hostname:re.hostname,re=+re.port;var le=new M(null);ee&&Nc(le,ee),_&&(le.g=_),re&&Oc(le,re),j&&(le.l=j),ee=le}return j=$.F,_=$.Da,j&&_&&K(ee,j,_),K(ee,"VER",$.ra),Gd($,ee),ee}function lc($,_,j){if(_&&!$.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=j&&$.Ha&&!$.va?new P(new ld({ob:!0})):new P($.va),_.Oa($.J),_}k.isActive=function(){return!!this.h&&this.h.isActive(this)};function Nd(){}k=Nd.prototype;k.Ba=function(){};k.Aa=function(){};k.za=function(){};k.ya=function(){};k.isActive=function(){return!0};k.Va=function(){};function Od(){if(z&&!(10<=Number(Fa)))throw Error("Environmental error: no available transport.")}Od.prototype.g=function($,_){return new Q($,_)};function Q($,_){B.call(this),this.g=new Ed(_),this.l=$,this.h=_&&_.messageUrlParams||null,$=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&($?$["X-Client-Protocol"]="webchannel":$={"X-Client-Protocol":"webchannel"}),this.g.s=$,$=_&&_.initMessageHeaders||null,_&&_.messageContentType&&($?$["X-WebChannel-Content-Type"]=_.messageContentType:$={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.Ca&&($?$["X-WebChannel-Client-Profile"]=_.Ca:$={"X-WebChannel-Client-Profile":_.Ca}),this.g.U=$,($=_&&_.cc)&&!x($)&&(this.g.o=$),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!x(_)&&(this.g.F=_,$=this.h,$!==null&&_ in $&&($=this.h,_ in $&&delete $[_])),this.j=new R(this)}r$1(Q,B);Q.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var $=this.g,_=this.l,j=this.h||void 0;F$1(0),$.Y=_,$.na=j||{},$.G=$.aa,$.I=Dc($,null,$.Y),Gc($)};Q.prototype.close=function(){Hc(this.g)};Q.prototype.u=function($){var _=this.g;if(typeof $=="string"){var j={};j.__data__=$,$=j}else this.v&&(j={},j.__data__=jb($),$=j);_.j.push(new bd(_.fb++,$)),_.H==3&&Gc(_)};Q.prototype.N=function(){this.g.h=null,delete this.j,Hc(this.g),delete this.g,Q.$.N.call(this)};function Pd($){Yb.call(this),$.__headers__&&(this.headers=$.__headers__,this.statusCode=$.__status__,delete $.__headers__,delete $.__status__);var _=$.__sm__;if(_){e:{for(const j in _){$=j;break e}$=void 0}(this.i=$)&&($=this.i,_=_!==null&&$ in _?_[$]:void 0),this.data=_}else this.data=$}r$1(Pd,Yb);function Qd(){Zb.call(this),this.status=1}r$1(Qd,Zb);function R($){this.g=$}r$1(R,Nd);R.prototype.Ba=function(){C$1(this.g,"a")};R.prototype.Aa=function($){C$1(this.g,new Pd($))};R.prototype.za=function($){C$1(this.g,new Qd)};R.prototype.ya=function(){C$1(this.g,"b")};function Rd(){this.blockSize=-1}function S$1(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}r$1(S$1,Rd);S$1.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Sd($,_,j){j||(j=0);var ee=Array(16);if(typeof _=="string")for(var re=0;16>re;++re)ee[re]=_.charCodeAt(j++)|_.charCodeAt(j++)<<8|_.charCodeAt(j++)<<16|_.charCodeAt(j++)<<24;else for(re=0;16>re;++re)ee[re]=_[j++]|_[j++]<<8|_[j++]<<16|_[j++]<<24;_=$.g[0],j=$.g[1],re=$.g[2];var le=$.g[3],de=_+(le^j&(re^le))+ee[0]+3614090360&4294967295;_=j+(de<<7&4294967295|de>>>25),de=le+(re^_&(j^re))+ee[1]+3905402710&4294967295,le=_+(de<<12&4294967295|de>>>20),de=re+(j^le&(_^j))+ee[2]+606105819&4294967295,re=le+(de<<17&4294967295|de>>>15),de=j+(_^re&(le^_))+ee[3]+3250441966&4294967295,j=re+(de<<22&4294967295|de>>>10),de=_+(le^j&(re^le))+ee[4]+4118548399&4294967295,_=j+(de<<7&4294967295|de>>>25),de=le+(re^_&(j^re))+ee[5]+1200080426&4294967295,le=_+(de<<12&4294967295|de>>>20),de=re+(j^le&(_^j))+ee[6]+2821735955&4294967295,re=le+(de<<17&4294967295|de>>>15),de=j+(_^re&(le^_))+ee[7]+4249261313&4294967295,j=re+(de<<22&4294967295|de>>>10),de=_+(le^j&(re^le))+ee[8]+1770035416&4294967295,_=j+(de<<7&4294967295|de>>>25),de=le+(re^_&(j^re))+ee[9]+2336552879&4294967295,le=_+(de<<12&4294967295|de>>>20),de=re+(j^le&(_^j))+ee[10]+4294925233&4294967295,re=le+(de<<17&4294967295|de>>>15),de=j+(_^re&(le^_))+ee[11]+2304563134&4294967295,j=re+(de<<22&4294967295|de>>>10),de=_+(le^j&(re^le))+ee[12]+1804603682&4294967295,_=j+(de<<7&4294967295|de>>>25),de=le+(re^_&(j^re))+ee[13]+4254626195&4294967295,le=_+(de<<12&4294967295|de>>>20),de=re+(j^le&(_^j))+ee[14]+2792965006&4294967295,re=le+(de<<17&4294967295|de>>>15),de=j+(_^re&(le^_))+ee[15]+1236535329&4294967295,j=re+(de<<22&4294967295|de>>>10),de=_+(re^le&(j^re))+ee[1]+4129170786&4294967295,_=j+(de<<5&4294967295|de>>>27),de=le+(j^re&(_^j))+ee[6]+3225465664&4294967295,le=_+(de<<9&4294967295|de>>>23),de=re+(_^j&(le^_))+ee[11]+643717713&4294967295,re=le+(de<<14&4294967295|de>>>18),de=j+(le^_&(re^le))+ee[0]+3921069994&4294967295,j=re+(de<<20&4294967295|de>>>12),de=_+(re^le&(j^re))+ee[5]+3593408605&4294967295,_=j+(de<<5&4294967295|de>>>27),de=le+(j^re&(_^j))+ee[10]+38016083&4294967295,le=_+(de<<9&4294967295|de>>>23),de=re+(_^j&(le^_))+ee[15]+3634488961&4294967295,re=le+(de<<14&4294967295|de>>>18),de=j+(le^_&(re^le))+ee[4]+3889429448&4294967295,j=re+(de<<20&4294967295|de>>>12),de=_+(re^le&(j^re))+ee[9]+568446438&4294967295,_=j+(de<<5&4294967295|de>>>27),de=le+(j^re&(_^j))+ee[14]+3275163606&4294967295,le=_+(de<<9&4294967295|de>>>23),de=re+(_^j&(le^_))+ee[3]+4107603335&4294967295,re=le+(de<<14&4294967295|de>>>18),de=j+(le^_&(re^le))+ee[8]+1163531501&4294967295,j=re+(de<<20&4294967295|de>>>12),de=_+(re^le&(j^re))+ee[13]+2850285829&4294967295,_=j+(de<<5&4294967295|de>>>27),de=le+(j^re&(_^j))+ee[2]+4243563512&4294967295,le=_+(de<<9&4294967295|de>>>23),de=re+(_^j&(le^_))+ee[7]+1735328473&4294967295,re=le+(de<<14&4294967295|de>>>18),de=j+(le^_&(re^le))+ee[12]+2368359562&4294967295,j=re+(de<<20&4294967295|de>>>12),de=_+(j^re^le)+ee[5]+4294588738&4294967295,_=j+(de<<4&4294967295|de>>>28),de=le+(_^j^re)+ee[8]+2272392833&4294967295,le=_+(de<<11&4294967295|de>>>21),de=re+(le^_^j)+ee[11]+1839030562&4294967295,re=le+(de<<16&4294967295|de>>>16),de=j+(re^le^_)+ee[14]+4259657740&4294967295,j=re+(de<<23&4294967295|de>>>9),de=_+(j^re^le)+ee[1]+2763975236&4294967295,_=j+(de<<4&4294967295|de>>>28),de=le+(_^j^re)+ee[4]+1272893353&4294967295,le=_+(de<<11&4294967295|de>>>21),de=re+(le^_^j)+ee[7]+4139469664&4294967295,re=le+(de<<16&4294967295|de>>>16),de=j+(re^le^_)+ee[10]+3200236656&4294967295,j=re+(de<<23&4294967295|de>>>9),de=_+(j^re^le)+ee[13]+681279174&4294967295,_=j+(de<<4&4294967295|de>>>28),de=le+(_^j^re)+ee[0]+3936430074&4294967295,le=_+(de<<11&4294967295|de>>>21),de=re+(le^_^j)+ee[3]+3572445317&4294967295,re=le+(de<<16&4294967295|de>>>16),de=j+(re^le^_)+ee[6]+76029189&4294967295,j=re+(de<<23&4294967295|de>>>9),de=_+(j^re^le)+ee[9]+3654602809&4294967295,_=j+(de<<4&4294967295|de>>>28),de=le+(_^j^re)+ee[12]+3873151461&4294967295,le=_+(de<<11&4294967295|de>>>21),de=re+(le^_^j)+ee[15]+530742520&4294967295,re=le+(de<<16&4294967295|de>>>16),de=j+(re^le^_)+ee[2]+3299628645&4294967295,j=re+(de<<23&4294967295|de>>>9),de=_+(re^(j|~le))+ee[0]+4096336452&4294967295,_=j+(de<<6&4294967295|de>>>26),de=le+(j^(_|~re))+ee[7]+1126891415&4294967295,le=_+(de<<10&4294967295|de>>>22),de=re+(_^(le|~j))+ee[14]+2878612391&4294967295,re=le+(de<<15&4294967295|de>>>17),de=j+(le^(re|~_))+ee[5]+4237533241&4294967295,j=re+(de<<21&4294967295|de>>>11),de=_+(re^(j|~le))+ee[12]+1700485571&4294967295,_=j+(de<<6&4294967295|de>>>26),de=le+(j^(_|~re))+ee[3]+2399980690&4294967295,le=_+(de<<10&4294967295|de>>>22),de=re+(_^(le|~j))+ee[10]+4293915773&4294967295,re=le+(de<<15&4294967295|de>>>17),de=j+(le^(re|~_))+ee[1]+2240044497&4294967295,j=re+(de<<21&4294967295|de>>>11),de=_+(re^(j|~le))+ee[8]+1873313359&4294967295,_=j+(de<<6&4294967295|de>>>26),de=le+(j^(_|~re))+ee[15]+4264355552&4294967295,le=_+(de<<10&4294967295|de>>>22),de=re+(_^(le|~j))+ee[6]+2734768916&4294967295,re=le+(de<<15&4294967295|de>>>17),de=j+(le^(re|~_))+ee[13]+1309151649&4294967295,j=re+(de<<21&4294967295|de>>>11),de=_+(re^(j|~le))+ee[4]+4149444226&4294967295,_=j+(de<<6&4294967295|de>>>26),de=le+(j^(_|~re))+ee[11]+3174756917&4294967295,le=_+(de<<10&4294967295|de>>>22),de=re+(_^(le|~j))+ee[2]+718787259&4294967295,re=le+(de<<15&4294967295|de>>>17),de=j+(le^(re|~_))+ee[9]+3951481745&4294967295,$.g[0]=$.g[0]+_&4294967295,$.g[1]=$.g[1]+(re+(de<<21&4294967295|de>>>11))&4294967295,$.g[2]=$.g[2]+re&4294967295,$.g[3]=$.g[3]+le&4294967295}S$1.prototype.j=function($,_){_===void 0&&(_=$.length);for(var j=_-this.blockSize,ee=this.m,re=this.h,le=0;le<_;){if(re==0)for(;le<=j;)Sd(this,$,le),le+=this.blockSize;if(typeof $=="string"){for(;le<_;)if(ee[re++]=$.charCodeAt(le++),re==this.blockSize){Sd(this,ee),re=0;break}}else for(;le<_;)if(ee[re++]=$[le++],re==this.blockSize){Sd(this,ee),re=0;break}}this.h=re,this.i+=_};S$1.prototype.l=function(){var $=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);$[0]=128;for(var _=1;_<$.length-8;++_)$[_]=0;var j=8*this.i;for(_=$.length-8;_<$.length;++_)$[_]=j&255,j/=256;for(this.j($),$=Array(16),_=j=0;4>_;++_)for(var ee=0;32>ee;ee+=8)$[j++]=this.g[_]>>>ee&255;return $};function T($,_){this.h=_;for(var j=[],ee=!0,re=$.length-1;0<=re;re--){var le=$[re]|0;ee&&le==_||(j[re]=le,ee=!1)}this.g=j}var sa={};function Td($){return-128<=$&&128>$?ra($,function(_){return new T([_|0],0>_?-1:0)}):new T([$|0],0>$?-1:0)}function U($){if(isNaN($)||!isFinite($))return V;if(0>$)return W(U(-$));for(var _=[],j=1,ee=0;$>=j;ee++)_[ee]=$/j|0,j*=Ud;return new T(_,0)}function Vd($,_){if($.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if($.charAt(0)=="-")return W(Vd($.substring(1),_));if(0<=$.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=U(Math.pow(_,8)),ee=V,re=0;re<$.length;re+=8){var le=Math.min(8,$.length-re),de=parseInt($.substring(re,re+le),_);8>le?(le=U(Math.pow(_,le)),ee=ee.R(le).add(U(de))):(ee=ee.R(j),ee=ee.add(U(de)))}return ee}var Ud=4294967296,V=Td(0),Wd=Td(1),Xd=Td(16777216);k=T.prototype;k.ea=function(){if(X(this))return-W(this).ea();for(var $=0,_=1,j=0;j<this.g.length;j++){var ee=this.D(j);$+=(0<=ee?ee:Ud+ee)*_,_*=Ud}return $};k.toString=function($){if($=$||10,2>$||36<$)throw Error("radix out of range: "+$);if(Y(this))return"0";if(X(this))return"-"+W(this).toString($);for(var _=U(Math.pow($,6)),j=this,ee="";;){var re=Yd(j,_).g;j=Zd(j,re.R(_));var le=((0<j.g.length?j.g[0]:j.h)>>>0).toString($);if(j=re,Y(j))return le+ee;for(;6>le.length;)le="0"+le;ee=le+ee}};k.D=function($){return 0>$?0:$<this.g.length?this.g[$]:this.h};function Y($){if($.h!=0)return!1;for(var _=0;_<$.g.length;_++)if($.g[_]!=0)return!1;return!0}function X($){return $.h==-1}k.X=function($){return $=Zd(this,$),X($)?-1:Y($)?0:1};function W($){for(var _=$.g.length,j=[],ee=0;ee<_;ee++)j[ee]=~$.g[ee];return new T(j,~$.h).add(Wd)}k.abs=function(){return X(this)?W(this):this};k.add=function($){for(var _=Math.max(this.g.length,$.g.length),j=[],ee=0,re=0;re<=_;re++){var le=ee+(this.D(re)&65535)+($.D(re)&65535),de=(le>>>16)+(this.D(re)>>>16)+($.D(re)>>>16);ee=de>>>16,le&=65535,de&=65535,j[re]=de<<16|le}return new T(j,j[j.length-1]&-2147483648?-1:0)};function Zd($,_){return $.add(W(_))}k.R=function($){if(Y(this)||Y($))return V;if(X(this))return X($)?W(this).R(W($)):W(W(this).R($));if(X($))return W(this.R(W($)));if(0>this.X(Xd)&&0>$.X(Xd))return U(this.ea()*$.ea());for(var _=this.g.length+$.g.length,j=[],ee=0;ee<2*_;ee++)j[ee]=0;for(ee=0;ee<this.g.length;ee++)for(var re=0;re<$.g.length;re++){var le=this.D(ee)>>>16,de=this.D(ee)&65535,ge=$.D(re)>>>16,ve=$.D(re)&65535;j[2*ee+2*re]+=de*ve,$d(j,2*ee+2*re),j[2*ee+2*re+1]+=le*ve,$d(j,2*ee+2*re+1),j[2*ee+2*re+1]+=de*ge,$d(j,2*ee+2*re+1),j[2*ee+2*re+2]+=le*ge,$d(j,2*ee+2*re+2)}for(ee=0;ee<_;ee++)j[ee]=j[2*ee+1]<<16|j[2*ee];for(ee=_;ee<2*_;ee++)j[ee]=0;return new T(j,0)};function $d($,_){for(;($[_]&65535)!=$[_];)$[_+1]+=$[_]>>>16,$[_]&=65535,_++}function ae$1($,_){this.g=$,this.h=_}function Yd($,_){if(Y(_))throw Error("division by zero");if(Y($))return new ae$1(V,V);if(X($))return _=Yd(W($),_),new ae$1(W(_.g),W(_.h));if(X(_))return _=Yd($,W(_)),new ae$1(W(_.g),_.h);if(30<$.g.length){if(X($)||X(_))throw Error("slowDivide_ only works with positive integers.");for(var j=Wd,ee=_;0>=ee.X($);)j=be(j),ee=be(ee);var re=Z(j,1),le=Z(ee,1);for(ee=Z(ee,2),j=Z(j,2);!Y(ee);){var de=le.add(ee);0>=de.X($)&&(re=re.add(j),le=de),ee=Z(ee,1),j=Z(j,1)}return _=Zd($,re.R(_)),new ae$1(re,_)}for(re=V;0<=$.X(_);){for(j=Math.max(1,Math.floor($.ea()/_.ea())),ee=Math.ceil(Math.log(j)/Math.LN2),ee=48>=ee?1:Math.pow(2,ee-48),le=U(j),de=le.R(_);X(de)||0<de.X($);)j-=ee,le=U(j),de=le.R(_);Y(le)&&(le=Wd),re=re.add(le),$=Zd($,de)}return new ae$1(re,$)}k.gb=function($){return Yd(this,$).h};k.and=function($){for(var _=Math.max(this.g.length,$.g.length),j=[],ee=0;ee<_;ee++)j[ee]=this.D(ee)&$.D(ee);return new T(j,this.h&$.h)};k.or=function($){for(var _=Math.max(this.g.length,$.g.length),j=[],ee=0;ee<_;ee++)j[ee]=this.D(ee)|$.D(ee);return new T(j,this.h|$.h)};k.xor=function($){for(var _=Math.max(this.g.length,$.g.length),j=[],ee=0;ee<_;ee++)j[ee]=this.D(ee)^$.D(ee);return new T(j,this.h^$.h)};function be($){for(var _=$.g.length+1,j=[],ee=0;ee<_;ee++)j[ee]=$.D(ee)<<1|$.D(ee-1)>>>31;return new T(j,$.h)}function Z($,_){var j=_>>5;_%=32;for(var ee=$.g.length-j,re=[],le=0;le<ee;le++)re[le]=0<_?$.D(le+j)>>>_|$.D(le+j+1)<<32-_:$.D(le+j);return new T(re,$.h)}Od.prototype.createWebChannel=Od.prototype.g;Q.prototype.send=Q.prototype.u;Q.prototype.open=Q.prototype.m;Q.prototype.close=Q.prototype.close;Sb.NO_ERROR=0;Sb.TIMEOUT=8;Sb.HTTP_ERROR=6;Tb.COMPLETE="complete";Wb.EventType=Xb;Xb.OPEN="a";Xb.CLOSE="b";Xb.ERROR="c";Xb.MESSAGE="d";B.prototype.listen=B.prototype.O;P.prototype.listenOnce=P.prototype.P;P.prototype.getLastError=P.prototype.Sa;P.prototype.getLastErrorCode=P.prototype.Ia;P.prototype.getStatus=P.prototype.da;P.prototype.getResponseJson=P.prototype.Wa;P.prototype.getResponseText=P.prototype.ja;P.prototype.send=P.prototype.ha;P.prototype.setWithCredentials=P.prototype.Oa;S$1.prototype.digest=S$1.prototype.l;S$1.prototype.reset=S$1.prototype.reset;S$1.prototype.update=S$1.prototype.j;T.prototype.add=T.prototype.add;T.prototype.multiply=T.prototype.R;T.prototype.modulo=T.prototype.gb;T.prototype.compare=T.prototype.X;T.prototype.toNumber=T.prototype.ea;T.prototype.toString=T.prototype.toString;T.prototype.getBits=T.prototype.D;T.fromNumber=U;T.fromString=Vd;var createWebChannelTransport=function(){return new Od},getStatEventTarget=function(){return Mb()},ErrorCode=Sb,EventType=Tb,Event$1=E,Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},FetchXmlHttpFactory=ld,WebChannel=Wb,XhrIo=P,Md5=S$1,Integer=T;const S="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(_){this.uid=_}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(_){return _.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return D.logLevel}function __PRIVATE_logDebug($,..._){if(D.logLevel<=LogLevel.DEBUG){const j=_.map(__PRIVATE_argToString);D.debug(`Firestore (${b}): ${$}`,...j)}}function __PRIVATE_logError($,..._){if(D.logLevel<=LogLevel.ERROR){const j=_.map(__PRIVATE_argToString);D.error(`Firestore (${b}): ${$}`,...j)}}function __PRIVATE_logWarn($,..._){if(D.logLevel<=LogLevel.WARN){const j=_.map(__PRIVATE_argToString);D.warn(`Firestore (${b}): ${$}`,...j)}}function __PRIVATE_argToString($){if(typeof $=="string")return $;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(j){return JSON.stringify(j)}($)}catch{return $}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail($="Unexpected state"){const _=`FIRESTORE (${b}) INTERNAL ASSERTION FAILED: `+$;throw __PRIVATE_logError(_),new Error(_)}function __PRIVATE_hardAssert($,_){$||fail()}function __PRIVATE_debugCast($,_){return $}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(_,j){super(_,j),this.code=_,this.message=j,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((_,j)=>{this.resolve=_,this.reject=j})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(_,j){this.user=j,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${_}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(_,j){_.enqueueRetryable(()=>j(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(_){this.token=_,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(_,j){this.changeListener=j,_.enqueueRetryable(()=>j(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(_){this.t=_,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(_,j){let ee=this.i;const re=ve=>this.i!==ee?(ee=this.i,j(ve)):Promise.resolve();let le=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),le.resolve(),le=new __PRIVATE_Deferred,_.enqueueRetryable(()=>re(this.currentUser))};const de=()=>{const ve=le;_.enqueueRetryable(async()=>{await ve.promise,await re(this.currentUser)})},ge=ve=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ve,this.auth.addAuthTokenListener(this.o),de()};this.t.onInit(ve=>ge(ve)),setTimeout(()=>{if(!this.auth){const ve=this.t.getImmediate({optional:!0});ve?ge(ve):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),le.resolve(),le=new __PRIVATE_Deferred)}},0),de()}getToken(){const _=this.i,j=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(j).then(ee=>this.i!==_?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):ee?(__PRIVATE_hardAssert(typeof ee.accessToken=="string"),new __PRIVATE_OAuthToken(ee.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const _=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(_===null||typeof _=="string"),new User(_)}}class __PRIVATE_FirstPartyToken{constructor(_,j,ee){this.l=_,this.h=j,this.P=ee,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const _=this.T();return _&&this.I.set("Authorization",_),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(_,j,ee){this.l=_,this.h=j,this.P=ee}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(_,j){_.enqueueRetryable(()=>j(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(_){this.value=_,this.type="AppCheck",this.headers=new Map,_&&_.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(_){this.A=_,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(_,j){const ee=le=>{le.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${le.error.message}`);const de=le.token!==this.R;return this.R=le.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${de?"new":"existing"} token.`),de?j(le.token):Promise.resolve()};this.o=le=>{_.enqueueRetryable(()=>ee(le))};const re=le=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=le,this.appCheck.addTokenListener(this.o)};this.A.onInit(le=>re(le)),setTimeout(()=>{if(!this.appCheck){const le=this.A.getImmediate({optional:!0});le?re(le):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const _=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(_).then(j=>j?(__PRIVATE_hardAssert(typeof j.token=="string"),this.R=j.token,new AppCheckToken(j.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes($){const _=typeof self<"u"&&(self.crypto||self.msCrypto),j=new Uint8Array($);if(_&&typeof _.getRandomValues=="function")_.getRandomValues(j);else for(let ee=0;ee<$;ee++)j[ee]=Math.floor(256*Math.random());return j}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",j=Math.floor(256/_.length)*_.length;let ee="";for(;ee.length<20;){const re=__PRIVATE_randomBytes(40);for(let le=0;le<re.length;++le)ee.length<20&&re[le]<j&&(ee+=_.charAt(re[le]%_.length))}return ee}}function __PRIVATE_primitiveComparator($,_){return $<_?-1:$>_?1:0}function __PRIVATE_arrayEquals($,_,j){return $.length===_.length&&$.every((ee,re)=>j(ee,_[re]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor(_,j){if(this.seconds=_,this.nanoseconds=j,j<0)throw new FirestoreError(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+j);if(j>=1e9)throw new FirestoreError(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+j);if(_<-62135596800)throw new FirestoreError(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+_);if(_>=253402300800)throw new FirestoreError(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+_)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(_){return Timestamp.fromMillis(_.getTime())}static fromMillis(_){const j=Math.floor(_/1e3),ee=Math.floor(1e6*(_-1e3*j));return new Timestamp(j,ee)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(_){return this.seconds===_.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,_.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,_.seconds)}isEqual(_){return _.seconds===this.seconds&&_.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const _=this.seconds- -62135596800;return String(_).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(_){this.timestamp=_}static fromTimestamp(_){return new SnapshotVersion(_)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(_){return this.timestamp._compareTo(_.timestamp)}isEqual(_){return this.timestamp.isEqual(_.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(_,j,ee){j===void 0?j=0:j>_.length&&fail(),ee===void 0?ee=_.length-j:ee>_.length-j&&fail(),this.segments=_,this.offset=j,this.len=ee}get length(){return this.len}isEqual(_){return BasePath.comparator(this,_)===0}child(_){const j=this.segments.slice(this.offset,this.limit());return _ instanceof BasePath?_.forEach(ee=>{j.push(ee)}):j.push(_),this.construct(j)}limit(){return this.offset+this.length}popFirst(_){return _=_===void 0?1:_,this.construct(this.segments,this.offset+_,this.length-_)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(_){return this.segments[this.offset+_]}isEmpty(){return this.length===0}isPrefixOf(_){if(_.length<this.length)return!1;for(let j=0;j<this.length;j++)if(this.get(j)!==_.get(j))return!1;return!0}isImmediateParentOf(_){if(this.length+1!==_.length)return!1;for(let j=0;j<this.length;j++)if(this.get(j)!==_.get(j))return!1;return!0}forEach(_){for(let j=this.offset,ee=this.limit();j<ee;j++)_(this.segments[j])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(_,j){const ee=Math.min(_.length,j.length);for(let re=0;re<ee;re++){const le=_.get(re),de=j.get(re);if(le<de)return-1;if(le>de)return 1}return _.length<j.length?-1:_.length>j.length?1:0}}class ResourcePath extends BasePath{construct(_,j,ee){return new ResourcePath(_,j,ee)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(..._){const j=[];for(const ee of _){if(ee.indexOf("//")>=0)throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid segment (${ee}). Paths must not contain // in them.`);j.push(...ee.split("/").filter(re=>re.length>0))}return new ResourcePath(j)}static emptyPath(){return new ResourcePath([])}}const v=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(_,j,ee){return new FieldPath$1(_,j,ee)}static isValidIdentifier(_){return v.test(_)}canonicalString(){return this.toArray().map(_=>(_=_.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(_)||(_="`"+_+"`"),_)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(_){const j=[];let ee="",re=0;const le=()=>{if(ee.length===0)throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid field path (${_}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);j.push(ee),ee=""};let de=!1;for(;re<_.length;){const ge=_[re];if(ge==="\\"){if(re+1===_.length)throw new FirestoreError(C.INVALID_ARGUMENT,"Path has trailing escape character: "+_);const ve=_[re+1];if(ve!=="\\"&&ve!=="."&&ve!=="`")throw new FirestoreError(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+_);ee+=ve,re+=2}else ge==="`"?(de=!de,re++):ge!=="."||de?(ee+=ge,re++):(le(),re++)}if(le(),de)throw new FirestoreError(C.INVALID_ARGUMENT,"Unterminated ` in path: "+_);return new FieldPath$1(j)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(_){this.path=_}static fromPath(_){return new DocumentKey(ResourcePath.fromString(_))}static fromName(_){return new DocumentKey(ResourcePath.fromString(_).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(_){return this.path.length>=2&&this.path.get(this.path.length-2)===_}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(_){return _!==null&&ResourcePath.comparator(this.path,_.path)===0}toString(){return this.path.toString()}static comparator(_,j){return ResourcePath.comparator(_.path,j.path)}static isDocumentKey(_){return _.length%2==0}static fromSegments(_){return new DocumentKey(new ResourcePath(_.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime($,_){const j=$.toTimestamp().seconds,ee=$.toTimestamp().nanoseconds+1,re=SnapshotVersion.fromTimestamp(ee===1e9?new Timestamp(j+1,0):new Timestamp(j,ee));return new IndexOffset(re,DocumentKey.empty(),_)}function __PRIVATE_newIndexOffsetFromDocument($){return new IndexOffset($.readTime,$.key,-1)}class IndexOffset{constructor(_,j,ee){this.readTime=_,this.documentKey=j,this.largestBatchId=ee}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator($,_){let j=$.readTime.compareTo(_.readTime);return j!==0?j:(j=DocumentKey.comparator($.documentKey,_.documentKey),j!==0?j:__PRIVATE_primitiveComparator($.largestBatchId,_.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(_){this.onCommittedListeners.push(_)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(_=>_())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss($){if($.code!==C.FAILED_PRECONDITION||$.message!==F)throw $;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(_){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,_(j=>{this.isDone=!0,this.result=j,this.nextCallback&&this.nextCallback(j)},j=>{this.isDone=!0,this.error=j,this.catchCallback&&this.catchCallback(j)})}catch(_){return this.next(void 0,_)}next(_,j){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(j,this.error):this.wrapSuccess(_,this.result):new PersistencePromise((ee,re)=>{this.nextCallback=le=>{this.wrapSuccess(_,le).next(ee,re)},this.catchCallback=le=>{this.wrapFailure(j,le).next(ee,re)}})}toPromise(){return new Promise((_,j)=>{this.next(_,j)})}wrapUserFunction(_){try{const j=_();return j instanceof PersistencePromise?j:PersistencePromise.resolve(j)}catch(j){return PersistencePromise.reject(j)}}wrapSuccess(_,j){return _?this.wrapUserFunction(()=>_(j)):PersistencePromise.resolve(j)}wrapFailure(_,j){return _?this.wrapUserFunction(()=>_(j)):PersistencePromise.reject(j)}static resolve(_){return new PersistencePromise((j,ee)=>{j(_)})}static reject(_){return new PersistencePromise((j,ee)=>{ee(_)})}static waitFor(_){return new PersistencePromise((j,ee)=>{let re=0,le=0,de=!1;_.forEach(ge=>{++re,ge.next(()=>{++le,de&&le===re&&j()},ve=>ee(ve))}),de=!0,le===re&&j()})}static or(_){let j=PersistencePromise.resolve(!1);for(const ee of _)j=j.next(re=>re?PersistencePromise.resolve(re):ee());return j}static forEach(_,j){const ee=[];return _.forEach((re,le)=>{ee.push(j.call(this,re,le))}),this.waitFor(ee)}static mapArray(_,j){return new PersistencePromise((ee,re)=>{const le=_.length,de=new Array(le);let ge=0;for(let ve=0;ve<le;ve++){const Ee=ve;j(_[Ee]).next(Ce=>{de[Ee]=Ce,++ge,ge===le&&ee(de)},Ce=>re(Ce))}})}static doWhile(_,j){return new PersistencePromise((ee,re)=>{const le=()=>{_()===!0?j().next(()=>{le()},re):ee()};le()})}}function __PRIVATE_isIndexedDbTransactionError($){return $.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(_,j){this.previousValue=_,j&&(j.sequenceNumberHandler=ee=>this.se(ee),this.oe=ee=>j.writeSequenceNumber(ee))}se(_){return this.previousValue=Math.max(_,this.previousValue),this.previousValue}next(){const _=++this.previousValue;return this.oe&&this.oe(_),_}}__PRIVATE_ListenSequence._e=-1;function __PRIVATE_isNullOrUndefined($){return $==null}function __PRIVATE_isNegativeZero($){return $===0&&1/$==-1/0}function isSafeInteger($){return typeof $=="number"&&Number.isInteger($)&&!__PRIVATE_isNegativeZero($)&&$<=Number.MAX_SAFE_INTEGER&&$>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize($){let _=0;for(const j in $)Object.prototype.hasOwnProperty.call($,j)&&_++;return _}function forEach($,_){for(const j in $)Object.prototype.hasOwnProperty.call($,j)&&_(j,$[j])}function isEmpty($){for(const _ in $)if(Object.prototype.hasOwnProperty.call($,_))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SortedMap$1=class $t{constructor(_,j){this.comparator=_,this.root=j||LLRBNode$1.EMPTY}insert(_,j){return new $t(this.comparator,this.root.insert(_,j,this.comparator).copy(null,null,LLRBNode$1.BLACK,null,null))}remove(_){return new $t(this.comparator,this.root.remove(_,this.comparator).copy(null,null,LLRBNode$1.BLACK,null,null))}get(_){let j=this.root;for(;!j.isEmpty();){const ee=this.comparator(_,j.key);if(ee===0)return j.value;ee<0?j=j.left:ee>0&&(j=j.right)}return null}indexOf(_){let j=0,ee=this.root;for(;!ee.isEmpty();){const re=this.comparator(_,ee.key);if(re===0)return j+ee.left.size;re<0?ee=ee.left:(j+=ee.left.size+1,ee=ee.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(_){return this.root.inorderTraversal(_)}forEach(_){this.inorderTraversal((j,ee)=>(_(j,ee),!1))}toString(){const _=[];return this.inorderTraversal((j,ee)=>(_.push(`${j}:${ee}`),!1)),`{${_.join(", ")}}`}reverseTraversal(_){return this.root.reverseTraversal(_)}getIterator(){return new SortedMapIterator$1(this.root,null,this.comparator,!1)}getIteratorFrom(_){return new SortedMapIterator$1(this.root,_,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator$1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(_){return new SortedMapIterator$1(this.root,_,this.comparator,!0)}},SortedMapIterator$1=class{constructor(_,j,ee,re){this.isReverse=re,this.nodeStack=[];let le=1;for(;!_.isEmpty();)if(le=j?ee(_.key,j):1,j&&re&&(le*=-1),le<0)_=this.isReverse?_.left:_.right;else{if(le===0){this.nodeStack.push(_);break}this.nodeStack.push(_),_=this.isReverse?_.right:_.left}}getNext(){let _=this.nodeStack.pop();const j={key:_.key,value:_.value};if(this.isReverse)for(_=_.left;!_.isEmpty();)this.nodeStack.push(_),_=_.right;else for(_=_.right;!_.isEmpty();)this.nodeStack.push(_),_=_.left;return j}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const _=this.nodeStack[this.nodeStack.length-1];return{key:_.key,value:_.value}}},LLRBNode$1=class Nt{constructor(_,j,ee,re,le){this.key=_,this.value=j,this.color=ee??Nt.RED,this.left=re??Nt.EMPTY,this.right=le??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(_,j,ee,re,le){return new Nt(_??this.key,j??this.value,ee??this.color,re??this.left,le??this.right)}isEmpty(){return!1}inorderTraversal(_){return this.left.inorderTraversal(_)||_(this.key,this.value)||this.right.inorderTraversal(_)}reverseTraversal(_){return this.right.reverseTraversal(_)||_(this.key,this.value)||this.left.reverseTraversal(_)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(_,j,ee){let re=this;const le=ee(_,re.key);return re=le<0?re.copy(null,null,null,re.left.insert(_,j,ee),null):le===0?re.copy(null,j,null,null,null):re.copy(null,null,null,null,re.right.insert(_,j,ee)),re.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let _=this;return _.left.isRed()||_.left.left.isRed()||(_=_.moveRedLeft()),_=_.copy(null,null,null,_.left.removeMin(),null),_.fixUp()}remove(_,j){let ee,re=this;if(j(_,re.key)<0)re.left.isEmpty()||re.left.isRed()||re.left.left.isRed()||(re=re.moveRedLeft()),re=re.copy(null,null,null,re.left.remove(_,j),null);else{if(re.left.isRed()&&(re=re.rotateRight()),re.right.isEmpty()||re.right.isRed()||re.right.left.isRed()||(re=re.moveRedRight()),j(_,re.key)===0){if(re.right.isEmpty())return Nt.EMPTY;ee=re.right.min(),re=re.copy(ee.key,ee.value,null,null,re.right.removeMin())}re=re.copy(null,null,null,null,re.right.remove(_,j))}return re.fixUp()}isRed(){return this.color}fixUp(){let _=this;return _.right.isRed()&&!_.left.isRed()&&(_=_.rotateLeft()),_.left.isRed()&&_.left.left.isRed()&&(_=_.rotateRight()),_.left.isRed()&&_.right.isRed()&&(_=_.colorFlip()),_}moveRedLeft(){let _=this.colorFlip();return _.right.left.isRed()&&(_=_.copy(null,null,null,null,_.right.rotateRight()),_=_.rotateLeft(),_=_.colorFlip()),_}moveRedRight(){let _=this.colorFlip();return _.left.left.isRed()&&(_=_.rotateRight(),_=_.colorFlip()),_}rotateLeft(){const _=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,_,null)}rotateRight(){const _=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,_)}colorFlip(){const _=this.left.copy(null,null,!this.left.color,null,null),j=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,_,j)}checkMaxDepth(){const _=this.check();return Math.pow(2,_)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const _=this.left.check();if(_!==this.right.check())throw fail();return _+(this.isRed()?0:1)}};LLRBNode$1.EMPTY=null,LLRBNode$1.RED=!0,LLRBNode$1.BLACK=!1;LLRBNode$1.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(_,j,ee,re,le){return this}insert(_,j,ee){return new LLRBNode$1(_,j)}remove(_,j){return this}isEmpty(){return!0}inorderTraversal(_){return!1}reverseTraversal(_){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(_){this.comparator=_,this.data=new SortedMap$1(this.comparator)}has(_){return this.data.get(_)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(_){return this.data.indexOf(_)}forEach(_){this.data.inorderTraversal((j,ee)=>(_(j),!1))}forEachInRange(_,j){const ee=this.data.getIteratorFrom(_[0]);for(;ee.hasNext();){const re=ee.getNext();if(this.comparator(re.key,_[1])>=0)return;j(re.key)}}forEachWhile(_,j){let ee;for(ee=j!==void 0?this.data.getIteratorFrom(j):this.data.getIterator();ee.hasNext();)if(!_(ee.getNext().key))return}firstAfterOrEqual(_){const j=this.data.getIteratorFrom(_);return j.hasNext()?j.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(_){return new SortedSetIterator(this.data.getIteratorFrom(_))}add(_){return this.copy(this.data.remove(_).insert(_,!0))}delete(_){return this.has(_)?this.copy(this.data.remove(_)):this}isEmpty(){return this.data.isEmpty()}unionWith(_){let j=this;return j.size<_.size&&(j=_,_=this),_.forEach(ee=>{j=j.add(ee)}),j}isEqual(_){if(!(_ instanceof SortedSet)||this.size!==_.size)return!1;const j=this.data.getIterator(),ee=_.data.getIterator();for(;j.hasNext();){const re=j.getNext().key,le=ee.getNext().key;if(this.comparator(re,le)!==0)return!1}return!0}toArray(){const _=[];return this.forEach(j=>{_.push(j)}),_}toString(){const _=[];return this.forEach(j=>_.push(j)),"SortedSet("+_.toString()+")"}copy(_){const j=new SortedSet(this.comparator);return j.data=_,j}}class SortedSetIterator{constructor(_){this.iter=_}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(_){this.fields=_,_.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(_){let j=new SortedSet(FieldPath$1.comparator);for(const ee of this.fields)j=j.add(ee);for(const ee of _)j=j.add(ee);return new FieldMask(j.toArray())}covers(_){for(const j of this.fields)if(j.isPrefixOf(_))return!0;return!1}isEqual(_){return __PRIVATE_arrayEquals(this.fields,_.fields,(j,ee)=>j.isEqual(ee))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(_){this.binaryString=_}static fromBase64String(_){const j=function(re){try{return atob(re)}catch(le){throw typeof DOMException<"u"&&le instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+le):le}}(_);return new ByteString(j)}static fromUint8Array(_){const j=function(re){let le="";for(let de=0;de<re.length;++de)le+=String.fromCharCode(re[de]);return le}(_);return new ByteString(j)}[Symbol.iterator](){let _=0;return{next:()=>_<this.binaryString.length?{value:this.binaryString.charCodeAt(_++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(j){return btoa(j)}(this.binaryString)}toUint8Array(){return function(j){const ee=new Uint8Array(j.length);for(let re=0;re<j.length;re++)ee[re]=j.charCodeAt(re);return ee}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(_){return __PRIVATE_primitiveComparator(this.binaryString,_.binaryString)}isEqual(_){return this.binaryString===_.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const te=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp($){if(__PRIVATE_hardAssert(!!$),typeof $=="string"){let _=0;const j=te.exec($);if(__PRIVATE_hardAssert(!!j),j[1]){let re=j[1];re=(re+"000000000").substr(0,9),_=Number(re)}const ee=new Date($);return{seconds:Math.floor(ee.getTime()/1e3),nanos:_}}return{seconds:__PRIVATE_normalizeNumber($.seconds),nanos:__PRIVATE_normalizeNumber($.nanos)}}function __PRIVATE_normalizeNumber($){return typeof $=="number"?$:typeof $=="string"?Number($):0}function __PRIVATE_normalizeByteString($){return typeof $=="string"?ByteString.fromBase64String($):ByteString.fromUint8Array($)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp($){var _,j;return((j=(((_=$?.mapValue)===null||_===void 0?void 0:_.fields)||{}).__type__)===null||j===void 0?void 0:j.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue($){const _=$.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(_)?__PRIVATE_getPreviousValue(_):_}function __PRIVATE_getLocalWriteTime($){const _=__PRIVATE_normalizeTimestamp($.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(_.seconds,_.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(_,j,ee,re,le,de,ge,ve,Ee){this.databaseId=_,this.appId=j,this.persistenceKey=ee,this.host=re,this.ssl=le,this.forceLongPolling=de,this.autoDetectLongPolling=ge,this.longPollingOptions=ve,this.useFetchStreams=Ee}}class DatabaseId{constructor(_,j){this.projectId=_,this.database=j||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(_){return _ instanceof DatabaseId&&_.projectId===this.projectId&&_.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function __PRIVATE_typeOrder($){return"nullValue"in $?0:"booleanValue"in $?1:"integerValue"in $||"doubleValue"in $?2:"timestampValue"in $?3:"stringValue"in $?5:"bytesValue"in $?6:"referenceValue"in $?7:"geoPointValue"in $?8:"arrayValue"in $?9:"mapValue"in $?__PRIVATE_isServerTimestamp($)?4:__PRIVATE_isMaxValue($)?9007199254740991:10:fail()}function __PRIVATE_valueEquals($,_){if($===_)return!0;const j=__PRIVATE_typeOrder($);if(j!==__PRIVATE_typeOrder(_))return!1;switch(j){case 0:case 9007199254740991:return!0;case 1:return $.booleanValue===_.booleanValue;case 4:return __PRIVATE_getLocalWriteTime($).isEqual(__PRIVATE_getLocalWriteTime(_));case 3:return function(re,le){if(typeof re.timestampValue=="string"&&typeof le.timestampValue=="string"&&re.timestampValue.length===le.timestampValue.length)return re.timestampValue===le.timestampValue;const de=__PRIVATE_normalizeTimestamp(re.timestampValue),ge=__PRIVATE_normalizeTimestamp(le.timestampValue);return de.seconds===ge.seconds&&de.nanos===ge.nanos}($,_);case 5:return $.stringValue===_.stringValue;case 6:return function(re,le){return __PRIVATE_normalizeByteString(re.bytesValue).isEqual(__PRIVATE_normalizeByteString(le.bytesValue))}($,_);case 7:return $.referenceValue===_.referenceValue;case 8:return function(re,le){return __PRIVATE_normalizeNumber(re.geoPointValue.latitude)===__PRIVATE_normalizeNumber(le.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(re.geoPointValue.longitude)===__PRIVATE_normalizeNumber(le.geoPointValue.longitude)}($,_);case 2:return function(re,le){if("integerValue"in re&&"integerValue"in le)return __PRIVATE_normalizeNumber(re.integerValue)===__PRIVATE_normalizeNumber(le.integerValue);if("doubleValue"in re&&"doubleValue"in le){const de=__PRIVATE_normalizeNumber(re.doubleValue),ge=__PRIVATE_normalizeNumber(le.doubleValue);return de===ge?__PRIVATE_isNegativeZero(de)===__PRIVATE_isNegativeZero(ge):isNaN(de)&&isNaN(ge)}return!1}($,_);case 9:return __PRIVATE_arrayEquals($.arrayValue.values||[],_.arrayValue.values||[],__PRIVATE_valueEquals);case 10:return function(re,le){const de=re.mapValue.fields||{},ge=le.mapValue.fields||{};if(__PRIVATE_objectSize(de)!==__PRIVATE_objectSize(ge))return!1;for(const ve in de)if(de.hasOwnProperty(ve)&&(ge[ve]===void 0||!__PRIVATE_valueEquals(de[ve],ge[ve])))return!1;return!0}($,_);default:return fail()}}function __PRIVATE_arrayValueContains($,_){return($.values||[]).find(j=>__PRIVATE_valueEquals(j,_))!==void 0}function __PRIVATE_valueCompare($,_){if($===_)return 0;const j=__PRIVATE_typeOrder($),ee=__PRIVATE_typeOrder(_);if(j!==ee)return __PRIVATE_primitiveComparator(j,ee);switch(j){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator($.booleanValue,_.booleanValue);case 2:return function(le,de){const ge=__PRIVATE_normalizeNumber(le.integerValue||le.doubleValue),ve=__PRIVATE_normalizeNumber(de.integerValue||de.doubleValue);return ge<ve?-1:ge>ve?1:ge===ve?0:isNaN(ge)?isNaN(ve)?0:-1:1}($,_);case 3:return __PRIVATE_compareTimestamps($.timestampValue,_.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime($),__PRIVATE_getLocalWriteTime(_));case 5:return __PRIVATE_primitiveComparator($.stringValue,_.stringValue);case 6:return function(le,de){const ge=__PRIVATE_normalizeByteString(le),ve=__PRIVATE_normalizeByteString(de);return ge.compareTo(ve)}($.bytesValue,_.bytesValue);case 7:return function(le,de){const ge=le.split("/"),ve=de.split("/");for(let Ee=0;Ee<ge.length&&Ee<ve.length;Ee++){const Ce=__PRIVATE_primitiveComparator(ge[Ee],ve[Ee]);if(Ce!==0)return Ce}return __PRIVATE_primitiveComparator(ge.length,ve.length)}($.referenceValue,_.referenceValue);case 8:return function(le,de){const ge=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(le.latitude),__PRIVATE_normalizeNumber(de.latitude));return ge!==0?ge:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(le.longitude),__PRIVATE_normalizeNumber(de.longitude))}($.geoPointValue,_.geoPointValue);case 9:return function(le,de){const ge=le.values||[],ve=de.values||[];for(let Ee=0;Ee<ge.length&&Ee<ve.length;++Ee){const Ce=__PRIVATE_valueCompare(ge[Ee],ve[Ee]);if(Ce)return Ce}return __PRIVATE_primitiveComparator(ge.length,ve.length)}($.arrayValue,_.arrayValue);case 10:return function(le,de){if(le===ne.mapValue&&de===ne.mapValue)return 0;if(le===ne.mapValue)return 1;if(de===ne.mapValue)return-1;const ge=le.fields||{},ve=Object.keys(ge),Ee=de.fields||{},Ce=Object.keys(Ee);ve.sort(),Ce.sort();for(let Ae=0;Ae<ve.length&&Ae<Ce.length;++Ae){const Se=__PRIVATE_primitiveComparator(ve[Ae],Ce[Ae]);if(Se!==0)return Se;const ke=__PRIVATE_valueCompare(ge[ve[Ae]],Ee[Ce[Ae]]);if(ke!==0)return ke}return __PRIVATE_primitiveComparator(ve.length,Ce.length)}($.mapValue,_.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps($,_){if(typeof $=="string"&&typeof _=="string"&&$.length===_.length)return __PRIVATE_primitiveComparator($,_);const j=__PRIVATE_normalizeTimestamp($),ee=__PRIVATE_normalizeTimestamp(_),re=__PRIVATE_primitiveComparator(j.seconds,ee.seconds);return re!==0?re:__PRIVATE_primitiveComparator(j.nanos,ee.nanos)}function canonicalId($){return __PRIVATE_canonifyValue($)}function __PRIVATE_canonifyValue($){return"nullValue"in $?"null":"booleanValue"in $?""+$.booleanValue:"integerValue"in $?""+$.integerValue:"doubleValue"in $?""+$.doubleValue:"timestampValue"in $?function(j){const ee=__PRIVATE_normalizeTimestamp(j);return`time(${ee.seconds},${ee.nanos})`}($.timestampValue):"stringValue"in $?$.stringValue:"bytesValue"in $?function(j){return __PRIVATE_normalizeByteString(j).toBase64()}($.bytesValue):"referenceValue"in $?function(j){return DocumentKey.fromName(j).toString()}($.referenceValue):"geoPointValue"in $?function(j){return`geo(${j.latitude},${j.longitude})`}($.geoPointValue):"arrayValue"in $?function(j){let ee="[",re=!0;for(const le of j.values||[])re?re=!1:ee+=",",ee+=__PRIVATE_canonifyValue(le);return ee+"]"}($.arrayValue):"mapValue"in $?function(j){const ee=Object.keys(j.fields||{}).sort();let re="{",le=!0;for(const de of ee)le?le=!1:re+=",",re+=`${de}:${__PRIVATE_canonifyValue(j.fields[de])}`;return re+"}"}($.mapValue):fail()}function __PRIVATE_refValue($,_){return{referenceValue:`projects/${$.projectId}/databases/${$.database}/documents/${_.path.canonicalString()}`}}function isInteger($){return!!$&&"integerValue"in $}function isArray($){return!!$&&"arrayValue"in $}function __PRIVATE_isNullValue($){return!!$&&"nullValue"in $}function __PRIVATE_isNanValue($){return!!$&&"doubleValue"in $&&isNaN(Number($.doubleValue))}function __PRIVATE_isMapValue($){return!!$&&"mapValue"in $}function __PRIVATE_deepClone($){if($.geoPointValue)return{geoPointValue:Object.assign({},$.geoPointValue)};if($.timestampValue&&typeof $.timestampValue=="object")return{timestampValue:Object.assign({},$.timestampValue)};if($.mapValue){const _={mapValue:{fields:{}}};return forEach($.mapValue.fields,(j,ee)=>_.mapValue.fields[j]=__PRIVATE_deepClone(ee)),_}if($.arrayValue){const _={arrayValue:{values:[]}};for(let j=0;j<($.arrayValue.values||[]).length;++j)_.arrayValue.values[j]=__PRIVATE_deepClone($.arrayValue.values[j]);return _}return Object.assign({},$)}function __PRIVATE_isMaxValue($){return((($.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(_){this.value=_}static empty(){return new ObjectValue({mapValue:{}})}field(_){if(_.isEmpty())return this.value;{let j=this.value;for(let ee=0;ee<_.length-1;++ee)if(j=(j.mapValue.fields||{})[_.get(ee)],!__PRIVATE_isMapValue(j))return null;return j=(j.mapValue.fields||{})[_.lastSegment()],j||null}}set(_,j){this.getFieldsMap(_.popLast())[_.lastSegment()]=__PRIVATE_deepClone(j)}setAll(_){let j=FieldPath$1.emptyPath(),ee={},re=[];_.forEach((de,ge)=>{if(!j.isImmediateParentOf(ge)){const ve=this.getFieldsMap(j);this.applyChanges(ve,ee,re),ee={},re=[],j=ge.popLast()}de?ee[ge.lastSegment()]=__PRIVATE_deepClone(de):re.push(ge.lastSegment())});const le=this.getFieldsMap(j);this.applyChanges(le,ee,re)}delete(_){const j=this.field(_.popLast());__PRIVATE_isMapValue(j)&&j.mapValue.fields&&delete j.mapValue.fields[_.lastSegment()]}isEqual(_){return __PRIVATE_valueEquals(this.value,_.value)}getFieldsMap(_){let j=this.value;j.mapValue.fields||(j.mapValue={fields:{}});for(let ee=0;ee<_.length;++ee){let re=j.mapValue.fields[_.get(ee)];__PRIVATE_isMapValue(re)&&re.mapValue.fields||(re={mapValue:{fields:{}}},j.mapValue.fields[_.get(ee)]=re),j=re}return j.mapValue.fields}applyChanges(_,j,ee){forEach(j,(re,le)=>_[re]=le);for(const re of ee)delete _[re]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask($){const _=[];return forEach($.fields,(j,ee)=>{const re=new FieldPath$1([j]);if(__PRIVATE_isMapValue(ee)){const le=__PRIVATE_extractFieldMask(ee.mapValue).fields;if(le.length===0)_.push(re);else for(const de of le)_.push(re.child(de))}else _.push(re)}),new FieldMask(_)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(_,j,ee,re,le,de,ge){this.key=_,this.documentType=j,this.version=ee,this.readTime=re,this.createTime=le,this.data=de,this.documentState=ge}static newInvalidDocument(_){return new MutableDocument(_,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(_,j,ee,re){return new MutableDocument(_,1,j,SnapshotVersion.min(),ee,re,0)}static newNoDocument(_,j){return new MutableDocument(_,2,j,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(_,j){return new MutableDocument(_,3,j,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(_,j){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=_),this.version=_,this.documentType=1,this.data=j,this.documentState=0,this}convertToNoDocument(_){return this.version=_,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(_){return this.version=_,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(_){return this.readTime=_,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(_){return _ instanceof MutableDocument&&this.key.isEqual(_.key)&&this.version.isEqual(_.version)&&this.documentType===_.documentType&&this.documentState===_.documentState&&this.data.isEqual(_.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(_,j){this.position=_,this.inclusive=j}}function __PRIVATE_boundCompareToDocument($,_,j){let ee=0;for(let re=0;re<$.position.length;re++){const le=_[re],de=$.position[re];if(le.field.isKeyField()?ee=DocumentKey.comparator(DocumentKey.fromName(de.referenceValue),j.key):ee=__PRIVATE_valueCompare(de,j.data.field(le.field)),le.dir==="desc"&&(ee*=-1),ee!==0)break}return ee}function __PRIVATE_boundEquals($,_){if($===null)return _===null;if(_===null||$.inclusive!==_.inclusive||$.position.length!==_.position.length)return!1;for(let j=0;j<$.position.length;j++)if(!__PRIVATE_valueEquals($.position[j],_.position[j]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(_,j="asc"){this.field=_,this.dir=j}}function __PRIVATE_orderByEquals($,_){return $.dir===_.dir&&$.field.isEqual(_.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(_,j,ee){super(),this.field=_,this.op=j,this.value=ee}static create(_,j,ee){return _.isKeyField()?j==="in"||j==="not-in"?this.createKeyFieldInFilter(_,j,ee):new __PRIVATE_KeyFieldFilter(_,j,ee):j==="array-contains"?new __PRIVATE_ArrayContainsFilter(_,ee):j==="in"?new __PRIVATE_InFilter(_,ee):j==="not-in"?new __PRIVATE_NotInFilter(_,ee):j==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(_,ee):new FieldFilter(_,j,ee)}static createKeyFieldInFilter(_,j,ee){return j==="in"?new __PRIVATE_KeyFieldInFilter(_,ee):new __PRIVATE_KeyFieldNotInFilter(_,ee)}matches(_){const j=_.data.field(this.field);return this.op==="!="?j!==null&&this.matchesComparison(__PRIVATE_valueCompare(j,this.value)):j!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(j)&&this.matchesComparison(__PRIVATE_valueCompare(j,this.value))}matchesComparison(_){switch(this.op){case"<":return _<0;case"<=":return _<=0;case"==":return _===0;case"!=":return _!==0;case">":return _>0;case">=":return _>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(_,j){super(),this.filters=_,this.op=j,this.ue=null}static create(_,j){return new CompositeFilter(_,j)}matches(_){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(j=>!j.matches(_))===void 0:this.filters.find(j=>j.matches(_))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((_,j)=>_.concat(j.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction($){return $.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction($){return __PRIVATE_compositeFilterIsFlat($)&&__PRIVATE_compositeFilterIsConjunction($)}function __PRIVATE_compositeFilterIsFlat($){for(const _ of $.filters)if(_ instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter($){if($ instanceof FieldFilter)return $.field.canonicalString()+$.op.toString()+canonicalId($.value);if(__PRIVATE_compositeFilterIsFlatConjunction($))return $.filters.map(_=>__PRIVATE_canonifyFilter(_)).join(",");{const _=$.filters.map(j=>__PRIVATE_canonifyFilter(j)).join(",");return`${$.op}(${_})`}}function __PRIVATE_filterEquals($,_){return $ instanceof FieldFilter?function(ee,re){return re instanceof FieldFilter&&ee.op===re.op&&ee.field.isEqual(re.field)&&__PRIVATE_valueEquals(ee.value,re.value)}($,_):$ instanceof CompositeFilter?function(ee,re){return re instanceof CompositeFilter&&ee.op===re.op&&ee.filters.length===re.filters.length?ee.filters.reduce((le,de,ge)=>le&&__PRIVATE_filterEquals(de,re.filters[ge]),!0):!1}($,_):void fail()}function __PRIVATE_stringifyFilter($){return $ instanceof FieldFilter?function(j){return`${j.field.canonicalString()} ${j.op} ${canonicalId(j.value)}`}($):$ instanceof CompositeFilter?function(j){return j.op.toString()+" {"+j.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}($):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(_,j,ee){super(_,j,ee),this.key=DocumentKey.fromName(ee.referenceValue)}matches(_){const j=DocumentKey.comparator(_.key,this.key);return this.matchesComparison(j)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(_,j){super(_,"in",j),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",j)}matches(_){return this.keys.some(j=>j.isEqual(_.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(_,j){super(_,"not-in",j),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",j)}matches(_){return!this.keys.some(j=>j.isEqual(_.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue($,_){var j;return(((j=_.arrayValue)===null||j===void 0?void 0:j.values)||[]).map(ee=>DocumentKey.fromName(ee.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(_,j){super(_,"array-contains",j)}matches(_){const j=_.data.field(this.field);return isArray(j)&&__PRIVATE_arrayValueContains(j.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(_,j){super(_,"in",j)}matches(_){const j=_.data.field(this.field);return j!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,j)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(_,j){super(_,"not-in",j)}matches(_){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const j=_.data.field(this.field);return j!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,j)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(_,j){super(_,"array-contains-any",j)}matches(_){const j=_.data.field(this.field);return!(!isArray(j)||!j.arrayValue.values)&&j.arrayValue.values.some(ee=>__PRIVATE_arrayValueContains(this.value.arrayValue,ee))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(_,j=null,ee=[],re=[],le=null,de=null,ge=null){this.path=_,this.collectionGroup=j,this.orderBy=ee,this.filters=re,this.limit=le,this.startAt=de,this.endAt=ge,this.ce=null}}function __PRIVATE_newTarget($,_=null,j=[],ee=[],re=null,le=null,de=null){return new __PRIVATE_TargetImpl($,_,j,ee,re,le,de)}function __PRIVATE_canonifyTarget($){const _=__PRIVATE_debugCast($);if(_.ce===null){let j=_.path.canonicalString();_.collectionGroup!==null&&(j+="|cg:"+_.collectionGroup),j+="|f:",j+=_.filters.map(ee=>__PRIVATE_canonifyFilter(ee)).join(","),j+="|ob:",j+=_.orderBy.map(ee=>function(le){return le.field.canonicalString()+le.dir}(ee)).join(","),__PRIVATE_isNullOrUndefined(_.limit)||(j+="|l:",j+=_.limit),_.startAt&&(j+="|lb:",j+=_.startAt.inclusive?"b:":"a:",j+=_.startAt.position.map(ee=>canonicalId(ee)).join(",")),_.endAt&&(j+="|ub:",j+=_.endAt.inclusive?"a:":"b:",j+=_.endAt.position.map(ee=>canonicalId(ee)).join(",")),_.ce=j}return _.ce}function __PRIVATE_targetEquals($,_){if($.limit!==_.limit||$.orderBy.length!==_.orderBy.length)return!1;for(let j=0;j<$.orderBy.length;j++)if(!__PRIVATE_orderByEquals($.orderBy[j],_.orderBy[j]))return!1;if($.filters.length!==_.filters.length)return!1;for(let j=0;j<$.filters.length;j++)if(!__PRIVATE_filterEquals($.filters[j],_.filters[j]))return!1;return $.collectionGroup===_.collectionGroup&&!!$.path.isEqual(_.path)&&!!__PRIVATE_boundEquals($.startAt,_.startAt)&&__PRIVATE_boundEquals($.endAt,_.endAt)}function __PRIVATE_targetIsDocumentTarget($){return DocumentKey.isDocumentKey($.path)&&$.collectionGroup===null&&$.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(_,j=null,ee=[],re=[],le=null,de="F",ge=null,ve=null){this.path=_,this.collectionGroup=j,this.explicitOrderBy=ee,this.filters=re,this.limit=le,this.limitType=de,this.startAt=ge,this.endAt=ve,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function __PRIVATE_newQuery($,_,j,ee,re,le,de,ge){return new __PRIVATE_QueryImpl($,_,j,ee,re,le,de,ge)}function __PRIVATE_newQueryForPath($){return new __PRIVATE_QueryImpl($)}function __PRIVATE_queryMatchesAllDocuments($){return $.filters.length===0&&$.limit===null&&$.startAt==null&&$.endAt==null&&($.explicitOrderBy.length===0||$.explicitOrderBy.length===1&&$.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery($){return $.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy($){const _=__PRIVATE_debugCast($);if(_.le===null){_.le=[];const j=new Set;for(const le of _.explicitOrderBy)_.le.push(le),j.add(le.field.canonicalString());const ee=_.explicitOrderBy.length>0?_.explicitOrderBy[_.explicitOrderBy.length-1].dir:"asc";(function(de){let ge=new SortedSet(FieldPath$1.comparator);return de.filters.forEach(ve=>{ve.getFlattenedFilters().forEach(Ee=>{Ee.isInequality()&&(ge=ge.add(Ee.field))})}),ge})(_).forEach(le=>{j.has(le.canonicalString())||le.isKeyField()||_.le.push(new OrderBy(le,ee))}),j.has(FieldPath$1.keyField().canonicalString())||_.le.push(new OrderBy(FieldPath$1.keyField(),ee))}return _.le}function __PRIVATE_queryToTarget($){const _=__PRIVATE_debugCast($);return _.he||(_.he=__PRIVATE__queryToTarget(_,__PRIVATE_queryNormalizedOrderBy($))),_.he}function __PRIVATE__queryToTarget($,_){if($.limitType==="F")return __PRIVATE_newTarget($.path,$.collectionGroup,_,$.filters,$.limit,$.startAt,$.endAt);{_=_.map(re=>{const le=re.dir==="desc"?"asc":"desc";return new OrderBy(re.field,le)});const j=$.endAt?new Bound($.endAt.position,$.endAt.inclusive):null,ee=$.startAt?new Bound($.startAt.position,$.startAt.inclusive):null;return __PRIVATE_newTarget($.path,$.collectionGroup,_,$.filters,$.limit,j,ee)}}function __PRIVATE_queryWithAddedFilter($,_){const j=$.filters.concat([_]);return new __PRIVATE_QueryImpl($.path,$.collectionGroup,$.explicitOrderBy.slice(),j,$.limit,$.limitType,$.startAt,$.endAt)}function __PRIVATE_queryWithLimit($,_,j){return new __PRIVATE_QueryImpl($.path,$.collectionGroup,$.explicitOrderBy.slice(),$.filters.slice(),_,j,$.startAt,$.endAt)}function __PRIVATE_queryEquals($,_){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget($),__PRIVATE_queryToTarget(_))&&$.limitType===_.limitType}function __PRIVATE_canonifyQuery($){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget($))}|lt:${$.limitType}`}function __PRIVATE_stringifyQuery($){return`Query(target=${function(j){let ee=j.path.canonicalString();return j.collectionGroup!==null&&(ee+=" collectionGroup="+j.collectionGroup),j.filters.length>0&&(ee+=`, filters: [${j.filters.map(re=>__PRIVATE_stringifyFilter(re)).join(", ")}]`),__PRIVATE_isNullOrUndefined(j.limit)||(ee+=", limit: "+j.limit),j.orderBy.length>0&&(ee+=`, orderBy: [${j.orderBy.map(re=>function(de){return`${de.field.canonicalString()} (${de.dir})`}(re)).join(", ")}]`),j.startAt&&(ee+=", startAt: ",ee+=j.startAt.inclusive?"b:":"a:",ee+=j.startAt.position.map(re=>canonicalId(re)).join(",")),j.endAt&&(ee+=", endAt: ",ee+=j.endAt.inclusive?"a:":"b:",ee+=j.endAt.position.map(re=>canonicalId(re)).join(",")),`Target(${ee})`}(__PRIVATE_queryToTarget($))}; limitType=${$.limitType})`}function __PRIVATE_queryMatches($,_){return _.isFoundDocument()&&function(ee,re){const le=re.key.path;return ee.collectionGroup!==null?re.key.hasCollectionId(ee.collectionGroup)&&ee.path.isPrefixOf(le):DocumentKey.isDocumentKey(ee.path)?ee.path.isEqual(le):ee.path.isImmediateParentOf(le)}($,_)&&function(ee,re){for(const le of __PRIVATE_queryNormalizedOrderBy(ee))if(!le.field.isKeyField()&&re.data.field(le.field)===null)return!1;return!0}($,_)&&function(ee,re){for(const le of ee.filters)if(!le.matches(re))return!1;return!0}($,_)&&function(ee,re){return!(ee.startAt&&!function(de,ge,ve){const Ee=__PRIVATE_boundCompareToDocument(de,ge,ve);return de.inclusive?Ee<=0:Ee<0}(ee.startAt,__PRIVATE_queryNormalizedOrderBy(ee),re)||ee.endAt&&!function(de,ge,ve){const Ee=__PRIVATE_boundCompareToDocument(de,ge,ve);return de.inclusive?Ee>=0:Ee>0}(ee.endAt,__PRIVATE_queryNormalizedOrderBy(ee),re))}($,_)}function __PRIVATE_queryCollectionGroup($){return $.collectionGroup||($.path.length%2==1?$.path.lastSegment():$.path.get($.path.length-2))}function __PRIVATE_newQueryComparator($){return(_,j)=>{let ee=!1;for(const re of __PRIVATE_queryNormalizedOrderBy($)){const le=__PRIVATE_compareDocs(re,_,j);if(le!==0)return le;ee=ee||re.field.isKeyField()}return 0}}function __PRIVATE_compareDocs($,_,j){const ee=$.field.isKeyField()?DocumentKey.comparator(_.key,j.key):function(le,de,ge){const ve=de.data.field(le),Ee=ge.data.field(le);return ve!==null&&Ee!==null?__PRIVATE_valueCompare(ve,Ee):fail()}($.field,_,j);switch($.dir){case"asc":return ee;case"desc":return-1*ee;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(_,j){this.mapKeyFn=_,this.equalsFn=j,this.inner={},this.innerSize=0}get(_){const j=this.mapKeyFn(_),ee=this.inner[j];if(ee!==void 0){for(const[re,le]of ee)if(this.equalsFn(re,_))return le}}has(_){return this.get(_)!==void 0}set(_,j){const ee=this.mapKeyFn(_),re=this.inner[ee];if(re===void 0)return this.inner[ee]=[[_,j]],void this.innerSize++;for(let le=0;le<re.length;le++)if(this.equalsFn(re[le][0],_))return void(re[le]=[_,j]);re.push([_,j]),this.innerSize++}delete(_){const j=this.mapKeyFn(_),ee=this.inner[j];if(ee===void 0)return!1;for(let re=0;re<ee.length;re++)if(this.equalsFn(ee[re][0],_))return ee.length===1?delete this.inner[j]:ee.splice(re,1),this.innerSize--,!0;return!1}forEach(_){forEach(this.inner,(j,ee)=>{for(const[re,le]of ee)_(re,le)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie=new SortedMap$1(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return ie}const se=new SortedMap$1(DocumentKey.comparator);function documentMap(...$){let _=se;for(const j of $)_=_.insert(j.key,j);return _}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap($){let _=se;return $.forEach((j,ee)=>_=_.insert(j,ee.overlayedDocument)),_}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap($=>$.toString(),($,_)=>$.isEqual(_))}const oe=new SortedMap$1(DocumentKey.comparator),_e=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...$){let _=_e;for(const j of $)_=_.add(j);return _}const ae=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return ae}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble($,_){if($.useProto3Json){if(isNaN(_))return{doubleValue:"NaN"};if(_===1/0)return{doubleValue:"Infinity"};if(_===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(_)?"-0":_}}function __PRIVATE_toInteger($){return{integerValue:""+$}}function toNumber($,_){return isSafeInteger(_)?__PRIVATE_toInteger(_):__PRIVATE_toDouble($,_)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView($,_,j){return $ instanceof __PRIVATE_ServerTimestampTransform?function(re,le){const de={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:re.seconds,nanos:re.nanoseconds}}}};return le&&__PRIVATE_isServerTimestamp(le)&&(le=__PRIVATE_getPreviousValue(le)),le&&(de.fields.__previous_value__=le),{mapValue:de}}(j,_):$ instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation($,_):$ instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation($,_):function(re,le){const de=__PRIVATE_computeTransformOperationBaseValue(re,le),ge=asNumber(de)+asNumber(re.Ie);return isInteger(de)&&isInteger(re.Ie)?__PRIVATE_toInteger(ge):__PRIVATE_toDouble(re.serializer,ge)}($,_)}function __PRIVATE_applyTransformOperationToRemoteDocument($,_,j){return $ instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation($,_):$ instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation($,_):j}function __PRIVATE_computeTransformOperationBaseValue($,_){return $ instanceof __PRIVATE_NumericIncrementTransformOperation?function(ee){return isInteger(ee)||function(le){return!!le&&"doubleValue"in le}(ee)}(_)?_:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(_){super(),this.elements=_}}function __PRIVATE_applyArrayUnionTransformOperation($,_){const j=__PRIVATE_coercedFieldValuesArray(_);for(const ee of $.elements)j.some(re=>__PRIVATE_valueEquals(re,ee))||j.push(ee);return{arrayValue:{values:j}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(_){super(),this.elements=_}}function __PRIVATE_applyArrayRemoveTransformOperation($,_){let j=__PRIVATE_coercedFieldValuesArray(_);for(const ee of $.elements)j=j.filter(re=>!__PRIVATE_valueEquals(re,ee));return{arrayValue:{values:j}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(_,j){super(),this.serializer=_,this.Ie=j}}function asNumber($){return __PRIVATE_normalizeNumber($.integerValue||$.doubleValue)}function __PRIVATE_coercedFieldValuesArray($){return isArray($)&&$.arrayValue.values?$.arrayValue.values.slice():[]}function __PRIVATE_fieldTransformEquals($,_){return $.field.isEqual(_.field)&&function(ee,re){return ee instanceof __PRIVATE_ArrayUnionTransformOperation&&re instanceof __PRIVATE_ArrayUnionTransformOperation||ee instanceof __PRIVATE_ArrayRemoveTransformOperation&&re instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(ee.elements,re.elements,__PRIVATE_valueEquals):ee instanceof __PRIVATE_NumericIncrementTransformOperation&&re instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(ee.Ie,re.Ie):ee instanceof __PRIVATE_ServerTimestampTransform&&re instanceof __PRIVATE_ServerTimestampTransform}($.transform,_.transform)}class MutationResult{constructor(_,j){this.version=_,this.transformResults=j}}class Precondition{constructor(_,j){this.updateTime=_,this.exists=j}static none(){return new Precondition}static exists(_){return new Precondition(void 0,_)}static updateTime(_){return new Precondition(_)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(_){return this.exists===_.exists&&(this.updateTime?!!_.updateTime&&this.updateTime.isEqual(_.updateTime):!_.updateTime)}}function __PRIVATE_preconditionIsValidForDocument($,_){return $.updateTime!==void 0?_.isFoundDocument()&&_.version.isEqual($.updateTime):$.exists===void 0||$.exists===_.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation($,_){if(!$.hasLocalMutations||_&&_.fields.length===0)return null;if(_===null)return $.isNoDocument()?new __PRIVATE_DeleteMutation($.key,Precondition.none()):new __PRIVATE_SetMutation($.key,$.data,Precondition.none());{const j=$.data,ee=ObjectValue.empty();let re=new SortedSet(FieldPath$1.comparator);for(let le of _.fields)if(!re.has(le)){let de=j.field(le);de===null&&le.length>1&&(le=le.popLast(),de=j.field(le)),de===null?ee.delete(le):ee.set(le,de),re=re.add(le)}return new __PRIVATE_PatchMutation($.key,ee,new FieldMask(re.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument($,_,j){$ instanceof __PRIVATE_SetMutation?function(re,le,de){const ge=re.value.clone(),ve=__PRIVATE_serverTransformResults(re.fieldTransforms,le,de.transformResults);ge.setAll(ve),le.convertToFoundDocument(de.version,ge).setHasCommittedMutations()}($,_,j):$ instanceof __PRIVATE_PatchMutation?function(re,le,de){if(!__PRIVATE_preconditionIsValidForDocument(re.precondition,le))return void le.convertToUnknownDocument(de.version);const ge=__PRIVATE_serverTransformResults(re.fieldTransforms,le,de.transformResults),ve=le.data;ve.setAll(__PRIVATE_getPatch(re)),ve.setAll(ge),le.convertToFoundDocument(de.version,ve).setHasCommittedMutations()}($,_,j):function(re,le,de){le.convertToNoDocument(de.version).setHasCommittedMutations()}(0,_,j)}function __PRIVATE_mutationApplyToLocalView($,_,j,ee){return $ instanceof __PRIVATE_SetMutation?function(le,de,ge,ve){if(!__PRIVATE_preconditionIsValidForDocument(le.precondition,de))return ge;const Ee=le.value.clone(),Ce=__PRIVATE_localTransformResults(le.fieldTransforms,ve,de);return Ee.setAll(Ce),de.convertToFoundDocument(de.version,Ee).setHasLocalMutations(),null}($,_,j,ee):$ instanceof __PRIVATE_PatchMutation?function(le,de,ge,ve){if(!__PRIVATE_preconditionIsValidForDocument(le.precondition,de))return ge;const Ee=__PRIVATE_localTransformResults(le.fieldTransforms,ve,de),Ce=de.data;return Ce.setAll(__PRIVATE_getPatch(le)),Ce.setAll(Ee),de.convertToFoundDocument(de.version,Ce).setHasLocalMutations(),ge===null?null:ge.unionWith(le.fieldMask.fields).unionWith(le.fieldTransforms.map(Ae=>Ae.field))}($,_,j,ee):function(le,de,ge){return __PRIVATE_preconditionIsValidForDocument(le.precondition,de)?(de.convertToNoDocument(de.version).setHasLocalMutations(),null):ge}($,_,j)}function __PRIVATE_mutationExtractBaseValue($,_){let j=null;for(const ee of $.fieldTransforms){const re=_.data.field(ee.field),le=__PRIVATE_computeTransformOperationBaseValue(ee.transform,re||null);le!=null&&(j===null&&(j=ObjectValue.empty()),j.set(ee.field,le))}return j||null}function __PRIVATE_mutationEquals($,_){return $.type===_.type&&!!$.key.isEqual(_.key)&&!!$.precondition.isEqual(_.precondition)&&!!function(ee,re){return ee===void 0&&re===void 0||!(!ee||!re)&&__PRIVATE_arrayEquals(ee,re,(le,de)=>__PRIVATE_fieldTransformEquals(le,de))}($.fieldTransforms,_.fieldTransforms)&&($.type===0?$.value.isEqual(_.value):$.type!==1||$.data.isEqual(_.data)&&$.fieldMask.isEqual(_.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(_,j,ee,re=[]){super(),this.key=_,this.value=j,this.precondition=ee,this.fieldTransforms=re,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(_,j,ee,re,le=[]){super(),this.key=_,this.data=j,this.fieldMask=ee,this.precondition=re,this.fieldTransforms=le,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch($){const _=new Map;return $.fieldMask.fields.forEach(j=>{if(!j.isEmpty()){const ee=$.data.field(j);_.set(j,ee)}}),_}function __PRIVATE_serverTransformResults($,_,j){const ee=new Map;__PRIVATE_hardAssert($.length===j.length);for(let re=0;re<j.length;re++){const le=$[re],de=le.transform,ge=_.data.field(le.field);ee.set(le.field,__PRIVATE_applyTransformOperationToRemoteDocument(de,ge,j[re]))}return ee}function __PRIVATE_localTransformResults($,_,j){const ee=new Map;for(const re of $){const le=re.transform,de=j.data.field(re.field);ee.set(re.field,__PRIVATE_applyTransformOperationToLocalView(le,de,_))}return ee}class __PRIVATE_DeleteMutation extends Mutation{constructor(_,j){super(),this.key=_,this.precondition=j,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(_,j){super(),this.key=_,this.precondition=j,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(_,j,ee,re){this.batchId=_,this.localWriteTime=j,this.baseMutations=ee,this.mutations=re}applyToRemoteDocument(_,j){const ee=j.mutationResults;for(let re=0;re<this.mutations.length;re++){const le=this.mutations[re];le.key.isEqual(_.key)&&__PRIVATE_mutationApplyToRemoteDocument(le,_,ee[re])}}applyToLocalView(_,j){for(const ee of this.baseMutations)ee.key.isEqual(_.key)&&(j=__PRIVATE_mutationApplyToLocalView(ee,_,j,this.localWriteTime));for(const ee of this.mutations)ee.key.isEqual(_.key)&&(j=__PRIVATE_mutationApplyToLocalView(ee,_,j,this.localWriteTime));return j}applyToLocalDocumentSet(_,j){const ee=__PRIVATE_newMutationMap();return this.mutations.forEach(re=>{const le=_.get(re.key),de=le.overlayedDocument;let ge=this.applyToLocalView(de,le.mutatedFields);ge=j.has(re.key)?null:ge;const ve=__PRIVATE_calculateOverlayMutation(de,ge);ve!==null&&ee.set(re.key,ve),de.isValidDocument()||de.convertToNoDocument(SnapshotVersion.min())}),ee}keys(){return this.mutations.reduce((_,j)=>_.add(j.key),__PRIVATE_documentKeySet())}isEqual(_){return this.batchId===_.batchId&&__PRIVATE_arrayEquals(this.mutations,_.mutations,(j,ee)=>__PRIVATE_mutationEquals(j,ee))&&__PRIVATE_arrayEquals(this.baseMutations,_.baseMutations,(j,ee)=>__PRIVATE_mutationEquals(j,ee))}}class MutationBatchResult{constructor(_,j,ee,re){this.batch=_,this.commitVersion=j,this.mutationResults=ee,this.docVersions=re}static from(_,j,ee){__PRIVATE_hardAssert(_.mutations.length===ee.length);let re=function(){return oe}();const le=_.mutations;for(let de=0;de<le.length;de++)re=re.insert(le[de].key,ee[de].version);return new MutationBatchResult(_,j,ee,re)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(_,j){this.largestBatchId=_,this.mutation=j}getKey(){return this.mutation.key}isEqual(_){return _!==null&&this.mutation===_.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(_,j){this.count=_,this.unchangedNames=j}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue,ce;function __PRIVATE_isPermanentError($){switch($){default:return fail();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function __PRIVATE_mapCodeFromRpcCode($){if($===void 0)return __PRIVATE_logError("GRPC error has no .code"),C.UNKNOWN;switch($){case ue.OK:return C.OK;case ue.CANCELLED:return C.CANCELLED;case ue.UNKNOWN:return C.UNKNOWN;case ue.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case ue.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case ue.INTERNAL:return C.INTERNAL;case ue.UNAVAILABLE:return C.UNAVAILABLE;case ue.UNAUTHENTICATED:return C.UNAUTHENTICATED;case ue.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case ue.NOT_FOUND:return C.NOT_FOUND;case ue.ALREADY_EXISTS:return C.ALREADY_EXISTS;case ue.PERMISSION_DENIED:return C.PERMISSION_DENIED;case ue.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case ue.ABORTED:return C.ABORTED;case ue.OUT_OF_RANGE:return C.OUT_OF_RANGE;case ue.UNIMPLEMENTED:return C.UNIMPLEMENTED;case ue.DATA_LOSS:return C.DATA_LOSS;default:return fail()}}(ce=ue||(ue={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue($){const _=__PRIVATE_newTextEncoder().encode($),j=new Md5;return j.update(_),new Uint8Array(j.digest())}function __PRIVATE_get64BitUints($){const _=new DataView($.buffer),j=_.getUint32(0,!0),ee=_.getUint32(4,!0),re=_.getUint32(8,!0),le=_.getUint32(12,!0);return[new Integer([j,ee],0),new Integer([re,le],0)]}class BloomFilter{constructor(_,j,ee){if(this.bitmap=_,this.padding=j,this.hashCount=ee,j<0||j>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${j}`);if(ee<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${ee}`);if(_.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${ee}`);if(_.length===0&&j!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${j}`);this.Te=8*_.length-j,this.Ee=Integer.fromNumber(this.Te)}de(_,j,ee){let re=_.add(j.multiply(Integer.fromNumber(ee)));return re.compare(he)===1&&(re=new Integer([re.getBits(0),re.getBits(1)],0)),re.modulo(this.Ee).toNumber()}Ae(_){return(this.bitmap[Math.floor(_/8)]&1<<_%8)!=0}mightContain(_){if(this.Te===0)return!1;const j=__PRIVATE_getMd5HashValue(_),[ee,re]=__PRIVATE_get64BitUints(j);for(let le=0;le<this.hashCount;le++){const de=this.de(ee,re,le);if(!this.Ae(de))return!1}return!0}static create(_,j,ee){const re=_%8==0?0:8-_%8,le=new Uint8Array(Math.ceil(_/8)),de=new BloomFilter(le,re,j);return ee.forEach(ge=>de.insert(ge)),de}insert(_){if(this.Te===0)return;const j=__PRIVATE_getMd5HashValue(_),[ee,re]=__PRIVATE_get64BitUints(j);for(let le=0;le<this.hashCount;le++){const de=this.de(ee,re,le);this.Re(de)}}Re(_){const j=Math.floor(_/8),ee=_%8;this.bitmap[j]|=1<<ee}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(_,j,ee,re,le){this.snapshotVersion=_,this.targetChanges=j,this.targetMismatches=ee,this.documentUpdates=re,this.resolvedLimboDocuments=le}static createSynthesizedRemoteEventForCurrentChange(_,j,ee){const re=new Map;return re.set(_,TargetChange.createSynthesizedTargetChangeForCurrentChange(_,j,ee)),new RemoteEvent(SnapshotVersion.min(),re,new SortedMap$1(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(_,j,ee,re,le){this.resumeToken=_,this.current=j,this.addedDocuments=ee,this.modifiedDocuments=re,this.removedDocuments=le}static createSynthesizedTargetChangeForCurrentChange(_,j,ee){return new TargetChange(ee,j,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(_,j,ee,re){this.Ve=_,this.removedTargetIds=j,this.key=ee,this.me=re}}class __PRIVATE_ExistenceFilterChange{constructor(_,j){this.targetId=_,this.fe=j}}class __PRIVATE_WatchTargetChange{constructor(_,j,ee=ByteString.EMPTY_BYTE_STRING,re=null){this.state=_,this.targetIds=j,this.resumeToken=ee,this.cause=re}}class __PRIVATE_TargetState{constructor(){this.ge=0,this.pe=__PRIVATE_snapshotChangesMap(),this.ye=ByteString.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(_){_.approximateByteSize()>0&&(this.Se=!0,this.ye=_)}ve(){let _=__PRIVATE_documentKeySet(),j=__PRIVATE_documentKeySet(),ee=__PRIVATE_documentKeySet();return this.pe.forEach((re,le)=>{switch(le){case 0:_=_.add(re);break;case 2:j=j.add(re);break;case 1:ee=ee.add(re);break;default:fail()}}),new TargetChange(this.ye,this.we,_,j,ee)}Fe(){this.Se=!1,this.pe=__PRIVATE_snapshotChangesMap()}Me(_,j){this.Se=!0,this.pe=this.pe.insert(_,j)}xe(_){this.Se=!0,this.pe=this.pe.remove(_)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class __PRIVATE_WatchChangeAggregator{constructor(_){this.Le=_,this.ke=new Map,this.qe=__PRIVATE_mutableDocumentMap(),this.Qe=__PRIVATE_documentTargetMap(),this.Ke=new SortedMap$1(__PRIVATE_primitiveComparator)}$e(_){for(const j of _.Ve)_.me&&_.me.isFoundDocument()?this.Ue(j,_.me):this.We(j,_.key,_.me);for(const j of _.removedTargetIds)this.We(j,_.key,_.me)}Ge(_){this.forEachTarget(_,j=>{const ee=this.ze(j);switch(_.state){case 0:this.je(j)&&ee.Ce(_.resumeToken);break;case 1:ee.Ne(),ee.be||ee.Fe(),ee.Ce(_.resumeToken);break;case 2:ee.Ne(),ee.be||this.removeTarget(j);break;case 3:this.je(j)&&(ee.Be(),ee.Ce(_.resumeToken));break;case 4:this.je(j)&&(this.He(j),ee.Ce(_.resumeToken));break;default:fail()}})}forEachTarget(_,j){_.targetIds.length>0?_.targetIds.forEach(j):this.ke.forEach((ee,re)=>{this.je(re)&&j(re)})}Je(_){const j=_.targetId,ee=_.fe.count,re=this.Ye(j);if(re){const le=re.target;if(__PRIVATE_targetIsDocumentTarget(le))if(ee===0){const de=new DocumentKey(le.path);this.We(j,de,MutableDocument.newNoDocument(de,SnapshotVersion.min()))}else __PRIVATE_hardAssert(ee===1);else{const de=this.Ze(j);if(de!==ee){const ge=this.Xe(_),ve=ge?this.et(ge,_,de):1;if(ve!==0){this.He(j);const Ee=ve===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(j,Ee)}}}}}Xe(_){const j=_.fe.unchangedNames;if(!j||!j.bits)return null;const{bits:{bitmap:ee="",padding:re=0},hashCount:le=0}=j;let de,ge;try{de=__PRIVATE_normalizeByteString(ee).toUint8Array()}catch(ve){if(ve instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+ve.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw ve}try{ge=new BloomFilter(de,re,le)}catch(ve){return __PRIVATE_logWarn(ve instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",ve),null}return ge.Te===0?null:ge}et(_,j,ee){return j.fe.count===ee-this.rt(_,j.targetId)?0:2}rt(_,j){const ee=this.Le.getRemoteKeysForTarget(j);let re=0;return ee.forEach(le=>{const de=this.Le.nt(),ge=`projects/${de.projectId}/databases/${de.database}/documents/${le.path.canonicalString()}`;_.mightContain(ge)||(this.We(j,le,null),re++)}),re}it(_){const j=new Map;this.ke.forEach((le,de)=>{const ge=this.Ye(de);if(ge){if(le.current&&__PRIVATE_targetIsDocumentTarget(ge.target)){const ve=new DocumentKey(ge.target.path);this.qe.get(ve)!==null||this.st(de,ve)||this.We(de,ve,MutableDocument.newNoDocument(ve,_))}le.De&&(j.set(de,le.ve()),le.Fe())}});let ee=__PRIVATE_documentKeySet();this.Qe.forEach((le,de)=>{let ge=!0;de.forEachWhile(ve=>{const Ee=this.Ye(ve);return!Ee||Ee.purpose==="TargetPurposeLimboResolution"||(ge=!1,!1)}),ge&&(ee=ee.add(le))}),this.qe.forEach((le,de)=>de.setReadTime(_));const re=new RemoteEvent(_,j,this.Ke,this.qe,ee);return this.qe=__PRIVATE_mutableDocumentMap(),this.Qe=__PRIVATE_documentTargetMap(),this.Ke=new SortedMap$1(__PRIVATE_primitiveComparator),re}Ue(_,j){if(!this.je(_))return;const ee=this.st(_,j.key)?2:0;this.ze(_).Me(j.key,ee),this.qe=this.qe.insert(j.key,j),this.Qe=this.Qe.insert(j.key,this.ot(j.key).add(_))}We(_,j,ee){if(!this.je(_))return;const re=this.ze(_);this.st(_,j)?re.Me(j,1):re.xe(j),this.Qe=this.Qe.insert(j,this.ot(j).delete(_)),ee&&(this.qe=this.qe.insert(j,ee))}removeTarget(_){this.ke.delete(_)}Ze(_){const j=this.ze(_).ve();return this.Le.getRemoteKeysForTarget(_).size+j.addedDocuments.size-j.removedDocuments.size}Oe(_){this.ze(_).Oe()}ze(_){let j=this.ke.get(_);return j||(j=new __PRIVATE_TargetState,this.ke.set(_,j)),j}ot(_){let j=this.Qe.get(_);return j||(j=new SortedSet(__PRIVATE_primitiveComparator),this.Qe=this.Qe.insert(_,j)),j}je(_){const j=this.Ye(_)!==null;return j||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",_),j}Ye(_){const j=this.ke.get(_);return j&&j.be?null:this.Le._t(_)}He(_){this.ke.set(_,new __PRIVATE_TargetState),this.Le.getRemoteKeysForTarget(_).forEach(j=>{this.We(_,j,null)})}st(_,j){return this.Le.getRemoteKeysForTarget(_).has(j)}}function __PRIVATE_documentTargetMap(){return new SortedMap$1(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap$1(DocumentKey.comparator)}const Pe={asc:"ASCENDING",desc:"DESCENDING"},Ie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Te={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(_,j){this.databaseId=_,this.useProto3Json=j}}function __PRIVATE_toInt32Proto($,_){return $.useProto3Json||__PRIVATE_isNullOrUndefined(_)?_:{value:_}}function toTimestamp($,_){return $.useProto3Json?`${new Date(1e3*_.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+_.nanoseconds).slice(-9)}Z`:{seconds:""+_.seconds,nanos:_.nanoseconds}}function __PRIVATE_toBytes($,_){return $.useProto3Json?_.toBase64():_.toUint8Array()}function __PRIVATE_toVersion($,_){return toTimestamp($,_.toTimestamp())}function __PRIVATE_fromVersion($){return __PRIVATE_hardAssert(!!$),SnapshotVersion.fromTimestamp(function(j){const ee=__PRIVATE_normalizeTimestamp(j);return new Timestamp(ee.seconds,ee.nanos)}($))}function __PRIVATE_toResourceName($,_){return function(ee){return new ResourcePath(["projects",ee.projectId,"databases",ee.database])}($).child("documents").child(_).canonicalString()}function __PRIVATE_fromResourceName($){const _=ResourcePath.fromString($);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(_)),_}function __PRIVATE_toName($,_){return __PRIVATE_toResourceName($.databaseId,_.path)}function fromName($,_){const j=__PRIVATE_fromResourceName(_);if(j.get(1)!==$.databaseId.projectId)throw new FirestoreError(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+j.get(1)+" vs "+$.databaseId.projectId);if(j.get(3)!==$.databaseId.database)throw new FirestoreError(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+j.get(3)+" vs "+$.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(j))}function __PRIVATE_toQueryPath($,_){return __PRIVATE_toResourceName($.databaseId,_)}function __PRIVATE_fromQueryPath($){const _=__PRIVATE_fromResourceName($);return _.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(_)}function __PRIVATE_getEncodedDatabaseId($){return new ResourcePath(["projects",$.databaseId.projectId,"databases",$.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName($){return __PRIVATE_hardAssert($.length>4&&$.get(4)==="documents"),$.popFirst(5)}function __PRIVATE_toMutationDocument($,_,j){return{name:__PRIVATE_toName($,_),fields:j.value.mapValue.fields}}function __PRIVATE_fromWatchChange($,_){let j;if("targetChange"in _){_.targetChange;const ee=function(Ee){return Ee==="NO_CHANGE"?0:Ee==="ADD"?1:Ee==="REMOVE"?2:Ee==="CURRENT"?3:Ee==="RESET"?4:fail()}(_.targetChange.targetChangeType||"NO_CHANGE"),re=_.targetChange.targetIds||[],le=function(Ee,Ce){return Ee.useProto3Json?(__PRIVATE_hardAssert(Ce===void 0||typeof Ce=="string"),ByteString.fromBase64String(Ce||"")):(__PRIVATE_hardAssert(Ce===void 0||Ce instanceof Uint8Array),ByteString.fromUint8Array(Ce||new Uint8Array))}($,_.targetChange.resumeToken),de=_.targetChange.cause,ge=de&&function(Ee){const Ce=Ee.code===void 0?C.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(Ee.code);return new FirestoreError(Ce,Ee.message||"")}(de);j=new __PRIVATE_WatchTargetChange(ee,re,le,ge||null)}else if("documentChange"in _){_.documentChange;const ee=_.documentChange;ee.document,ee.document.name,ee.document.updateTime;const re=fromName($,ee.document.name),le=__PRIVATE_fromVersion(ee.document.updateTime),de=ee.document.createTime?__PRIVATE_fromVersion(ee.document.createTime):SnapshotVersion.min(),ge=new ObjectValue({mapValue:{fields:ee.document.fields}}),ve=MutableDocument.newFoundDocument(re,le,de,ge),Ee=ee.targetIds||[],Ce=ee.removedTargetIds||[];j=new __PRIVATE_DocumentWatchChange(Ee,Ce,ve.key,ve)}else if("documentDelete"in _){_.documentDelete;const ee=_.documentDelete;ee.document;const re=fromName($,ee.document),le=ee.readTime?__PRIVATE_fromVersion(ee.readTime):SnapshotVersion.min(),de=MutableDocument.newNoDocument(re,le),ge=ee.removedTargetIds||[];j=new __PRIVATE_DocumentWatchChange([],ge,de.key,de)}else if("documentRemove"in _){_.documentRemove;const ee=_.documentRemove;ee.document;const re=fromName($,ee.document),le=ee.removedTargetIds||[];j=new __PRIVATE_DocumentWatchChange([],le,re,null)}else{if(!("filter"in _))return fail();{_.filter;const ee=_.filter;ee.targetId;const{count:re=0,unchangedNames:le}=ee,de=new ExistenceFilter(re,le),ge=ee.targetId;j=new __PRIVATE_ExistenceFilterChange(ge,de)}}return j}function toMutation($,_){let j;if(_ instanceof __PRIVATE_SetMutation)j={update:__PRIVATE_toMutationDocument($,_.key,_.value)};else if(_ instanceof __PRIVATE_DeleteMutation)j={delete:__PRIVATE_toName($,_.key)};else if(_ instanceof __PRIVATE_PatchMutation)j={update:__PRIVATE_toMutationDocument($,_.key,_.data),updateMask:__PRIVATE_toDocumentMask(_.fieldMask)};else{if(!(_ instanceof __PRIVATE_VerifyMutation))return fail();j={verify:__PRIVATE_toName($,_.key)}}return _.fieldTransforms.length>0&&(j.updateTransforms=_.fieldTransforms.map(ee=>function(le,de){const ge=de.transform;if(ge instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:de.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(ge instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:de.field.canonicalString(),appendMissingElements:{values:ge.elements}};if(ge instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:de.field.canonicalString(),removeAllFromArray:{values:ge.elements}};if(ge instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:de.field.canonicalString(),increment:ge.Ie};throw fail()}(0,ee))),_.precondition.isNone||(j.currentDocument=function(re,le){return le.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(re,le.updateTime)}:le.exists!==void 0?{exists:le.exists}:fail()}($,_.precondition)),j}function __PRIVATE_fromWriteResults($,_){return $&&$.length>0?(__PRIVATE_hardAssert(_!==void 0),$.map(j=>function(re,le){let de=re.updateTime?__PRIVATE_fromVersion(re.updateTime):__PRIVATE_fromVersion(le);return de.isEqual(SnapshotVersion.min())&&(de=__PRIVATE_fromVersion(le)),new MutationResult(de,re.transformResults||[])}(j,_))):[]}function __PRIVATE_toDocumentsTarget($,_){return{documents:[__PRIVATE_toQueryPath($,_.path)]}}function __PRIVATE_toQueryTarget($,_){const j={structuredQuery:{}},ee=_.path;_.collectionGroup!==null?(j.parent=__PRIVATE_toQueryPath($,ee),j.structuredQuery.from=[{collectionId:_.collectionGroup,allDescendants:!0}]):(j.parent=__PRIVATE_toQueryPath($,ee.popLast()),j.structuredQuery.from=[{collectionId:ee.lastSegment()}]);const re=function(ve){if(ve.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(ve,"and"))}(_.filters);re&&(j.structuredQuery.where=re);const le=function(ve){if(ve.length!==0)return ve.map(Ee=>function(Ae){return{field:__PRIVATE_toFieldPathReference(Ae.field),direction:__PRIVATE_toDirection(Ae.dir)}}(Ee))}(_.orderBy);le&&(j.structuredQuery.orderBy=le);const de=__PRIVATE_toInt32Proto($,_.limit);return de!==null&&(j.structuredQuery.limit=de),_.startAt&&(j.structuredQuery.startAt=function(ve){return{before:ve.inclusive,values:ve.position}}(_.startAt)),_.endAt&&(j.structuredQuery.endAt=function(ve){return{before:!ve.inclusive,values:ve.position}}(_.endAt)),j}function __PRIVATE_convertQueryTargetToQuery($){let _=__PRIVATE_fromQueryPath($.parent);const j=$.structuredQuery,ee=j.from?j.from.length:0;let re=null;if(ee>0){__PRIVATE_hardAssert(ee===1);const Ce=j.from[0];Ce.allDescendants?re=Ce.collectionId:_=_.child(Ce.collectionId)}let le=[];j.where&&(le=function(Ae){const Se=__PRIVATE_fromFilter(Ae);return Se instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(Se)?Se.getFilters():[Se]}(j.where));let de=[];j.orderBy&&(de=function(Ae){return Ae.map(Se=>function(we){return new OrderBy(__PRIVATE_fromFieldPathReference(we.field),function(Le){switch(Le){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(we.direction))}(Se))}(j.orderBy));let ge=null;j.limit&&(ge=function(Ae){let Se;return Se=typeof Ae=="object"?Ae.value:Ae,__PRIVATE_isNullOrUndefined(Se)?null:Se}(j.limit));let ve=null;j.startAt&&(ve=function(Ae){const Se=!!Ae.before,ke=Ae.values||[];return new Bound(ke,Se)}(j.startAt));let Ee=null;return j.endAt&&(Ee=function(Ae){const Se=!Ae.before,ke=Ae.values||[];return new Bound(ke,Se)}(j.endAt)),__PRIVATE_newQuery(_,re,de,le,ge,"F",ve,Ee)}function __PRIVATE_toListenRequestLabels($,_){const j=function(re){switch(re){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(_.purpose);return j==null?null:{"goog-listen-tags":j}}function __PRIVATE_fromFilter($){return $.unaryFilter!==void 0?function(j){switch(j.unaryFilter.op){case"IS_NAN":const ee=__PRIVATE_fromFieldPathReference(j.unaryFilter.field);return FieldFilter.create(ee,"==",{doubleValue:NaN});case"IS_NULL":const re=__PRIVATE_fromFieldPathReference(j.unaryFilter.field);return FieldFilter.create(re,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const le=__PRIVATE_fromFieldPathReference(j.unaryFilter.field);return FieldFilter.create(le,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const de=__PRIVATE_fromFieldPathReference(j.unaryFilter.field);return FieldFilter.create(de,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}($):$.fieldFilter!==void 0?function(j){return FieldFilter.create(__PRIVATE_fromFieldPathReference(j.fieldFilter.field),function(re){switch(re){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(j.fieldFilter.op),j.fieldFilter.value)}($):$.compositeFilter!==void 0?function(j){return CompositeFilter.create(j.compositeFilter.filters.map(ee=>__PRIVATE_fromFilter(ee)),function(re){switch(re){case"AND":return"and";case"OR":return"or";default:return fail()}}(j.compositeFilter.op))}($):fail()}function __PRIVATE_toDirection($){return Pe[$]}function __PRIVATE_toOperatorName($){return Ie[$]}function __PRIVATE_toCompositeOperatorName($){return Te[$]}function __PRIVATE_toFieldPathReference($){return{fieldPath:$.canonicalString()}}function __PRIVATE_fromFieldPathReference($){return FieldPath$1.fromServerFormat($.fieldPath)}function __PRIVATE_toFilter($){return $ instanceof FieldFilter?function(j){if(j.op==="=="){if(__PRIVATE_isNanValue(j.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(j.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(j.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(j.field),op:"IS_NULL"}}}else if(j.op==="!="){if(__PRIVATE_isNanValue(j.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(j.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(j.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(j.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(j.field),op:__PRIVATE_toOperatorName(j.op),value:j.value}}}($):$ instanceof CompositeFilter?function(j){const ee=j.getFilters().map(re=>__PRIVATE_toFilter(re));return ee.length===1?ee[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(j.op),filters:ee}}}($):fail()}function __PRIVATE_toDocumentMask($){const _=[];return $.fields.forEach(j=>_.push(j.canonicalString())),{fieldPaths:_}}function __PRIVATE_isValidResourceName($){return $.length>=4&&$.get(0)==="projects"&&$.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(_,j,ee,re,le=SnapshotVersion.min(),de=SnapshotVersion.min(),ge=ByteString.EMPTY_BYTE_STRING,ve=null){this.target=_,this.targetId=j,this.purpose=ee,this.sequenceNumber=re,this.snapshotVersion=le,this.lastLimboFreeSnapshotVersion=de,this.resumeToken=ge,this.expectedCount=ve}withSequenceNumber(_){return new TargetData(this.target,this.targetId,this.purpose,_,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(_,j){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,j,this.lastLimboFreeSnapshotVersion,_,null)}withExpectedCount(_){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,_)}withLastLimboFreeSnapshotVersion(_){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,_,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(_){this.ut=_}}function __PRIVATE_fromBundledQuery($){const _=__PRIVATE_convertQueryTargetToQuery({parent:$.parent,structuredQuery:$.structuredQuery});return $.limitType==="LAST"?__PRIVATE_queryWithLimit(_,_.limit,"L"):_}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.on=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(_,j){return this.on.add(j),PersistencePromise.resolve()}getCollectionParents(_,j){return PersistencePromise.resolve(this.on.getEntries(j))}addFieldIndex(_,j){return PersistencePromise.resolve()}deleteFieldIndex(_,j){return PersistencePromise.resolve()}deleteAllFieldIndexes(_){return PersistencePromise.resolve()}createTargetIndexes(_,j){return PersistencePromise.resolve()}getDocumentsMatchingTarget(_,j){return PersistencePromise.resolve(null)}getIndexType(_,j){return PersistencePromise.resolve(0)}getFieldIndexes(_,j){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(_){return PersistencePromise.resolve(null)}getMinOffset(_,j){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(_,j){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(_,j,ee){return PersistencePromise.resolve()}updateIndexEntries(_,j){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(_){const j=_.lastSegment(),ee=_.popLast(),re=this.index[j]||new SortedSet(ResourcePath.comparator),le=!re.has(ee);return this.index[j]=re.add(ee),le}has(_){const j=_.lastSegment(),ee=_.popLast(),re=this.index[j];return re&&re.has(ee)}getEntries(_){return(this.index[_]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(_){this.xn=_}next(){return this.xn+=2,this.xn}static On(){return new __PRIVATE_TargetIdGenerator(0)}static Nn(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(_=>_.toString(),(_,j)=>_.isEqual(j)),this.changesApplied=!1}addEntry(_){this.assertNotApplied(),this.changes.set(_.key,_)}removeEntry(_,j){this.assertNotApplied(),this.changes.set(_,MutableDocument.newInvalidDocument(_).setReadTime(j))}getEntry(_,j){this.assertNotApplied();const ee=this.changes.get(j);return ee!==void 0?PersistencePromise.resolve(ee):this.getFromCache(_,j)}getEntries(_,j){return this.getAllFromCache(_,j)}apply(_){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(_)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(_,j){this.overlayedDocument=_,this.mutatedFields=j}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(_,j,ee,re){this.remoteDocumentCache=_,this.mutationQueue=j,this.documentOverlayCache=ee,this.indexManager=re}getDocument(_,j){let ee=null;return this.documentOverlayCache.getOverlay(_,j).next(re=>(ee=re,this.remoteDocumentCache.getEntry(_,j))).next(re=>(ee!==null&&__PRIVATE_mutationApplyToLocalView(ee.mutation,re,FieldMask.empty(),Timestamp.now()),re))}getDocuments(_,j){return this.remoteDocumentCache.getEntries(_,j).next(ee=>this.getLocalViewOfDocuments(_,ee,__PRIVATE_documentKeySet()).next(()=>ee))}getLocalViewOfDocuments(_,j,ee=__PRIVATE_documentKeySet()){const re=__PRIVATE_newOverlayMap();return this.populateOverlays(_,re,j).next(()=>this.computeViews(_,j,re,ee).next(le=>{let de=documentMap();return le.forEach((ge,ve)=>{de=de.insert(ge,ve.overlayedDocument)}),de}))}getOverlayedDocuments(_,j){const ee=__PRIVATE_newOverlayMap();return this.populateOverlays(_,ee,j).next(()=>this.computeViews(_,j,ee,__PRIVATE_documentKeySet()))}populateOverlays(_,j,ee){const re=[];return ee.forEach(le=>{j.has(le)||re.push(le)}),this.documentOverlayCache.getOverlays(_,re).next(le=>{le.forEach((de,ge)=>{j.set(de,ge)})})}computeViews(_,j,ee,re){let le=__PRIVATE_mutableDocumentMap();const de=__PRIVATE_newDocumentKeyMap(),ge=function(){return __PRIVATE_newDocumentKeyMap()}();return j.forEach((ve,Ee)=>{const Ce=ee.get(Ee.key);re.has(Ee.key)&&(Ce===void 0||Ce.mutation instanceof __PRIVATE_PatchMutation)?le=le.insert(Ee.key,Ee):Ce!==void 0?(de.set(Ee.key,Ce.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(Ce.mutation,Ee,Ce.mutation.getFieldMask(),Timestamp.now())):de.set(Ee.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(_,le).next(ve=>(ve.forEach((Ee,Ce)=>de.set(Ee,Ce)),j.forEach((Ee,Ce)=>{var Ae;return ge.set(Ee,new OverlayedDocument(Ce,(Ae=de.get(Ee))!==null&&Ae!==void 0?Ae:null))}),ge))}recalculateAndSaveOverlays(_,j){const ee=__PRIVATE_newDocumentKeyMap();let re=new SortedMap$1((de,ge)=>de-ge),le=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(_,j).next(de=>{for(const ge of de)ge.keys().forEach(ve=>{const Ee=j.get(ve);if(Ee===null)return;let Ce=ee.get(ve)||FieldMask.empty();Ce=ge.applyToLocalView(Ee,Ce),ee.set(ve,Ce);const Ae=(re.get(ge.batchId)||__PRIVATE_documentKeySet()).add(ve);re=re.insert(ge.batchId,Ae)})}).next(()=>{const de=[],ge=re.getReverseIterator();for(;ge.hasNext();){const ve=ge.getNext(),Ee=ve.key,Ce=ve.value,Ae=__PRIVATE_newMutationMap();Ce.forEach(Se=>{if(!le.has(Se)){const ke=__PRIVATE_calculateOverlayMutation(j.get(Se),ee.get(Se));ke!==null&&Ae.set(Se,ke),le=le.add(Se)}}),de.push(this.documentOverlayCache.saveOverlays(_,Ee,Ae))}return PersistencePromise.waitFor(de)}).next(()=>ee)}recalculateAndSaveOverlaysForDocumentKeys(_,j){return this.remoteDocumentCache.getEntries(_,j).next(ee=>this.recalculateAndSaveOverlays(_,ee))}getDocumentsMatchingQuery(_,j,ee,re){return function(de){return DocumentKey.isDocumentKey(de.path)&&de.collectionGroup===null&&de.filters.length===0}(j)?this.getDocumentsMatchingDocumentQuery(_,j.path):__PRIVATE_isCollectionGroupQuery(j)?this.getDocumentsMatchingCollectionGroupQuery(_,j,ee,re):this.getDocumentsMatchingCollectionQuery(_,j,ee,re)}getNextDocuments(_,j,ee,re){return this.remoteDocumentCache.getAllFromCollectionGroup(_,j,ee,re).next(le=>{const de=re-le.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(_,j,ee.largestBatchId,re-le.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let ge=-1,ve=le;return de.next(Ee=>PersistencePromise.forEach(Ee,(Ce,Ae)=>(ge<Ae.largestBatchId&&(ge=Ae.largestBatchId),le.get(Ce)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(_,Ce).next(Se=>{ve=ve.insert(Ce,Se)}))).next(()=>this.populateOverlays(_,Ee,le)).next(()=>this.computeViews(_,ve,Ee,__PRIVATE_documentKeySet())).next(Ce=>({batchId:ge,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(Ce)})))})}getDocumentsMatchingDocumentQuery(_,j){return this.getDocument(_,new DocumentKey(j)).next(ee=>{let re=documentMap();return ee.isFoundDocument()&&(re=re.insert(ee.key,ee)),re})}getDocumentsMatchingCollectionGroupQuery(_,j,ee,re){const le=j.collectionGroup;let de=documentMap();return this.indexManager.getCollectionParents(_,le).next(ge=>PersistencePromise.forEach(ge,ve=>{const Ee=function(Ae,Se){return new __PRIVATE_QueryImpl(Se,null,Ae.explicitOrderBy.slice(),Ae.filters.slice(),Ae.limit,Ae.limitType,Ae.startAt,Ae.endAt)}(j,ve.child(le));return this.getDocumentsMatchingCollectionQuery(_,Ee,ee,re).next(Ce=>{Ce.forEach((Ae,Se)=>{de=de.insert(Ae,Se)})})}).next(()=>de))}getDocumentsMatchingCollectionQuery(_,j,ee,re){let le;return this.documentOverlayCache.getOverlaysForCollection(_,j.path,ee.largestBatchId).next(de=>(le=de,this.remoteDocumentCache.getDocumentsMatchingQuery(_,j,ee,le,re))).next(de=>{le.forEach((ve,Ee)=>{const Ce=Ee.getKey();de.get(Ce)===null&&(de=de.insert(Ce,MutableDocument.newInvalidDocument(Ce)))});let ge=documentMap();return de.forEach((ve,Ee)=>{const Ce=le.get(ve);Ce!==void 0&&__PRIVATE_mutationApplyToLocalView(Ce.mutation,Ee,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(j,Ee)&&(ge=ge.insert(ve,Ee))}),ge})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(_){this.serializer=_,this.ur=new Map,this.cr=new Map}getBundleMetadata(_,j){return PersistencePromise.resolve(this.ur.get(j))}saveBundleMetadata(_,j){return this.ur.set(j.id,function(re){return{id:re.id,version:re.version,createTime:__PRIVATE_fromVersion(re.createTime)}}(j)),PersistencePromise.resolve()}getNamedQuery(_,j){return PersistencePromise.resolve(this.cr.get(j))}saveNamedQuery(_,j){return this.cr.set(j.name,function(re){return{name:re.name,query:__PRIVATE_fromBundledQuery(re.bundledQuery),readTime:__PRIVATE_fromVersion(re.readTime)}}(j)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap$1(DocumentKey.comparator),this.lr=new Map}getOverlay(_,j){return PersistencePromise.resolve(this.overlays.get(j))}getOverlays(_,j){const ee=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(j,re=>this.getOverlay(_,re).next(le=>{le!==null&&ee.set(re,le)})).next(()=>ee)}saveOverlays(_,j,ee){return ee.forEach((re,le)=>{this.lt(_,j,le)}),PersistencePromise.resolve()}removeOverlaysForBatchId(_,j,ee){const re=this.lr.get(ee);return re!==void 0&&(re.forEach(le=>this.overlays=this.overlays.remove(le)),this.lr.delete(ee)),PersistencePromise.resolve()}getOverlaysForCollection(_,j,ee){const re=__PRIVATE_newOverlayMap(),le=j.length+1,de=new DocumentKey(j.child("")),ge=this.overlays.getIteratorFrom(de);for(;ge.hasNext();){const ve=ge.getNext().value,Ee=ve.getKey();if(!j.isPrefixOf(Ee.path))break;Ee.path.length===le&&ve.largestBatchId>ee&&re.set(ve.getKey(),ve)}return PersistencePromise.resolve(re)}getOverlaysForCollectionGroup(_,j,ee,re){let le=new SortedMap$1((Ee,Ce)=>Ee-Ce);const de=this.overlays.getIterator();for(;de.hasNext();){const Ee=de.getNext().value;if(Ee.getKey().getCollectionGroup()===j&&Ee.largestBatchId>ee){let Ce=le.get(Ee.largestBatchId);Ce===null&&(Ce=__PRIVATE_newOverlayMap(),le=le.insert(Ee.largestBatchId,Ce)),Ce.set(Ee.getKey(),Ee)}}const ge=__PRIVATE_newOverlayMap(),ve=le.getIterator();for(;ve.hasNext()&&(ve.getNext().value.forEach((Ee,Ce)=>ge.set(Ee,Ce)),!(ge.size()>=re)););return PersistencePromise.resolve(ge)}lt(_,j,ee){const re=this.overlays.get(ee.key);if(re!==null){const de=this.lr.get(re.largestBatchId).delete(ee.key);this.lr.set(re.largestBatchId,de)}this.overlays=this.overlays.insert(ee.key,new Overlay(j,ee));let le=this.lr.get(j);le===void 0&&(le=__PRIVATE_documentKeySet(),this.lr.set(j,le)),this.lr.set(j,le.add(ee.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.hr=new SortedSet(__PRIVATE_DocReference.Pr),this.Ir=new SortedSet(__PRIVATE_DocReference.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(_,j){const ee=new __PRIVATE_DocReference(_,j);this.hr=this.hr.add(ee),this.Ir=this.Ir.add(ee)}Er(_,j){_.forEach(ee=>this.addReference(ee,j))}removeReference(_,j){this.dr(new __PRIVATE_DocReference(_,j))}Ar(_,j){_.forEach(ee=>this.removeReference(ee,j))}Rr(_){const j=new DocumentKey(new ResourcePath([])),ee=new __PRIVATE_DocReference(j,_),re=new __PRIVATE_DocReference(j,_+1),le=[];return this.Ir.forEachInRange([ee,re],de=>{this.dr(de),le.push(de.key)}),le}Vr(){this.hr.forEach(_=>this.dr(_))}dr(_){this.hr=this.hr.delete(_),this.Ir=this.Ir.delete(_)}mr(_){const j=new DocumentKey(new ResourcePath([])),ee=new __PRIVATE_DocReference(j,_),re=new __PRIVATE_DocReference(j,_+1);let le=__PRIVATE_documentKeySet();return this.Ir.forEachInRange([ee,re],de=>{le=le.add(de.key)}),le}containsKey(_){const j=new __PRIVATE_DocReference(_,0),ee=this.hr.firstAfterOrEqual(j);return ee!==null&&_.isEqual(ee.key)}}class __PRIVATE_DocReference{constructor(_,j){this.key=_,this.gr=j}static Pr(_,j){return DocumentKey.comparator(_.key,j.key)||__PRIVATE_primitiveComparator(_.gr,j.gr)}static Tr(_,j){return __PRIVATE_primitiveComparator(_.gr,j.gr)||DocumentKey.comparator(_.key,j.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(_,j){this.indexManager=_,this.referenceDelegate=j,this.mutationQueue=[],this.pr=1,this.yr=new SortedSet(__PRIVATE_DocReference.Pr)}checkEmpty(_){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(_,j,ee,re){const le=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const de=new MutationBatch(le,j,ee,re);this.mutationQueue.push(de);for(const ge of re)this.yr=this.yr.add(new __PRIVATE_DocReference(ge.key,le)),this.indexManager.addToCollectionParentIndex(_,ge.key.path.popLast());return PersistencePromise.resolve(de)}lookupMutationBatch(_,j){return PersistencePromise.resolve(this.wr(j))}getNextMutationBatchAfterBatchId(_,j){const ee=j+1,re=this.Sr(ee),le=re<0?0:re;return PersistencePromise.resolve(this.mutationQueue.length>le?this.mutationQueue[le]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(_){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(_,j){const ee=new __PRIVATE_DocReference(j,0),re=new __PRIVATE_DocReference(j,Number.POSITIVE_INFINITY),le=[];return this.yr.forEachInRange([ee,re],de=>{const ge=this.wr(de.gr);le.push(ge)}),PersistencePromise.resolve(le)}getAllMutationBatchesAffectingDocumentKeys(_,j){let ee=new SortedSet(__PRIVATE_primitiveComparator);return j.forEach(re=>{const le=new __PRIVATE_DocReference(re,0),de=new __PRIVATE_DocReference(re,Number.POSITIVE_INFINITY);this.yr.forEachInRange([le,de],ge=>{ee=ee.add(ge.gr)})}),PersistencePromise.resolve(this.br(ee))}getAllMutationBatchesAffectingQuery(_,j){const ee=j.path,re=ee.length+1;let le=ee;DocumentKey.isDocumentKey(le)||(le=le.child(""));const de=new __PRIVATE_DocReference(new DocumentKey(le),0);let ge=new SortedSet(__PRIVATE_primitiveComparator);return this.yr.forEachWhile(ve=>{const Ee=ve.key.path;return!!ee.isPrefixOf(Ee)&&(Ee.length===re&&(ge=ge.add(ve.gr)),!0)},de),PersistencePromise.resolve(this.br(ge))}br(_){const j=[];return _.forEach(ee=>{const re=this.wr(ee);re!==null&&j.push(re)}),j}removeMutationBatch(_,j){__PRIVATE_hardAssert(this.Dr(j.batchId,"removed")===0),this.mutationQueue.shift();let ee=this.yr;return PersistencePromise.forEach(j.mutations,re=>{const le=new __PRIVATE_DocReference(re.key,j.batchId);return ee=ee.delete(le),this.referenceDelegate.markPotentiallyOrphaned(_,re.key)}).next(()=>{this.yr=ee})}Fn(_){}containsKey(_,j){const ee=new __PRIVATE_DocReference(j,0),re=this.yr.firstAfterOrEqual(ee);return PersistencePromise.resolve(j.isEqual(re&&re.key))}performConsistencyCheck(_){return this.mutationQueue.length,PersistencePromise.resolve()}Dr(_,j){return this.Sr(_)}Sr(_){return this.mutationQueue.length===0?0:_-this.mutationQueue[0].batchId}wr(_){const j=this.Sr(_);return j<0||j>=this.mutationQueue.length?null:this.mutationQueue[j]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(_){this.Cr=_,this.docs=function(){return new SortedMap$1(DocumentKey.comparator)}(),this.size=0}setIndexManager(_){this.indexManager=_}addEntry(_,j){const ee=j.key,re=this.docs.get(ee),le=re?re.size:0,de=this.Cr(j);return this.docs=this.docs.insert(ee,{document:j.mutableCopy(),size:de}),this.size+=de-le,this.indexManager.addToCollectionParentIndex(_,ee.path.popLast())}removeEntry(_){const j=this.docs.get(_);j&&(this.docs=this.docs.remove(_),this.size-=j.size)}getEntry(_,j){const ee=this.docs.get(j);return PersistencePromise.resolve(ee?ee.document.mutableCopy():MutableDocument.newInvalidDocument(j))}getEntries(_,j){let ee=__PRIVATE_mutableDocumentMap();return j.forEach(re=>{const le=this.docs.get(re);ee=ee.insert(re,le?le.document.mutableCopy():MutableDocument.newInvalidDocument(re))}),PersistencePromise.resolve(ee)}getDocumentsMatchingQuery(_,j,ee,re){let le=__PRIVATE_mutableDocumentMap();const de=j.path,ge=new DocumentKey(de.child("")),ve=this.docs.getIteratorFrom(ge);for(;ve.hasNext();){const{key:Ee,value:{document:Ce}}=ve.getNext();if(!de.isPrefixOf(Ee.path))break;Ee.path.length>de.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(Ce),ee)<=0||(re.has(Ce.key)||__PRIVATE_queryMatches(j,Ce))&&(le=le.insert(Ce.key,Ce.mutableCopy()))}return PersistencePromise.resolve(le)}getAllFromCollectionGroup(_,j,ee,re){fail()}vr(_,j){return PersistencePromise.forEach(this.docs,ee=>j(ee))}newChangeBuffer(_){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(_){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(_){super(),this._r=_}applyChanges(_){const j=[];return this.changes.forEach((ee,re)=>{re.isValidDocument()?j.push(this._r.addEntry(_,re)):this._r.removeEntry(ee)}),PersistencePromise.waitFor(j)}getFromCache(_,j){return this._r.getEntry(_,j)}getAllFromCache(_,j){return this._r.getEntries(_,j)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(_){this.persistence=_,this.Fr=new ObjectMap(j=>__PRIVATE_canonifyTarget(j),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Mr=0,this.Or=new __PRIVATE_ReferenceSet,this.targetCount=0,this.Nr=__PRIVATE_TargetIdGenerator.On()}forEachTarget(_,j){return this.Fr.forEach((ee,re)=>j(re)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(_){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(_){return PersistencePromise.resolve(this.Mr)}allocateTargetId(_){return this.highestTargetId=this.Nr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(_,j,ee){return ee&&(this.lastRemoteSnapshotVersion=ee),j>this.Mr&&(this.Mr=j),PersistencePromise.resolve()}kn(_){this.Fr.set(_.target,_);const j=_.targetId;j>this.highestTargetId&&(this.Nr=new __PRIVATE_TargetIdGenerator(j),this.highestTargetId=j),_.sequenceNumber>this.Mr&&(this.Mr=_.sequenceNumber)}addTargetData(_,j){return this.kn(j),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(_,j){return this.kn(j),PersistencePromise.resolve()}removeTargetData(_,j){return this.Fr.delete(j.target),this.Or.Rr(j.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(_,j,ee){let re=0;const le=[];return this.Fr.forEach((de,ge)=>{ge.sequenceNumber<=j&&ee.get(ge.targetId)===null&&(this.Fr.delete(de),le.push(this.removeMatchingKeysForTargetId(_,ge.targetId)),re++)}),PersistencePromise.waitFor(le).next(()=>re)}getTargetCount(_){return PersistencePromise.resolve(this.targetCount)}getTargetData(_,j){const ee=this.Fr.get(j)||null;return PersistencePromise.resolve(ee)}addMatchingKeys(_,j,ee){return this.Or.Er(j,ee),PersistencePromise.resolve()}removeMatchingKeys(_,j,ee){this.Or.Ar(j,ee);const re=this.persistence.referenceDelegate,le=[];return re&&j.forEach(de=>{le.push(re.markPotentiallyOrphaned(_,de))}),PersistencePromise.waitFor(le)}removeMatchingKeysForTargetId(_,j){return this.Or.Rr(j),PersistencePromise.resolve()}getMatchingKeysForTargetId(_,j){const ee=this.Or.mr(j);return PersistencePromise.resolve(ee)}containsKey(_,j){return PersistencePromise.resolve(this.Or.containsKey(j))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(_,j){this.Br={},this.overlays={},this.Lr=new __PRIVATE_ListenSequence(0),this.kr=!1,this.kr=!0,this.referenceDelegate=_(this),this.qr=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(re){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(re)}(ee=>this.referenceDelegate.Qr(ee)),this.serializer=new __PRIVATE_LocalSerializer(j),this.Kr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(_){return this.indexManager}getDocumentOverlayCache(_){let j=this.overlays[_.toKey()];return j||(j=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[_.toKey()]=j),j}getMutationQueue(_,j){let ee=this.Br[_.toKey()];return ee||(ee=new __PRIVATE_MemoryMutationQueue(j,this.referenceDelegate),this.Br[_.toKey()]=ee),ee}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(_,j,ee){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",_);const re=new __PRIVATE_MemoryTransaction(this.Lr.next());return this.referenceDelegate.$r(),ee(re).next(le=>this.referenceDelegate.Ur(re).next(()=>le)).toPromise().then(le=>(re.raiseOnCommittedEvent(),le))}Wr(_,j){return PersistencePromise.or(Object.values(this.Br).map(ee=>()=>ee.containsKey(_,j)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(_){super(),this.currentSequenceNumber=_}}class __PRIVATE_MemoryEagerDelegate{constructor(_){this.persistence=_,this.Gr=new __PRIVATE_ReferenceSet,this.zr=null}static jr(_){return new __PRIVATE_MemoryEagerDelegate(_)}get Hr(){if(this.zr)return this.zr;throw fail()}addReference(_,j,ee){return this.Gr.addReference(ee,j),this.Hr.delete(ee.toString()),PersistencePromise.resolve()}removeReference(_,j,ee){return this.Gr.removeReference(ee,j),this.Hr.add(ee.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(_,j){return this.Hr.add(j.toString()),PersistencePromise.resolve()}removeTarget(_,j){this.Gr.Rr(j.targetId).forEach(re=>this.Hr.add(re.toString()));const ee=this.persistence.getTargetCache();return ee.getMatchingKeysForTargetId(_,j.targetId).next(re=>{re.forEach(le=>this.Hr.add(le.toString()))}).next(()=>ee.removeTargetData(_,j))}$r(){this.zr=new Set}Ur(_){const j=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Hr,ee=>{const re=DocumentKey.fromPath(ee);return this.Jr(_,re).next(le=>{le||j.removeEntry(re,SnapshotVersion.min())})}).next(()=>(this.zr=null,j.apply(_)))}updateLimboDocument(_,j){return this.Jr(_,j).next(ee=>{ee?this.Hr.delete(j.toString()):this.Hr.add(j.toString())})}Qr(_){return 0}Jr(_,j){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Gr.containsKey(j)),()=>this.persistence.getTargetCache().containsKey(_,j),()=>this.persistence.Wr(_,j)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(_,j,ee,re){this.targetId=_,this.fromCache=j,this.ki=ee,this.qi=re}static Qi(_,j){let ee=__PRIVATE_documentKeySet(),re=__PRIVATE_documentKeySet();for(const le of j.docChanges)switch(le.type){case 0:ee=ee.add(le.doc.key);break;case 1:re=re.add(le.doc.key)}return new __PRIVATE_LocalViewChanges(_,j.fromCache,ee,re)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(_){this._documentReadCount+=_}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(_,j){this.Gi=_,this.indexManager=j,this.Ki=!0}getDocumentsMatchingQuery(_,j,ee,re){const le={result:null};return this.zi(_,j).next(de=>{le.result=de}).next(()=>{if(!le.result)return this.ji(_,j,re,ee).next(de=>{le.result=de})}).next(()=>{if(le.result)return;const de=new QueryContext;return this.Hi(_,j,de).next(ge=>{if(le.result=ge,this.$i)return this.Ji(_,j,de,ge.size)})}).next(()=>le.result)}Ji(_,j,ee,re){return ee.documentReadCount<this.Ui?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(j),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(j),"scans",ee.documentReadCount,"local documents and returns",re,"documents as results."),ee.documentReadCount>this.Wi*re?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(j),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(_,__PRIVATE_queryToTarget(j))):PersistencePromise.resolve())}zi(_,j){if(__PRIVATE_queryMatchesAllDocuments(j))return PersistencePromise.resolve(null);let ee=__PRIVATE_queryToTarget(j);return this.indexManager.getIndexType(_,ee).next(re=>re===0?null:(j.limit!==null&&re===1&&(j=__PRIVATE_queryWithLimit(j,null,"F"),ee=__PRIVATE_queryToTarget(j)),this.indexManager.getDocumentsMatchingTarget(_,ee).next(le=>{const de=__PRIVATE_documentKeySet(...le);return this.Gi.getDocuments(_,de).next(ge=>this.indexManager.getMinOffset(_,ee).next(ve=>{const Ee=this.Yi(j,ge);return this.Zi(j,Ee,de,ve.readTime)?this.zi(_,__PRIVATE_queryWithLimit(j,null,"F")):this.Xi(_,Ee,j,ve)}))})))}ji(_,j,ee,re){return __PRIVATE_queryMatchesAllDocuments(j)||re.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.Gi.getDocuments(_,ee).next(le=>{const de=this.Yi(j,le);return this.Zi(j,de,ee,re)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",re.toString(),__PRIVATE_stringifyQuery(j)),this.Xi(_,de,j,__PRIVATE_newIndexOffsetSuccessorFromReadTime(re,-1)).next(ge=>ge))})}Yi(_,j){let ee=new SortedSet(__PRIVATE_newQueryComparator(_));return j.forEach((re,le)=>{__PRIVATE_queryMatches(_,le)&&(ee=ee.add(le))}),ee}Zi(_,j,ee,re){if(_.limit===null)return!1;if(ee.size!==j.size)return!0;const le=_.limitType==="F"?j.last():j.first();return!!le&&(le.hasPendingWrites||le.version.compareTo(re)>0)}Hi(_,j,ee){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(j)),this.Gi.getDocumentsMatchingQuery(_,j,IndexOffset.min(),ee)}Xi(_,j,ee,re){return this.Gi.getDocumentsMatchingQuery(_,ee,re).next(le=>(j.forEach(de=>{le=le.insert(de.key,de)}),le))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(_,j,ee,re){this.persistence=_,this.es=j,this.serializer=re,this.ts=new SortedMap$1(__PRIVATE_primitiveComparator),this.ns=new ObjectMap(le=>__PRIVATE_canonifyTarget(le),__PRIVATE_targetEquals),this.rs=new Map,this.ss=_.getRemoteDocumentCache(),this.qr=_.getTargetCache(),this.Kr=_.getBundleCache(),this.os(ee)}os(_){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(_),this.indexManager=this.persistence.getIndexManager(_),this.mutationQueue=this.persistence.getMutationQueue(_,this.indexManager),this.localDocuments=new LocalDocumentsView(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(_){return this.persistence.runTransaction("Collect garbage","readwrite-primary",j=>_.collect(j,this.ts))}}function __PRIVATE_newLocalStore($,_,j,ee){return new __PRIVATE_LocalStoreImpl($,_,j,ee)}async function __PRIVATE_localStoreHandleUserChange($,_){const j=__PRIVATE_debugCast($);return await j.persistence.runTransaction("Handle user change","readonly",ee=>{let re;return j.mutationQueue.getAllMutationBatches(ee).next(le=>(re=le,j.os(_),j.mutationQueue.getAllMutationBatches(ee))).next(le=>{const de=[],ge=[];let ve=__PRIVATE_documentKeySet();for(const Ee of re){de.push(Ee.batchId);for(const Ce of Ee.mutations)ve=ve.add(Ce.key)}for(const Ee of le){ge.push(Ee.batchId);for(const Ce of Ee.mutations)ve=ve.add(Ce.key)}return j.localDocuments.getDocuments(ee,ve).next(Ee=>({_s:Ee,removedBatchIds:de,addedBatchIds:ge}))})})}function __PRIVATE_localStoreAcknowledgeBatch($,_){const j=__PRIVATE_debugCast($);return j.persistence.runTransaction("Acknowledge batch","readwrite-primary",ee=>{const re=_.batch.keys(),le=j.ss.newChangeBuffer({trackRemovals:!0});return function(ge,ve,Ee,Ce){const Ae=Ee.batch,Se=Ae.keys();let ke=PersistencePromise.resolve();return Se.forEach(we=>{ke=ke.next(()=>Ce.getEntry(ve,we)).next(Ne=>{const Le=Ee.docVersions.get(we);__PRIVATE_hardAssert(Le!==null),Ne.version.compareTo(Le)<0&&(Ae.applyToRemoteDocument(Ne,Ee),Ne.isValidDocument()&&(Ne.setReadTime(Ee.commitVersion),Ce.addEntry(Ne)))})}),ke.next(()=>ge.mutationQueue.removeMutationBatch(ve,Ae))}(j,ee,_,le).next(()=>le.apply(ee)).next(()=>j.mutationQueue.performConsistencyCheck(ee)).next(()=>j.documentOverlayCache.removeOverlaysForBatchId(ee,re,_.batch.batchId)).next(()=>j.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ee,function(ge){let ve=__PRIVATE_documentKeySet();for(let Ee=0;Ee<ge.mutationResults.length;++Ee)ge.mutationResults[Ee].transformResults.length>0&&(ve=ve.add(ge.batch.mutations[Ee].key));return ve}(_))).next(()=>j.localDocuments.getDocuments(ee,re))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion($){const _=__PRIVATE_debugCast($);return _.persistence.runTransaction("Get last remote snapshot version","readonly",j=>_.qr.getLastRemoteSnapshotVersion(j))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache($,_){const j=__PRIVATE_debugCast($),ee=_.snapshotVersion;let re=j.ts;return j.persistence.runTransaction("Apply remote event","readwrite-primary",le=>{const de=j.ss.newChangeBuffer({trackRemovals:!0});re=j.ts;const ge=[];_.targetChanges.forEach((Ce,Ae)=>{const Se=re.get(Ae);if(!Se)return;ge.push(j.qr.removeMatchingKeys(le,Ce.removedDocuments,Ae).next(()=>j.qr.addMatchingKeys(le,Ce.addedDocuments,Ae)));let ke=Se.withSequenceNumber(le.currentSequenceNumber);_.targetMismatches.get(Ae)!==null?ke=ke.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):Ce.resumeToken.approximateByteSize()>0&&(ke=ke.withResumeToken(Ce.resumeToken,ee)),re=re.insert(Ae,ke),function(Ne,Le,Me){return Ne.resumeToken.approximateByteSize()===0||Le.snapshotVersion.toMicroseconds()-Ne.snapshotVersion.toMicroseconds()>=3e8?!0:Me.addedDocuments.size+Me.modifiedDocuments.size+Me.removedDocuments.size>0}(Se,ke,Ce)&&ge.push(j.qr.updateTargetData(le,ke))});let ve=__PRIVATE_mutableDocumentMap(),Ee=__PRIVATE_documentKeySet();if(_.documentUpdates.forEach(Ce=>{_.resolvedLimboDocuments.has(Ce)&&ge.push(j.persistence.referenceDelegate.updateLimboDocument(le,Ce))}),ge.push(__PRIVATE_populateDocumentChangeBuffer(le,de,_.documentUpdates).next(Ce=>{ve=Ce.us,Ee=Ce.cs})),!ee.isEqual(SnapshotVersion.min())){const Ce=j.qr.getLastRemoteSnapshotVersion(le).next(Ae=>j.qr.setTargetsMetadata(le,le.currentSequenceNumber,ee));ge.push(Ce)}return PersistencePromise.waitFor(ge).next(()=>de.apply(le)).next(()=>j.localDocuments.getLocalViewOfDocuments(le,ve,Ee)).next(()=>ve)}).then(le=>(j.ts=re,le))}function __PRIVATE_populateDocumentChangeBuffer($,_,j){let ee=__PRIVATE_documentKeySet(),re=__PRIVATE_documentKeySet();return j.forEach(le=>ee=ee.add(le)),_.getEntries($,ee).next(le=>{let de=__PRIVATE_mutableDocumentMap();return j.forEach((ge,ve)=>{const Ee=le.get(ge);ve.isFoundDocument()!==Ee.isFoundDocument()&&(re=re.add(ge)),ve.isNoDocument()&&ve.version.isEqual(SnapshotVersion.min())?(_.removeEntry(ge,ve.readTime),de=de.insert(ge,ve)):!Ee.isValidDocument()||ve.version.compareTo(Ee.version)>0||ve.version.compareTo(Ee.version)===0&&Ee.hasPendingWrites?(_.addEntry(ve),de=de.insert(ge,ve)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",ge,". Current version:",Ee.version," Watch version:",ve.version)}),{us:de,cs:re}})}function __PRIVATE_localStoreGetNextMutationBatch($,_){const j=__PRIVATE_debugCast($);return j.persistence.runTransaction("Get next mutation batch","readonly",ee=>(_===void 0&&(_=-1),j.mutationQueue.getNextMutationBatchAfterBatchId(ee,_)))}function __PRIVATE_localStoreAllocateTarget($,_){const j=__PRIVATE_debugCast($);return j.persistence.runTransaction("Allocate target","readwrite",ee=>{let re;return j.qr.getTargetData(ee,_).next(le=>le?(re=le,PersistencePromise.resolve(re)):j.qr.allocateTargetId(ee).next(de=>(re=new TargetData(_,de,"TargetPurposeListen",ee.currentSequenceNumber),j.qr.addTargetData(ee,re).next(()=>re))))}).then(ee=>{const re=j.ts.get(ee.targetId);return(re===null||ee.snapshotVersion.compareTo(re.snapshotVersion)>0)&&(j.ts=j.ts.insert(ee.targetId,ee),j.ns.set(_,ee.targetId)),ee})}async function __PRIVATE_localStoreReleaseTarget($,_,j){const ee=__PRIVATE_debugCast($),re=ee.ts.get(_),le=j?"readwrite":"readwrite-primary";try{j||await ee.persistence.runTransaction("Release target",le,de=>ee.persistence.referenceDelegate.removeTarget(de,re))}catch(de){if(!__PRIVATE_isIndexedDbTransactionError(de))throw de;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${_}: ${de}`)}ee.ts=ee.ts.remove(_),ee.ns.delete(re.target)}function __PRIVATE_localStoreExecuteQuery($,_,j){const ee=__PRIVATE_debugCast($);let re=SnapshotVersion.min(),le=__PRIVATE_documentKeySet();return ee.persistence.runTransaction("Execute query","readwrite",de=>function(ve,Ee,Ce){const Ae=__PRIVATE_debugCast(ve),Se=Ae.ns.get(Ce);return Se!==void 0?PersistencePromise.resolve(Ae.ts.get(Se)):Ae.qr.getTargetData(Ee,Ce)}(ee,de,__PRIVATE_queryToTarget(_)).next(ge=>{if(ge)return re=ge.lastLimboFreeSnapshotVersion,ee.qr.getMatchingKeysForTargetId(de,ge.targetId).next(ve=>{le=ve})}).next(()=>ee.es.getDocumentsMatchingQuery(de,_,j?re:SnapshotVersion.min(),j?le:__PRIVATE_documentKeySet())).next(ge=>(__PRIVATE_setMaxReadTime(ee,__PRIVATE_queryCollectionGroup(_),ge),{documents:ge,ls:le})))}function __PRIVATE_setMaxReadTime($,_,j){let ee=$.rs.get(_)||SnapshotVersion.min();j.forEach((re,le)=>{le.readTime.compareTo(ee)>0&&(ee=le.readTime)}),$.rs.set(_,ee)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}ds(_){this.activeTargetIds=this.activeTargetIds.add(_)}As(_){this.activeTargetIds=this.activeTargetIds.delete(_)}Es(){const _={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(_)}}class __PRIVATE_MemorySharedClientState{constructor(){this.eo=new __PRIVATE_LocalClientState,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(_){}updateMutationState(_,j,ee){}addLocalQueryTarget(_){return this.eo.ds(_),this.no[_]||"not-current"}updateQueryState(_,j,ee){this.no[_]=j}removeLocalQueryTarget(_){this.eo.As(_)}isLocalQueryTarget(_){return this.eo.activeTargetIds.has(_)}clearQueryState(_){delete this.no[_]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(_){return this.eo.activeTargetIds.has(_)}start(){return this.eo=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(_,j,ee){}setOnlineState(_){}shutdown(){}writeSequenceNumber(_){}notifyBundleLoaded(_){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{ro(_){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(_){this.ao.push(_)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const _ of this.ao)_(0)}_o(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const _ of this.ao)_(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Re=null;function __PRIVATE_generateUniqueDebugId(){return Re===null?Re=function(){return 268435456+Math.round(2147483648*Math.random())}():Re++,"0x"+Re.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(_){this.co=_.co,this.lo=_.lo}ho(_){this.Po=_}Io(_){this.To=_}onMessage(_){this.Eo=_}close(){this.lo()}send(_){this.co(_)}Ao(){this.Po()}Ro(_){this.To(_)}Vo(_){this.Eo(_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(j){this.databaseInfo=j,this.databaseId=j.databaseId;const ee=j.ssl?"https":"http",re=encodeURIComponent(this.databaseId.projectId),le=encodeURIComponent(this.databaseId.database);this.mo=ee+"://"+j.host,this.fo=`projects/${re}/databases/${le}`,this.po=this.databaseId.database==="(default)"?`project_id=${re}`:`project_id=${re}&database_id=${le}`}get yo(){return!1}wo(j,ee,re,le,de){const ge=__PRIVATE_generateUniqueDebugId(),ve=this.So(j,ee);__PRIVATE_logDebug("RestConnection",`Sending RPC '${j}' ${ge}:`,ve,re);const Ee={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(Ee,le,de),this.Do(j,ve,Ee,re).then(Ce=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${j}' ${ge}: `,Ce),Ce),Ce=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${j}' ${ge} failed with error: `,Ce,"url: ",ve,"request:",re),Ce})}Co(j,ee,re,le,de,ge){return this.wo(j,ee,re,le,de)}bo(j,ee,re){j["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+b}(),j["Content-Type"]="text/plain",this.databaseInfo.appId&&(j["X-Firebase-GMPID"]=this.databaseInfo.appId),ee&&ee.headers.forEach((le,de)=>j[de]=le),re&&re.headers.forEach((le,de)=>j[de]=le)}So(j,ee){const re=Ve[j];return`${this.mo}/v1/${ee}:${re}`}}{constructor(_){super(_),this.forceLongPolling=_.forceLongPolling,this.autoDetectLongPolling=_.autoDetectLongPolling,this.useFetchStreams=_.useFetchStreams,this.longPollingOptions=_.longPollingOptions}Do(_,j,ee,re){const le=__PRIVATE_generateUniqueDebugId();return new Promise((de,ge)=>{const ve=new XhrIo;ve.setWithCredentials(!0),ve.listenOnce(EventType.COMPLETE,()=>{try{switch(ve.getLastErrorCode()){case ErrorCode.NO_ERROR:const Ce=ve.getResponseJson();__PRIVATE_logDebug(me,`XHR for RPC '${_}' ${le} received:`,JSON.stringify(Ce)),de(Ce);break;case ErrorCode.TIMEOUT:__PRIVATE_logDebug(me,`RPC '${_}' ${le} timed out`),ge(new FirestoreError(C.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode.HTTP_ERROR:const Ae=ve.getStatus();if(__PRIVATE_logDebug(me,`RPC '${_}' ${le} failed with status:`,Ae,"response text:",ve.getResponseText()),Ae>0){let Se=ve.getResponseJson();Array.isArray(Se)&&(Se=Se[0]);const ke=Se?.error;if(ke&&ke.status&&ke.message){const we=function(Le){const Me=Le.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(Me)>=0?Me:C.UNKNOWN}(ke.status);ge(new FirestoreError(we,ke.message))}else ge(new FirestoreError(C.UNKNOWN,"Server responded with status "+ve.getStatus()))}else ge(new FirestoreError(C.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(me,`RPC '${_}' ${le} completed.`)}});const Ee=JSON.stringify(re);__PRIVATE_logDebug(me,`RPC '${_}' ${le} sending request:`,re),ve.send(j,"POST",Ee,ee,15)})}vo(_,j,ee){const re=__PRIVATE_generateUniqueDebugId(),le=[this.mo,"/","google.firestore.v1.Firestore","/",_,"/channel"],de=createWebChannelTransport(),ge=getStatEventTarget(),ve={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Ee=this.longPollingOptions.timeoutSeconds;Ee!==void 0&&(ve.longPollingTimeout=Math.round(1e3*Ee)),this.useFetchStreams&&(ve.xmlHttpFactory=new FetchXmlHttpFactory({})),this.bo(ve.initMessageHeaders,j,ee),ve.encodeInitMessageHeaders=!0;const Ce=le.join("");__PRIVATE_logDebug(me,`Creating RPC '${_}' stream ${re}: ${Ce}`,ve);const Ae=de.createWebChannel(Ce,ve);let Se=!1,ke=!1;const we=new __PRIVATE_StreamBridge({co:Le=>{ke?__PRIVATE_logDebug(me,`Not sending because RPC '${_}' stream ${re} is closed:`,Le):(Se||(__PRIVATE_logDebug(me,`Opening RPC '${_}' stream ${re} transport.`),Ae.open(),Se=!0),__PRIVATE_logDebug(me,`RPC '${_}' stream ${re} sending:`,Le),Ae.send(Le))},lo:()=>Ae.close()}),Ne=(Le,Me,Fe)=>{Le.listen(Me,xe=>{try{Fe(xe)}catch($e){setTimeout(()=>{throw $e},0)}})};return Ne(Ae,WebChannel.EventType.OPEN,()=>{ke||__PRIVATE_logDebug(me,`RPC '${_}' stream ${re} transport opened.`)}),Ne(Ae,WebChannel.EventType.CLOSE,()=>{ke||(ke=!0,__PRIVATE_logDebug(me,`RPC '${_}' stream ${re} transport closed`),we.Ro())}),Ne(Ae,WebChannel.EventType.ERROR,Le=>{ke||(ke=!0,__PRIVATE_logWarn(me,`RPC '${_}' stream ${re} transport errored:`,Le),we.Ro(new FirestoreError(C.UNAVAILABLE,"The operation could not be completed")))}),Ne(Ae,WebChannel.EventType.MESSAGE,Le=>{var Me;if(!ke){const Fe=Le.data[0];__PRIVATE_hardAssert(!!Fe);const xe=Fe,$e=xe.error||((Me=xe[0])===null||Me===void 0?void 0:Me.error);if($e){__PRIVATE_logDebug(me,`RPC '${_}' stream ${re} received error:`,$e);const De=$e.status;let Oe=function(Ze){const Qe=ue[Ze];if(Qe!==void 0)return __PRIVATE_mapCodeFromRpcCode(Qe)}(De),Ge=$e.message;Oe===void 0&&(Oe=C.INTERNAL,Ge="Unknown error status: "+De+" with message "+$e.message),ke=!0,we.Ro(new FirestoreError(Oe,Ge)),Ae.close()}else __PRIVATE_logDebug(me,`RPC '${_}' stream ${re} received:`,Fe),we.Vo(Fe)}}),Ne(ge,Event$1.STAT_EVENT,Le=>{Le.stat===Stat.PROXY?__PRIVATE_logDebug(me,`RPC '${_}' stream ${re} detected buffering proxy`):Le.stat===Stat.NOPROXY&&__PRIVATE_logDebug(me,`RPC '${_}' stream ${re} detected no buffering proxy`)}),setTimeout(()=>{we.Ao()},0),we}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer($){return new JsonProtoSerializer($,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(_,j,ee=1e3,re=1.5,le=6e4){this.si=_,this.timerId=j,this.Fo=ee,this.Mo=re,this.xo=le,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(_){this.cancel();const j=Math.floor(this.Oo+this.qo()),ee=Math.max(0,Date.now()-this.Bo),re=Math.max(0,j-ee);re>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${re} ms (base delay: ${this.Oo} ms, delay with jitter: ${j} ms, last attempt: ${ee} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,re,()=>(this.Bo=Date.now(),_())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(_,j,ee,re,le,de,ge,ve){this.si=_,this.Ko=ee,this.$o=re,this.connection=le,this.authCredentialsProvider=de,this.appCheckCredentialsProvider=ge,this.listener=ve,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new __PRIVATE_ExponentialBackoff(_,j)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(_){this.t_(),this.stream.send(_)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(_,j){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,_!==4?this.zo.reset():j&&j.code===C.RESOURCE_EXHAUSTED?(__PRIVATE_logError(j.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):j&&j.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=_,await this.listener.Io(j)}r_(){}auth(){this.state=1;const _=this.i_(this.Uo),j=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([ee,re])=>{this.Uo===j&&this.s_(ee,re)},ee=>{_(()=>{const re=new FirestoreError(C.UNKNOWN,"Fetching auth token failed: "+ee.message);return this.o_(re)})})}s_(_,j){const ee=this.i_(this.Uo);this.stream=this.__(_,j),this.stream.ho(()=>{ee(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(re=>{ee(()=>this.o_(re))}),this.stream.onMessage(re=>{ee(()=>this.onMessage(re))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(_){return __PRIVATE_logDebug("PersistentStream",`close with error: ${_}`),this.stream=null,this.close(4,_)}i_(_){return j=>{this.si.enqueueAndForget(()=>this.Uo===_?j():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(_,j,ee,re,le,de){super(_,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",j,ee,re,de),this.serializer=le}__(_,j){return this.connection.vo("Listen",_,j)}onMessage(_){this.zo.reset();const j=__PRIVATE_fromWatchChange(this.serializer,_),ee=function(le){if(!("targetChange"in le))return SnapshotVersion.min();const de=le.targetChange;return de.targetIds&&de.targetIds.length?SnapshotVersion.min():de.readTime?__PRIVATE_fromVersion(de.readTime):SnapshotVersion.min()}(_);return this.listener.a_(j,ee)}u_(_){const j={};j.database=__PRIVATE_getEncodedDatabaseId(this.serializer),j.addTarget=function(le,de){let ge;const ve=de.target;if(ge=__PRIVATE_targetIsDocumentTarget(ve)?{documents:__PRIVATE_toDocumentsTarget(le,ve)}:{query:__PRIVATE_toQueryTarget(le,ve)},ge.targetId=de.targetId,de.resumeToken.approximateByteSize()>0){ge.resumeToken=__PRIVATE_toBytes(le,de.resumeToken);const Ee=__PRIVATE_toInt32Proto(le,de.expectedCount);Ee!==null&&(ge.expectedCount=Ee)}else if(de.snapshotVersion.compareTo(SnapshotVersion.min())>0){ge.readTime=toTimestamp(le,de.snapshotVersion.toTimestamp());const Ee=__PRIVATE_toInt32Proto(le,de.expectedCount);Ee!==null&&(ge.expectedCount=Ee)}return ge}(this.serializer,_);const ee=__PRIVATE_toListenRequestLabels(this.serializer,_);ee&&(j.labels=ee),this.e_(j)}c_(_){const j={};j.database=__PRIVATE_getEncodedDatabaseId(this.serializer),j.removeTarget=_,this.e_(j)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(_,j,ee,re,le,de){super(_,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",j,ee,re,de),this.serializer=le,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(_,j){return this.connection.vo("Write",_,j)}onMessage(_){if(__PRIVATE_hardAssert(!!_.streamToken),this.lastStreamToken=_.streamToken,this.l_){this.zo.reset();const j=__PRIVATE_fromWriteResults(_.writeResults,_.commitTime),ee=__PRIVATE_fromVersion(_.commitTime);return this.listener.I_(ee,j)}return __PRIVATE_hardAssert(!_.writeResults||_.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const _={};_.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.e_(_)}P_(_){const j={streamToken:this.lastStreamToken,writes:_.map(ee=>toMutation(this.serializer,ee))};this.e_(j)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(_,j,ee,re){super(),this.authCredentials=_,this.appCheckCredentials=j,this.connection=ee,this.serializer=re,this.d_=!1}A_(){if(this.d_)throw new FirestoreError(C.FAILED_PRECONDITION,"The client has already been terminated.")}wo(_,j,ee){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([re,le])=>this.connection.wo(_,j,ee,re,le)).catch(re=>{throw re.name==="FirebaseError"?(re.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),re):new FirestoreError(C.UNKNOWN,re.toString())})}Co(_,j,ee,re){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([le,de])=>this.connection.Co(_,j,ee,le,de,re)).catch(le=>{throw le.name==="FirebaseError"?(le.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),le):new FirestoreError(C.UNKNOWN,le.toString())})}terminate(){this.d_=!0}}class __PRIVATE_OnlineStateTracker{constructor(_,j){this.asyncQueue=_,this.onlineStateHandler=j,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(_){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${_.toString()}`),this.p_("Offline")))}set(_){this.S_(),this.V_=0,_==="Online"&&(this.f_=!1),this.p_(_)}p_(_){_!==this.state&&(this.state=_,this.onlineStateHandler(_))}y_(_){const j=`Could not reach Cloud Firestore backend. ${_}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(__PRIVATE_logError(j),this.f_=!1):__PRIVATE_logDebug("OnlineStateTracker",j)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(_,j,ee,re,le){this.localStore=_,this.datastore=j,this.asyncQueue=ee,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=le,this.F_.ro(de=>{ee.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await async function(ve){const Ee=__PRIVATE_debugCast(ve);Ee.C_.add(4),await __PRIVATE_disableNetworkInternal(Ee),Ee.M_.set("Unknown"),Ee.C_.delete(4),await __PRIVATE_enableNetworkInternal(Ee)}(this))})}),this.M_=new __PRIVATE_OnlineStateTracker(ee,re)}}async function __PRIVATE_enableNetworkInternal($){if(__PRIVATE_canUseNetwork($))for(const _ of $.v_)await _(!0)}async function __PRIVATE_disableNetworkInternal($){for(const _ of $.v_)await _(!1)}function __PRIVATE_remoteStoreListen($,_){const j=__PRIVATE_debugCast($);j.D_.has(_.targetId)||(j.D_.set(_.targetId,_),__PRIVATE_shouldStartWatchStream(j)?__PRIVATE_startWatchStream(j):__PRIVATE_ensureWatchStream(j).Ho()&&__PRIVATE_sendWatchRequest(j,_))}function __PRIVATE_remoteStoreUnlisten($,_){const j=__PRIVATE_debugCast($),ee=__PRIVATE_ensureWatchStream(j);j.D_.delete(_),ee.Ho()&&__PRIVATE_sendUnwatchRequest(j,_),j.D_.size===0&&(ee.Ho()?ee.Zo():__PRIVATE_canUseNetwork(j)&&j.M_.set("Unknown"))}function __PRIVATE_sendWatchRequest($,_){if($.x_.Oe(_.targetId),_.resumeToken.approximateByteSize()>0||_.snapshotVersion.compareTo(SnapshotVersion.min())>0){const j=$.remoteSyncer.getRemoteKeysForTarget(_.targetId).size;_=_.withExpectedCount(j)}__PRIVATE_ensureWatchStream($).u_(_)}function __PRIVATE_sendUnwatchRequest($,_){$.x_.Oe(_),__PRIVATE_ensureWatchStream($).c_(_)}function __PRIVATE_startWatchStream($){$.x_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:_=>$.remoteSyncer.getRemoteKeysForTarget(_),_t:_=>$.D_.get(_)||null,nt:()=>$.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream($).start(),$.M_.g_()}function __PRIVATE_shouldStartWatchStream($){return __PRIVATE_canUseNetwork($)&&!__PRIVATE_ensureWatchStream($).jo()&&$.D_.size>0}function __PRIVATE_canUseNetwork($){return __PRIVATE_debugCast($).C_.size===0}function __PRIVATE_cleanUpWatchStreamState($){$.x_=void 0}async function __PRIVATE_onWatchStreamOpen($){$.D_.forEach((_,j)=>{__PRIVATE_sendWatchRequest($,_)})}async function __PRIVATE_onWatchStreamClose($,_){__PRIVATE_cleanUpWatchStreamState($),__PRIVATE_shouldStartWatchStream($)?($.M_.w_(_),__PRIVATE_startWatchStream($)):$.M_.set("Unknown")}async function __PRIVATE_onWatchStreamChange($,_,j){if($.M_.set("Online"),_ instanceof __PRIVATE_WatchTargetChange&&_.state===2&&_.cause)try{await async function(re,le){const de=le.cause;for(const ge of le.targetIds)re.D_.has(ge)&&(await re.remoteSyncer.rejectListen(ge,de),re.D_.delete(ge),re.x_.removeTarget(ge))}($,_)}catch(ee){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",_.targetIds.join(","),ee),await __PRIVATE_disableNetworkUntilRecovery($,ee)}else if(_ instanceof __PRIVATE_DocumentWatchChange?$.x_.$e(_):_ instanceof __PRIVATE_ExistenceFilterChange?$.x_.Je(_):$.x_.Ge(_),!j.isEqual(SnapshotVersion.min()))try{const ee=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion($.localStore);j.compareTo(ee)>=0&&await function(le,de){const ge=le.x_.it(de);return ge.targetChanges.forEach((ve,Ee)=>{if(ve.resumeToken.approximateByteSize()>0){const Ce=le.D_.get(Ee);Ce&&le.D_.set(Ee,Ce.withResumeToken(ve.resumeToken,de))}}),ge.targetMismatches.forEach((ve,Ee)=>{const Ce=le.D_.get(ve);if(!Ce)return;le.D_.set(ve,Ce.withResumeToken(ByteString.EMPTY_BYTE_STRING,Ce.snapshotVersion)),__PRIVATE_sendUnwatchRequest(le,ve);const Ae=new TargetData(Ce.target,ve,Ee,Ce.sequenceNumber);__PRIVATE_sendWatchRequest(le,Ae)}),le.remoteSyncer.applyRemoteEvent(ge)}($,j)}catch(ee){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",ee),await __PRIVATE_disableNetworkUntilRecovery($,ee)}}async function __PRIVATE_disableNetworkUntilRecovery($,_,j){if(!__PRIVATE_isIndexedDbTransactionError(_))throw _;$.C_.add(1),await __PRIVATE_disableNetworkInternal($),$.M_.set("Offline"),j||(j=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion($.localStore)),$.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await j(),$.C_.delete(1),await __PRIVATE_enableNetworkInternal($)})}function __PRIVATE_executeWithRecovery($,_){return _().catch(j=>__PRIVATE_disableNetworkUntilRecovery($,j,_))}async function __PRIVATE_fillWritePipeline($){const _=__PRIVATE_debugCast($),j=__PRIVATE_ensureWriteStream(_);let ee=_.b_.length>0?_.b_[_.b_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline(_);)try{const re=await __PRIVATE_localStoreGetNextMutationBatch(_.localStore,ee);if(re===null){_.b_.length===0&&j.Zo();break}ee=re.batchId,__PRIVATE_addToWritePipeline(_,re)}catch(re){await __PRIVATE_disableNetworkUntilRecovery(_,re)}__PRIVATE_shouldStartWriteStream(_)&&__PRIVATE_startWriteStream(_)}function __PRIVATE_canAddToWritePipeline($){return __PRIVATE_canUseNetwork($)&&$.b_.length<10}function __PRIVATE_addToWritePipeline($,_){$.b_.push(_);const j=__PRIVATE_ensureWriteStream($);j.Ho()&&j.h_&&j.P_(_.mutations)}function __PRIVATE_shouldStartWriteStream($){return __PRIVATE_canUseNetwork($)&&!__PRIVATE_ensureWriteStream($).jo()&&$.b_.length>0}function __PRIVATE_startWriteStream($){__PRIVATE_ensureWriteStream($).start()}async function __PRIVATE_onWriteStreamOpen($){__PRIVATE_ensureWriteStream($).E_()}async function __PRIVATE_onWriteHandshakeComplete($){const _=__PRIVATE_ensureWriteStream($);for(const j of $.b_)_.P_(j.mutations)}async function __PRIVATE_onMutationResult($,_,j){const ee=$.b_.shift(),re=MutationBatchResult.from(ee,_,j);await __PRIVATE_executeWithRecovery($,()=>$.remoteSyncer.applySuccessfulWrite(re)),await __PRIVATE_fillWritePipeline($)}async function __PRIVATE_onWriteStreamClose($,_){_&&__PRIVATE_ensureWriteStream($).h_&&await async function(ee,re){if(function(de){return __PRIVATE_isPermanentError(de)&&de!==C.ABORTED}(re.code)){const le=ee.b_.shift();__PRIVATE_ensureWriteStream(ee).Yo(),await __PRIVATE_executeWithRecovery(ee,()=>ee.remoteSyncer.rejectFailedWrite(le.batchId,re)),await __PRIVATE_fillWritePipeline(ee)}}($,_),__PRIVATE_shouldStartWriteStream($)&&__PRIVATE_startWriteStream($)}async function __PRIVATE_remoteStoreHandleCredentialChange($,_){const j=__PRIVATE_debugCast($);j.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const ee=__PRIVATE_canUseNetwork(j);j.C_.add(3),await __PRIVATE_disableNetworkInternal(j),ee&&j.M_.set("Unknown"),await j.remoteSyncer.handleCredentialChange(_),j.C_.delete(3),await __PRIVATE_enableNetworkInternal(j)}async function __PRIVATE_remoteStoreApplyPrimaryState($,_){const j=__PRIVATE_debugCast($);_?(j.C_.delete(2),await __PRIVATE_enableNetworkInternal(j)):_||(j.C_.add(2),await __PRIVATE_disableNetworkInternal(j),j.M_.set("Unknown"))}function __PRIVATE_ensureWatchStream($){return $.O_||($.O_=function(j,ee,re){const le=__PRIVATE_debugCast(j);return le.A_(),new __PRIVATE_PersistentListenStream(ee,le.connection,le.authCredentials,le.appCheckCredentials,le.serializer,re)}($.datastore,$.asyncQueue,{ho:__PRIVATE_onWatchStreamOpen.bind(null,$),Io:__PRIVATE_onWatchStreamClose.bind(null,$),a_:__PRIVATE_onWatchStreamChange.bind(null,$)}),$.v_.push(async _=>{_?($.O_.Yo(),__PRIVATE_shouldStartWatchStream($)?__PRIVATE_startWatchStream($):$.M_.set("Unknown")):(await $.O_.stop(),__PRIVATE_cleanUpWatchStreamState($))})),$.O_}function __PRIVATE_ensureWriteStream($){return $.N_||($.N_=function(j,ee,re){const le=__PRIVATE_debugCast(j);return le.A_(),new __PRIVATE_PersistentWriteStream(ee,le.connection,le.authCredentials,le.appCheckCredentials,le.serializer,re)}($.datastore,$.asyncQueue,{ho:__PRIVATE_onWriteStreamOpen.bind(null,$),Io:__PRIVATE_onWriteStreamClose.bind(null,$),T_:__PRIVATE_onWriteHandshakeComplete.bind(null,$),I_:__PRIVATE_onMutationResult.bind(null,$)}),$.v_.push(async _=>{_?($.N_.Yo(),await __PRIVATE_fillWritePipeline($)):(await $.N_.stop(),$.b_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${$.b_.length} pending writes`),$.b_=[]))})),$.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(_,j,ee,re,le){this.asyncQueue=_,this.timerId=j,this.targetTimeMs=ee,this.op=re,this.removalCallback=le,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(de=>{})}get promise(){return this.deferred.promise}static createAndSchedule(_,j,ee,re,le){const de=Date.now()+ee,ge=new DelayedOperation(_,j,de,re,le);return ge.start(ee),ge}start(_){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),_)}skipDelay(){return this.handleDelayElapsed()}cancel(_){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(C.CANCELLED,"Operation cancelled"+(_?": "+_:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(_=>this.deferred.resolve(_))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable($,_){if(__PRIVATE_logError("AsyncQueue",`${_}: ${$}`),__PRIVATE_isIndexedDbTransactionError($))return new FirestoreError(C.UNAVAILABLE,`${_}: ${$}`);throw $}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor(_){this.comparator=_?(j,ee)=>_(j,ee)||DocumentKey.comparator(j.key,ee.key):(j,ee)=>DocumentKey.comparator(j.key,ee.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap$1(this.comparator)}static emptySet(_){return new DocumentSet(_.comparator)}has(_){return this.keyedMap.get(_)!=null}get(_){return this.keyedMap.get(_)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(_){const j=this.keyedMap.get(_);return j?this.sortedSet.indexOf(j):-1}get size(){return this.sortedSet.size}forEach(_){this.sortedSet.inorderTraversal((j,ee)=>(_(j),!1))}add(_){const j=this.delete(_.key);return j.copy(j.keyedMap.insert(_.key,_),j.sortedSet.insert(_,null))}delete(_){const j=this.get(_);return j?this.copy(this.keyedMap.remove(_),this.sortedSet.remove(j)):this}isEqual(_){if(!(_ instanceof DocumentSet)||this.size!==_.size)return!1;const j=this.sortedSet.getIterator(),ee=_.sortedSet.getIterator();for(;j.hasNext();){const re=j.getNext().key,le=ee.getNext().key;if(!re.isEqual(le))return!1}return!0}toString(){const _=[];return this.forEach(j=>{_.push(j.toString())}),_.length===0?"DocumentSet ()":`DocumentSet (
  `+_.join(`  
`)+`
)`}copy(_,j){const ee=new DocumentSet;return ee.comparator=this.comparator,ee.keyedMap=_,ee.sortedSet=j,ee}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.B_=new SortedMap$1(DocumentKey.comparator)}track(_){const j=_.doc.key,ee=this.B_.get(j);ee?_.type!==0&&ee.type===3?this.B_=this.B_.insert(j,_):_.type===3&&ee.type!==1?this.B_=this.B_.insert(j,{type:ee.type,doc:_.doc}):_.type===2&&ee.type===2?this.B_=this.B_.insert(j,{type:2,doc:_.doc}):_.type===2&&ee.type===0?this.B_=this.B_.insert(j,{type:0,doc:_.doc}):_.type===1&&ee.type===0?this.B_=this.B_.remove(j):_.type===1&&ee.type===2?this.B_=this.B_.insert(j,{type:1,doc:ee.doc}):_.type===0&&ee.type===1?this.B_=this.B_.insert(j,{type:2,doc:_.doc}):fail():this.B_=this.B_.insert(j,_)}L_(){const _=[];return this.B_.inorderTraversal((j,ee)=>{_.push(ee)}),_}}class ViewSnapshot{constructor(_,j,ee,re,le,de,ge,ve,Ee){this.query=_,this.docs=j,this.oldDocs=ee,this.docChanges=re,this.mutatedKeys=le,this.fromCache=de,this.syncStateChanged=ge,this.excludesMetadataChanges=ve,this.hasCachedResults=Ee}static fromInitialDocuments(_,j,ee,re,le){const de=[];return j.forEach(ge=>{de.push({type:0,doc:ge})}),new ViewSnapshot(_,j,DocumentSet.emptySet(j),de,ee,re,!0,!1,le)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(_){if(!(this.fromCache===_.fromCache&&this.hasCachedResults===_.hasCachedResults&&this.syncStateChanged===_.syncStateChanged&&this.mutatedKeys.isEqual(_.mutatedKeys)&&__PRIVATE_queryEquals(this.query,_.query)&&this.docs.isEqual(_.docs)&&this.oldDocs.isEqual(_.oldDocs)))return!1;const j=this.docChanges,ee=_.docChanges;if(j.length!==ee.length)return!1;for(let re=0;re<j.length;re++)if(j[re].type!==ee[re].type||!j[re].doc.isEqual(ee[re].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.k_=void 0,this.listeners=[]}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=new ObjectMap(_=>__PRIVATE_canonifyQuery(_),__PRIVATE_queryEquals),this.onlineState="Unknown",this.q_=new Set}}async function __PRIVATE_eventManagerListen($,_){const j=__PRIVATE_debugCast($),ee=_.query;let re=!1,le=j.queries.get(ee);if(le||(re=!0,le=new __PRIVATE_QueryListenersInfo),re)try{le.k_=await j.onListen(ee)}catch(de){const ge=__PRIVATE_wrapInUserErrorIfRecoverable(de,`Initialization of query '${__PRIVATE_stringifyQuery(_.query)}' failed`);return void _.onError(ge)}j.queries.set(ee,le),le.listeners.push(_),_.Q_(j.onlineState),le.k_&&_.K_(le.k_)&&__PRIVATE_raiseSnapshotsInSyncEvent(j)}async function __PRIVATE_eventManagerUnlisten($,_){const j=__PRIVATE_debugCast($),ee=_.query;let re=!1;const le=j.queries.get(ee);if(le){const de=le.listeners.indexOf(_);de>=0&&(le.listeners.splice(de,1),re=le.listeners.length===0)}if(re)return j.queries.delete(ee),j.onUnlisten(ee)}function __PRIVATE_eventManagerOnWatchChange($,_){const j=__PRIVATE_debugCast($);let ee=!1;for(const re of _){const le=re.query,de=j.queries.get(le);if(de){for(const ge of de.listeners)ge.K_(re)&&(ee=!0);de.k_=re}}ee&&__PRIVATE_raiseSnapshotsInSyncEvent(j)}function __PRIVATE_eventManagerOnWatchError($,_,j){const ee=__PRIVATE_debugCast($),re=ee.queries.get(_);if(re)for(const le of re.listeners)le.onError(j);ee.queries.delete(_)}function __PRIVATE_raiseSnapshotsInSyncEvent($){$.q_.forEach(_=>{_.next()})}class __PRIVATE_QueryListener{constructor(_,j,ee){this.query=_,this.U_=j,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=ee||{}}K_(_){if(!this.options.includeMetadataChanges){const ee=[];for(const re of _.docChanges)re.type!==3&&ee.push(re);_=new ViewSnapshot(_.query,_.docs,_.oldDocs,ee,_.mutatedKeys,_.fromCache,_.syncStateChanged,!0,_.hasCachedResults)}let j=!1;return this.W_?this.z_(_)&&(this.U_.next(_),j=!0):this.j_(_,this.onlineState)&&(this.H_(_),j=!0),this.G_=_,j}onError(_){this.U_.error(_)}Q_(_){this.onlineState=_;let j=!1;return this.G_&&!this.W_&&this.j_(this.G_,_)&&(this.H_(this.G_),j=!0),j}j_(_,j){if(!_.fromCache)return!0;const ee=j!=="Offline";return(!this.options.J_||!ee)&&(!_.docs.isEmpty()||_.hasCachedResults||j==="Offline")}z_(_){if(_.docChanges.length>0)return!0;const j=this.G_&&this.G_.hasPendingWrites!==_.hasPendingWrites;return!(!_.syncStateChanged&&!j)&&this.options.includeMetadataChanges===!0}H_(_){_=ViewSnapshot.fromInitialDocuments(_.query,_.docs,_.mutatedKeys,_.fromCache,_.hasCachedResults),this.W_=!0,this.U_.next(_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(_){this.key=_}}class __PRIVATE_RemovedLimboDocument{constructor(_){this.key=_}}class __PRIVATE_View{constructor(_,j){this.query=_,this.ia=j,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this._a=__PRIVATE_newQueryComparator(_),this.aa=new DocumentSet(this._a)}get ua(){return this.ia}ca(_,j){const ee=j?j.la:new __PRIVATE_DocumentChangeSet,re=j?j.aa:this.aa;let le=j?j.mutatedKeys:this.mutatedKeys,de=re,ge=!1;const ve=this.query.limitType==="F"&&re.size===this.query.limit?re.last():null,Ee=this.query.limitType==="L"&&re.size===this.query.limit?re.first():null;if(_.inorderTraversal((Ce,Ae)=>{const Se=re.get(Ce),ke=__PRIVATE_queryMatches(this.query,Ae)?Ae:null,we=!!Se&&this.mutatedKeys.has(Se.key),Ne=!!ke&&(ke.hasLocalMutations||this.mutatedKeys.has(ke.key)&&ke.hasCommittedMutations);let Le=!1;Se&&ke?Se.data.isEqual(ke.data)?we!==Ne&&(ee.track({type:3,doc:ke}),Le=!0):this.ha(Se,ke)||(ee.track({type:2,doc:ke}),Le=!0,(ve&&this._a(ke,ve)>0||Ee&&this._a(ke,Ee)<0)&&(ge=!0)):!Se&&ke?(ee.track({type:0,doc:ke}),Le=!0):Se&&!ke&&(ee.track({type:1,doc:Se}),Le=!0,(ve||Ee)&&(ge=!0)),Le&&(ke?(de=de.add(ke),le=Ne?le.add(Ce):le.delete(Ce)):(de=de.delete(Ce),le=le.delete(Ce)))}),this.query.limit!==null)for(;de.size>this.query.limit;){const Ce=this.query.limitType==="F"?de.last():de.first();de=de.delete(Ce.key),le=le.delete(Ce.key),ee.track({type:1,doc:Ce})}return{aa:de,la:ee,Zi:ge,mutatedKeys:le}}ha(_,j){return _.hasLocalMutations&&j.hasCommittedMutations&&!j.hasLocalMutations}applyChanges(_,j,ee){const re=this.aa;this.aa=_.aa,this.mutatedKeys=_.mutatedKeys;const le=_.la.L_();le.sort((Ee,Ce)=>function(Se,ke){const we=Ne=>{switch(Ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return we(Se)-we(ke)}(Ee.type,Ce.type)||this._a(Ee.doc,Ce.doc)),this.Pa(ee);const de=j?this.Ia():[],ge=this.oa.size===0&&this.current?1:0,ve=ge!==this.sa;return this.sa=ge,le.length!==0||ve?{snapshot:new ViewSnapshot(this.query,_.aa,re,le,_.mutatedKeys,ge===0,ve,!1,!!ee&&ee.resumeToken.approximateByteSize()>0),Ta:de}:{Ta:de}}Q_(_){return this.current&&_==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(_){return!this.ia.has(_)&&!!this.aa.has(_)&&!this.aa.get(_).hasLocalMutations}Pa(_){_&&(_.addedDocuments.forEach(j=>this.ia=this.ia.add(j)),_.modifiedDocuments.forEach(j=>{}),_.removedDocuments.forEach(j=>this.ia=this.ia.delete(j)),this.current=_.current)}Ia(){if(!this.current)return[];const _=this.oa;this.oa=__PRIVATE_documentKeySet(),this.aa.forEach(ee=>{this.Ea(ee.key)&&(this.oa=this.oa.add(ee.key))});const j=[];return _.forEach(ee=>{this.oa.has(ee)||j.push(new __PRIVATE_RemovedLimboDocument(ee))}),this.oa.forEach(ee=>{_.has(ee)||j.push(new __PRIVATE_AddedLimboDocument(ee))}),j}da(_){this.ia=_.ls,this.oa=__PRIVATE_documentKeySet();const j=this.ca(_.documents);return this.applyChanges(j,!0)}Aa(){return ViewSnapshot.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(_,j,ee){this.query=_,this.targetId=j,this.view=ee}}class LimboResolution{constructor(_){this.key=_,this.Ra=!1}}class __PRIVATE_SyncEngineImpl{constructor(_,j,ee,re,le,de){this.localStore=_,this.remoteStore=j,this.eventManager=ee,this.sharedClientState=re,this.currentUser=le,this.maxConcurrentLimboResolutions=de,this.Va={},this.ma=new ObjectMap(ge=>__PRIVATE_canonifyQuery(ge),__PRIVATE_queryEquals),this.fa=new Map,this.ga=new Set,this.pa=new SortedMap$1(DocumentKey.comparator),this.ya=new Map,this.wa=new __PRIVATE_ReferenceSet,this.Sa={},this.ba=new Map,this.Da=__PRIVATE_TargetIdGenerator.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function __PRIVATE_syncEngineListen($,_){const j=__PRIVATE_ensureWatchCallbacks($);let ee,re;const le=j.ma.get(_);if(le)ee=le.targetId,j.sharedClientState.addLocalQueryTarget(ee),re=le.view.Aa();else{const de=await __PRIVATE_localStoreAllocateTarget(j.localStore,__PRIVATE_queryToTarget(_)),ge=j.sharedClientState.addLocalQueryTarget(de.targetId);ee=de.targetId,re=await __PRIVATE_initializeViewAndComputeSnapshot(j,_,ee,ge==="current",de.resumeToken),j.isPrimaryClient&&__PRIVATE_remoteStoreListen(j.remoteStore,de)}return re}async function __PRIVATE_initializeViewAndComputeSnapshot($,_,j,ee,re){$.va=(Ae,Se,ke)=>async function(Ne,Le,Me,Fe){let xe=Le.view.ca(Me);xe.Zi&&(xe=await __PRIVATE_localStoreExecuteQuery(Ne.localStore,Le.query,!1).then(({documents:Oe})=>Le.view.ca(Oe,xe)));const $e=Fe&&Fe.targetChanges.get(Le.targetId),De=Le.view.applyChanges(xe,Ne.isPrimaryClient,$e);return __PRIVATE_updateTrackedLimbos(Ne,Le.targetId,De.Ta),De.snapshot}($,Ae,Se,ke);const le=await __PRIVATE_localStoreExecuteQuery($.localStore,_,!0),de=new __PRIVATE_View(_,le.ls),ge=de.ca(le.documents),ve=TargetChange.createSynthesizedTargetChangeForCurrentChange(j,ee&&$.onlineState!=="Offline",re),Ee=de.applyChanges(ge,$.isPrimaryClient,ve);__PRIVATE_updateTrackedLimbos($,j,Ee.Ta);const Ce=new __PRIVATE_QueryView(_,j,de);return $.ma.set(_,Ce),$.fa.has(j)?$.fa.get(j).push(_):$.fa.set(j,[_]),Ee.snapshot}async function __PRIVATE_syncEngineUnlisten($,_){const j=__PRIVATE_debugCast($),ee=j.ma.get(_),re=j.fa.get(ee.targetId);if(re.length>1)return j.fa.set(ee.targetId,re.filter(le=>!__PRIVATE_queryEquals(le,_))),void j.ma.delete(_);j.isPrimaryClient?(j.sharedClientState.removeLocalQueryTarget(ee.targetId),j.sharedClientState.isActiveQueryTarget(ee.targetId)||await __PRIVATE_localStoreReleaseTarget(j.localStore,ee.targetId,!1).then(()=>{j.sharedClientState.clearQueryState(ee.targetId),__PRIVATE_remoteStoreUnlisten(j.remoteStore,ee.targetId),__PRIVATE_removeAndCleanupTarget(j,ee.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(j,ee.targetId),await __PRIVATE_localStoreReleaseTarget(j.localStore,ee.targetId,!0))}async function __PRIVATE_syncEngineWrite($,_,j){const ee=__PRIVATE_syncEngineEnsureWriteCallbacks($);try{const re=await function(de,ge){const ve=__PRIVATE_debugCast(de),Ee=Timestamp.now(),Ce=ge.reduce((ke,we)=>ke.add(we.key),__PRIVATE_documentKeySet());let Ae,Se;return ve.persistence.runTransaction("Locally write mutations","readwrite",ke=>{let we=__PRIVATE_mutableDocumentMap(),Ne=__PRIVATE_documentKeySet();return ve.ss.getEntries(ke,Ce).next(Le=>{we=Le,we.forEach((Me,Fe)=>{Fe.isValidDocument()||(Ne=Ne.add(Me))})}).next(()=>ve.localDocuments.getOverlayedDocuments(ke,we)).next(Le=>{Ae=Le;const Me=[];for(const Fe of ge){const xe=__PRIVATE_mutationExtractBaseValue(Fe,Ae.get(Fe.key).overlayedDocument);xe!=null&&Me.push(new __PRIVATE_PatchMutation(Fe.key,xe,__PRIVATE_extractFieldMask(xe.value.mapValue),Precondition.exists(!0)))}return ve.mutationQueue.addMutationBatch(ke,Ee,Me,ge)}).next(Le=>{Se=Le;const Me=Le.applyToLocalDocumentSet(Ae,Ne);return ve.documentOverlayCache.saveOverlays(ke,Le.batchId,Me)})}).then(()=>({batchId:Se.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(Ae)}))}(ee.localStore,_);ee.sharedClientState.addPendingMutation(re.batchId),function(de,ge,ve){let Ee=de.Sa[de.currentUser.toKey()];Ee||(Ee=new SortedMap$1(__PRIVATE_primitiveComparator)),Ee=Ee.insert(ge,ve),de.Sa[de.currentUser.toKey()]=Ee}(ee,re.batchId,j),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(ee,re.changes),await __PRIVATE_fillWritePipeline(ee.remoteStore)}catch(re){const le=__PRIVATE_wrapInUserErrorIfRecoverable(re,"Failed to persist write");j.reject(le)}}async function __PRIVATE_syncEngineApplyRemoteEvent($,_){const j=__PRIVATE_debugCast($);try{const ee=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(j.localStore,_);_.targetChanges.forEach((re,le)=>{const de=j.ya.get(le);de&&(__PRIVATE_hardAssert(re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size<=1),re.addedDocuments.size>0?de.Ra=!0:re.modifiedDocuments.size>0?__PRIVATE_hardAssert(de.Ra):re.removedDocuments.size>0&&(__PRIVATE_hardAssert(de.Ra),de.Ra=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(j,ee,_)}catch(ee){await __PRIVATE_ignoreIfPrimaryLeaseLoss(ee)}}function __PRIVATE_syncEngineApplyOnlineStateChange($,_,j){const ee=__PRIVATE_debugCast($);if(ee.isPrimaryClient&&j===0||!ee.isPrimaryClient&&j===1){const re=[];ee.ma.forEach((le,de)=>{const ge=de.view.Q_(_);ge.snapshot&&re.push(ge.snapshot)}),function(de,ge){const ve=__PRIVATE_debugCast(de);ve.onlineState=ge;let Ee=!1;ve.queries.forEach((Ce,Ae)=>{for(const Se of Ae.listeners)Se.Q_(ge)&&(Ee=!0)}),Ee&&__PRIVATE_raiseSnapshotsInSyncEvent(ve)}(ee.eventManager,_),re.length&&ee.Va.a_(re),ee.onlineState=_,ee.isPrimaryClient&&ee.sharedClientState.setOnlineState(_)}}async function __PRIVATE_syncEngineRejectListen($,_,j){const ee=__PRIVATE_debugCast($);ee.sharedClientState.updateQueryState(_,"rejected",j);const re=ee.ya.get(_),le=re&&re.key;if(le){let de=new SortedMap$1(DocumentKey.comparator);de=de.insert(le,MutableDocument.newNoDocument(le,SnapshotVersion.min()));const ge=__PRIVATE_documentKeySet().add(le),ve=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap$1(__PRIVATE_primitiveComparator),de,ge);await __PRIVATE_syncEngineApplyRemoteEvent(ee,ve),ee.pa=ee.pa.remove(le),ee.ya.delete(_),__PRIVATE_pumpEnqueuedLimboResolutions(ee)}else await __PRIVATE_localStoreReleaseTarget(ee.localStore,_,!1).then(()=>__PRIVATE_removeAndCleanupTarget(ee,_,j)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite($,_){const j=__PRIVATE_debugCast($),ee=_.batch.batchId;try{const re=await __PRIVATE_localStoreAcknowledgeBatch(j.localStore,_);__PRIVATE_processUserCallback(j,ee,null),__PRIVATE_triggerPendingWritesCallbacks(j,ee),j.sharedClientState.updateMutationState(ee,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(j,re)}catch(re){await __PRIVATE_ignoreIfPrimaryLeaseLoss(re)}}async function __PRIVATE_syncEngineRejectFailedWrite($,_,j){const ee=__PRIVATE_debugCast($);try{const re=await function(de,ge){const ve=__PRIVATE_debugCast(de);return ve.persistence.runTransaction("Reject batch","readwrite-primary",Ee=>{let Ce;return ve.mutationQueue.lookupMutationBatch(Ee,ge).next(Ae=>(__PRIVATE_hardAssert(Ae!==null),Ce=Ae.keys(),ve.mutationQueue.removeMutationBatch(Ee,Ae))).next(()=>ve.mutationQueue.performConsistencyCheck(Ee)).next(()=>ve.documentOverlayCache.removeOverlaysForBatchId(Ee,Ce,ge)).next(()=>ve.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Ee,Ce)).next(()=>ve.localDocuments.getDocuments(Ee,Ce))})}(ee.localStore,_);__PRIVATE_processUserCallback(ee,_,j),__PRIVATE_triggerPendingWritesCallbacks(ee,_),ee.sharedClientState.updateMutationState(_,"rejected",j),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(ee,re)}catch(re){await __PRIVATE_ignoreIfPrimaryLeaseLoss(re)}}function __PRIVATE_triggerPendingWritesCallbacks($,_){($.ba.get(_)||[]).forEach(j=>{j.resolve()}),$.ba.delete(_)}function __PRIVATE_processUserCallback($,_,j){const ee=__PRIVATE_debugCast($);let re=ee.Sa[ee.currentUser.toKey()];if(re){const le=re.get(_);le&&(j?le.reject(j):le.resolve(),re=re.remove(_)),ee.Sa[ee.currentUser.toKey()]=re}}function __PRIVATE_removeAndCleanupTarget($,_,j=null){$.sharedClientState.removeLocalQueryTarget(_);for(const ee of $.fa.get(_))$.ma.delete(ee),j&&$.Va.Fa(ee,j);$.fa.delete(_),$.isPrimaryClient&&$.wa.Rr(_).forEach(ee=>{$.wa.containsKey(ee)||__PRIVATE_removeLimboTarget($,ee)})}function __PRIVATE_removeLimboTarget($,_){$.ga.delete(_.path.canonicalString());const j=$.pa.get(_);j!==null&&(__PRIVATE_remoteStoreUnlisten($.remoteStore,j),$.pa=$.pa.remove(_),$.ya.delete(j),__PRIVATE_pumpEnqueuedLimboResolutions($))}function __PRIVATE_updateTrackedLimbos($,_,j){for(const ee of j)ee instanceof __PRIVATE_AddedLimboDocument?($.wa.addReference(ee.key,_),__PRIVATE_trackLimboChange($,ee)):ee instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+ee.key),$.wa.removeReference(ee.key,_),$.wa.containsKey(ee.key)||__PRIVATE_removeLimboTarget($,ee.key)):fail()}function __PRIVATE_trackLimboChange($,_){const j=_.key,ee=j.path.canonicalString();$.pa.get(j)||$.ga.has(ee)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+j),$.ga.add(ee),__PRIVATE_pumpEnqueuedLimboResolutions($))}function __PRIVATE_pumpEnqueuedLimboResolutions($){for(;$.ga.size>0&&$.pa.size<$.maxConcurrentLimboResolutions;){const _=$.ga.values().next().value;$.ga.delete(_);const j=new DocumentKey(ResourcePath.fromString(_)),ee=$.Da.next();$.ya.set(ee,new LimboResolution(j)),$.pa=$.pa.insert(j,ee),__PRIVATE_remoteStoreListen($.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(j.path)),ee,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence._e))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore($,_,j){const ee=__PRIVATE_debugCast($),re=[],le=[],de=[];ee.ma.isEmpty()||(ee.ma.forEach((ge,ve)=>{de.push(ee.va(ve,_,j).then(Ee=>{if((Ee||j)&&ee.isPrimaryClient&&ee.sharedClientState.updateQueryState(ve.targetId,Ee?.fromCache?"not-current":"current"),Ee){re.push(Ee);const Ce=__PRIVATE_LocalViewChanges.Qi(ve.targetId,Ee);le.push(Ce)}}))}),await Promise.all(de),ee.Va.a_(re),await async function(ve,Ee){const Ce=__PRIVATE_debugCast(ve);try{await Ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ae=>PersistencePromise.forEach(Ee,Se=>PersistencePromise.forEach(Se.ki,ke=>Ce.persistence.referenceDelegate.addReference(Ae,Se.targetId,ke)).next(()=>PersistencePromise.forEach(Se.qi,ke=>Ce.persistence.referenceDelegate.removeReference(Ae,Se.targetId,ke)))))}catch(Ae){if(!__PRIVATE_isIndexedDbTransactionError(Ae))throw Ae;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+Ae)}for(const Ae of Ee){const Se=Ae.targetId;if(!Ae.fromCache){const ke=Ce.ts.get(Se),we=ke.snapshotVersion,Ne=ke.withLastLimboFreeSnapshotVersion(we);Ce.ts=Ce.ts.insert(Se,Ne)}}}(ee.localStore,le))}async function __PRIVATE_syncEngineHandleCredentialChange($,_){const j=__PRIVATE_debugCast($);if(!j.currentUser.isEqual(_)){__PRIVATE_logDebug("SyncEngine","User change. New user:",_.toKey());const ee=await __PRIVATE_localStoreHandleUserChange(j.localStore,_);j.currentUser=_,function(le,de){le.ba.forEach(ge=>{ge.forEach(ve=>{ve.reject(new FirestoreError(C.CANCELLED,de))})}),le.ba.clear()}(j,"'waitForPendingWrites' promise is rejected due to a user change."),j.sharedClientState.handleUserChange(_,ee.removedBatchIds,ee.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(j,ee._s)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget($,_){const j=__PRIVATE_debugCast($),ee=j.ya.get(_);if(ee&&ee.Ra)return __PRIVATE_documentKeySet().add(ee.key);{let re=__PRIVATE_documentKeySet();const le=j.fa.get(_);if(!le)return re;for(const de of le){const ge=j.ma.get(de);re=re.unionWith(ge.view.ua)}return re}}function __PRIVATE_ensureWatchCallbacks($){const _=__PRIVATE_debugCast($);return _.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,_),_.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,_),_.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,_),_.Va.a_=__PRIVATE_eventManagerOnWatchChange.bind(null,_.eventManager),_.Va.Fa=__PRIVATE_eventManagerOnWatchError.bind(null,_.eventManager),_}function __PRIVATE_syncEngineEnsureWriteCallbacks($){const _=__PRIVATE_debugCast($);return _.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,_),_.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,_),_}class MemoryOfflineComponentProvider{constructor(){this.synchronizeTabs=!1}async initialize(_){this.serializer=__PRIVATE_newSerializer(_.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(_),this.persistence=this.createPersistence(_),await this.persistence.start(),this.localStore=this.createLocalStore(_),this.gcScheduler=this.createGarbageCollectionScheduler(_,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(_,this.localStore)}createGarbageCollectionScheduler(_,j){return null}createIndexBackfillerScheduler(_,j){return null}createLocalStore(_){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,_.initialUser,this.serializer)}createPersistence(_){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.jr,this.serializer)}createSharedClientState(_){return new __PRIVATE_MemorySharedClientState}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OnlineComponentProvider{async initialize(_,j){this.localStore||(this.localStore=_.localStore,this.sharedClientState=_.sharedClientState,this.datastore=this.createDatastore(j),this.remoteStore=this.createRemoteStore(j),this.eventManager=this.createEventManager(j),this.syncEngine=this.createSyncEngine(j,!_.synchronizeTabs),this.sharedClientState.onlineStateHandler=ee=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,ee,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(_){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(_){const j=__PRIVATE_newSerializer(_.databaseInfo.databaseId),ee=function(le){return new __PRIVATE_WebChannelConnection(le)}(_.databaseInfo);return function(le,de,ge,ve){return new __PRIVATE_DatastoreImpl(le,de,ge,ve)}(_.authCredentials,_.appCheckCredentials,ee,j)}createRemoteStore(_){return function(ee,re,le,de,ge){return new __PRIVATE_RemoteStoreImpl(ee,re,le,de,ge)}(this.localStore,this.datastore,_.asyncQueue,j=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,j,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(_,j){return function(re,le,de,ge,ve,Ee,Ce){const Ae=new __PRIVATE_SyncEngineImpl(re,le,de,ge,ve,Ee);return Ce&&(Ae.Ca=!0),Ae}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,_.initialUser,_.maxConcurrentLimboResolutions,j)}terminate(){return async function(j){const ee=__PRIVATE_debugCast(j);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),ee.C_.add(5),await __PRIVATE_disableNetworkInternal(ee),ee.F_.shutdown(),ee.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(_){this.observer=_,this.muted=!1}next(_){this.observer.next&&this.Oa(this.observer.next,_)}error(_){this.observer.error?this.Oa(this.observer.error,_):__PRIVATE_logError("Uncaught Error in snapshot listener:",_.toString())}Na(){this.muted=!0}Oa(_,j){this.muted||setTimeout(()=>{this.muted||_(j)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(_,j,ee,re){this.authCredentials=_,this.appCheckCredentials=j,this.asyncQueue=ee,this.databaseInfo=re,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(ee,async le=>{__PRIVATE_logDebug("FirestoreClient","Received user=",le.uid),await this.authCredentialListener(le),this.user=le}),this.appCheckCredentials.start(ee,le=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",le),this.appCheckCredentialListener(le,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(_){this.authCredentialListener=_}setAppCheckTokenChangeListener(_){this.appCheckCredentialListener=_}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new FirestoreError(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const _=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),_.resolve()}catch(j){const ee=__PRIVATE_wrapInUserErrorIfRecoverable(j,"Failed to shutdown persistence");_.reject(ee)}}),_.promise}}async function __PRIVATE_setOfflineComponentProvider($,_){$.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const j=await $.getConfiguration();await _.initialize(j);let ee=j.initialUser;$.setCredentialChangeListener(async re=>{ee.isEqual(re)||(await __PRIVATE_localStoreHandleUserChange(_.localStore,re),ee=re)}),_.persistence.setDatabaseDeletedListener(()=>$.terminate()),$._offlineComponents=_}async function __PRIVATE_setOnlineComponentProvider($,_){$.asyncQueue.verifyOperationInProgress();const j=await __PRIVATE_ensureOfflineComponents($);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider");const ee=await $.getConfiguration();await _.initialize(j,ee),$.setCredentialChangeListener(re=>__PRIVATE_remoteStoreHandleCredentialChange(_.remoteStore,re)),$.setAppCheckTokenChangeListener((re,le)=>__PRIVATE_remoteStoreHandleCredentialChange(_.remoteStore,le)),$._onlineComponents=_}function __PRIVATE_canFallbackFromIndexedDbError($){return $.name==="FirebaseError"?$.code===C.FAILED_PRECONDITION||$.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&$ instanceof DOMException)||$.code===22||$.code===20||$.code===11}async function __PRIVATE_ensureOfflineComponents($){if(!$._offlineComponents)if($._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider($,$._uninitializedComponentsProvider._offline)}catch(_){const j=_;if(!__PRIVATE_canFallbackFromIndexedDbError(j))throw j;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+j),await __PRIVATE_setOfflineComponentProvider($,new MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider($,new MemoryOfflineComponentProvider);return $._offlineComponents}async function __PRIVATE_ensureOnlineComponents($){return $._onlineComponents||($._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider($,$._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider($,new OnlineComponentProvider))),$._onlineComponents}function __PRIVATE_getSyncEngine($){return __PRIVATE_ensureOnlineComponents($).then(_=>_.syncEngine)}async function __PRIVATE_getEventManager($){const _=await __PRIVATE_ensureOnlineComponents($),j=_.eventManager;return j.onListen=__PRIVATE_syncEngineListen.bind(null,_.syncEngine),j.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,_.syncEngine),j}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions($){const _={};return $.timeoutSeconds!==void 0&&(_.timeoutSeconds=$.timeoutSeconds),_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument($,_,j){if(!j)throw new FirestoreError(C.INVALID_ARGUMENT,`Function ${$}() cannot be called with an empty ${_}.`)}function __PRIVATE_validateIsNotUsedTogether($,_,j,ee){if(_===!0&&ee===!0)throw new FirestoreError(C.INVALID_ARGUMENT,`${$} and ${j} cannot be used together.`)}function __PRIVATE_validateDocumentPath($){if(!DocumentKey.isDocumentKey($))throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${$} has ${$.length}.`)}function __PRIVATE_validateCollectionPath($){if(DocumentKey.isDocumentKey($))throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${$} has ${$.length}.`)}function __PRIVATE_valueDescription($){if($===void 0)return"undefined";if($===null)return"null";if(typeof $=="string")return $.length>20&&($=`${$.substring(0,20)}...`),JSON.stringify($);if(typeof $=="number"||typeof $=="boolean")return""+$;if(typeof $=="object"){if($ instanceof Array)return"an array";{const _=function(ee){return ee.constructor?ee.constructor.name:null}($);return _?`a custom ${_} object`:"an object"}}return typeof $=="function"?"a function":fail()}function __PRIVATE_cast($,_){if("_delegate"in $&&($=$._delegate),!($ instanceof _)){if(_.name===$.constructor.name)throw new FirestoreError(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const j=__PRIVATE_valueDescription($);throw new FirestoreError(C.INVALID_ARGUMENT,`Expected type '${_.name}', but it was: ${j}`)}}return $}function __PRIVATE_validatePositiveNumber($,_){if(_<=0)throw new FirestoreError(C.INVALID_ARGUMENT,`Function ${$}() requires a positive number, but it was: ${_}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(_){var j,ee;if(_.host===void 0){if(_.ssl!==void 0)throw new FirestoreError(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=_.host,this.ssl=(j=_.ssl)===null||j===void 0||j;if(this.credentials=_.credentials,this.ignoreUndefinedProperties=!!_.ignoreUndefinedProperties,this.localCache=_.localCache,_.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(_.cacheSizeBytes!==-1&&_.cacheSizeBytes<1048576)throw new FirestoreError(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=_.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",_.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",_.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!_.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:_.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!_.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((ee=_.experimentalLongPollingOptions)!==null&&ee!==void 0?ee:{}),function(le){if(le.timeoutSeconds!==void 0){if(isNaN(le.timeoutSeconds))throw new FirestoreError(C.INVALID_ARGUMENT,`invalid long polling timeout: ${le.timeoutSeconds} (must not be NaN)`);if(le.timeoutSeconds<5)throw new FirestoreError(C.INVALID_ARGUMENT,`invalid long polling timeout: ${le.timeoutSeconds} (minimum allowed value is 5)`);if(le.timeoutSeconds>30)throw new FirestoreError(C.INVALID_ARGUMENT,`invalid long polling timeout: ${le.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!_.useFetchStreams}isEqual(_){return this.host===_.host&&this.ssl===_.ssl&&this.credentials===_.credentials&&this.cacheSizeBytes===_.cacheSizeBytes&&this.experimentalForceLongPolling===_.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===_.experimentalAutoDetectLongPolling&&function(ee,re){return ee.timeoutSeconds===re.timeoutSeconds}(this.experimentalLongPollingOptions,_.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===_.ignoreUndefinedProperties&&this.useFetchStreams===_.useFetchStreams}}class Firestore$1{constructor(_,j,ee,re){this._authCredentials=_,this._appCheckCredentials=j,this._databaseId=ee,this._app=re,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new FirestoreError(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(_){if(this._settingsFrozen)throw new FirestoreError(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(_),_.credentials!==void 0&&(this._authCredentials=function(ee){if(!ee)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(ee.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(ee.sessionIndex||"0",ee.iamToken||null,ee.authTokenFactory||null);case"provider":return ee.client;default:throw new FirestoreError(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(_.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(j){const ee=fe.get(j);ee&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),fe.delete(j),ee.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator($,_,j,ee={}){var re;const le=($=__PRIVATE_cast($,Firestore$1))._getSettings(),de=`${_}:${j}`;if(le.host!=="firestore.googleapis.com"&&le.host!==de&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),$._setSettings(Object.assign(Object.assign({},le),{host:de,ssl:!1})),ee.mockUserToken){let ge,ve;if(typeof ee.mockUserToken=="string")ge=ee.mockUserToken,ve=User.MOCK_USER;else{ge=createMockUserToken(ee.mockUserToken,(re=$._app)===null||re===void 0?void 0:re.options.projectId);const Ee=ee.mockUserToken.sub||ee.mockUserToken.user_id;if(!Ee)throw new FirestoreError(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ve=new User(Ee)}$._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(ge,ve))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(_,j,ee){this.converter=j,this._query=ee,this.type="query",this.firestore=_}withConverter(_){return new Query(this.firestore,_,this._query)}}class DocumentReference{constructor(_,j,ee){this.converter=j,this._key=ee,this.type="document",this.firestore=_}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(_){return new DocumentReference(this.firestore,_,this._key)}}class CollectionReference extends Query{constructor(_,j,ee){super(_,j,__PRIVATE_newQueryForPath(ee)),this._path=ee,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const _=this._path.popLast();return _.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(_))}withConverter(_){return new CollectionReference(this.firestore,_,this._path)}}function collection($,_,...j){if($=getModularInstance($),__PRIVATE_validateNonEmptyArgument("collection","path",_),$ instanceof Firestore$1){const ee=ResourcePath.fromString(_,...j);return __PRIVATE_validateCollectionPath(ee),new CollectionReference($,null,ee)}{if(!($ instanceof DocumentReference||$ instanceof CollectionReference))throw new FirestoreError(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const ee=$._path.child(ResourcePath.fromString(_,...j));return __PRIVATE_validateCollectionPath(ee),new CollectionReference($.firestore,null,ee)}}function doc($,_,...j){if($=getModularInstance($),arguments.length===1&&(_=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",_),$ instanceof Firestore$1){const ee=ResourcePath.fromString(_,...j);return __PRIVATE_validateDocumentPath(ee),new DocumentReference($,null,new DocumentKey(ee))}{if(!($ instanceof DocumentReference||$ instanceof CollectionReference))throw new FirestoreError(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const ee=$._path.child(ResourcePath.fromString(_,...j));return __PRIVATE_validateDocumentPath(ee),new DocumentReference($.firestore,$ instanceof CollectionReference?$.converter:null,new DocumentKey(ee))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.iu=()=>{const j=getDocument();j&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+j.visibilityState),this.zo.Qo()};const _=getDocument();_&&typeof _.addEventListener=="function"&&_.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(_){this.enqueue(_)}enqueueAndForgetEvenWhileRestricted(_){this.su(),this.ou(_)}enterRestrictedMode(_){if(!this.Za){this.Za=!0,this.nu=_||!1;const j=getDocument();j&&typeof j.removeEventListener=="function"&&j.removeEventListener("visibilitychange",this.iu)}}enqueue(_){if(this.su(),this.Za)return new Promise(()=>{});const j=new __PRIVATE_Deferred;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(_().then(j.resolve,j.reject),j.promise)).then(()=>j.promise)}enqueueRetryable(_){this.enqueueAndForget(()=>(this.Ya.push(_),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(_){if(!__PRIVATE_isIndexedDbTransactionError(_))throw _;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+_)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(_){const j=this.Ja.then(()=>(this.tu=!0,_().catch(ee=>{this.eu=ee,this.tu=!1;const re=function(de){let ge=de.message||"";return de.stack&&(ge=de.stack.includes(de.message)?de.stack:de.message+`
`+de.stack),ge}(ee);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",re),ee}).then(ee=>(this.tu=!1,ee))));return this.Ja=j,j}enqueueAfterDelay(_,j,ee){this.su(),this.ru.indexOf(_)>-1&&(j=0);const re=DelayedOperation.createAndSchedule(this,_,j,ee,le=>this.au(le));return this.Xa.push(re),re}su(){this.eu&&fail()}verifyOperationInProgress(){}async uu(){let _;do _=this.Ja,await _;while(_!==this.Ja)}cu(_){for(const j of this.Xa)if(j.timerId===_)return!0;return!1}lu(_){return this.uu().then(()=>{this.Xa.sort((j,ee)=>j.targetTimeMs-ee.targetTimeMs);for(const j of this.Xa)if(j.skipDelay(),_!=="all"&&j.timerId===_)break;return this.uu()})}hu(_){this.ru.push(_)}au(_){const j=this.Xa.indexOf(_);this.Xa.splice(j,1)}}function __PRIVATE_isPartialObserver($){return function(j,ee){if(typeof j!="object"||j===null)return!1;const re=j;for(const le of ee)if(le in re&&typeof re[le]=="function")return!0;return!1}($,["next","error","complete"])}class Firestore extends Firestore$1{constructor(_,j,ee,re){super(_,j,ee,re),this.type="firestore",this._queue=function(){return new __PRIVATE_AsyncQueueImpl}(),this._persistenceKey=re?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||__PRIVATE_configureFirestore(this),this._firestoreClient.terminate()}}function getFirestore($,_){const j=typeof $=="object"?$:getApp(),ee=typeof $=="string"?$:_||"(default)",re=_getProvider(j,"firestore").getImmediate({identifier:ee});if(!re._initialized){const le=getDefaultEmulatorHostnameAndPort("firestore");le&&connectFirestoreEmulator(re,...le)}return re}function ensureFirestoreConfigured($){return $._firestoreClient||__PRIVATE_configureFirestore($),$._firestoreClient.verifyNotTerminated(),$._firestoreClient}function __PRIVATE_configureFirestore($){var _,j,ee;const re=$._freezeSettings(),le=function(ge,ve,Ee,Ce){return new DatabaseInfo(ge,ve,Ee,Ce.host,Ce.ssl,Ce.experimentalForceLongPolling,Ce.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(Ce.experimentalLongPollingOptions),Ce.useFetchStreams)}($._databaseId,((_=$._app)===null||_===void 0?void 0:_.options.appId)||"",$._persistenceKey,re);$._firestoreClient=new FirestoreClient($._authCredentials,$._appCheckCredentials,$._queue,le),!((j=re.localCache)===null||j===void 0)&&j._offlineComponentProvider&&(!((ee=re.localCache)===null||ee===void 0)&&ee._onlineComponentProvider)&&($._firestoreClient._uninitializedComponentsProvider={_offlineKind:re.localCache.kind,_offline:re.localCache._offlineComponentProvider,_online:re.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(_){this._byteString=_}static fromBase64String(_){try{return new Bytes(ByteString.fromBase64String(_))}catch(j){throw new FirestoreError(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+j)}}static fromUint8Array(_){return new Bytes(ByteString.fromUint8Array(_))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(_){return this._byteString.isEqual(_._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(..._){for(let j=0;j<_.length;++j)if(_[j].length===0)throw new FirestoreError(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(_)}isEqual(_){return this._internalPath.isEqual(_._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(_){this._methodName=_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(_,j){if(!isFinite(_)||_<-90||_>90)throw new FirestoreError(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+_);if(!isFinite(j)||j<-180||j>180)throw new FirestoreError(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+j);this._lat=_,this._long=j}get latitude(){return this._lat}get longitude(){return this._long}isEqual(_){return this._lat===_._lat&&this._long===_._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(_){return __PRIVATE_primitiveComparator(this._lat,_._lat)||__PRIVATE_primitiveComparator(this._long,_._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe=/^__.*__$/;class ParsedSetData{constructor(_,j,ee){this.data=_,this.fieldMask=j,this.fieldTransforms=ee}toMutation(_,j){return this.fieldMask!==null?new __PRIVATE_PatchMutation(_,this.data,this.fieldMask,j,this.fieldTransforms):new __PRIVATE_SetMutation(_,this.data,j,this.fieldTransforms)}}class ParsedUpdateData{constructor(_,j,ee){this.data=_,this.fieldMask=j,this.fieldTransforms=ee}toMutation(_,j){return new __PRIVATE_PatchMutation(_,this.data,this.fieldMask,j,this.fieldTransforms)}}function __PRIVATE_isWrite($){switch($){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(_,j,ee,re,le,de){this.settings=_,this.databaseId=j,this.serializer=ee,this.ignoreUndefinedProperties=re,le===void 0&&this.Pu(),this.fieldTransforms=le||[],this.fieldMask=de||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(_){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),_),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(_){var j;const ee=(j=this.path)===null||j===void 0?void 0:j.child(_),re=this.Tu({path:ee,du:!1});return re.Au(_),re}Ru(_){var j;const ee=(j=this.path)===null||j===void 0?void 0:j.child(_),re=this.Tu({path:ee,du:!1});return re.Pu(),re}Vu(_){return this.Tu({path:void 0,du:!0})}mu(_){return __PRIVATE_createError(_,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(_){return this.fieldMask.find(j=>_.isPrefixOf(j))!==void 0||this.fieldTransforms.find(j=>_.isPrefixOf(j.field))!==void 0}Pu(){if(this.path)for(let _=0;_<this.path.length;_++)this.Au(this.path.get(_))}Au(_){if(_.length===0)throw this.mu("Document fields must not be empty");if(__PRIVATE_isWrite(this.Iu)&&pe.test(_))throw this.mu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(_,j,ee){this.databaseId=_,this.ignoreUndefinedProperties=j,this.serializer=ee||__PRIVATE_newSerializer(_)}pu(_,j,ee,re=!1){return new __PRIVATE_ParseContextImpl({Iu:_,methodName:j,gu:ee,path:FieldPath$1.emptyPath(),du:!1,fu:re},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader($){const _=$._freezeSettings(),j=__PRIVATE_newSerializer($._databaseId);return new __PRIVATE_UserDataReader($._databaseId,!!_.ignoreUndefinedProperties,j)}function __PRIVATE_parseSetData($,_,j,ee,re,le={}){const de=$.pu(le.merge||le.mergeFields?2:0,_,j,re);__PRIVATE_validatePlainObject("Data must be an object, but it was:",de,ee);const ge=__PRIVATE_parseObject(ee,de);let ve,Ee;if(le.merge)ve=new FieldMask(de.fieldMask),Ee=de.fieldTransforms;else if(le.mergeFields){const Ce=[];for(const Ae of le.mergeFields){const Se=__PRIVATE_fieldPathFromArgument$1(_,Ae,j);if(!de.contains(Se))throw new FirestoreError(C.INVALID_ARGUMENT,`Field '${Se}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(Ce,Se)||Ce.push(Se)}ve=new FieldMask(Ce),Ee=de.fieldTransforms.filter(Ae=>ve.covers(Ae.field))}else ve=null,Ee=de.fieldTransforms;return new ParsedSetData(new ObjectValue(ge),ve,Ee)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(_){if(_.Iu!==2)throw _.Iu===1?_.mu(`${this._methodName}() can only appear at the top level of your update data`):_.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return _.fieldMask.push(_.path),null}isEqual(_){return _ instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_parseUpdateData($,_,j,ee){const re=$.pu(1,_,j);__PRIVATE_validatePlainObject("Data must be an object, but it was:",re,ee);const le=[],de=ObjectValue.empty();forEach(ee,(ve,Ee)=>{const Ce=__PRIVATE_fieldPathFromDotSeparatedString(_,ve,j);Ee=getModularInstance(Ee);const Ae=re.Ru(Ce);if(Ee instanceof __PRIVATE_DeleteFieldValueImpl)le.push(Ce);else{const Se=__PRIVATE_parseData(Ee,Ae);Se!=null&&(le.push(Ce),de.set(Ce,Se))}});const ge=new FieldMask(le);return new ParsedUpdateData(de,ge,re.fieldTransforms)}function __PRIVATE_parseUpdateVarargs($,_,j,ee,re,le){const de=$.pu(1,_,j),ge=[__PRIVATE_fieldPathFromArgument$1(_,ee,j)],ve=[re];if(le.length%2!=0)throw new FirestoreError(C.INVALID_ARGUMENT,`Function ${_}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Se=0;Se<le.length;Se+=2)ge.push(__PRIVATE_fieldPathFromArgument$1(_,le[Se])),ve.push(le[Se+1]);const Ee=[],Ce=ObjectValue.empty();for(let Se=ge.length-1;Se>=0;--Se)if(!__PRIVATE_fieldMaskContains(Ee,ge[Se])){const ke=ge[Se];let we=ve[Se];we=getModularInstance(we);const Ne=de.Ru(ke);if(we instanceof __PRIVATE_DeleteFieldValueImpl)Ee.push(ke);else{const Le=__PRIVATE_parseData(we,Ne);Le!=null&&(Ee.push(ke),Ce.set(ke,Le))}}const Ae=new FieldMask(Ee);return new ParsedUpdateData(Ce,Ae,de.fieldTransforms)}function __PRIVATE_parseQueryValue($,_,j,ee=!1){return __PRIVATE_parseData(j,$.pu(ee?4:3,_))}function __PRIVATE_parseData($,_){if(__PRIVATE_looksLikeJsonObject($=getModularInstance($)))return __PRIVATE_validatePlainObject("Unsupported field value:",_,$),__PRIVATE_parseObject($,_);if($ instanceof FieldValue)return function(ee,re){if(!__PRIVATE_isWrite(re.Iu))throw re.mu(`${ee._methodName}() can only be used with update() and set()`);if(!re.path)throw re.mu(`${ee._methodName}() is not currently supported inside arrays`);const le=ee._toFieldTransform(re);le&&re.fieldTransforms.push(le)}($,_),null;if($===void 0&&_.ignoreUndefinedProperties)return null;if(_.path&&_.fieldMask.push(_.path),$ instanceof Array){if(_.settings.du&&_.Iu!==4)throw _.mu("Nested arrays are not supported");return function(ee,re){const le=[];let de=0;for(const ge of ee){let ve=__PRIVATE_parseData(ge,re.Vu(de));ve==null&&(ve={nullValue:"NULL_VALUE"}),le.push(ve),de++}return{arrayValue:{values:le}}}($,_)}return function(ee,re){if((ee=getModularInstance(ee))===null)return{nullValue:"NULL_VALUE"};if(typeof ee=="number")return toNumber(re.serializer,ee);if(typeof ee=="boolean")return{booleanValue:ee};if(typeof ee=="string")return{stringValue:ee};if(ee instanceof Date){const le=Timestamp.fromDate(ee);return{timestampValue:toTimestamp(re.serializer,le)}}if(ee instanceof Timestamp){const le=new Timestamp(ee.seconds,1e3*Math.floor(ee.nanoseconds/1e3));return{timestampValue:toTimestamp(re.serializer,le)}}if(ee instanceof GeoPoint)return{geoPointValue:{latitude:ee.latitude,longitude:ee.longitude}};if(ee instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(re.serializer,ee._byteString)};if(ee instanceof DocumentReference){const le=re.databaseId,de=ee.firestore._databaseId;if(!de.isEqual(le))throw re.mu(`Document reference is for database ${de.projectId}/${de.database} but should be for database ${le.projectId}/${le.database}`);return{referenceValue:__PRIVATE_toResourceName(ee.firestore._databaseId||re.databaseId,ee._key.path)}}throw re.mu(`Unsupported field value: ${__PRIVATE_valueDescription(ee)}`)}($,_)}function __PRIVATE_parseObject($,_){const j={};return isEmpty($)?_.path&&_.path.length>0&&_.fieldMask.push(_.path):forEach($,(ee,re)=>{const le=__PRIVATE_parseData(re,_.Eu(ee));le!=null&&(j[ee]=le)}),{mapValue:{fields:j}}}function __PRIVATE_looksLikeJsonObject($){return!(typeof $!="object"||$===null||$ instanceof Array||$ instanceof Date||$ instanceof Timestamp||$ instanceof GeoPoint||$ instanceof Bytes||$ instanceof DocumentReference||$ instanceof FieldValue)}function __PRIVATE_validatePlainObject($,_,j){if(!__PRIVATE_looksLikeJsonObject(j)||!function(re){return typeof re=="object"&&re!==null&&(Object.getPrototypeOf(re)===Object.prototype||Object.getPrototypeOf(re)===null)}(j)){const ee=__PRIVATE_valueDescription(j);throw ee==="an object"?_.mu($+" a custom object"):_.mu($+" "+ee)}}function __PRIVATE_fieldPathFromArgument$1($,_,j){if((_=getModularInstance(_))instanceof FieldPath)return _._internalPath;if(typeof _=="string")return __PRIVATE_fieldPathFromDotSeparatedString($,_);throw __PRIVATE_createError("Field path arguments must be of type string or ",$,!1,void 0,j)}const ye=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString($,_,j){if(_.search(ye)>=0)throw __PRIVATE_createError(`Invalid field path (${_}). Paths must not contain '~', '*', '/', '[', or ']'`,$,!1,void 0,j);try{return new FieldPath(..._.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${_}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,$,!1,void 0,j)}}function __PRIVATE_createError($,_,j,ee,re){const le=ee&&!ee.isEmpty(),de=re!==void 0;let ge=`Function ${_}() called with invalid data`;j&&(ge+=" (via `toFirestore()`)"),ge+=". ";let ve="";return(le||de)&&(ve+=" (found",le&&(ve+=` in field ${ee}`),de&&(ve+=` in document ${re}`),ve+=")"),new FirestoreError(C.INVALID_ARGUMENT,ge+$+ve)}function __PRIVATE_fieldMaskContains($,_){return $.some(j=>j.isEqual(_))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(_,j,ee,re,le){this._firestore=_,this._userDataWriter=j,this._key=ee,this._document=re,this._converter=le}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const _=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(_)}return this._userDataWriter.convertValue(this._document.data.value)}}get(_){if(this._document){const j=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",_));if(j!==null)return this._userDataWriter.convertValue(j)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument($,_){return typeof _=="string"?__PRIVATE_fieldPathFromDotSeparatedString($,_):_ instanceof FieldPath?_._internalPath:_._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast($){if($.limitType==="L"&&$.explicitOrderBy.length===0)throw new FirestoreError(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query($,_,...j){let ee=[];_ instanceof AppliableConstraint&&ee.push(_),ee=ee.concat(j),function(le){const de=le.filter(ve=>ve instanceof QueryCompositeFilterConstraint).length,ge=le.filter(ve=>ve instanceof QueryFieldFilterConstraint).length;if(de>1||de>0&&ge>0)throw new FirestoreError(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(ee);for(const re of ee)$=re._apply($);return $}class QueryFieldFilterConstraint extends QueryConstraint{constructor(_,j,ee){super(),this._field=_,this._op=j,this._value=ee,this.type="where"}static _create(_,j,ee){return new QueryFieldFilterConstraint(_,j,ee)}_apply(_){const j=this._parse(_);return __PRIVATE_validateNewFieldFilter(_._query,j),new Query(_.firestore,_.converter,__PRIVATE_queryWithAddedFilter(_._query,j))}_parse(_){const j=__PRIVATE_newUserDataReader(_.firestore);return function(le,de,ge,ve,Ee,Ce,Ae){let Se;if(Ee.isKeyField()){if(Ce==="array-contains"||Ce==="array-contains-any")throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Ce}' queries on documentId().`);if(Ce==="in"||Ce==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(Ae,Ce);const ke=[];for(const we of Ae)ke.push(__PRIVATE_parseDocumentIdValue(ve,le,we));Se={arrayValue:{values:ke}}}else Se=__PRIVATE_parseDocumentIdValue(ve,le,Ae)}else Ce!=="in"&&Ce!=="not-in"&&Ce!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(Ae,Ce),Se=__PRIVATE_parseQueryValue(ge,de,Ae,Ce==="in"||Ce==="not-in");return FieldFilter.create(Ee,Ce,Se)}(_._query,"where",j,_.firestore._databaseId,this._field,this._op,this._value)}}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(_,j){super(),this.type=_,this._queryConstraints=j}static _create(_,j){return new QueryCompositeFilterConstraint(_,j)}_parse(_){const j=this._queryConstraints.map(ee=>ee._parse(_)).filter(ee=>ee.getFilters().length>0);return j.length===1?j[0]:CompositeFilter.create(j,this._getOperator())}_apply(_){const j=this._parse(_);return j.getFilters().length===0?_:(function(re,le){let de=re;const ge=le.getFlattenedFilters();for(const ve of ge)__PRIVATE_validateNewFieldFilter(de,ve),de=__PRIVATE_queryWithAddedFilter(de,ve)}(_._query,j),new Query(_.firestore,_.converter,__PRIVATE_queryWithAddedFilter(_._query,j)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(_,j){super(),this._field=_,this._direction=j,this.type="orderBy"}static _create(_,j){return new QueryOrderByConstraint(_,j)}_apply(_){const j=function(re,le,de){if(re.startAt!==null)throw new FirestoreError(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(re.endAt!==null)throw new FirestoreError(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(le,de)}(_._query,this._field,this._direction);return new Query(_.firestore,_.converter,function(re,le){const de=re.explicitOrderBy.concat([le]);return new __PRIVATE_QueryImpl(re.path,re.collectionGroup,de,re.filters.slice(),re.limit,re.limitType,re.startAt,re.endAt)}(_._query,j))}}function orderBy($,_="asc"){const j=_,ee=__PRIVATE_fieldPathFromArgument("orderBy",$);return QueryOrderByConstraint._create(ee,j)}class QueryLimitConstraint extends QueryConstraint{constructor(_,j,ee){super(),this.type=_,this._limit=j,this._limitType=ee}static _create(_,j,ee){return new QueryLimitConstraint(_,j,ee)}_apply(_){return new Query(_.firestore,_.converter,__PRIVATE_queryWithLimit(_._query,this._limit,this._limitType))}}function limit($){return __PRIVATE_validatePositiveNumber("limit",$),QueryLimitConstraint._create("limit",$,"F")}function __PRIVATE_parseDocumentIdValue($,_,j){if(typeof(j=getModularInstance(j))=="string"){if(j==="")throw new FirestoreError(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(_)&&j.indexOf("/")!==-1)throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${j}' contains a '/' character.`);const ee=_.path.child(ResourcePath.fromString(j));if(!DocumentKey.isDocumentKey(ee))throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${ee}' is not because it has an odd number of segments (${ee.length}).`);return __PRIVATE_refValue($,new DocumentKey(ee))}if(j instanceof DocumentReference)return __PRIVATE_refValue($,j._key);throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(j)}.`)}function __PRIVATE_validateDisjunctiveFilterElements($,_){if(!Array.isArray($)||$.length===0)throw new FirestoreError(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${_.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter($,_){const j=function(re,le){for(const de of re)for(const ge of de.getFlattenedFilters())if(le.indexOf(ge.op)>=0)return ge.op;return null}($.filters,function(re){switch(re){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(_.op));if(j!==null)throw j===_.op?new FirestoreError(C.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${_.op.toString()}' filter.`):new FirestoreError(C.INVALID_ARGUMENT,`Invalid query. You cannot use '${_.op.toString()}' filters with '${j.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(_,j="none"){switch(__PRIVATE_typeOrder(_)){case 0:return null;case 1:return _.booleanValue;case 2:return __PRIVATE_normalizeNumber(_.integerValue||_.doubleValue);case 3:return this.convertTimestamp(_.timestampValue);case 4:return this.convertServerTimestamp(_,j);case 5:return _.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(_.bytesValue));case 7:return this.convertReference(_.referenceValue);case 8:return this.convertGeoPoint(_.geoPointValue);case 9:return this.convertArray(_.arrayValue,j);case 10:return this.convertObject(_.mapValue,j);default:throw fail()}}convertObject(_,j){return this.convertObjectMap(_.fields,j)}convertObjectMap(_,j="none"){const ee={};return forEach(_,(re,le)=>{ee[re]=this.convertValue(le,j)}),ee}convertGeoPoint(_){return new GeoPoint(__PRIVATE_normalizeNumber(_.latitude),__PRIVATE_normalizeNumber(_.longitude))}convertArray(_,j){return(_.values||[]).map(ee=>this.convertValue(ee,j))}convertServerTimestamp(_,j){switch(j){case"previous":const ee=__PRIVATE_getPreviousValue(_);return ee==null?null:this.convertValue(ee,j);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(_));default:return null}}convertTimestamp(_){const j=__PRIVATE_normalizeTimestamp(_);return new Timestamp(j.seconds,j.nanos)}convertDocumentKey(_,j){const ee=ResourcePath.fromString(_);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(ee));const re=new DatabaseId(ee.get(1),ee.get(3)),le=new DocumentKey(ee.popFirst(5));return re.isEqual(j)||__PRIVATE_logError(`Document ${le} contains a document reference within a different database (${re.projectId}/${re.database}) which is not supported. It will be treated as a reference in the current database (${j.projectId}/${j.database}) instead.`),le}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter($,_,j){let ee;return ee=$?j&&(j.merge||j.mergeFields)?$.toFirestore(_,j):$.toFirestore(_):_,ee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(_,j){this.hasPendingWrites=_,this.fromCache=j}isEqual(_){return this.hasPendingWrites===_.hasPendingWrites&&this.fromCache===_.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(_,j,ee,re,le,de){super(_,j,ee,re,de),this._firestore=_,this._firestoreImpl=_,this.metadata=le}exists(){return super.exists()}data(_={}){if(this._document){if(this._converter){const j=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(j,_)}return this._userDataWriter.convertValue(this._document.data.value,_.serverTimestamps)}}get(_,j={}){if(this._document){const ee=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",_));if(ee!==null)return this._userDataWriter.convertValue(ee,j.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(_={}){return super.data(_)}}class QuerySnapshot{constructor(_,j,ee,re){this._firestore=_,this._userDataWriter=j,this._snapshot=re,this.metadata=new SnapshotMetadata(re.hasPendingWrites,re.fromCache),this.query=ee}get docs(){const _=[];return this.forEach(j=>_.push(j)),_}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(_,j){this._snapshot.docs.forEach(ee=>{_.call(j,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,ee.key,ee,new SnapshotMetadata(this._snapshot.mutatedKeys.has(ee.key),this._snapshot.fromCache),this.query.converter))})}docChanges(_={}){const j=!!_.includeMetadataChanges;if(j&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===j||(this._cachedChanges=function(re,le){if(re._snapshot.oldDocs.isEmpty()){let de=0;return re._snapshot.docChanges.map(ge=>{const ve=new QueryDocumentSnapshot(re._firestore,re._userDataWriter,ge.doc.key,ge.doc,new SnapshotMetadata(re._snapshot.mutatedKeys.has(ge.doc.key),re._snapshot.fromCache),re.query.converter);return ge.doc,{type:"added",doc:ve,oldIndex:-1,newIndex:de++}})}{let de=re._snapshot.oldDocs;return re._snapshot.docChanges.filter(ge=>le||ge.type!==3).map(ge=>{const ve=new QueryDocumentSnapshot(re._firestore,re._userDataWriter,ge.doc.key,ge.doc,new SnapshotMetadata(re._snapshot.mutatedKeys.has(ge.doc.key),re._snapshot.fromCache),re.query.converter);let Ee=-1,Ce=-1;return ge.type!==0&&(Ee=de.indexOf(ge.doc.key),de=de.delete(ge.doc.key)),ge.type!==1&&(de=de.add(ge.doc),Ce=de.indexOf(ge.doc.key)),{type:__PRIVATE_resultChangeType(ge.type),doc:ve,oldIndex:Ee,newIndex:Ce}})}}(this,j),this._cachedChangesIncludeMetadataChanges=j),this._cachedChanges}}function __PRIVATE_resultChangeType($){switch($){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(_){super(),this.firestore=_}convertBytes(_){return new Bytes(_)}convertReference(_){const j=this.convertDocumentKey(_,this.firestore._databaseId);return new DocumentReference(this.firestore,null,j)}}function onSnapshot($,..._){var j,ee,re;$=getModularInstance($);let le={includeMetadataChanges:!1},de=0;typeof _[de]!="object"||__PRIVATE_isPartialObserver(_[de])||(le=_[de],de++);const ge={includeMetadataChanges:le.includeMetadataChanges};if(__PRIVATE_isPartialObserver(_[de])){const Ae=_[de];_[de]=(j=Ae.next)===null||j===void 0?void 0:j.bind(Ae),_[de+1]=(ee=Ae.error)===null||ee===void 0?void 0:ee.bind(Ae),_[de+2]=(re=Ae.complete)===null||re===void 0?void 0:re.bind(Ae)}let ve,Ee,Ce;if($ instanceof DocumentReference)Ee=__PRIVATE_cast($.firestore,Firestore),Ce=__PRIVATE_newQueryForPath($._key.path),ve={next:Ae=>{_[de]&&_[de](__PRIVATE_convertToDocSnapshot(Ee,$,Ae))},error:_[de+1],complete:_[de+2]};else{const Ae=__PRIVATE_cast($,Query);Ee=__PRIVATE_cast(Ae.firestore,Firestore),Ce=Ae._query;const Se=new __PRIVATE_ExpUserDataWriter(Ee);ve={next:ke=>{_[de]&&_[de](new QuerySnapshot(Ee,Se,Ae,ke))},error:_[de+1],complete:_[de+2]},__PRIVATE_validateHasExplicitOrderByForLimitToLast($._query)}return function(Se,ke,we,Ne){const Le=new __PRIVATE_AsyncObserver(Ne),Me=new __PRIVATE_QueryListener(ke,Le,we);return Se.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerListen(await __PRIVATE_getEventManager(Se),Me)),()=>{Le.Na(),Se.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerUnlisten(await __PRIVATE_getEventManager(Se),Me))}}(ensureFirestoreConfigured(Ee),Ce,ge,ve)}function executeWrite($,_){return function(ee,re){const le=new __PRIVATE_Deferred;return ee.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(ee),re,le)),le.promise}(ensureFirestoreConfigured($),_)}function __PRIVATE_convertToDocSnapshot($,_,j){const ee=j.docs.get(_._key),re=new __PRIVATE_ExpUserDataWriter($);return new DocumentSnapshot($,re,_._key,ee,new SnapshotMetadata(j.hasPendingWrites,j.fromCache),_.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WriteBatch{constructor(_,j){this._firestore=_,this._commitHandler=j,this._mutations=[],this._committed=!1,this._dataReader=__PRIVATE_newUserDataReader(_)}set(_,j,ee){this._verifyNotCommitted();const re=__PRIVATE_validateReference(_,this._firestore),le=__PRIVATE_applyFirestoreDataConverter(re.converter,j,ee),de=__PRIVATE_parseSetData(this._dataReader,"WriteBatch.set",re._key,le,re.converter!==null,ee);return this._mutations.push(de.toMutation(re._key,Precondition.none())),this}update(_,j,ee,...re){this._verifyNotCommitted();const le=__PRIVATE_validateReference(_,this._firestore);let de;return de=typeof(j=getModularInstance(j))=="string"||j instanceof FieldPath?__PRIVATE_parseUpdateVarargs(this._dataReader,"WriteBatch.update",le._key,j,ee,re):__PRIVATE_parseUpdateData(this._dataReader,"WriteBatch.update",le._key,j),this._mutations.push(de.toMutation(le._key,Precondition.exists(!0))),this}delete(_){this._verifyNotCommitted();const j=__PRIVATE_validateReference(_,this._firestore);return this._mutations=this._mutations.concat(new __PRIVATE_DeleteMutation(j._key,Precondition.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new FirestoreError(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function __PRIVATE_validateReference($,_){if(($=getModularInstance($)).firestore!==_)throw new FirestoreError(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return $}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function writeBatch($){return ensureFirestoreConfigured($=__PRIVATE_cast($,Firestore)),new WriteBatch($,_=>executeWrite($,_))}(function $(_,j=!0){(function(re){b=re})(SDK_VERSION$1),_registerComponent(new Component("firestore",(ee,{instanceIdentifier:re,options:le})=>{const de=ee.getProvider("app").getImmediate(),ge=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(ee.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(ee.getProvider("app-check-internal")),function(Ee,Ce){if(!Object.prototype.hasOwnProperty.apply(Ee.options,["projectId"]))throw new FirestoreError(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(Ee.options.projectId,Ce)}(de,re),de);return le=Object.assign({useFetchStreams:j},le),ge._setSettings(le),ge},"PUBLIC").setMultipleInstances(!0)),registerVersion(S,"4.3.2",_),registerVersion(S,"4.3.2","esm2017")})();var name$1="firebase",version$1="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$1,version$1,"app");let firebaseApp;const getFirebase=$=>{const _={databaseURL:$||getEnvVariable("VITE_FIREBASE_DATABASE_URL"),apiKey:getEnvVariable("VITE_FIREBASE_API_KEY"),authDomain:getEnvVariable("VITE_FIREBASE_AUTH_DOMAIN"),projectId:getEnvVariable("VITE_FIREBASE_PROJECT_ID")};return firebaseApp=firebaseApp||initializeApp(_),firebaseApp},notificationsFetchLimit=parseInt(getEnvVariable("VITE_NOTIFICATIONS_FETCH_LIMIT","50"),10),firebaseToken=api.get("firebaseToken")?.toString()||"";let db,unsubscribe$1,auth;const notifications=ref$1({}),unreadNotifications=computed(()=>Object.fromEntries(Object.entries(notifications.value).filter(([,$])=>!$.is_read)));let firebaseCollection;const isNotification=$=>$&&typeof $=="object"&&["updated_at","generated_id","context","type","is_read"].every(j=>j in $),connect=async $=>{firebaseCollection=`users/${$.UID}/notifications`,db=getFirestore(getFirebase()),auth=getAuth(),await signInWithCustomToken(auth,firebaseToken);const _=query(collection(db,firebaseCollection),orderBy("updated_at","desc"),limit(notificationsFetchLimit));unsubscribe$1=onSnapshot(_,j=>{j.docChanges().forEach(ee=>{ee.type==="removed"?delete notifications.value[ee.doc.id]:isNotification(ee.doc.data())&&(notifications.value[ee.doc.id]=ee.doc.data())})})},disconnect=()=>{unsubscribe$1(),notifications.value={},signOut(auth)},markAllAsRead=async()=>{const $=Object.entries(notifications.value).filter(([,_])=>!_.is_read).map(([_])=>_);if($.length>0){const _=writeBatch(db);for(const j of $)_.update(doc(db,firebaseCollection,j),{is_read:!0});await _.commit()}},_hoisted_1$d={key:0,class:"notification-center__count"},_sfc_main$i=defineComponent({__name:"NotificationCenter",props:{user:{}},setup($){const _=parseInt(getEnvVariable("VITE_NOTIFICATIONS_BADGE_LIMIT","9"),10),j=useGtm(),ee=$,re=computed(()=>!!ee.user),le=computed(()=>Object.keys(notifications.value).length),de=computed(()=>Object.keys(unreadNotifications.value).length),ge=computed(()=>!!de.value),ve=computed(()=>de.value>_?`${_}+`:`${de.value}`),Ee=computed(()=>Object.values(notifications.value).sort((Se,ke)=>Se.updated_at.seconds>ke.updated_at.seconds?-1:1).map(Se=>({id:Se.generated_id,link:{target:{__typename:"UrlTarget",url:Se.context.url},linkFlavor:{icon:Ce(Se.type),title:Se.context.title,body:Se.context.message,timestamp:humanizeDatetimeToCET(new Date(Se.updated_at.seconds*1e3)),is_read:Se.is_read}}})));onMounted(async()=>{if(ee.user){const Se=watch(le,ke=>{ke>0&&(j.add({event:"notification-center",notifications:de.value}),Se())});await connect(ee.user)}watch(re,()=>disconnect())}),onBeforeUnmount(()=>disconnect());function Ce(Se){const ke={talk_respects:"icon-thumbs-up",talk_replies:"icon-comment",talk_highlight:"icon-pin-outline",info_link:"icon-info"};return ke[Se]?ke[Se]:""}const Ae=()=>{j.add({event:"notification-center",action:"open",label:de.value})};return(Se,ke)=>re.value?(openBlock(),createBlock(_sfc_main$12,{key:0,class:"nav-tools__tool notification-center","enable-popout":!!le.value,scrollable:"","full-width-on-mobile":"","trigger-on":"click",onContentShow:Ae,onContentHide:unref(markAllAsRead)},{trigger:withCtx(()=>[createVNode(_sfc_main$1w,{class:"notification-center__trigger","v-show":re.value,"button-type":"cta",disabled:!re.value},{default:withCtx(()=>[createVNode(_sfc_main$1t,{embed:"","embed-alt":`${de.value} ongelezen notificaties`,class:"notification-trigger__icon icon--24"},{default:withCtx(()=>[createVNode(IconBell)]),_:1},8,["embed-alt"]),ge.value?(openBlock(),createElementBlock("span",_hoisted_1$d,toDisplayString(ve.value),1)):createCommentVNode("",!0)]),_:1},8,["v-show","disabled"])]),content:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ee.value,we=>(openBlock(),createBlock(_sfc_main$j,{key:we.id,link:we.link},null,8,["link"]))),128))]),_:1},8,["enable-popout","onContentHide"])):createCommentVNode("",!0)}}),_hoisted_1$c=["href"],_sfc_main$h=defineComponent({__name:"SkipContent",props:{target:{}},setup($){return(_,j)=>(openBlock(),createElementBlock("a",{class:"skip-to-content-link",href:_.target}," Ga naar de inhoud ",8,_hoisted_1$c))}}),_hoisted_1$b={key:0,class:"main-nav__list"},_hoisted_2$5={class:"app-nav-item"},_hoisted_3$3={class:"app-nav-item__cta__label"},_hoisted_4$1=createBaseVNode("i",{class:"icon icon--16"},[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16","aria-hidden":"true"},[createBaseVNode("path",{fill:"currentColor",d:"M7.41 8.58L12 13.17l4.59-4.59L18 10l-6 6-6-6 1.41-1.42z"})])],-1),_hoisted_5=["aria-hidden"],_hoisted_6={class:"main-nav__sub"},_hoisted_7={key:0},_hoisted_8={class:"nav-item-group nav-item-group--editorials"},_sfc_main$g=defineComponent({__name:"MainMenuBlock",setup($){const _=useMenusStore(),j=useUserStore(),ee=ref$1(!0),re=ref$1(!1),le=ref$1(!1),de=ref$1(!1),ge=ref$1(0),ve=ref$1(),Ee=ref$1(),Ce=ref$1(),Ae=ref$1(),Se=computed(()=>_.mainMenu),ke=computed(()=>_.siteOverview),we=computed(()=>_.mainMenuEditorials),Ne=computed(()=>j.user),{inFallbackMode:Le}=useContextStore(),Fe=usePreferencesStore().toggleTheme,xe=getEnvVariable("VITE_USE_25YEAR_LOGO")==="true"||!1,$e=computed(()=>{let Ke=["main-nav"];return re.value&&(Ke.push("main-nav--show-more"),nextTick(()=>{Ce.value&&(Ce.value.scrollTop=0)})),le.value&&Ke.push("main-nav--show-search"),de.value&&Ke.push("main-nav--allow-animation"),Ke}),De=computed(()=>{let Ke=["main-nav__main"];return ee.value?Ke.push("main-nav__main"):Ke.push("main-nav__main--is-hidden"),Ke}),Oe=computed(()=>re.value?"Minder":"Meer");onMounted(()=>{window.addEventListener("scroll",Ge),window.addEventListener("keydown",We),ge.value=window.scrollY}),onUnmounted(()=>{window.removeEventListener("scroll",Ge)});const Ge=()=>{const Xe=window.scrollY||document.documentElement.scrollTop,ot=document.body.classList.contains("disable-hide-nav");if(le.value||ot){ee.value=!0,ge.value=Xe;return}Xe<0||Math.abs(Xe-ge.value)<400||(ee.value=Xe<ge.value,ge.value=Xe,re.value=!1)},We=Ke=>{if(!isTabPressed(Ke))return;const Xe=document.activeElement,et=getFocusableElements(Ae.value)[0],He=getFocusableElements(Ce.value),qe=He[0],Be=He[He.length-1];if(re.value&&Xe===Ee.value?.$el&&!Ke.shiftKey){Ke.preventDefault(),qe.focus();return}if(Xe===qe&&Ke.shiftKey){Ke.preventDefault(),Ee.value?.$el.focus();return}if(re.value&&Xe===Be&&!Ke.shiftKey){Ke.preventDefault(),et.focus(),re.value=!1;return}},Ze=()=>{re.value=!re.value,re.value?document.body.classList.add("main-nav__show-more--open"):document.body.classList.remove("main-nav__show-more--open"),de.value=!0},Qe=()=>{le.value=!le.value,ee.value=!0,nextTick(()=>{ve.value&&ve.value.setFieldHasFocus()})},tt=()=>{le.value=!1};return(Ke,Xe)=>withDirectives((openBlock(),createElementBlock("nav",{class:normalizeClass($e.value),"data-nosnippet":""},[createBaseVNode("div",{class:"main-nav__wrapper",role:"button",tabindex:"0",onKeydown:withKeys(tt,["esc"])},[createVNode(_sfc_main$h,{target:"#main"}),createBaseVNode("a",{href:"/",class:normalizeClass(["main-nav__logo",{"main-nav__logo--25year":unref(xe)}])},[unref(xe)?(openBlock(),createBlock(_sfc_main$k,{key:0})):(openBlock(),createBlock(_sfc_main$l,{key:1}))],2),createBaseVNode("div",{class:normalizeClass(De.value),"aria-label":"Hoofdnavigatie"},[le.value?(openBlock(),createBlock(_sfc_main$n,{key:1,ref_key:"searchbar",ref:ve,class:"main-nav__search"},null,512)):(openBlock(),createElementBlock("ul",_hoisted_1$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Se.value,ot=>(openBlock(),createBlock(_sfc_main$r,{key:ot.title,item:ot,"event-category":"menu","event-action":"top_menu"},null,8,["item"]))),128)),createBaseVNode("li",_hoisted_2$5,[createVNode(_sfc_main$1w,{ref_key:"showMoreButton",ref:Ee,"button-type":"cta",class:"app-nav-item__cta app-button--show-more",title:Oe.value,"data-category":"menu","data-action":"top_menu","data-label":Oe.value,"aria-label":Oe.value,"data-text":Oe.value,onClick:Ze},{default:withCtx(()=>[createBaseVNode("span",_hoisted_3$3,[createTextVNode(toDisplayString(Oe.value)+" ",1),_hoisted_4$1])]),_:1},8,["title","data-label","aria-label","data-text"])])]))],2),createBaseVNode("div",{ref_key:"navTools",ref:Ae,class:"nav-tools","aria-label":"Zij-navigatie"},[unref(Le)?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$1w,{key:0,"button-type":"cta",class:"nav-tools__tool nav-tools__tool--search",onClick:Qe},{default:withCtx(()=>[createVNode(_sfc_main$1t,{width:"20",height:"20",embed:"","embed-alt":"Zoekveld",class:"main-nav__tools__tool__icon icon--20"},{default:withCtx(()=>[createVNode(IconSearch)]),_:1})]),_:1})),unref(Le)?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$1w,{key:1,"button-type":"cta",class:"nav-tools__tool",onClick:unref(Fe)},{default:withCtx(()=>[createVNode(_sfc_main$1t,{embed:"","embed-alt":"Wissel van kleurthema",class:"main-nav__tools__tool__icon icon--24"},{default:withCtx(()=>[createVNode(IconDarkMode)]),_:1})]),_:1},8,["onClick"])),unref(Le)?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$i,{key:2,user:Ne.value},null,8,["user"])),unref(Le)?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$o,{key:3,user:Ne.value},null,8,["user"]))],512)],32),createBaseVNode("div",{ref_key:"dropdown",ref:Ce,class:"main-nav__dropdown","aria-hidden":!re.value},[createBaseVNode("ul",_hoisted_6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ke.value,ot=>(openBlock(),createBlock(_sfc_main$r,{key:ot.title,item:ot,class:"nav-item-group","event-category":"menu","event-action":"dropdown-menu","prevent-tab-indexing":!re.value},{default:withCtx(()=>[ot.items?(openBlock(),createElementBlock("ul",_hoisted_7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ot.items,et=>(openBlock(),createBlock(_sfc_main$r,{key:et.title,item:et,"event-category":"menu","event-action":"dropdown-menu","prevent-tab-indexing":!re.value},null,8,["item","prevent-tab-indexing"]))),128))])):createCommentVNode("",!0)]),_:2},1032,["item","prevent-tab-indexing"]))),128)),createBaseVNode("li",_hoisted_8,[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(we.value,ot=>(openBlock(),createBlock(_sfc_main$r,{key:ot.title,item:ot,"event-category":"menu","event-action":"dropdown-menu","prevent-tab-indexing":!re.value},null,8,["item","prevent-tab-indexing"]))),128))])])])],8,_hoisted_5)],2)),[[unref(vOnClickOutside),tt]])}}),isError=$=>$ instanceof Error,retry=async($,_,j,ee=2)=>{const re=[408,500,502,503,504,522,524];try{const le=await $(_,j);if((!le.ok||re.includes(le.status))&&ee>0)throw new Error("Invalid response.");return le}catch(le){if(ee<1||isError(le)&&le.name==="AbortError")throw le;return retry($,_,j,ee-1)}},talk2022EventToGTMGenericTag=$=>{const _={event:"nujij","nujij-data":{}};switch($.eventName){case"loadMoreFeaturedComments.success":{_.event="nujij-load-more-reactions",_["nujij-data"]={action:"load-more-reactions"};break}case"loadMoreAllComments.success":{_.event="nujij-load-more-reactions",_["nujij-data"]={action:"load-more-reactions"};break}case"nunl_labels.SHOW_EXPERT_LABEL_POPUP":{_.event="nujij-popup-expert-label",_["nujij-data"]={action:"popup-expert-label",label:"show"};break}case"setCommentsOrderBy":{switch(_.event="nujij-set-sorting",$.data.orderBy){case"REACTION_DESC":_["nujij-data"]={action:"set-sorting",label:"respects_desc"};break;case"REPLIES_DESC":_["nujij-data"]={action:"set-sorting",label:"replies_desc"};break;case"CREATED_AT_DESC":_["nujij-data"]={action:"set-sorting",label:"created-at_desc"};break;case"CREATED_AT_ASC":_["nujij-data"]={action:"set-sorting",label:"created-at_asc"};break;default:return null}break}case"createCommentReaction.success":{_.event="nujij-respect-reaction",_["nujij-data"]={action:"respect-reaction"};break}case"createCommentReply.success":{_.event="nujij-post-reaction",_["nujij-data"]={action:"post-reaction",label:"comment-on-reaction"};break}case"createComment.success":{_.event="nujij-post-reaction",_["nujij-data"]={action:"post-reaction",label:"new-reaction"};break}case"setCommentsTab":{switch(_.event="nujij-change-reaction-view",$.data.tab){case"FEATURED_COMMENTS":_["nujij-data"]={action:"change-reaction-view",label:"featured-reactions"};break;case"ALL_COMMENTS":_["nujij-data"]={action:"change-reaction-view",label:"all-reactions"};break;default:return null}break}case"loginPrompt":{switch(_.event="nujij-register-to-comment-button",$.data?.label){case"login-to-read-replies":_["nujij-data"]={action:"register-to-comment-button",label:"login-to-read-replies"};break;case"login-banner":_["nujij-data"]={action:"register-to-comment-button",label:"login-banner"};break;case"click-full-banner":_["nujij-data"]={action:"register-to-comment-button",label:"click-full-banner"};break;case"register-banner":_["nujij-data"]={action:"register-to-comment-button",label:"register-banner"};break;case void 0:_["nujij-data"]={action:"register-to-comment-button",label:"button-in-nujij"};break;default:return null}break}case"signOut.success":{_.event="nujij-logout",_["nujij-data"]={action:"logout"};break}case"reportComment.success":{switch(_.event="nujij-report-reaction",$.data?.reason){case"COMMENT_REPORTED_OFFENSIVE":_["nujij-data"]={action:"report-reaction",label:"comments_comment-offensive"};break;case"COMMENT_REPORTED_OTHER":_["nujij-data"]={action:"report-reaction",label:"comments_comment-other"};break;case"COMMENT_REPORTED_SPAM":_["nujij-data"]={action:"report-reaction",label:"comments_comment-spam"};break;case"DONT_AGREE":_["nujij-data"]={action:"report-reaction",label:"comments_comment-donotagree"};break;case"COMMENT_REPORTED_ABUSIVE":_["nujij-data"]={action:"report-reaction",label:"comments_comment-reported-abusive"};break;default:return null}break}default:return null}return _},_hoisted_1$a=createBaseVNode("span",{class:"load-more-icon"},null,-1),_hoisted_2$4=createBaseVNode("h3",{class:"load-more-title"},"Log in en lees reacties",-1),_hoisted_3$2=createBaseVNode("p",{class:"load-more-text"}," Lees reacties, stel vragen aan de redactie, geef respect en praat mee over het belangrijkste nieuws. ",-1),_hoisted_4={class:"load-more-text"},_sfc_main$f=defineComponent({__name:"Talk2022LoginWall",setup($){const _=useRoute(),j=useGtm(),ee=re=>{const de=talk2022EventToGTMGenericTag({eventName:"loginPrompt",data:{label:re}});de&&j.add(de);const ge={dpg_medium:"nujij",dpg_campaign:idFromPath(_.path),dpg_content:_.path.includes("video")?"video":"article",dpg_term:re??"register-to-comment"};login(ge)};return(re,le)=>(openBlock(),createElementBlock("div",{class:"talk-load-more-banner",role:"button",tabindex:"0",onClick:le[2]||(le[2]=de=>ee("click-full-banner")),onKeydown:[le[3]||(le[3]=withKeys(de=>ee("click-full-banner"),["enter"])),le[4]||(le[4]=withKeys(de=>ee("click-full-banner"),["space"]))]},[_hoisted_1$a,_hoisted_2$4,_hoisted_3$2,createBaseVNode("button",{class:"talk-load-more-button talk-load-more-button-banner",onClick:le[0]||(le[0]=withModifiers(de=>ee("register-banner"),["stop"]))}," Gratis account aanmaken "),createBaseVNode("p",_hoisted_4,[createTextVNode(" Heb je al een account? "),createBaseVNode("button",{class:"load-more-login",onClick:le[1]||(le[1]=withModifiers(de=>ee("login-banner"),["stop"]))},"Inloggen")])],32))}}),_imports_0="data:image/svg+xml,%3csvg%20width='49'%20height='48'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='24.5'%20cy='24'%20r='18'%20fill='%237DAA40'/%3e%3cpath%20d='m23.772%2032.198%209.464-14.595c.241-.388.313-.812.232-1.264-.09-.451-.313-.81-.689-1.05a1.703%201.703%200%200%200-1.227-.268%201.564%201.564%200%200%200-1.074.682l-8.335%2012.908-3.84-3.946c-.341-.35-.735-.516-1.174-.498a1.785%201.785%200%200%200-1.172.498c-.305.314-.457.71-.457%201.19%200%20.47.152.866.457%201.189l5.273%205.43.26.213c.304.212.617.313.922.313.6-.01%201.056-.267%201.36-.802Z'%20fill='%23fff'/%3e%3c/svg%3e",_sfc_main$e={},_hoisted_1$9={fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.538.436A1.487 1.487 0 0 0 .435 2.539L9.897 12 .435 21.462a1.487 1.487 0 0 0 2.103 2.103L12 14.103l9.461 9.462a1.487 1.487 0 1 0 2.103-2.103L14.103 12l9.461-9.461A1.487 1.487 0 1 0 21.461.436L12 9.897z"};function _sfc_render$1($,_){return openBlock(),createElementBlock("path",_hoisted_1$9)}const IconClose=_export_sfc(_sfc_main$e,[["render",_sfc_render$1]]),_hoisted_1$8={class:"modal__container"},_hoisted_2$3={class:"modal__body"},_sfc_main$d=defineComponent({__name:"AppModal",props:{classModifier:{},closeFunc:{type:Function},closeGtmAttributes:{}},setup($){const _=ref$1();useModalLayer(_);const j=ref$1(!0),ee=$,re=computed(()=>ee.closeGtmAttributes&&createDataLinkAttributes(ee.closeGtmAttributes)),le=()=>{j.value=!1,ee.closeFunc()};return(de,ge)=>(openBlock(),createBlock(Transition,{name:"modal-"},{default:withCtx(()=>[j.value?(openBlock(),createElementBlock("div",mergeProps({key:0,ref_key:"modal",ref:_,class:`modal modal--${de.classModifier}`,"aria-modal":"true"},re.value,{role:"button",tabindex:"0",onClick:withModifiers(le,["self"]),onKeydown:withKeys(le,["escape"])}),[createBaseVNode("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$3,[renderSlot(de.$slots,"default")]),createBaseVNode("button",mergeProps({class:"modal__close-button","aria-label":"sluit venster"},re.value,{onClick:le}),[createVNode(_sfc_main$1t,{width:"16",height:"16",embed:""},{default:withCtx(()=>[createVNode(IconClose)]),_:1})],16)])],16)):createCommentVNode("",!0)]),_:3}))}}),_sfc_main$c={},_hoisted_1$7={class:"modal-title"};function _sfc_render($,_){return openBlock(),createElementBlock("h2",_hoisted_1$7,[renderSlot($.$slots,"default")])}const AppModalTitle=_export_sfc(_sfc_main$c,[["render",_sfc_render]]),_hoisted_1$6=createBaseVNode("div",{class:"expert-modal__badge"},[createBaseVNode("img",{src:_imports_0,alt:"check-mark"})],-1),_hoisted_2$2=createBaseVNode("p",{id:"expert-modal__body",class:"expert-modal__body"}," Wil jij je ook registreren als NUjij-expert? Laat ons dan weten wat jouw beroep of expertise is. ",-1),_hoisted_3$1=createBaseVNode("a",{class:"expert-modal__default-button",href:"https://docs.google.com/forms/d/e/1FAIpQLSfslQiYYHsKik3oY4J9p2LudnidhjzuRWVieMXgh4EheQe4dg/viewform",target:"_blank"}," Meld je ook aan als expert ",-1),_sfc_main$b=defineComponent({__name:"ExpertLabelModal",props:{closeFunc:{type:Function}},setup($){const _=$;return(j,ee)=>(openBlock(),createBlock(_sfc_main$d,{"close-func":_.closeFunc,"class-modifier":"expert-label","aria-labelledby":"expert-modal__title","aria-describedby":"expert-modal__body"},{default:withCtx(()=>[_hoisted_1$6,createVNode(AppModalTitle,{id:"expert-modal__title"},{default:withCtx(()=>[createTextVNode(" Deze NUjij-gebruiker is geverifieerd door de redactie ")]),_:1}),_hoisted_2$2,_hoisted_3$1]),_:1},8,["close-func"]))}}),_hoisted_1$5={key:0,class:"talk2022-spinner-container"},_hoisted_2$1=createBaseVNode("svg",{class:"talk2022-spinner",width:"40px",height:"40px",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("circle",{class:"circle",fill:"none","stroke-width":"6","stroke-linecap":"round",cx:"33",cy:"33",r:"30"})],-1),_hoisted_3=[_hoisted_2$1],_sfc_main$a=defineComponent({__name:"Talk2022Widget",props:{storyUrl:{},talk2022Url:{},commentID:{}},emits:["talk2022Event"],setup($,{expose:_,emit:j}){const ee=usePreferencesStore(),re=ref$1("loading"),le=ref$1(),de=ref$1(void 0),ge=j,ve=ref$1(!1),Ee=()=>{ve.value=!1},Ce=$,Ae=()=>{useHybridScripts(`${Ce.talk2022Url}/assets/js/embed.js`,()=>{re.value="loaded",le.value&&(de.value=window?.Coral?.createStreamEmbed({id:"coralTalk",autoRender:!0,rootURL:`${Ce.talk2022Url}`,storyURL:`${Ce.storyUrl}`,events:function(ke){ke.onAny((we,Ne)=>{we==="nunl_labels.SHOW_EXPERT_LABEL_POPUP"&&(ve.value=!0),ge("talk2022Event",{eventName:we,data:Ne})})},containerClassName:ee.theme}))})};onMounted(()=>{Ae()}),_({logout:()=>{de.value?.logout()},login:ke=>{de.value?.login(ke)},message:(ke,we)=>{de.value?.message(ke,we)}});const Se=computed(()=>["block-content","clearfix",{"component-page":!0}]);return(ke,we)=>(openBlock(),createElementBlock(Fragment,null,[ve.value?(openBlock(),createBlock(_sfc_main$b,{key:0,"close-func":Ee})):createCommentVNode("",!0),createBaseVNode("div",null,[createBaseVNode("div",{id:"coralTalk",ref_key:"talk2022El",ref:le,class:normalizeClass(Se.value)},null,2),re.value==="loading"?(openBlock(),createElementBlock("div",_hoisted_1$5,_hoisted_3)):createCommentVNode("",!0)])],64))}}),TALK_JWT_COOKIE_EXPIRES_IN_DAYS=30,TALK_JWT_COOKIE_NAME="talk_jwt",TALK_JWT_RETRIEVE_URL="/1.0/auth/talk-jwt",_sfc_main$9=defineComponent({__name:"Talk2022Block",props:{talk2022ServerData:{},isComponentPage:{type:Boolean}},setup($){const _=ref$1(),j=$,{inFallbackMode:ee}=useContextStore(),re=Oe=>Oe.hash==="#nujij"||!!Oe.query.commentID||j.isComponentPage,le=useRouter(),de=useRoute();let ge=useGtm();const ve=ref$1(),Ee=ref$1(!1),Ce=ref$1("INITIAL"),Ae=computed(()=>getEnvVariable("VITE_TALK2022_URL")),Se=/\/(\d+)\//.exec(de.path)?.[1]||"",ke=/\/(\d+)/.exec(de.path)?.[1]||"",we=useUserStore(),Ne=computed(()=>we.user),Le=computed(()=>!!we.user?.UID);onBeforeMount(async()=>{if(de.query.commentId){const{commentId:Oe,...Ge}=de.query;le.push({path:de.path,query:{...Ge,commentID:Oe},hash:"#nujij"})}de.query.commentID&&le.push({path:de.path,query:de.query,hash:"#nujij"})}),onMounted(()=>{if(j.isComponentPage){let Oe={page_type:"comments",content_id:ke};Le.value?(Oe.account_id=Ne.value.UID,Oe.logged_in="true"):Oe.logged_in="false",ge.add({screen_info:Oe})}re(de)&&(Ee.value=!0)}),watch(de,(Oe,Ge)=>{re(Ge)&&(Ee.value=!0)}),useWhenInView({target:ve,callback:()=>ge.add({event:"nujij-in-view"})});const Me=computed(()=>{const Oe=getEnvVariable("VITE_TALK2022_STORY_URL");return de.path.includes("/components/")?de.path.includes("/video/")?`${Oe}/${ke}/video/redirect.html`:`${Oe}/artikel/${ke}/redirect.html`:de.path.includes("/video/")?`${Oe}/${Se}/video/redirect.html`:`${Oe}/artikel/${Se}/redirect.html`}),Fe=()=>{Le.value||_.value?.logout()},xe=async()=>{const Oe=getEnvVariable("VITE_TALK_API_URL"),Ge=new URLSearchParams;return Ge.append("dpg_component_at",we.pipTokens?.["dpg-component-at"]||""),(await(await retry(fetch,`${Oe}${TALK_JWT_RETRIEVE_URL}`,{method:"POST",body:Ge.toString(),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}},3)).json()).talk_jwt},$e=async Oe=>{if(!Le.value||Ce.value==="LOADING")return;const Ge=!api.get(TALK_JWT_COOKIE_NAME)||Ce.value!=="INITIAL";Ce.value="LOADING";try{if(Ge){const We=await xe(),Ze={expires:TALK_JWT_COOKIE_EXPIRES_IN_DAYS};api.set(TALK_JWT_COOKIE_NAME,We,Ze)}Oe.login(api.get(TALK_JWT_COOKIE_NAME)),Ce.value="DONE"}catch(We){Ce.value="FAILED",api.remove(TALK_JWT_COOKIE_NAME),console.error(We)}},De=Oe=>{const Ge=talk2022EventToGTMGenericTag(Oe);switch(Ge&&ge.add(Ge),Oe.eventName){case"ready":$e(_.value);break;case"loginPrompt":if(Le.value)$e(_.value);else{const We=Oe,Ze=We.data?.label,Qe=We.data?.commentID,tt={dpg_medium:"nujij",dpg_campaign:Se,dpg_content:de.path.includes("video")?"video":"article"};if(Ze?tt.dpg_term=Ze:tt.dpg_term="register-to-comment",Qe){const Ke=new URL(document.location.href);Ke.searchParams.set("commentID",Qe),login(tt,Ke.href)}else login(tt)}break;case"signOut.success":api.remove(TALK_JWT_COOKIE_NAME),logout();break}Oe.eventName!=="signOut.success"&&Fe()};return(Oe,Ge)=>Oe.talk2022ServerData.enabled&&!unref(ee)?(openBlock(),createElementBlock("div",{key:0,id:"nujij",ref_key:"talk2022Block",ref:ve,class:"talk2022"},[Oe.isComponentPage?createCommentVNode("",!0):(openBlock(),createBlock(DividerBlock,{key:0,class:"talk2022__divider"})),createVNode(_sfc_main$P,{class:"talk2022__header"},{default:withCtx(()=>[createTextVNode("NUjij-reacties")]),_:1}),Ce.value==="FAILED"?(openBlock(),createBlock(_sfc_main$R,{key:1},{default:withCtx(()=>[createTextVNode(" Kon niet inloggen in NUjij. Probeer het later nog eens. ")]),_:1})):createCommentVNode("",!0),Ee.value?(openBlock(),createElementBlock(Fragment,{key:2},[Le.value?(openBlock(),createBlock(_sfc_main$a,{key:0,ref_key:"talk2022WidgetInstance",ref:_,"story-url":Me.value,"talk2022-url":Ae.value,"comment-id":unref(de).query.commentID,onTalk2022Event:De},null,8,["story-url","talk2022-url","comment-id"])):(openBlock(),createBlock(_sfc_main$f,{key:1}))],64)):(openBlock(),createBlock(_sfc_main$14,{key:3,count:Oe.talk2022ServerData.count,"data-label":"via-nujij-block"},null,8,["count"]))],512)):createCommentVNode("",!0)}}),MILLISECONDS_PER_SECOND=1e3,SECONDS_PER_MINUTE$1=60,MINUTES_PER_HOUR$1=60,HOURS_PER_DAY$1=24,DAYS_PER_WEEK$1=7,MONTHS_PER_YEAR=12,SECOND=MILLISECONDS_PER_SECOND,MINUTE=SECOND*SECONDS_PER_MINUTE$1,HOUR=MINUTE*MINUTES_PER_HOUR$1,DAY=HOUR*HOURS_PER_DAY$1,WEEK=DAY*DAYS_PER_WEEK$1,YEAR=DAY*365.24,NORMAL_YEAR=DAY*365,LEAP_YEAR=DAY*366,DECADE=10*YEAR,HALF_YEAR=YEAR/2,AVERAGE_MONTH=YEAR/12;var timeConstants={SECOND,MINUTE,HOUR,DAY,WEEK,YEAR,NORMAL_YEAR,LEAP_YEAR,DECADE,HALF_YEAR,AVERAGE_MONTH,MILLISECONDS_PER_SECOND,SECONDS_PER_MINUTE:SECONDS_PER_MINUTE$1,MINUTES_PER_HOUR:MINUTES_PER_HOUR$1,HOURS_PER_DAY:HOURS_PER_DAY$1,DAYS_PER_WEEK:DAYS_PER_WEEK$1,MONTHS_PER_YEAR,MIN_DATE:new Date(-864e13),MAX_DATE:new Date(864e13)};const timeConstants$1=getDefaultExportFromCjs(timeConstants);var StorageType=($=>($[$.Local=0]="Local",$[$.Session=1]="Session",$))(StorageType||{});const{DAYS_PER_WEEK,HOURS_PER_DAY,MINUTES_PER_HOUR,SECONDS_PER_MINUTE}=timeConstants$1,dateFromRelativeTime=$=>{const j=(typeof $=="number"?`${$}s`:$).replace(/\s/gi,"").match(/\d+(?:\D)/gi)??["1d"],ee=new Date;let re=0;const le=SECONDS_PER_MINUTE*MINUTES_PER_HOUR*HOURS_PER_DAY,de={s:1,m:SECONDS_PER_MINUTE,h:SECONDS_PER_MINUTE*MINUTES_PER_HOUR,d:le,w:le*DAYS_PER_WEEK,M:le*30,Q:le*91,y:le*365};for(let ge=0,ve=j.length;ge<ve;ge++){const Ee=j[ge].split(/(:?\D)/);re+=de[Ee[1]]*parseInt(Ee[0],10)}return ee.setSeconds(ee.getSeconds()+re),ee.toJSON()},useStorage=($,_=1,j={ttl:"1d"})=>{const ee=isBrowser$1(),re=(Se=>encodeURIComponent(Se).replace(/[!'()*]/g,ke=>"%"+ke.charCodeAt(0).toString(16)))($),le=typeof j=="object"?j.ttl:"1d",de=dateFromRelativeTime(le);if(!$)throw new TypeError("Invalid parameter: name not specified.");if(!re||re==="undefined")throw new TypeError("Invalid parameter: name could not be slugified.");const ge=()=>_===0?window.localStorage:window.sessionStorage;let ve="";const Ee=()=>{if(ee){const Se=ge();Se[re]="",delete Se[re],ve=""}};return{get:()=>{if(ee){let Se;try{Se=JSON.parse(ge()[re])}catch{Ee();return}try{if(Se!==void 0&&Date.parse(Se.expires)>=Date.now())return Se.data;Ee()}catch{Ee();return}return}else try{return JSON.parse(ve)}catch{return}},set:Se=>{if(ee){const ke=ge();ke[re]=JSON.stringify({expires:de,data:Se})}else ve=JSON.stringify(Se)},clear:Ee}},usePersistedValue=($,_=StorageType.Session,j={ttl:"1d"})=>{const{get:ee,set:re,clear:le}=useStorage($,_,j),de=ref$1();let ge=!1;return computed({get:()=>(ge||(de.value=ee(),ge=!0),de.value),set:Ee=>{Ee!=null?re(Ee):le(),de.value=Ee}})},_hoisted_1$4=createBaseVNode("p",{id:"breaking-push-modal__body"}," Wil je als eerste via NU.nl op de hoogte blijven met meldingen van het belangrijkste nieuws? ",-1),_sfc_main$8=defineComponent({__name:"BreakingPushModal",setup($){const _=ref$1(!1),j={__typename:"GTMLinkAttributes",category:"notifications",action:"close",label:"webpush-popup"},ee={__typename:"GTMLinkAttributes",category:"notifications",action:"click",label:"webpush-popup"};let re;const le=async()=>{if(!re)return;await re.instance?.subscribe()&&re.instance?.addBreaking(),_.value=!1},de=()=>{_.value=!1},ge=usePersistedValue("NU.webpush_popup_shown",StorageType.Local,{ttl:"10y"}),ve=typeof Notification<"u",Ee=ve&&Notification.permission==="denied";if(!ge.value&&ve&&!Ee){re=useDpns();const Ce=useGtm();onMounted(()=>{const Ae=async Se=>{const ke=await re.instance?.hasTag("breaking_nu");Se&&ke===!1&&(_.value=!0,ge.value=!0,Ce.add({event:"web-push-popup-in-view"}))};re.isLoaded.value?Ae(!0):watch(re.isLoaded,Ae)})}return(Ce,Ae)=>_.value?(openBlock(),createBlock(_sfc_main$d,{key:0,"close-func":de,class:"breaking-push-modal","class-modifier":"breaking-push","close-gtm-attributes":j,"aria-labelledby":"breaking-push-modal__title","aria-describedby":"breaking-push-modal__body"},{default:withCtx(()=>[createVNode(AppModalTitle,{id:"breaking-push-modal__title"},{default:withCtx(()=>[createTextVNode("Mis geen belangrijk nieuws")]),_:1}),_hoisted_1$4,createVNode(_sfc_main$1w,{class:"breaking-push-modal__button","gtm-button-attributes":ee,colorway:"green",onClick:le},{default:withCtx(()=>[createVNode(_sfc_main$1t,{embed:"","embed-alt":"",class:"breaking-push-modal__button-icon",width:"15",height:"15"},{default:withCtx(()=>[createVNode(IconMegaphone)]),_:1}),createTextVNode("Zet meldingen aan")]),_:1})]),_:1})):createCommentVNode("",!0)}}),_sfc_main$7=defineComponent({__name:"Column",props:{tag:{},gtmLocation:{},preloadFirstCandidate:{type:Boolean}},setup($){const _=$;return _.preloadFirstCandidate&&usePriorityLoadContext(),provide("gtmLocation",_.gtmLocation),(j,ee)=>(openBlock(),createBlock(resolveDynamicComponent(j.tag),null,{default:withCtx(()=>[renderSlot(j.$slots,"default")]),_:3}))}}),_sfc_main$6=defineComponent({__name:"ColumnLayout",props:{hasSidebar:{type:Boolean}},setup($){return(_,j)=>(openBlock(),createElementBlock(Fragment,null,[renderSlot(_.$slots,"topzone"),createBaseVNode("section",{class:normalizeClass(["columns",!_.hasSidebar&&"columns--no-sidebar"])},[createVNode(_sfc_main$7,{id:"main",tag:"div","gtm-location":"in-article",class:"columns__main","preload-first-candidate":""},{default:withCtx(()=>[renderSlot(_.$slots,"main")]),_:3}),_.hasSidebar?(openBlock(),createBlock(_sfc_main$7,{key:0,tag:"aside","gtm-location":"sidebar",class:"columns__sidebar"},{default:withCtx(()=>[renderSlot(_.$slots,"sidebar")]),_:3})):createCommentVNode("",!0)],2)],64))}}),_hoisted_1$3={class:"notification","data-nosnippet":""},_hoisted_2={class:"notification__title"},_sfc_main$5=defineComponent({__name:"Notification",props:{title:{}},setup($){return(_,j)=>(openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("h2",_hoisted_2,toDisplayString(_.title),1)]))}});var define_process_env_default={};const name="@firebase/database",version="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SDK_VERSION="";function setSDKVersion($){SDK_VERSION=$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DOMStorageWrapper{constructor(_){this.domStorage_=_,this.prefix_="firebase:"}set(_,j){j==null?this.domStorage_.removeItem(this.prefixedName_(_)):this.domStorage_.setItem(this.prefixedName_(_),stringify(j))}get(_){const j=this.domStorage_.getItem(this.prefixedName_(_));return j==null?null:jsonEval(j)}remove(_){this.domStorage_.removeItem(this.prefixedName_(_))}prefixedName_(_){return this.prefix_+_}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MemoryStorage{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(_,j){j==null?delete this.cache_[_]:this.cache_[_]=j}get(_){return contains(this.cache_,_)?this.cache_[_]:null}remove(_){delete this.cache_[_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const createStoragefor=function($){try{if(typeof window<"u"&&typeof window[$]<"u"){const _=window[$];return _.setItem("firebase:sentinel","cache"),_.removeItem("firebase:sentinel"),new DOMStorageWrapper(_)}}catch{}return new MemoryStorage},PersistentStorage=createStoragefor("localStorage"),SessionStorage=createStoragefor("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/database"),LUIDGenerator=function(){let $=1;return function(){return $++}}(),sha1=function($){const _=stringToByteArray($),j=new Sha1;j.update(_);const ee=j.digest();return base64.encodeByteArray(ee)},buildLogMessage_=function(...$){let _="";for(let j=0;j<$.length;j++){const ee=$[j];Array.isArray(ee)||ee&&typeof ee=="object"&&typeof ee.length=="number"?_+=buildLogMessage_.apply(null,ee):typeof ee=="object"?_+=stringify(ee):_+=ee,_+=" "}return _};let logger=null,firstLog_=!0;const enableLogging$1=function($,_){assert(!_||$===!0||$===!1,"Can't turn on custom loggers persistently."),$===!0?(logClient.logLevel=LogLevel.VERBOSE,logger=logClient.log.bind(logClient),_&&SessionStorage.set("logging_enabled",!0)):typeof $=="function"?logger=$:(logger=null,SessionStorage.remove("logging_enabled"))},log=function(...$){if(firstLog_===!0&&(firstLog_=!1,logger===null&&SessionStorage.get("logging_enabled")===!0&&enableLogging$1(!0)),logger){const _=buildLogMessage_.apply(null,$);logger(_)}},logWrapper=function($){return function(..._){log($,..._)}},error=function(...$){const _="FIREBASE INTERNAL ERROR: "+buildLogMessage_(...$);logClient.error(_)},fatal=function(...$){const _=`FIREBASE FATAL ERROR: ${buildLogMessage_(...$)}`;throw logClient.error(_),new Error(_)},warn=function(...$){const _="FIREBASE WARNING: "+buildLogMessage_(...$);logClient.warn(_)},warnIfPageIsSecure=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&warn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},isInvalidJSONNumber=function($){return typeof $=="number"&&($!==$||$===Number.POSITIVE_INFINITY||$===Number.NEGATIVE_INFINITY)},executeWhenDOMReady=function($){if(document.readyState==="complete")$();else{let _=!1;const j=function(){if(!document.body){setTimeout(j,Math.floor(10));return}_||(_=!0,$())};document.addEventListener?(document.addEventListener("DOMContentLoaded",j,!1),window.addEventListener("load",j,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&j()}),window.attachEvent("onload",j))}},MIN_NAME="[MIN_NAME]",MAX_NAME="[MAX_NAME]",nameCompare=function($,_){if($===_)return 0;if($===MIN_NAME||_===MAX_NAME)return-1;if(_===MIN_NAME||$===MAX_NAME)return 1;{const j=tryParseInt($),ee=tryParseInt(_);return j!==null?ee!==null?j-ee===0?$.length-_.length:j-ee:-1:ee!==null?1:$<_?-1:1}},stringCompare=function($,_){return $===_?0:$<_?-1:1},requireKey=function($,_){if(_&&$ in _)return _[$];throw new Error("Missing required key ("+$+") in object: "+stringify(_))},ObjectToUniqueKey=function($){if(typeof $!="object"||$===null)return stringify($);const _=[];for(const ee in $)_.push(ee);_.sort();let j="{";for(let ee=0;ee<_.length;ee++)ee!==0&&(j+=","),j+=stringify(_[ee]),j+=":",j+=ObjectToUniqueKey($[_[ee]]);return j+="}",j},splitStringBySize=function($,_){const j=$.length;if(j<=_)return[$];const ee=[];for(let re=0;re<j;re+=_)re+_>j?ee.push($.substring(re,j)):ee.push($.substring(re,re+_));return ee};function each($,_){for(const j in $)$.hasOwnProperty(j)&&_(j,$[j])}const doubleToIEEE754String=function($){assert(!isInvalidJSONNumber($),"Invalid JSON number");const _=11,j=52,ee=(1<<_-1)-1;let re,le,de,ge,ve;$===0?(le=0,de=0,re=1/$===-1/0?1:0):(re=$<0,$=Math.abs($),$>=Math.pow(2,1-ee)?(ge=Math.min(Math.floor(Math.log($)/Math.LN2),ee),le=ge+ee,de=Math.round($*Math.pow(2,j-ge)-Math.pow(2,j))):(le=0,de=Math.round($/Math.pow(2,1-ee-j))));const Ee=[];for(ve=j;ve;ve-=1)Ee.push(de%2?1:0),de=Math.floor(de/2);for(ve=_;ve;ve-=1)Ee.push(le%2?1:0),le=Math.floor(le/2);Ee.push(re?1:0),Ee.reverse();const Ce=Ee.join("");let Ae="";for(ve=0;ve<64;ve+=8){let Se=parseInt(Ce.substr(ve,8),2).toString(16);Se.length===1&&(Se="0"+Se),Ae=Ae+Se}return Ae.toLowerCase()},isChromeExtensionContentScript=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},isWindowsStoreApp=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function errorForServerCode($,_){let j="Unknown Error";$==="too_big"?j="The data requested exceeds the maximum size that can be accessed with a single request.":$==="permission_denied"?j="Client doesn't have permission to access the desired data.":$==="unavailable"&&(j="The service is unavailable");const ee=new Error($+" at "+_._path.toString()+": "+j);return ee.code=$.toUpperCase(),ee}const INTEGER_REGEXP_=new RegExp("^-?(0*)\\d{1,10}$"),INTEGER_32_MIN=-2147483648,INTEGER_32_MAX=2147483647,tryParseInt=function($){if(INTEGER_REGEXP_.test($)){const _=Number($);if(_>=INTEGER_32_MIN&&_<=INTEGER_32_MAX)return _}return null},exceptionGuard=function($){try{$()}catch(_){setTimeout(()=>{const j=_.stack||"";throw warn("Exception was thrown by user callback.",j),_},Math.floor(0))}},beingCrawled=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},setTimeoutNonBlocking=function($,_){const j=setTimeout($,_);return typeof j=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(j):typeof j=="object"&&j.unref&&j.unref(),j};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AppCheckTokenProvider{constructor(_,j){this.appName_=_,this.appCheckProvider=j,this.appCheck=j?.getImmediate({optional:!0}),this.appCheck||j?.get().then(ee=>this.appCheck=ee)}getToken(_){return this.appCheck?this.appCheck.getToken(_):new Promise((j,ee)=>{setTimeout(()=>{this.appCheck?this.getToken(_).then(j,ee):j(null)},0)})}addTokenChangeListener(_){var j;(j=this.appCheckProvider)===null||j===void 0||j.get().then(ee=>ee.addTokenListener(_))}notifyForInvalidToken(){warn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAuthTokenProvider{constructor(_,j,ee){this.appName_=_,this.firebaseOptions_=j,this.authProvider_=ee,this.auth_=null,this.auth_=ee.getImmediate({optional:!0}),this.auth_||ee.onInit(re=>this.auth_=re)}getToken(_){return this.auth_?this.auth_.getToken(_).catch(j=>j&&j.code==="auth/token-not-initialized"?(log("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(j)):new Promise((j,ee)=>{setTimeout(()=>{this.auth_?this.getToken(_).then(j,ee):j(null)},0)})}addTokenChangeListener(_){this.auth_?this.auth_.addAuthTokenListener(_):this.authProvider_.get().then(j=>j.addAuthTokenListener(_))}removeTokenChangeListener(_){this.authProvider_.get().then(j=>j.removeAuthTokenListener(_))}notifyForInvalidToken(){let _='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?_+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?_+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':_+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',warn(_)}}class EmulatorTokenProvider{constructor(_){this.accessToken=_}getToken(_){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(_){_(this.accessToken)}removeTokenChangeListener(_){}notifyForInvalidToken(){}}EmulatorTokenProvider.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PROTOCOL_VERSION="5",VERSION_PARAM="v",TRANSPORT_SESSION_PARAM="s",REFERER_PARAM="r",FORGE_REF="f",FORGE_DOMAIN_RE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LAST_SESSION_PARAM="ls",APPLICATION_ID_PARAM="p",APP_CHECK_TOKEN_PARAM="ac",WEBSOCKET="websocket",LONG_POLLING="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RepoInfo{constructor(_,j,ee,re,le=!1,de="",ge=!1,ve=!1){this.secure=j,this.namespace=ee,this.webSocketOnly=re,this.nodeAdmin=le,this.persistenceKey=de,this.includeNamespaceInQueryParams=ge,this.isUsingEmulator=ve,this._host=_.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=PersistentStorage.get("host:"+_)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(_){_!==this.internalHost&&(this.internalHost=_,this.isCacheableHost()&&PersistentStorage.set("host:"+this._host,this.internalHost))}toString(){let _=this.toURLString();return this.persistenceKey&&(_+="<"+this.persistenceKey+">"),_}toURLString(){const _=this.secure?"https://":"http://",j=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${_}${this.host}/${j}`}}function repoInfoNeedsQueryParam($){return $.host!==$.internalHost||$.isCustomHost()||$.includeNamespaceInQueryParams}function repoInfoConnectionURL($,_,j){assert(typeof _=="string","typeof type must == string"),assert(typeof j=="object","typeof params must == object");let ee;if(_===WEBSOCKET)ee=($.secure?"wss://":"ws://")+$.internalHost+"/.ws?";else if(_===LONG_POLLING)ee=($.secure?"https://":"http://")+$.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+_);repoInfoNeedsQueryParam($)&&(j.ns=$.namespace);const re=[];return each(j,(le,de)=>{re.push(le+"="+de)}),ee+re.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsCollection{constructor(){this.counters_={}}incrementCounter(_,j=1){contains(this.counters_,_)||(this.counters_[_]=0),this.counters_[_]+=j}get(){return deepCopy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const collections={},reporters={};function statsManagerGetCollection($){const _=$.toString();return collections[_]||(collections[_]=new StatsCollection),collections[_]}function statsManagerGetOrCreateReporter($,_){const j=$.toString();return reporters[j]||(reporters[j]=_()),reporters[j]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PacketReceiver{constructor(_){this.onMessage_=_,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(_,j){this.closeAfterResponse=_,this.onClose=j,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(_,j){for(this.pendingResponses[_]=j;this.pendingResponses[this.currentResponseNum];){const ee=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let re=0;re<ee.length;++re)ee[re]&&exceptionGuard(()=>{this.onMessage_(ee[re])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_LONGPOLL_START_PARAM="start",FIREBASE_LONGPOLL_CLOSE_COMMAND="close",FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",FIREBASE_LONGPOLL_ID_PARAM="id",FIREBASE_LONGPOLL_PW_PARAM="pw",FIREBASE_LONGPOLL_SERIAL_PARAM="ser",FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",FIREBASE_LONGPOLL_DATA_PARAM="d",FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe",MAX_URL_DATA_SIZE=1870,SEG_HEADER_SIZE=30,MAX_PAYLOAD_SIZE=MAX_URL_DATA_SIZE-SEG_HEADER_SIZE,KEEPALIVE_REQUEST_INTERVAL=25e3,LP_CONNECT_TIMEOUT=3e4;class BrowserPollConnection{constructor(_,j,ee,re,le,de,ge){this.connId=_,this.repoInfo=j,this.applicationId=ee,this.appCheckToken=re,this.authToken=le,this.transportSessionId=de,this.lastSessionId=ge,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=logWrapper(_),this.stats_=statsManagerGetCollection(j),this.urlFn=ve=>(this.appCheckToken&&(ve[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),repoInfoConnectionURL(j,LONG_POLLING,ve))}open(_,j){this.curSegmentNum=0,this.onDisconnect_=j,this.myPacketOrderer=new PacketReceiver(_),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LP_CONNECT_TIMEOUT)),executeWhenDOMReady(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FirebaseIFrameScriptHolder((...le)=>{const[de,ge,ve,Ee,Ce]=le;if(this.incrementIncomingBytes_(le),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,de===FIREBASE_LONGPOLL_START_PARAM)this.id=ge,this.password=ve;else if(de===FIREBASE_LONGPOLL_CLOSE_COMMAND)ge?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(ge,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+de)},(...le)=>{const[de,ge]=le;this.incrementIncomingBytes_(le),this.myPacketOrderer.handleResponse(de,ge)},()=>{this.onClosed_()},this.urlFn);const ee={};ee[FIREBASE_LONGPOLL_START_PARAM]="t",ee[FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(ee[FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=this.scriptTagHolder.uniqueCallbackIdentifier),ee[VERSION_PARAM]=PROTOCOL_VERSION,this.transportSessionId&&(ee[TRANSPORT_SESSION_PARAM]=this.transportSessionId),this.lastSessionId&&(ee[LAST_SESSION_PARAM]=this.lastSessionId),this.applicationId&&(ee[APPLICATION_ID_PARAM]=this.applicationId),this.appCheckToken&&(ee[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),typeof location<"u"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(ee[REFERER_PARAM]=FORGE_REF);const re=this.urlFn(ee);this.log_("Connecting via long-poll to "+re),this.scriptTagHolder.addTag(re,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){BrowserPollConnection.forceAllow_=!0}static forceDisallow(){BrowserPollConnection.forceDisallow_=!0}static isAvailable(){return BrowserPollConnection.forceAllow_?!0:!BrowserPollConnection.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!isChromeExtensionContentScript()&&!isWindowsStoreApp()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(_){const j=stringify(_);this.bytesSent+=j.length,this.stats_.incrementCounter("bytes_sent",j.length);const ee=base64Encode(j),re=splitStringBySize(ee,MAX_PAYLOAD_SIZE);for(let le=0;le<re.length;le++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,re.length,re[le]),this.curSegmentNum++}addDisconnectPingFrame(_,j){this.myDisconnFrame=document.createElement("iframe");const ee={};ee[FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",ee[FIREBASE_LONGPOLL_ID_PARAM]=_,ee[FIREBASE_LONGPOLL_PW_PARAM]=j,this.myDisconnFrame.src=this.urlFn(ee),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(_){const j=stringify(_).length;this.bytesReceived+=j,this.stats_.incrementCounter("bytes_received",j)}}class FirebaseIFrameScriptHolder{constructor(_,j,ee,re){this.onDisconnect=ee,this.urlFn=re,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LUIDGenerator(),window[FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=_,window[FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=j,this.myIFrame=FirebaseIFrameScriptHolder.createIFrame_();let le="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(le='<script>document.domain="'+document.domain+'";<\/script>');const de="<html><body>"+le+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(de),this.myIFrame.doc.close()}catch(ge){log("frame writing exception"),ge.stack&&log(ge.stack),log(ge)}}}static createIFrame_(){const _=document.createElement("iframe");if(_.style.display="none",document.body){document.body.appendChild(_);try{_.contentWindow.document||log("No IE domain setting required")}catch{const ee=document.domain;_.src="javascript:void((function(){document.open();document.domain='"+ee+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return _.contentDocument?_.doc=_.contentDocument:_.contentWindow?_.doc=_.contentWindow.document:_.document&&(_.doc=_.document),_}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const _=this.onDisconnect;_&&(this.onDisconnect=null,_())}startLongPoll(_,j){for(this.myID=_,this.myPW=j,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const _={};_[FIREBASE_LONGPOLL_ID_PARAM]=this.myID,_[FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,_[FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;let j=this.urlFn(_),ee="",re=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+SEG_HEADER_SIZE+ee.length<=MAX_URL_DATA_SIZE;){const de=this.pendingSegs.shift();ee=ee+"&"+FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+re+"="+de.seg+"&"+FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+re+"="+de.ts+"&"+FIREBASE_LONGPOLL_DATA_PARAM+re+"="+de.d,re++}return j=j+ee,this.addLongPollTag_(j,this.currentSerial),!0}else return!1}enqueueSegment(_,j,ee){this.pendingSegs.push({seg:_,ts:j,d:ee}),this.alive&&this.newRequest_()}addLongPollTag_(_,j){this.outstandingRequests.add(j);const ee=()=>{this.outstandingRequests.delete(j),this.newRequest_()},re=setTimeout(ee,Math.floor(KEEPALIVE_REQUEST_INTERVAL)),le=()=>{clearTimeout(re),ee()};this.addTag(_,le)}addTag(_,j){setTimeout(()=>{try{if(!this.sendNewPolls)return;const ee=this.myIFrame.doc.createElement("script");ee.type="text/javascript",ee.async=!0,ee.src=_,ee.onload=ee.onreadystatechange=function(){const re=ee.readyState;(!re||re==="loaded"||re==="complete")&&(ee.onload=ee.onreadystatechange=null,ee.parentNode&&ee.parentNode.removeChild(ee),j())},ee.onerror=()=>{log("Long-poll script failed to load: "+_),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(ee)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEBSOCKET_MAX_FRAME_SIZE=16384,WEBSOCKET_KEEPALIVE_INTERVAL=45e3;let WebSocketImpl=null;typeof MozWebSocket<"u"?WebSocketImpl=MozWebSocket:typeof WebSocket<"u"&&(WebSocketImpl=WebSocket);class WebSocketConnection{constructor(_,j,ee,re,le,de,ge){this.connId=_,this.applicationId=ee,this.appCheckToken=re,this.authToken=le,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=logWrapper(this.connId),this.stats_=statsManagerGetCollection(j),this.connURL=WebSocketConnection.connectionURL_(j,de,ge,re,ee),this.nodeAdmin=j.nodeAdmin}static connectionURL_(_,j,ee,re,le){const de={};return de[VERSION_PARAM]=PROTOCOL_VERSION,typeof location<"u"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(de[REFERER_PARAM]=FORGE_REF),j&&(de[TRANSPORT_SESSION_PARAM]=j),ee&&(de[LAST_SESSION_PARAM]=ee),re&&(de[APP_CHECK_TOKEN_PARAM]=re),le&&(de[APPLICATION_ID_PARAM]=le),repoInfoConnectionURL(_,WEBSOCKET,de)}open(_,j){this.onDisconnect=j,this.onMessage=_,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,PersistentStorage.set("previous_websocket_failure",!0);try{let ee;isNodeSdk(),this.mySock=new WebSocketImpl(this.connURL,[],ee)}catch(ee){this.log_("Error instantiating WebSocket.");const re=ee.message||ee.data;re&&this.log_(re),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=ee=>{this.handleIncomingFrame(ee)},this.mySock.onerror=ee=>{this.log_("WebSocket error.  Closing connection.");const re=ee.message||ee.data;re&&this.log_(re),this.onClosed_()}}start(){}static forceDisallow(){WebSocketConnection.forceDisallow_=!0}static isAvailable(){let _=!1;if(typeof navigator<"u"&&navigator.userAgent){const j=/Android ([0-9]{0,}\.[0-9]{0,})/,ee=navigator.userAgent.match(j);ee&&ee.length>1&&parseFloat(ee[1])<4.4&&(_=!0)}return!_&&WebSocketImpl!==null&&!WebSocketConnection.forceDisallow_}static previouslyFailed(){return PersistentStorage.isInMemoryStorage||PersistentStorage.get("previous_websocket_failure")===!0}markConnectionHealthy(){PersistentStorage.remove("previous_websocket_failure")}appendFrame_(_){if(this.frames.push(_),this.frames.length===this.totalFrames){const j=this.frames.join("");this.frames=null;const ee=jsonEval(j);this.onMessage(ee)}}handleNewFrameCount_(_){this.totalFrames=_,this.frames=[]}extractFrameCount_(_){if(assert(this.frames===null,"We already have a frame buffer"),_.length<=6){const j=Number(_);if(!isNaN(j))return this.handleNewFrameCount_(j),null}return this.handleNewFrameCount_(1),_}handleIncomingFrame(_){if(this.mySock===null)return;const j=_.data;if(this.bytesReceived+=j.length,this.stats_.incrementCounter("bytes_received",j.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(j);else{const ee=this.extractFrameCount_(j);ee!==null&&this.appendFrame_(ee)}}send(_){this.resetKeepAlive();const j=stringify(_);this.bytesSent+=j.length,this.stats_.incrementCounter("bytes_sent",j.length);const ee=splitStringBySize(j,WEBSOCKET_MAX_FRAME_SIZE);ee.length>1&&this.sendString_(String(ee.length));for(let re=0;re<ee.length;re++)this.sendString_(ee[re])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WEBSOCKET_KEEPALIVE_INTERVAL))}sendString_(_){try{this.mySock.send(_)}catch(j){this.log_("Exception thrown from WebSocket.send():",j.message||j.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}WebSocketConnection.responsesRequiredToBeHealthy=2;WebSocketConnection.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransportManager{constructor(_){this.initTransports_(_)}static get ALL_TRANSPORTS(){return[BrowserPollConnection,WebSocketConnection]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(_){const j=WebSocketConnection&&WebSocketConnection.isAvailable();let ee=j&&!WebSocketConnection.previouslyFailed();if(_.webSocketOnly&&(j||warn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),ee=!0),ee)this.transports_=[WebSocketConnection];else{const re=this.transports_=[];for(const le of TransportManager.ALL_TRANSPORTS)le&&le.isAvailable()&&re.push(le);TransportManager.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}TransportManager.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UPGRADE_TIMEOUT=6e4,DELAY_BEFORE_SENDING_EXTRA_REQUESTS=5e3,BYTES_SENT_HEALTHY_OVERRIDE=10*1024,BYTES_RECEIVED_HEALTHY_OVERRIDE=100*1024,MESSAGE_TYPE="t",MESSAGE_DATA="d",CONTROL_SHUTDOWN="s",CONTROL_RESET="r",CONTROL_ERROR="e",CONTROL_PONG="o",SWITCH_ACK="a",END_TRANSMISSION="n",PING="p",SERVER_HELLO="h";class Connection{constructor(_,j,ee,re,le,de,ge,ve,Ee,Ce){this.id=_,this.repoInfo_=j,this.applicationId_=ee,this.appCheckToken_=re,this.authToken_=le,this.onMessage_=de,this.onReady_=ge,this.onDisconnect_=ve,this.onKill_=Ee,this.lastSessionId=Ce,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=logWrapper("c:"+this.id+":"),this.transportManager_=new TransportManager(j),this.log_("Connection created"),this.start_()}start_(){const _=this.transportManager_.initialTransport();this.conn_=new _(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=_.responsesRequiredToBeHealthy||0;const j=this.connReceiver_(this.conn_),ee=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(j,ee)},Math.floor(0));const re=_.healthyTimeout||0;re>0&&(this.healthyTimeout_=setTimeoutNonBlocking(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BYTES_RECEIVED_HEALTHY_OVERRIDE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BYTES_SENT_HEALTHY_OVERRIDE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(re)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(_){return j=>{_===this.conn_?this.onConnectionLost_(j):_===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(_){return j=>{this.state_!==2&&(_===this.rx_?this.onPrimaryMessageReceived_(j):_===this.secondaryConn_?this.onSecondaryMessageReceived_(j):this.log_("message on old connection"))}}sendRequest(_){const j={t:"d",d:_};this.sendData_(j)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(_){if(MESSAGE_TYPE in _){const j=_[MESSAGE_TYPE];j===SWITCH_ACK?this.upgradeIfSecondaryHealthy_():j===CONTROL_RESET?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):j===CONTROL_PONG&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(_){const j=requireKey("t",_),ee=requireKey("d",_);if(j==="c")this.onSecondaryControl_(ee);else if(j==="d")this.pendingDataMessages.push(ee);else throw new Error("Unknown protocol layer: "+j)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PING,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SWITCH_ACK,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:END_TRANSMISSION,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(_){const j=requireKey("t",_),ee=requireKey("d",_);j==="c"?this.onControl_(ee):j==="d"&&this.onDataMessage_(ee)}onDataMessage_(_){this.onPrimaryResponse_(),this.onMessage_(_)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(_){const j=requireKey(MESSAGE_TYPE,_);if(MESSAGE_DATA in _){const ee=_[MESSAGE_DATA];if(j===SERVER_HELLO){const re=Object.assign({},ee);this.repoInfo_.isUsingEmulator&&(re.h=this.repoInfo_.host),this.onHandshake_(re)}else if(j===END_TRANSMISSION){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let re=0;re<this.pendingDataMessages.length;++re)this.onDataMessage_(this.pendingDataMessages[re]);this.pendingDataMessages=[],this.tryCleanupConnection()}else j===CONTROL_SHUTDOWN?this.onConnectionShutdown_(ee):j===CONTROL_RESET?this.onReset_(ee):j===CONTROL_ERROR?error("Server Error: "+ee):j===CONTROL_PONG?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):error("Unknown control packet command: "+j)}}onHandshake_(_){const j=_.ts,ee=_.v,re=_.h;this.sessionId=_.s,this.repoInfo_.host=re,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,j),PROTOCOL_VERSION!==ee&&warn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const _=this.transportManager_.upgradeTransport();_&&this.startUpgrade_(_)}startUpgrade_(_){this.secondaryConn_=new _(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=_.responsesRequiredToBeHealthy||0;const j=this.connReceiver_(this.secondaryConn_),ee=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(j,ee),setTimeoutNonBlocking(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UPGRADE_TIMEOUT))}onReset_(_){this.log_("Reset packet received.  New host: "+_),this.repoInfo_.host=_,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(_,j){this.log_("Realtime connection established."),this.conn_=_,this.state_=1,this.onReady_&&(this.onReady_(j,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):setTimeoutNonBlocking(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(DELAY_BEFORE_SENDING_EXTRA_REQUESTS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PING,d:{}}}))}onSecondaryConnectionLost_(){const _=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===_||this.rx_===_)&&this.close()}onConnectionLost_(_){this.conn_=null,!_&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(_){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(_),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(_){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(_)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ServerActions{put(_,j,ee,re){}merge(_,j,ee,re){}refreshAuthToken(_){}refreshAppCheckToken(_){}onDisconnectPut(_,j,ee){}onDisconnectMerge(_,j,ee){}onDisconnectCancel(_,j){}reportStats(_){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventEmitter{constructor(_){this.allowedEvents_=_,this.listeners_={},assert(Array.isArray(_)&&_.length>0,"Requires a non-empty array")}trigger(_,...j){if(Array.isArray(this.listeners_[_])){const ee=[...this.listeners_[_]];for(let re=0;re<ee.length;re++)ee[re].callback.apply(ee[re].context,j)}}on(_,j,ee){this.validateEventType_(_),this.listeners_[_]=this.listeners_[_]||[],this.listeners_[_].push({callback:j,context:ee});const re=this.getInitialEvent(_);re&&j.apply(ee,re)}off(_,j,ee){this.validateEventType_(_);const re=this.listeners_[_]||[];for(let le=0;le<re.length;le++)if(re[le].callback===j&&(!ee||ee===re[le].context)){re.splice(le,1);return}}validateEventType_(_){assert(this.allowedEvents_.find(j=>j===_),"Unknown event: "+_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OnlineMonitor extends EventEmitter{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!isMobileCordova()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new OnlineMonitor}getInitialEvent(_){return assert(_==="online","Unknown event type: "+_),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_PATH_DEPTH=32,MAX_PATH_LENGTH_BYTES=768;class Path{constructor(_,j){if(j===void 0){this.pieces_=_.split("/");let ee=0;for(let re=0;re<this.pieces_.length;re++)this.pieces_[re].length>0&&(this.pieces_[ee]=this.pieces_[re],ee++);this.pieces_.length=ee,this.pieceNum_=0}else this.pieces_=_,this.pieceNum_=j}toString(){let _="";for(let j=this.pieceNum_;j<this.pieces_.length;j++)this.pieces_[j]!==""&&(_+="/"+this.pieces_[j]);return _||"/"}}function newEmptyPath(){return new Path("")}function pathGetFront($){return $.pieceNum_>=$.pieces_.length?null:$.pieces_[$.pieceNum_]}function pathGetLength($){return $.pieces_.length-$.pieceNum_}function pathPopFront($){let _=$.pieceNum_;return _<$.pieces_.length&&_++,new Path($.pieces_,_)}function pathGetBack($){return $.pieceNum_<$.pieces_.length?$.pieces_[$.pieces_.length-1]:null}function pathToUrlEncodedString($){let _="";for(let j=$.pieceNum_;j<$.pieces_.length;j++)$.pieces_[j]!==""&&(_+="/"+encodeURIComponent(String($.pieces_[j])));return _||"/"}function pathSlice($,_=0){return $.pieces_.slice($.pieceNum_+_)}function pathParent($){if($.pieceNum_>=$.pieces_.length)return null;const _=[];for(let j=$.pieceNum_;j<$.pieces_.length-1;j++)_.push($.pieces_[j]);return new Path(_,0)}function pathChild($,_){const j=[];for(let ee=$.pieceNum_;ee<$.pieces_.length;ee++)j.push($.pieces_[ee]);if(_ instanceof Path)for(let ee=_.pieceNum_;ee<_.pieces_.length;ee++)j.push(_.pieces_[ee]);else{const ee=_.split("/");for(let re=0;re<ee.length;re++)ee[re].length>0&&j.push(ee[re])}return new Path(j,0)}function pathIsEmpty($){return $.pieceNum_>=$.pieces_.length}function newRelativePath($,_){const j=pathGetFront($),ee=pathGetFront(_);if(j===null)return _;if(j===ee)return newRelativePath(pathPopFront($),pathPopFront(_));throw new Error("INTERNAL ERROR: innerPath ("+_+") is not within outerPath ("+$+")")}function pathEquals($,_){if(pathGetLength($)!==pathGetLength(_))return!1;for(let j=$.pieceNum_,ee=_.pieceNum_;j<=$.pieces_.length;j++,ee++)if($.pieces_[j]!==_.pieces_[ee])return!1;return!0}function pathContains($,_){let j=$.pieceNum_,ee=_.pieceNum_;if(pathGetLength($)>pathGetLength(_))return!1;for(;j<$.pieces_.length;){if($.pieces_[j]!==_.pieces_[ee])return!1;++j,++ee}return!0}class ValidationPath{constructor(_,j){this.errorPrefix_=j,this.parts_=pathSlice(_,0),this.byteLength_=Math.max(1,this.parts_.length);for(let ee=0;ee<this.parts_.length;ee++)this.byteLength_+=stringLength(this.parts_[ee]);validationPathCheckValid(this)}}function validationPathPush($,_){$.parts_.length>0&&($.byteLength_+=1),$.parts_.push(_),$.byteLength_+=stringLength(_),validationPathCheckValid($)}function validationPathPop($){const _=$.parts_.pop();$.byteLength_-=stringLength(_),$.parts_.length>0&&($.byteLength_-=1)}function validationPathCheckValid($){if($.byteLength_>MAX_PATH_LENGTH_BYTES)throw new Error($.errorPrefix_+"has a key path longer than "+MAX_PATH_LENGTH_BYTES+" bytes ("+$.byteLength_+").");if($.parts_.length>MAX_PATH_DEPTH)throw new Error($.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MAX_PATH_DEPTH+") or object contains a cycle "+validationPathToErrorString($))}function validationPathToErrorString($){return $.parts_.length===0?"":"in property '"+$.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VisibilityMonitor extends EventEmitter{constructor(){super(["visible"]);let _,j;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(j="visibilitychange",_="hidden"):typeof document.mozHidden<"u"?(j="mozvisibilitychange",_="mozHidden"):typeof document.msHidden<"u"?(j="msvisibilitychange",_="msHidden"):typeof document.webkitHidden<"u"&&(j="webkitvisibilitychange",_="webkitHidden")),this.visible_=!0,j&&document.addEventListener(j,()=>{const ee=!document[_];ee!==this.visible_&&(this.visible_=ee,this.trigger("visible",ee))},!1)}static getInstance(){return new VisibilityMonitor}getInitialEvent(_){return assert(_==="visible","Unknown event type: "+_),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RECONNECT_MIN_DELAY=1e3,RECONNECT_MAX_DELAY_DEFAULT=60*5*1e3,RECONNECT_MAX_DELAY_FOR_ADMINS=30*1e3,RECONNECT_DELAY_MULTIPLIER=1.3,RECONNECT_DELAY_RESET_TIMEOUT=3e4,SERVER_KILL_INTERRUPT_REASON="server_kill",INVALID_TOKEN_THRESHOLD=3;class PersistentConnection extends ServerActions{constructor(_,j,ee,re,le,de,ge,ve){if(super(),this.repoInfo_=_,this.applicationId_=j,this.onDataUpdate_=ee,this.onConnectStatus_=re,this.onServerInfoUpdate_=le,this.authTokenProvider_=de,this.appCheckTokenProvider_=ge,this.authOverride_=ve,this.id=PersistentConnection.nextPersistentConnectionId_++,this.log_=logWrapper("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=RECONNECT_MIN_DELAY,this.maxReconnectDelay_=RECONNECT_MAX_DELAY_DEFAULT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,ve&&!isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");VisibilityMonitor.getInstance().on("visible",this.onVisible_,this),_.host.indexOf("fblocal")===-1&&OnlineMonitor.getInstance().on("online",this.onOnline_,this)}sendRequest(_,j,ee){const re=++this.requestNumber_,le={r:re,a:_,b:j};this.log_(stringify(le)),assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(le),ee&&(this.requestCBHash_[re]=ee)}get(_){this.initConnection_();const j=new Deferred,re={action:"g",request:{p:_._path.toString(),q:_._queryObject},onComplete:de=>{const ge=de.d;de.s==="ok"?j.resolve(ge):j.reject(ge)}};this.outstandingGets_.push(re),this.outstandingGetCount_++;const le=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(le),j.promise}listen(_,j,ee,re){this.initConnection_();const le=_._queryIdentifier,de=_._path.toString();this.log_("Listen called for "+de+" "+le),this.listens.has(de)||this.listens.set(de,new Map),assert(_._queryParams.isDefault()||!_._queryParams.loadsAllData(),"listen() called for non-default but complete query"),assert(!this.listens.get(de).has(le),"listen() called twice for same path/queryId.");const ge={onComplete:re,hashFn:j,query:_,tag:ee};this.listens.get(de).set(le,ge),this.connected_&&this.sendListen_(ge)}sendGet_(_){const j=this.outstandingGets_[_];this.sendRequest("g",j.request,ee=>{delete this.outstandingGets_[_],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),j.onComplete&&j.onComplete(ee)})}sendListen_(_){const j=_.query,ee=j._path.toString(),re=j._queryIdentifier;this.log_("Listen on "+ee+" for "+re);const le={p:ee},de="q";_.tag&&(le.q=j._queryObject,le.t=_.tag),le.h=_.hashFn(),this.sendRequest(de,le,ge=>{const ve=ge.d,Ee=ge.s;PersistentConnection.warnOnListenWarnings_(ve,j),(this.listens.get(ee)&&this.listens.get(ee).get(re))===_&&(this.log_("listen response",ge),Ee!=="ok"&&this.removeListen_(ee,re),_.onComplete&&_.onComplete(Ee,ve))})}static warnOnListenWarnings_(_,j){if(_&&typeof _=="object"&&contains(_,"w")){const ee=safeGet(_,"w");if(Array.isArray(ee)&&~ee.indexOf("no_index")){const re='".indexOn": "'+j._queryParams.getIndex().toString()+'"',le=j._path.toString();warn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${re} at ${le} to your security rules for better performance.`)}}}refreshAuthToken(_){this.authToken_=_,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(_)}reduceReconnectDelayIfAdminCredential_(_){(_&&_.length===40||isAdmin(_))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS)}refreshAppCheckToken(_){this.appCheckToken_=_,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const _=this.authToken_,j=isValidFormat(_)?"auth":"gauth",ee={cred:_};this.authOverride_===null?ee.noauth=!0:typeof this.authOverride_=="object"&&(ee.authvar=this.authOverride_),this.sendRequest(j,ee,re=>{const le=re.s,de=re.d||"error";this.authToken_===_&&(le==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(le,de))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},_=>{const j=_.s,ee=_.d||"error";j==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(j,ee)})}unlisten(_,j){const ee=_._path.toString(),re=_._queryIdentifier;this.log_("Unlisten called for "+ee+" "+re),assert(_._queryParams.isDefault()||!_._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(ee,re)&&this.connected_&&this.sendUnlisten_(ee,re,_._queryObject,j)}sendUnlisten_(_,j,ee,re){this.log_("Unlisten on "+_+" for "+j);const le={p:_},de="n";re&&(le.q=ee,le.t=re),this.sendRequest(de,le)}onDisconnectPut(_,j,ee){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",_,j,ee):this.onDisconnectRequestQueue_.push({pathString:_,action:"o",data:j,onComplete:ee})}onDisconnectMerge(_,j,ee){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",_,j,ee):this.onDisconnectRequestQueue_.push({pathString:_,action:"om",data:j,onComplete:ee})}onDisconnectCancel(_,j){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",_,null,j):this.onDisconnectRequestQueue_.push({pathString:_,action:"oc",data:null,onComplete:j})}sendOnDisconnect_(_,j,ee,re){const le={p:j,d:ee};this.log_("onDisconnect "+_,le),this.sendRequest(_,le,de=>{re&&setTimeout(()=>{re(de.s,de.d)},Math.floor(0))})}put(_,j,ee,re){this.putInternal("p",_,j,ee,re)}merge(_,j,ee,re){this.putInternal("m",_,j,ee,re)}putInternal(_,j,ee,re,le){this.initConnection_();const de={p:j,d:ee};le!==void 0&&(de.h=le),this.outstandingPuts_.push({action:_,request:de,onComplete:re}),this.outstandingPutCount_++;const ge=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(ge):this.log_("Buffering put: "+j)}sendPut_(_){const j=this.outstandingPuts_[_].action,ee=this.outstandingPuts_[_].request,re=this.outstandingPuts_[_].onComplete;this.outstandingPuts_[_].queued=this.connected_,this.sendRequest(j,ee,le=>{this.log_(j+" response",le),delete this.outstandingPuts_[_],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),re&&re(le.s,le.d)})}reportStats(_){if(this.connected_){const j={c:_};this.log_("reportStats",j),this.sendRequest("s",j,ee=>{if(ee.s!=="ok"){const le=ee.d;this.log_("reportStats","Error sending stats: "+le)}})}}onDataMessage_(_){if("r"in _){this.log_("from server: "+stringify(_));const j=_.r,ee=this.requestCBHash_[j];ee&&(delete this.requestCBHash_[j],ee(_.b))}else{if("error"in _)throw"A server-side error has occurred: "+_.error;"a"in _&&this.onDataPush_(_.a,_.b)}}onDataPush_(_,j){this.log_("handleServerMessage",_,j),_==="d"?this.onDataUpdate_(j.p,j.d,!1,j.t):_==="m"?this.onDataUpdate_(j.p,j.d,!0,j.t):_==="c"?this.onListenRevoked_(j.p,j.q):_==="ac"?this.onAuthRevoked_(j.s,j.d):_==="apc"?this.onAppCheckRevoked_(j.s,j.d):_==="sd"?this.onSecurityDebugPacket_(j):error("Unrecognized action received from server: "+stringify(_)+`
Are you using the latest client?`)}onReady_(_,j){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(_),this.lastSessionId=j,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(_){assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(_))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(_){_&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)),this.visible_=_}onOnline_(_){_?(this.log_("Browser went online."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>RECONNECT_DELAY_RESET_TIMEOUT&&(this.reconnectDelay_=RECONNECT_MIN_DELAY),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const _=new Date().getTime()-this.lastConnectionAttemptTime_;let j=Math.max(0,this.reconnectDelay_-_);j=Math.random()*j,this.log_("Trying to reconnect in "+j+"ms"),this.scheduleConnect_(j),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RECONNECT_DELAY_MULTIPLIER)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const _=this.onDataMessage_.bind(this),j=this.onReady_.bind(this),ee=this.onRealtimeDisconnect_.bind(this),re=this.id+":"+PersistentConnection.nextConnectionId_++,le=this.lastSessionId;let de=!1,ge=null;const ve=function(){ge?ge.close():(de=!0,ee())},Ee=function(Ae){assert(ge,"sendRequest call when we're not connected not allowed."),ge.sendRequest(Ae)};this.realtime_={close:ve,sendRequest:Ee};const Ce=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[Ae,Se]=await Promise.all([this.authTokenProvider_.getToken(Ce),this.appCheckTokenProvider_.getToken(Ce)]);de?log("getToken() completed but was canceled"):(log("getToken() completed. Creating connection."),this.authToken_=Ae&&Ae.accessToken,this.appCheckToken_=Se&&Se.token,ge=new Connection(re,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,_,j,ee,ke=>{warn(ke+" ("+this.repoInfo_.toString()+")"),this.interrupt(SERVER_KILL_INTERRUPT_REASON)},le))}catch(Ae){this.log_("Failed to get token: "+Ae),de||(this.repoInfo_.nodeAdmin&&warn(Ae),ve())}}}interrupt(_){log("Interrupting connection for reason: "+_),this.interruptReasons_[_]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(_){log("Resuming connection for reason: "+_),delete this.interruptReasons_[_],isEmpty$1(this.interruptReasons_)&&(this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(_){const j=_-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:j})}cancelSentTransactions_(){for(let _=0;_<this.outstandingPuts_.length;_++){const j=this.outstandingPuts_[_];j&&"h"in j.request&&j.queued&&(j.onComplete&&j.onComplete("disconnect"),delete this.outstandingPuts_[_],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(_,j){let ee;j?ee=j.map(le=>ObjectToUniqueKey(le)).join("$"):ee="default";const re=this.removeListen_(_,ee);re&&re.onComplete&&re.onComplete("permission_denied")}removeListen_(_,j){const ee=new Path(_).toString();let re;if(this.listens.has(ee)){const le=this.listens.get(ee);re=le.get(j),le.delete(j),le.size===0&&this.listens.delete(ee)}else re=void 0;return re}onAuthRevoked_(_,j){log("Auth token revoked: "+_+"/"+j),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(_==="invalid_token"||_==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=INVALID_TOKEN_THRESHOLD&&(this.reconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(_,j){log("App check token revoked: "+_+"/"+j),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(_==="invalid_token"||_==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=INVALID_TOKEN_THRESHOLD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(_){this.securityDebugCallback_?this.securityDebugCallback_(_):"msg"in _&&console.log("FIREBASE: "+_.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const _ of this.listens.values())for(const j of _.values())this.sendListen_(j);for(let _=0;_<this.outstandingPuts_.length;_++)this.outstandingPuts_[_]&&this.sendPut_(_);for(;this.onDisconnectRequestQueue_.length;){const _=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(_.action,_.pathString,_.data,_.onComplete)}for(let _=0;_<this.outstandingGets_.length;_++)this.outstandingGets_[_]&&this.sendGet_(_)}sendConnectStats_(){const _={};let j="js";_["sdk."+j+"."+SDK_VERSION.replace(/\./g,"-")]=1,isMobileCordova()?_["framework.cordova"]=1:isReactNative()&&(_["framework.reactnative"]=1),this.reportStats(_)}shouldReconnect_(){const _=OnlineMonitor.getInstance().currentlyOnline();return isEmpty$1(this.interruptReasons_)&&_}}PersistentConnection.nextPersistentConnectionId_=0;PersistentConnection.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NamedNode{constructor(_,j){this.name=_,this.node=j}static Wrap(_,j){return new NamedNode(_,j)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Index{getCompare(){return this.compare.bind(this)}indexedValueChanged(_,j){const ee=new NamedNode(MIN_NAME,_),re=new NamedNode(MIN_NAME,j);return this.compare(ee,re)!==0}minPost(){return NamedNode.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __EMPTY_NODE;class KeyIndex extends Index{static get __EMPTY_NODE(){return __EMPTY_NODE}static set __EMPTY_NODE(_){__EMPTY_NODE=_}compare(_,j){return nameCompare(_.name,j.name)}isDefinedOn(_){throw assertionError("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(_,j){return!1}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,__EMPTY_NODE)}makePost(_,j){return assert(typeof _=="string","KeyIndex indexValue must always be a string."),new NamedNode(_,__EMPTY_NODE)}toString(){return".key"}}const KEY_INDEX=new KeyIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMapIterator{constructor(_,j,ee,re,le=null){this.isReverse_=re,this.resultGenerator_=le,this.nodeStack_=[];let de=1;for(;!_.isEmpty();)if(_=_,de=j?ee(_.key,j):1,re&&(de*=-1),de<0)this.isReverse_?_=_.left:_=_.right;else if(de===0){this.nodeStack_.push(_);break}else this.nodeStack_.push(_),this.isReverse_?_=_.right:_=_.left}getNext(){if(this.nodeStack_.length===0)return null;let _=this.nodeStack_.pop(),j;if(this.resultGenerator_?j=this.resultGenerator_(_.key,_.value):j={key:_.key,value:_.value},this.isReverse_)for(_=_.left;!_.isEmpty();)this.nodeStack_.push(_),_=_.right;else for(_=_.right;!_.isEmpty();)this.nodeStack_.push(_),_=_.left;return j}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const _=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(_.key,_.value):{key:_.key,value:_.value}}}class LLRBNode{constructor(_,j,ee,re,le){this.key=_,this.value=j,this.color=ee??LLRBNode.RED,this.left=re??SortedMap.EMPTY_NODE,this.right=le??SortedMap.EMPTY_NODE}copy(_,j,ee,re,le){return new LLRBNode(_??this.key,j??this.value,ee??this.color,re??this.left,le??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(_){return this.left.inorderTraversal(_)||!!_(this.key,this.value)||this.right.inorderTraversal(_)}reverseTraversal(_){return this.right.reverseTraversal(_)||_(this.key,this.value)||this.left.reverseTraversal(_)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(_,j,ee){let re=this;const le=ee(_,re.key);return le<0?re=re.copy(null,null,null,re.left.insert(_,j,ee),null):le===0?re=re.copy(null,j,null,null,null):re=re.copy(null,null,null,null,re.right.insert(_,j,ee)),re.fixUp_()}removeMin_(){if(this.left.isEmpty())return SortedMap.EMPTY_NODE;let _=this;return!_.left.isRed_()&&!_.left.left.isRed_()&&(_=_.moveRedLeft_()),_=_.copy(null,null,null,_.left.removeMin_(),null),_.fixUp_()}remove(_,j){let ee,re;if(ee=this,j(_,ee.key)<0)!ee.left.isEmpty()&&!ee.left.isRed_()&&!ee.left.left.isRed_()&&(ee=ee.moveRedLeft_()),ee=ee.copy(null,null,null,ee.left.remove(_,j),null);else{if(ee.left.isRed_()&&(ee=ee.rotateRight_()),!ee.right.isEmpty()&&!ee.right.isRed_()&&!ee.right.left.isRed_()&&(ee=ee.moveRedRight_()),j(_,ee.key)===0){if(ee.right.isEmpty())return SortedMap.EMPTY_NODE;re=ee.right.min_(),ee=ee.copy(re.key,re.value,null,null,ee.right.removeMin_())}ee=ee.copy(null,null,null,null,ee.right.remove(_,j))}return ee.fixUp_()}isRed_(){return this.color}fixUp_(){let _=this;return _.right.isRed_()&&!_.left.isRed_()&&(_=_.rotateLeft_()),_.left.isRed_()&&_.left.left.isRed_()&&(_=_.rotateRight_()),_.left.isRed_()&&_.right.isRed_()&&(_=_.colorFlip_()),_}moveRedLeft_(){let _=this.colorFlip_();return _.right.left.isRed_()&&(_=_.copy(null,null,null,null,_.right.rotateRight_()),_=_.rotateLeft_(),_=_.colorFlip_()),_}moveRedRight_(){let _=this.colorFlip_();return _.left.left.isRed_()&&(_=_.rotateRight_(),_=_.colorFlip_()),_}rotateLeft_(){const _=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,_,null)}rotateRight_(){const _=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,_)}colorFlip_(){const _=this.left.copy(null,null,!this.left.color,null,null),j=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,_,j)}checkMaxDepth_(){const _=this.check_();return Math.pow(2,_)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const _=this.left.check_();if(_!==this.right.check_())throw new Error("Black depths differ");return _+(this.isRed_()?0:1)}}LLRBNode.RED=!0;LLRBNode.BLACK=!1;class LLRBEmptyNode{copy(_,j,ee,re,le){return this}insert(_,j,ee){return new LLRBNode(_,j,null)}remove(_,j){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(_){return!1}reverseTraversal(_){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class SortedMap{constructor(_,j=SortedMap.EMPTY_NODE){this.comparator_=_,this.root_=j}insert(_,j){return new SortedMap(this.comparator_,this.root_.insert(_,j,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}remove(_){return new SortedMap(this.comparator_,this.root_.remove(_,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}get(_){let j,ee=this.root_;for(;!ee.isEmpty();){if(j=this.comparator_(_,ee.key),j===0)return ee.value;j<0?ee=ee.left:j>0&&(ee=ee.right)}return null}getPredecessorKey(_){let j,ee=this.root_,re=null;for(;!ee.isEmpty();)if(j=this.comparator_(_,ee.key),j===0){if(ee.left.isEmpty())return re?re.key:null;for(ee=ee.left;!ee.right.isEmpty();)ee=ee.right;return ee.key}else j<0?ee=ee.left:j>0&&(re=ee,ee=ee.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(_){return this.root_.inorderTraversal(_)}reverseTraversal(_){return this.root_.reverseTraversal(_)}getIterator(_){return new SortedMapIterator(this.root_,null,this.comparator_,!1,_)}getIteratorFrom(_,j){return new SortedMapIterator(this.root_,_,this.comparator_,!1,j)}getReverseIteratorFrom(_,j){return new SortedMapIterator(this.root_,_,this.comparator_,!0,j)}getReverseIterator(_){return new SortedMapIterator(this.root_,null,this.comparator_,!0,_)}}SortedMap.EMPTY_NODE=new LLRBEmptyNode;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NAME_ONLY_COMPARATOR($,_){return nameCompare($.name,_.name)}function NAME_COMPARATOR($,_){return nameCompare($,_)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MAX_NODE$2;function setMaxNode$1($){MAX_NODE$2=$}const priorityHashText=function($){return typeof $=="number"?"number:"+doubleToIEEE754String($):"string:"+$},validatePriorityNode=function($){if($.isLeafNode()){const _=$.val();assert(typeof _=="string"||typeof _=="number"||typeof _=="object"&&contains(_,".sv"),"Priority must be a string or number.")}else assert($===MAX_NODE$2||$.isEmpty(),"priority of unexpected type.");assert($===MAX_NODE$2||$.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __childrenNodeConstructor;class LeafNode{constructor(_,j=LeafNode.__childrenNodeConstructor.EMPTY_NODE){this.value_=_,this.priorityNode_=j,this.lazyHash_=null,assert(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),validatePriorityNode(this.priorityNode_)}static set __childrenNodeConstructor(_){__childrenNodeConstructor=_}static get __childrenNodeConstructor(){return __childrenNodeConstructor}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(_){return new LeafNode(this.value_,_)}getImmediateChild(_){return _===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}getChild(_){return pathIsEmpty(_)?this:pathGetFront(_)===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(_,j){return null}updateImmediateChild(_,j){return _===".priority"?this.updatePriority(j):j.isEmpty()&&_!==".priority"?this:LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(_,j).updatePriority(this.priorityNode_)}updateChild(_,j){const ee=pathGetFront(_);return ee===null?j:j.isEmpty()&&ee!==".priority"?this:(assert(ee!==".priority"||pathGetLength(_)===1,".priority must be the last token in a path"),this.updateImmediateChild(ee,LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateChild(pathPopFront(_),j)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(_,j){return!1}val(_){return _&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let _="";this.priorityNode_.isEmpty()||(_+="priority:"+priorityHashText(this.priorityNode_.val())+":");const j=typeof this.value_;_+=j+":",j==="number"?_+=doubleToIEEE754String(this.value_):_+=this.value_,this.lazyHash_=sha1(_)}return this.lazyHash_}getValue(){return this.value_}compareTo(_){return _===LeafNode.__childrenNodeConstructor.EMPTY_NODE?1:_ instanceof LeafNode.__childrenNodeConstructor?-1:(assert(_.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(_))}compareToLeafNode_(_){const j=typeof _.value_,ee=typeof this.value_,re=LeafNode.VALUE_TYPE_ORDER.indexOf(j),le=LeafNode.VALUE_TYPE_ORDER.indexOf(ee);return assert(re>=0,"Unknown leaf type: "+j),assert(le>=0,"Unknown leaf type: "+ee),re===le?ee==="object"?0:this.value_<_.value_?-1:this.value_===_.value_?0:1:le-re}withIndex(){return this}isIndexed(){return!0}equals(_){if(_===this)return!0;if(_.isLeafNode()){const j=_;return this.value_===j.value_&&this.priorityNode_.equals(j.priorityNode_)}else return!1}}LeafNode.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nodeFromJSON$1,MAX_NODE$1;function setNodeFromJSON($){nodeFromJSON$1=$}function setMaxNode($){MAX_NODE$1=$}class PriorityIndex extends Index{compare(_,j){const ee=_.node.getPriority(),re=j.node.getPriority(),le=ee.compareTo(re);return le===0?nameCompare(_.name,j.name):le}isDefinedOn(_){return!_.getPriority().isEmpty()}indexedValueChanged(_,j){return!_.getPriority().equals(j.getPriority())}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,new LeafNode("[PRIORITY-POST]",MAX_NODE$1))}makePost(_,j){const ee=nodeFromJSON$1(_);return new NamedNode(j,new LeafNode("[PRIORITY-POST]",ee))}toString(){return".priority"}}const PRIORITY_INDEX=new PriorityIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LOG_2=Math.log(2);class Base12Num{constructor(_){const j=le=>parseInt(Math.log(le)/LOG_2,10),ee=le=>parseInt(Array(le+1).join("1"),2);this.count=j(_+1),this.current_=this.count-1;const re=ee(this.count);this.bits_=_+1&re}nextBitIsOne(){const _=!(this.bits_&1<<this.current_);return this.current_--,_}}const buildChildSet=function($,_,j,ee){$.sort(_);const re=function(ve,Ee){const Ce=Ee-ve;let Ae,Se;if(Ce===0)return null;if(Ce===1)return Ae=$[ve],Se=j?j(Ae):Ae,new LLRBNode(Se,Ae.node,LLRBNode.BLACK,null,null);{const ke=parseInt(Ce/2,10)+ve,we=re(ve,ke),Ne=re(ke+1,Ee);return Ae=$[ke],Se=j?j(Ae):Ae,new LLRBNode(Se,Ae.node,LLRBNode.BLACK,we,Ne)}},le=function(ve){let Ee=null,Ce=null,Ae=$.length;const Se=function(we,Ne){const Le=Ae-we,Me=Ae;Ae-=we;const Fe=re(Le+1,Me),xe=$[Le],$e=j?j(xe):xe;ke(new LLRBNode($e,xe.node,Ne,null,Fe))},ke=function(we){Ee?(Ee.left=we,Ee=we):(Ce=we,Ee=we)};for(let we=0;we<ve.count;++we){const Ne=ve.nextBitIsOne(),Le=Math.pow(2,ve.count-(we+1));Ne?Se(Le,LLRBNode.BLACK):(Se(Le,LLRBNode.BLACK),Se(Le,LLRBNode.RED))}return Ce},de=new Base12Num($.length),ge=le(de);return new SortedMap(ee||_,ge)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _defaultIndexMap;const fallbackObject={};class IndexMap{constructor(_,j){this.indexes_=_,this.indexSet_=j}static get Default(){return assert(fallbackObject&&PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),_defaultIndexMap=_defaultIndexMap||new IndexMap({".priority":fallbackObject},{".priority":PRIORITY_INDEX}),_defaultIndexMap}get(_){const j=safeGet(this.indexes_,_);if(!j)throw new Error("No index defined for "+_);return j instanceof SortedMap?j:null}hasIndex(_){return contains(this.indexSet_,_.toString())}addIndex(_,j){assert(_!==KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const ee=[];let re=!1;const le=j.getIterator(NamedNode.Wrap);let de=le.getNext();for(;de;)re=re||_.isDefinedOn(de.node),ee.push(de),de=le.getNext();let ge;re?ge=buildChildSet(ee,_.getCompare()):ge=fallbackObject;const ve=_.toString(),Ee=Object.assign({},this.indexSet_);Ee[ve]=_;const Ce=Object.assign({},this.indexes_);return Ce[ve]=ge,new IndexMap(Ce,Ee)}addToIndexes(_,j){const ee=map(this.indexes_,(re,le)=>{const de=safeGet(this.indexSet_,le);if(assert(de,"Missing index implementation for "+le),re===fallbackObject)if(de.isDefinedOn(_.node)){const ge=[],ve=j.getIterator(NamedNode.Wrap);let Ee=ve.getNext();for(;Ee;)Ee.name!==_.name&&ge.push(Ee),Ee=ve.getNext();return ge.push(_),buildChildSet(ge,de.getCompare())}else return fallbackObject;else{const ge=j.get(_.name);let ve=re;return ge&&(ve=ve.remove(new NamedNode(_.name,ge))),ve.insert(_,_.node)}});return new IndexMap(ee,this.indexSet_)}removeFromIndexes(_,j){const ee=map(this.indexes_,re=>{if(re===fallbackObject)return re;{const le=j.get(_.name);return le?re.remove(new NamedNode(_.name,le)):re}});return new IndexMap(ee,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EMPTY_NODE;class ChildrenNode{constructor(_,j,ee){this.children_=_,this.priorityNode_=j,this.indexMap_=ee,this.lazyHash_=null,this.priorityNode_&&validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return EMPTY_NODE||(EMPTY_NODE=new ChildrenNode(new SortedMap(NAME_COMPARATOR),null,IndexMap.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||EMPTY_NODE}updatePriority(_){return this.children_.isEmpty()?this:new ChildrenNode(this.children_,_,this.indexMap_)}getImmediateChild(_){if(_===".priority")return this.getPriority();{const j=this.children_.get(_);return j===null?EMPTY_NODE:j}}getChild(_){const j=pathGetFront(_);return j===null?this:this.getImmediateChild(j).getChild(pathPopFront(_))}hasChild(_){return this.children_.get(_)!==null}updateImmediateChild(_,j){if(assert(j,"We should always be passing snapshot nodes"),_===".priority")return this.updatePriority(j);{const ee=new NamedNode(_,j);let re,le;j.isEmpty()?(re=this.children_.remove(_),le=this.indexMap_.removeFromIndexes(ee,this.children_)):(re=this.children_.insert(_,j),le=this.indexMap_.addToIndexes(ee,this.children_));const de=re.isEmpty()?EMPTY_NODE:this.priorityNode_;return new ChildrenNode(re,de,le)}}updateChild(_,j){const ee=pathGetFront(_);if(ee===null)return j;{assert(pathGetFront(_)!==".priority"||pathGetLength(_)===1,".priority must be the last token in a path");const re=this.getImmediateChild(ee).updateChild(pathPopFront(_),j);return this.updateImmediateChild(ee,re)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(_){if(this.isEmpty())return null;const j={};let ee=0,re=0,le=!0;if(this.forEachChild(PRIORITY_INDEX,(de,ge)=>{j[de]=ge.val(_),ee++,le&&ChildrenNode.INTEGER_REGEXP_.test(de)?re=Math.max(re,Number(de)):le=!1}),!_&&le&&re<2*ee){const de=[];for(const ge in j)de[ge]=j[ge];return de}else return _&&!this.getPriority().isEmpty()&&(j[".priority"]=this.getPriority().val()),j}hash(){if(this.lazyHash_===null){let _="";this.getPriority().isEmpty()||(_+="priority:"+priorityHashText(this.getPriority().val())+":"),this.forEachChild(PRIORITY_INDEX,(j,ee)=>{const re=ee.hash();re!==""&&(_+=":"+j+":"+re)}),this.lazyHash_=_===""?"":sha1(_)}return this.lazyHash_}getPredecessorChildName(_,j,ee){const re=this.resolveIndex_(ee);if(re){const le=re.getPredecessorKey(new NamedNode(_,j));return le?le.name:null}else return this.children_.getPredecessorKey(_)}getFirstChildName(_){const j=this.resolveIndex_(_);if(j){const ee=j.minKey();return ee&&ee.name}else return this.children_.minKey()}getFirstChild(_){const j=this.getFirstChildName(_);return j?new NamedNode(j,this.children_.get(j)):null}getLastChildName(_){const j=this.resolveIndex_(_);if(j){const ee=j.maxKey();return ee&&ee.name}else return this.children_.maxKey()}getLastChild(_){const j=this.getLastChildName(_);return j?new NamedNode(j,this.children_.get(j)):null}forEachChild(_,j){const ee=this.resolveIndex_(_);return ee?ee.inorderTraversal(re=>j(re.name,re.node)):this.children_.inorderTraversal(j)}getIterator(_){return this.getIteratorFrom(_.minPost(),_)}getIteratorFrom(_,j){const ee=this.resolveIndex_(j);if(ee)return ee.getIteratorFrom(_,re=>re);{const re=this.children_.getIteratorFrom(_.name,NamedNode.Wrap);let le=re.peek();for(;le!=null&&j.compare(le,_)<0;)re.getNext(),le=re.peek();return re}}getReverseIterator(_){return this.getReverseIteratorFrom(_.maxPost(),_)}getReverseIteratorFrom(_,j){const ee=this.resolveIndex_(j);if(ee)return ee.getReverseIteratorFrom(_,re=>re);{const re=this.children_.getReverseIteratorFrom(_.name,NamedNode.Wrap);let le=re.peek();for(;le!=null&&j.compare(le,_)>0;)re.getNext(),le=re.peek();return re}}compareTo(_){return this.isEmpty()?_.isEmpty()?0:-1:_.isLeafNode()||_.isEmpty()?1:_===MAX_NODE?-1:0}withIndex(_){if(_===KEY_INDEX||this.indexMap_.hasIndex(_))return this;{const j=this.indexMap_.addIndex(_,this.children_);return new ChildrenNode(this.children_,this.priorityNode_,j)}}isIndexed(_){return _===KEY_INDEX||this.indexMap_.hasIndex(_)}equals(_){if(_===this)return!0;if(_.isLeafNode())return!1;{const j=_;if(this.getPriority().equals(j.getPriority()))if(this.children_.count()===j.children_.count()){const ee=this.getIterator(PRIORITY_INDEX),re=j.getIterator(PRIORITY_INDEX);let le=ee.getNext(),de=re.getNext();for(;le&&de;){if(le.name!==de.name||!le.node.equals(de.node))return!1;le=ee.getNext(),de=re.getNext()}return le===null&&de===null}else return!1;else return!1}}resolveIndex_(_){return _===KEY_INDEX?null:this.indexMap_.get(_.toString())}}ChildrenNode.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class MaxNode extends ChildrenNode{constructor(){super(new SortedMap(NAME_COMPARATOR),ChildrenNode.EMPTY_NODE,IndexMap.Default)}compareTo(_){return _===this?0:1}equals(_){return _===this}getPriority(){return this}getImmediateChild(_){return ChildrenNode.EMPTY_NODE}isEmpty(){return!1}}const MAX_NODE=new MaxNode;Object.defineProperties(NamedNode,{MIN:{value:new NamedNode(MIN_NAME,ChildrenNode.EMPTY_NODE)},MAX:{value:new NamedNode(MAX_NAME,MAX_NODE)}});KeyIndex.__EMPTY_NODE=ChildrenNode.EMPTY_NODE;LeafNode.__childrenNodeConstructor=ChildrenNode;setMaxNode$1(MAX_NODE);setMaxNode(MAX_NODE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const USE_HINZE=!0;function nodeFromJSON($,_=null){if($===null)return ChildrenNode.EMPTY_NODE;if(typeof $=="object"&&".priority"in $&&(_=$[".priority"]),assert(_===null||typeof _=="string"||typeof _=="number"||typeof _=="object"&&".sv"in _,"Invalid priority type found: "+typeof _),typeof $=="object"&&".value"in $&&$[".value"]!==null&&($=$[".value"]),typeof $!="object"||".sv"in $){const j=$;return new LeafNode(j,nodeFromJSON(_))}if(!($ instanceof Array)&&USE_HINZE){const j=[];let ee=!1;if(each($,(de,ge)=>{if(de.substring(0,1)!=="."){const ve=nodeFromJSON(ge);ve.isEmpty()||(ee=ee||!ve.getPriority().isEmpty(),j.push(new NamedNode(de,ve)))}}),j.length===0)return ChildrenNode.EMPTY_NODE;const le=buildChildSet(j,NAME_ONLY_COMPARATOR,de=>de.name,NAME_COMPARATOR);if(ee){const de=buildChildSet(j,PRIORITY_INDEX.getCompare());return new ChildrenNode(le,nodeFromJSON(_),new IndexMap({".priority":de},{".priority":PRIORITY_INDEX}))}else return new ChildrenNode(le,nodeFromJSON(_),IndexMap.Default)}else{let j=ChildrenNode.EMPTY_NODE;return each($,(ee,re)=>{if(contains($,ee)&&ee.substring(0,1)!=="."){const le=nodeFromJSON(re);(le.isLeafNode()||!le.isEmpty())&&(j=j.updateImmediateChild(ee,le))}}),j.updatePriority(nodeFromJSON(_))}}setNodeFromJSON(nodeFromJSON);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PathIndex extends Index{constructor(_){super(),this.indexPath_=_,assert(!pathIsEmpty(_)&&pathGetFront(_)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(_){return _.getChild(this.indexPath_)}isDefinedOn(_){return!_.getChild(this.indexPath_).isEmpty()}compare(_,j){const ee=this.extractChild(_.node),re=this.extractChild(j.node),le=ee.compareTo(re);return le===0?nameCompare(_.name,j.name):le}makePost(_,j){const ee=nodeFromJSON(_),re=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,ee);return new NamedNode(j,re)}maxPost(){const _=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,MAX_NODE);return new NamedNode(MAX_NAME,_)}toString(){return pathSlice(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ValueIndex extends Index{compare(_,j){const ee=_.node.compareTo(j.node);return ee===0?nameCompare(_.name,j.name):ee}isDefinedOn(_){return!0}indexedValueChanged(_,j){return!_.equals(j)}minPost(){return NamedNode.MIN}maxPost(){return NamedNode.MAX}makePost(_,j){const ee=nodeFromJSON(_);return new NamedNode(j,ee)}toString(){return".value"}}const VALUE_INDEX=new ValueIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function changeValue($){return{type:"value",snapshotNode:$}}function changeChildAdded($,_){return{type:"child_added",snapshotNode:_,childName:$}}function changeChildRemoved($,_){return{type:"child_removed",snapshotNode:_,childName:$}}function changeChildChanged($,_,j){return{type:"child_changed",snapshotNode:_,childName:$,oldSnap:j}}function changeChildMoved($,_){return{type:"child_moved",snapshotNode:_,childName:$}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IndexedFilter{constructor(_){this.index_=_}updateChild(_,j,ee,re,le,de){assert(_.isIndexed(this.index_),"A node must be indexed if only a child is updated");const ge=_.getImmediateChild(j);return ge.getChild(re).equals(ee.getChild(re))&&ge.isEmpty()===ee.isEmpty()||(de!=null&&(ee.isEmpty()?_.hasChild(j)?de.trackChildChange(changeChildRemoved(j,ge)):assert(_.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ge.isEmpty()?de.trackChildChange(changeChildAdded(j,ee)):de.trackChildChange(changeChildChanged(j,ee,ge))),_.isLeafNode()&&ee.isEmpty())?_:_.updateImmediateChild(j,ee).withIndex(this.index_)}updateFullNode(_,j,ee){return ee!=null&&(_.isLeafNode()||_.forEachChild(PRIORITY_INDEX,(re,le)=>{j.hasChild(re)||ee.trackChildChange(changeChildRemoved(re,le))}),j.isLeafNode()||j.forEachChild(PRIORITY_INDEX,(re,le)=>{if(_.hasChild(re)){const de=_.getImmediateChild(re);de.equals(le)||ee.trackChildChange(changeChildChanged(re,le,de))}else ee.trackChildChange(changeChildAdded(re,le))})),j.withIndex(this.index_)}updatePriority(_,j){return _.isEmpty()?ChildrenNode.EMPTY_NODE:_.updatePriority(j)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RangedFilter{constructor(_){this.indexedFilter_=new IndexedFilter(_.getIndex()),this.index_=_.getIndex(),this.startPost_=RangedFilter.getStartPost_(_),this.endPost_=RangedFilter.getEndPost_(_),this.startIsInclusive_=!_.startAfterSet_,this.endIsInclusive_=!_.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(_){const j=this.startIsInclusive_?this.index_.compare(this.getStartPost(),_)<=0:this.index_.compare(this.getStartPost(),_)<0,ee=this.endIsInclusive_?this.index_.compare(_,this.getEndPost())<=0:this.index_.compare(_,this.getEndPost())<0;return j&&ee}updateChild(_,j,ee,re,le,de){return this.matches(new NamedNode(j,ee))||(ee=ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(_,j,ee,re,le,de)}updateFullNode(_,j,ee){j.isLeafNode()&&(j=ChildrenNode.EMPTY_NODE);let re=j.withIndex(this.index_);re=re.updatePriority(ChildrenNode.EMPTY_NODE);const le=this;return j.forEachChild(PRIORITY_INDEX,(de,ge)=>{le.matches(new NamedNode(de,ge))||(re=re.updateImmediateChild(de,ChildrenNode.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(_,re,ee)}updatePriority(_,j){return _}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(_){if(_.hasStart()){const j=_.getIndexStartName();return _.getIndex().makePost(_.getIndexStartValue(),j)}else return _.getIndex().minPost()}static getEndPost_(_){if(_.hasEnd()){const j=_.getIndexEndName();return _.getIndex().makePost(_.getIndexEndValue(),j)}else return _.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LimitedFilter{constructor(_){this.withinDirectionalStart=j=>this.reverse_?this.withinEndPost(j):this.withinStartPost(j),this.withinDirectionalEnd=j=>this.reverse_?this.withinStartPost(j):this.withinEndPost(j),this.withinStartPost=j=>{const ee=this.index_.compare(this.rangedFilter_.getStartPost(),j);return this.startIsInclusive_?ee<=0:ee<0},this.withinEndPost=j=>{const ee=this.index_.compare(j,this.rangedFilter_.getEndPost());return this.endIsInclusive_?ee<=0:ee<0},this.rangedFilter_=new RangedFilter(_),this.index_=_.getIndex(),this.limit_=_.getLimit(),this.reverse_=!_.isViewFromLeft(),this.startIsInclusive_=!_.startAfterSet_,this.endIsInclusive_=!_.endBeforeSet_}updateChild(_,j,ee,re,le,de){return this.rangedFilter_.matches(new NamedNode(j,ee))||(ee=ChildrenNode.EMPTY_NODE),_.getImmediateChild(j).equals(ee)?_:_.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(_,j,ee,re,le,de):this.fullLimitUpdateChild_(_,j,ee,le,de)}updateFullNode(_,j,ee){let re;if(j.isLeafNode()||j.isEmpty())re=ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<j.numChildren()&&j.isIndexed(this.index_)){re=ChildrenNode.EMPTY_NODE.withIndex(this.index_);let le;this.reverse_?le=j.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):le=j.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let de=0;for(;le.hasNext()&&de<this.limit_;){const ge=le.getNext();if(this.withinDirectionalStart(ge))if(this.withinDirectionalEnd(ge))re=re.updateImmediateChild(ge.name,ge.node),de++;else break;else continue}}else{re=j.withIndex(this.index_),re=re.updatePriority(ChildrenNode.EMPTY_NODE);let le;this.reverse_?le=re.getReverseIterator(this.index_):le=re.getIterator(this.index_);let de=0;for(;le.hasNext();){const ge=le.getNext();de<this.limit_&&this.withinDirectionalStart(ge)&&this.withinDirectionalEnd(ge)?de++:re=re.updateImmediateChild(ge.name,ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(_,re,ee)}updatePriority(_,j){return _}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(_,j,ee,re,le){let de;if(this.reverse_){const Ae=this.index_.getCompare();de=(Se,ke)=>Ae(ke,Se)}else de=this.index_.getCompare();const ge=_;assert(ge.numChildren()===this.limit_,"");const ve=new NamedNode(j,ee),Ee=this.reverse_?ge.getFirstChild(this.index_):ge.getLastChild(this.index_),Ce=this.rangedFilter_.matches(ve);if(ge.hasChild(j)){const Ae=ge.getImmediateChild(j);let Se=re.getChildAfterChild(this.index_,Ee,this.reverse_);for(;Se!=null&&(Se.name===j||ge.hasChild(Se.name));)Se=re.getChildAfterChild(this.index_,Se,this.reverse_);const ke=Se==null?1:de(Se,ve);if(Ce&&!ee.isEmpty()&&ke>=0)return le?.trackChildChange(changeChildChanged(j,ee,Ae)),ge.updateImmediateChild(j,ee);{le?.trackChildChange(changeChildRemoved(j,Ae));const Ne=ge.updateImmediateChild(j,ChildrenNode.EMPTY_NODE);return Se!=null&&this.rangedFilter_.matches(Se)?(le?.trackChildChange(changeChildAdded(Se.name,Se.node)),Ne.updateImmediateChild(Se.name,Se.node)):Ne}}else return ee.isEmpty()?_:Ce&&de(Ee,ve)>=0?(le!=null&&(le.trackChildChange(changeChildRemoved(Ee.name,Ee.node)),le.trackChildChange(changeChildAdded(j,ee))),ge.updateImmediateChild(j,ee).updateImmediateChild(Ee.name,ChildrenNode.EMPTY_NODE)):_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryParams{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=PRIORITY_INDEX}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:MIN_NAME}hasEnd(){return this.endSet_}getIndexEndValue(){return assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:MAX_NAME}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return assert(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===PRIORITY_INDEX}copy(){const _=new QueryParams;return _.limitSet_=this.limitSet_,_.limit_=this.limit_,_.startSet_=this.startSet_,_.startAfterSet_=this.startAfterSet_,_.indexStartValue_=this.indexStartValue_,_.startNameSet_=this.startNameSet_,_.indexStartName_=this.indexStartName_,_.endSet_=this.endSet_,_.endBeforeSet_=this.endBeforeSet_,_.indexEndValue_=this.indexEndValue_,_.endNameSet_=this.endNameSet_,_.indexEndName_=this.indexEndName_,_.index_=this.index_,_.viewFrom_=this.viewFrom_,_}}function queryParamsGetNodeFilter($){return $.loadsAllData()?new IndexedFilter($.getIndex()):$.hasLimit()?new LimitedFilter($):new RangedFilter($)}function queryParamsToRestQueryStringParameters($){const _={};if($.isDefault())return _;let j;if($.index_===PRIORITY_INDEX?j="$priority":$.index_===VALUE_INDEX?j="$value":$.index_===KEY_INDEX?j="$key":(assert($.index_ instanceof PathIndex,"Unrecognized index type!"),j=$.index_.toString()),_.orderBy=stringify(j),$.startSet_){const ee=$.startAfterSet_?"startAfter":"startAt";_[ee]=stringify($.indexStartValue_),$.startNameSet_&&(_[ee]+=","+stringify($.indexStartName_))}if($.endSet_){const ee=$.endBeforeSet_?"endBefore":"endAt";_[ee]=stringify($.indexEndValue_),$.endNameSet_&&(_[ee]+=","+stringify($.indexEndName_))}return $.limitSet_&&($.isViewFromLeft()?_.limitToFirst=$.limit_:_.limitToLast=$.limit_),_}function queryParamsGetQueryObject($){const _={};if($.startSet_&&(_.sp=$.indexStartValue_,$.startNameSet_&&(_.sn=$.indexStartName_),_.sin=!$.startAfterSet_),$.endSet_&&(_.ep=$.indexEndValue_,$.endNameSet_&&(_.en=$.indexEndName_),_.ein=!$.endBeforeSet_),$.limitSet_){_.l=$.limit_;let j=$.viewFrom_;j===""&&($.isViewFromLeft()?j="l":j="r"),_.vf=j}return $.index_!==PRIORITY_INDEX&&(_.i=$.index_.toString()),_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ReadonlyRestClient extends ServerActions{constructor(_,j,ee,re){super(),this.repoInfo_=_,this.onDataUpdate_=j,this.authTokenProvider_=ee,this.appCheckTokenProvider_=re,this.log_=logWrapper("p:rest:"),this.listens_={}}reportStats(_){throw new Error("Method not implemented.")}static getListenId_(_,j){return j!==void 0?"tag$"+j:(assert(_._queryParams.isDefault(),"should have a tag if it's not a default query."),_._path.toString())}listen(_,j,ee,re){const le=_._path.toString();this.log_("Listen called for "+le+" "+_._queryIdentifier);const de=ReadonlyRestClient.getListenId_(_,ee),ge={};this.listens_[de]=ge;const ve=queryParamsToRestQueryStringParameters(_._queryParams);this.restRequest_(le+".json",ve,(Ee,Ce)=>{let Ae=Ce;if(Ee===404&&(Ae=null,Ee=null),Ee===null&&this.onDataUpdate_(le,Ae,!1,ee),safeGet(this.listens_,de)===ge){let Se;Ee?Ee===401?Se="permission_denied":Se="rest_error:"+Ee:Se="ok",re(Se,null)}})}unlisten(_,j){const ee=ReadonlyRestClient.getListenId_(_,j);delete this.listens_[ee]}get(_){const j=queryParamsToRestQueryStringParameters(_._queryParams),ee=_._path.toString(),re=new Deferred;return this.restRequest_(ee+".json",j,(le,de)=>{let ge=de;le===404&&(ge=null,le=null),le===null?(this.onDataUpdate_(ee,ge,!1,null),re.resolve(ge)):re.reject(new Error(ge))}),re.promise}refreshAuthToken(_){}restRequest_(_,j={},ee){return j.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([re,le])=>{re&&re.accessToken&&(j.auth=re.accessToken),le&&le.token&&(j.ac=le.token);const de=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+_+"?ns="+this.repoInfo_.namespace+querystring(j);this.log_("Sending REST request for "+de);const ge=new XMLHttpRequest;ge.onreadystatechange=()=>{if(ee&&ge.readyState===4){this.log_("REST Response for "+de+" received. status:",ge.status,"response:",ge.responseText);let ve=null;if(ge.status>=200&&ge.status<300){try{ve=jsonEval(ge.responseText)}catch{warn("Failed to parse JSON response for "+de+": "+ge.responseText)}ee(null,ve)}else ge.status!==401&&ge.status!==404&&warn("Got unsuccessful REST response for "+de+" Status: "+ge.status),ee(ge.status);ee=null}},ge.open("GET",de,!0),ge.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotHolder{constructor(){this.rootNode_=ChildrenNode.EMPTY_NODE}getNode(_){return this.rootNode_.getChild(_)}updateSnapshot(_,j){this.rootNode_=this.rootNode_.updateChild(_,j)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newSparseSnapshotTree(){return{value:null,children:new Map}}function sparseSnapshotTreeRemember($,_,j){if(pathIsEmpty(_))$.value=j,$.children.clear();else if($.value!==null)$.value=$.value.updateChild(_,j);else{const ee=pathGetFront(_);$.children.has(ee)||$.children.set(ee,newSparseSnapshotTree());const re=$.children.get(ee);_=pathPopFront(_),sparseSnapshotTreeRemember(re,_,j)}}function sparseSnapshotTreeForEachTree($,_,j){$.value!==null?j(_,$.value):sparseSnapshotTreeForEachChild($,(ee,re)=>{const le=new Path(_.toString()+"/"+ee);sparseSnapshotTreeForEachTree(re,le,j)})}function sparseSnapshotTreeForEachChild($,_){$.children.forEach((j,ee)=>{_(ee,j)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsListener{constructor(_){this.collection_=_,this.last_=null}get(){const _=this.collection_.get(),j=Object.assign({},_);return this.last_&&each(this.last_,(ee,re)=>{j[ee]=j[ee]-re}),this.last_=_,j}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIRST_STATS_MIN_TIME=10*1e3,FIRST_STATS_MAX_TIME=30*1e3,REPORT_STATS_INTERVAL=5*60*1e3;class StatsReporter{constructor(_,j){this.server_=j,this.statsToReport_={},this.statsListener_=new StatsListener(_);const ee=FIRST_STATS_MIN_TIME+(FIRST_STATS_MAX_TIME-FIRST_STATS_MIN_TIME)*Math.random();setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(ee))}reportStats_(){const _=this.statsListener_.get(),j={};let ee=!1;each(_,(re,le)=>{le>0&&contains(this.statsToReport_,re)&&(j[re]=le,ee=!0)}),ee&&this.server_.reportStats(j),setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(Math.random()*2*REPORT_STATS_INTERVAL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OperationType;(function($){$[$.OVERWRITE=0]="OVERWRITE",$[$.MERGE=1]="MERGE",$[$.ACK_USER_WRITE=2]="ACK_USER_WRITE",$[$.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(OperationType||(OperationType={}));function newOperationSourceUser(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function newOperationSourceServer(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function newOperationSourceServerTaggedQuery($){return{fromUser:!1,fromServer:!0,queryId:$,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AckUserWrite{constructor(_,j,ee){this.path=_,this.affectedTree=j,this.revert=ee,this.type=OperationType.ACK_USER_WRITE,this.source=newOperationSourceUser()}operationForChild(_){if(pathIsEmpty(this.path)){if(this.affectedTree.value!=null)return assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const j=this.affectedTree.subtree(new Path(_));return new AckUserWrite(newEmptyPath(),j,this.revert)}}else return assert(pathGetFront(this.path)===_,"operationForChild called for unrelated child."),new AckUserWrite(pathPopFront(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ListenComplete{constructor(_,j){this.source=_,this.path=j,this.type=OperationType.LISTEN_COMPLETE}operationForChild(_){return pathIsEmpty(this.path)?new ListenComplete(this.source,newEmptyPath()):new ListenComplete(this.source,pathPopFront(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overwrite{constructor(_,j,ee){this.source=_,this.path=j,this.snap=ee,this.type=OperationType.OVERWRITE}operationForChild(_){return pathIsEmpty(this.path)?new Overwrite(this.source,newEmptyPath(),this.snap.getImmediateChild(_)):new Overwrite(this.source,pathPopFront(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Merge{constructor(_,j,ee){this.source=_,this.path=j,this.children=ee,this.type=OperationType.MERGE}operationForChild(_){if(pathIsEmpty(this.path)){const j=this.children.subtree(new Path(_));return j.isEmpty()?null:j.value?new Overwrite(this.source,newEmptyPath(),j.value):new Merge(this.source,newEmptyPath(),j)}else return assert(pathGetFront(this.path)===_,"Can't get a merge for a child not on the path of the operation"),new Merge(this.source,pathPopFront(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CacheNode{constructor(_,j,ee){this.node_=_,this.fullyInitialized_=j,this.filtered_=ee}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(_){if(pathIsEmpty(_))return this.isFullyInitialized()&&!this.filtered_;const j=pathGetFront(_);return this.isCompleteForChild(j)}isCompleteForChild(_){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(_)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventGenerator{constructor(_){this.query_=_,this.index_=this.query_._queryParams.getIndex()}}function eventGeneratorGenerateEventsForChanges($,_,j,ee){const re=[],le=[];return _.forEach(de=>{de.type==="child_changed"&&$.index_.indexedValueChanged(de.oldSnap,de.snapshotNode)&&le.push(changeChildMoved(de.childName,de.snapshotNode))}),eventGeneratorGenerateEventsForType($,re,"child_removed",_,ee,j),eventGeneratorGenerateEventsForType($,re,"child_added",_,ee,j),eventGeneratorGenerateEventsForType($,re,"child_moved",le,ee,j),eventGeneratorGenerateEventsForType($,re,"child_changed",_,ee,j),eventGeneratorGenerateEventsForType($,re,"value",_,ee,j),re}function eventGeneratorGenerateEventsForType($,_,j,ee,re,le){const de=ee.filter(ge=>ge.type===j);de.sort((ge,ve)=>eventGeneratorCompareChanges($,ge,ve)),de.forEach(ge=>{const ve=eventGeneratorMaterializeSingleChange($,ge,le);re.forEach(Ee=>{Ee.respondsTo(ge.type)&&_.push(Ee.createEvent(ve,$.query_))})})}function eventGeneratorMaterializeSingleChange($,_,j){return _.type==="value"||_.type==="child_removed"||(_.prevName=j.getPredecessorChildName(_.childName,_.snapshotNode,$.index_)),_}function eventGeneratorCompareChanges($,_,j){if(_.childName==null||j.childName==null)throw assertionError("Should only compare child_ events.");const ee=new NamedNode(_.childName,_.snapshotNode),re=new NamedNode(j.childName,j.snapshotNode);return $.index_.compare(ee,re)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewCache($,_){return{eventCache:$,serverCache:_}}function viewCacheUpdateEventSnap($,_,j,ee){return newViewCache(new CacheNode(_,j,ee),$.serverCache)}function viewCacheUpdateServerSnap($,_,j,ee){return newViewCache($.eventCache,new CacheNode(_,j,ee))}function viewCacheGetCompleteEventSnap($){return $.eventCache.isFullyInitialized()?$.eventCache.getNode():null}function viewCacheGetCompleteServerSnap($){return $.serverCache.isFullyInitialized()?$.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let emptyChildrenSingleton;const EmptyChildren=()=>(emptyChildrenSingleton||(emptyChildrenSingleton=new SortedMap(stringCompare)),emptyChildrenSingleton);class ImmutableTree{constructor(_,j=EmptyChildren()){this.value=_,this.children=j}static fromObject(_){let j=new ImmutableTree(null);return each(_,(ee,re)=>{j=j.set(new Path(ee),re)}),j}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(_,j){if(this.value!=null&&j(this.value))return{path:newEmptyPath(),value:this.value};if(pathIsEmpty(_))return null;{const ee=pathGetFront(_),re=this.children.get(ee);if(re!==null){const le=re.findRootMostMatchingPathAndValue(pathPopFront(_),j);return le!=null?{path:pathChild(new Path(ee),le.path),value:le.value}:null}else return null}}findRootMostValueAndPath(_){return this.findRootMostMatchingPathAndValue(_,()=>!0)}subtree(_){if(pathIsEmpty(_))return this;{const j=pathGetFront(_),ee=this.children.get(j);return ee!==null?ee.subtree(pathPopFront(_)):new ImmutableTree(null)}}set(_,j){if(pathIsEmpty(_))return new ImmutableTree(j,this.children);{const ee=pathGetFront(_),le=(this.children.get(ee)||new ImmutableTree(null)).set(pathPopFront(_),j),de=this.children.insert(ee,le);return new ImmutableTree(this.value,de)}}remove(_){if(pathIsEmpty(_))return this.children.isEmpty()?new ImmutableTree(null):new ImmutableTree(null,this.children);{const j=pathGetFront(_),ee=this.children.get(j);if(ee){const re=ee.remove(pathPopFront(_));let le;return re.isEmpty()?le=this.children.remove(j):le=this.children.insert(j,re),this.value===null&&le.isEmpty()?new ImmutableTree(null):new ImmutableTree(this.value,le)}else return this}}get(_){if(pathIsEmpty(_))return this.value;{const j=pathGetFront(_),ee=this.children.get(j);return ee?ee.get(pathPopFront(_)):null}}setTree(_,j){if(pathIsEmpty(_))return j;{const ee=pathGetFront(_),le=(this.children.get(ee)||new ImmutableTree(null)).setTree(pathPopFront(_),j);let de;return le.isEmpty()?de=this.children.remove(ee):de=this.children.insert(ee,le),new ImmutableTree(this.value,de)}}fold(_){return this.fold_(newEmptyPath(),_)}fold_(_,j){const ee={};return this.children.inorderTraversal((re,le)=>{ee[re]=le.fold_(pathChild(_,re),j)}),j(_,this.value,ee)}findOnPath(_,j){return this.findOnPath_(_,newEmptyPath(),j)}findOnPath_(_,j,ee){const re=this.value?ee(j,this.value):!1;if(re)return re;if(pathIsEmpty(_))return null;{const le=pathGetFront(_),de=this.children.get(le);return de?de.findOnPath_(pathPopFront(_),pathChild(j,le),ee):null}}foreachOnPath(_,j){return this.foreachOnPath_(_,newEmptyPath(),j)}foreachOnPath_(_,j,ee){if(pathIsEmpty(_))return this;{this.value&&ee(j,this.value);const re=pathGetFront(_),le=this.children.get(re);return le?le.foreachOnPath_(pathPopFront(_),pathChild(j,re),ee):new ImmutableTree(null)}}foreach(_){this.foreach_(newEmptyPath(),_)}foreach_(_,j){this.children.inorderTraversal((ee,re)=>{re.foreach_(pathChild(_,ee),j)}),this.value&&j(_,this.value)}foreachChild(_){this.children.inorderTraversal((j,ee)=>{ee.value&&_(j,ee.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CompoundWrite{constructor(_){this.writeTree_=_}static empty(){return new CompoundWrite(new ImmutableTree(null))}}function compoundWriteAddWrite($,_,j){if(pathIsEmpty(_))return new CompoundWrite(new ImmutableTree(j));{const ee=$.writeTree_.findRootMostValueAndPath(_);if(ee!=null){const re=ee.path;let le=ee.value;const de=newRelativePath(re,_);return le=le.updateChild(de,j),new CompoundWrite($.writeTree_.set(re,le))}else{const re=new ImmutableTree(j),le=$.writeTree_.setTree(_,re);return new CompoundWrite(le)}}}function compoundWriteAddWrites($,_,j){let ee=$;return each(j,(re,le)=>{ee=compoundWriteAddWrite(ee,pathChild(_,re),le)}),ee}function compoundWriteRemoveWrite($,_){if(pathIsEmpty(_))return CompoundWrite.empty();{const j=$.writeTree_.setTree(_,new ImmutableTree(null));return new CompoundWrite(j)}}function compoundWriteHasCompleteWrite($,_){return compoundWriteGetCompleteNode($,_)!=null}function compoundWriteGetCompleteNode($,_){const j=$.writeTree_.findRootMostValueAndPath(_);return j!=null?$.writeTree_.get(j.path).getChild(newRelativePath(j.path,_)):null}function compoundWriteGetCompleteChildren($){const _=[],j=$.writeTree_.value;return j!=null?j.isLeafNode()||j.forEachChild(PRIORITY_INDEX,(ee,re)=>{_.push(new NamedNode(ee,re))}):$.writeTree_.children.inorderTraversal((ee,re)=>{re.value!=null&&_.push(new NamedNode(ee,re.value))}),_}function compoundWriteChildCompoundWrite($,_){if(pathIsEmpty(_))return $;{const j=compoundWriteGetCompleteNode($,_);return j!=null?new CompoundWrite(new ImmutableTree(j)):new CompoundWrite($.writeTree_.subtree(_))}}function compoundWriteIsEmpty($){return $.writeTree_.isEmpty()}function compoundWriteApply($,_){return applySubtreeWrite(newEmptyPath(),$.writeTree_,_)}function applySubtreeWrite($,_,j){if(_.value!=null)return j.updateChild($,_.value);{let ee=null;return _.children.inorderTraversal((re,le)=>{re===".priority"?(assert(le.value!==null,"Priority writes must always be leaf nodes"),ee=le.value):j=applySubtreeWrite(pathChild($,re),le,j)}),!j.getChild($).isEmpty()&&ee!==null&&(j=j.updateChild(pathChild($,".priority"),ee)),j}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function writeTreeChildWrites($,_){return newWriteTreeRef(_,$)}function writeTreeAddOverwrite($,_,j,ee,re){assert(ee>$.lastWriteId,"Stacking an older write on top of newer ones"),re===void 0&&(re=!0),$.allWrites.push({path:_,snap:j,writeId:ee,visible:re}),re&&($.visibleWrites=compoundWriteAddWrite($.visibleWrites,_,j)),$.lastWriteId=ee}function writeTreeGetWrite($,_){for(let j=0;j<$.allWrites.length;j++){const ee=$.allWrites[j];if(ee.writeId===_)return ee}return null}function writeTreeRemoveWrite($,_){const j=$.allWrites.findIndex(ge=>ge.writeId===_);assert(j>=0,"removeWrite called with nonexistent writeId.");const ee=$.allWrites[j];$.allWrites.splice(j,1);let re=ee.visible,le=!1,de=$.allWrites.length-1;for(;re&&de>=0;){const ge=$.allWrites[de];ge.visible&&(de>=j&&writeTreeRecordContainsPath_(ge,ee.path)?re=!1:pathContains(ee.path,ge.path)&&(le=!0)),de--}if(re){if(le)return writeTreeResetTree_($),!0;if(ee.snap)$.visibleWrites=compoundWriteRemoveWrite($.visibleWrites,ee.path);else{const ge=ee.children;each(ge,ve=>{$.visibleWrites=compoundWriteRemoveWrite($.visibleWrites,pathChild(ee.path,ve))})}return!0}else return!1}function writeTreeRecordContainsPath_($,_){if($.snap)return pathContains($.path,_);for(const j in $.children)if($.children.hasOwnProperty(j)&&pathContains(pathChild($.path,j),_))return!0;return!1}function writeTreeResetTree_($){$.visibleWrites=writeTreeLayerTree_($.allWrites,writeTreeDefaultFilter_,newEmptyPath()),$.allWrites.length>0?$.lastWriteId=$.allWrites[$.allWrites.length-1].writeId:$.lastWriteId=-1}function writeTreeDefaultFilter_($){return $.visible}function writeTreeLayerTree_($,_,j){let ee=CompoundWrite.empty();for(let re=0;re<$.length;++re){const le=$[re];if(_(le)){const de=le.path;let ge;if(le.snap)pathContains(j,de)?(ge=newRelativePath(j,de),ee=compoundWriteAddWrite(ee,ge,le.snap)):pathContains(de,j)&&(ge=newRelativePath(de,j),ee=compoundWriteAddWrite(ee,newEmptyPath(),le.snap.getChild(ge)));else if(le.children){if(pathContains(j,de))ge=newRelativePath(j,de),ee=compoundWriteAddWrites(ee,ge,le.children);else if(pathContains(de,j))if(ge=newRelativePath(de,j),pathIsEmpty(ge))ee=compoundWriteAddWrites(ee,newEmptyPath(),le.children);else{const ve=safeGet(le.children,pathGetFront(ge));if(ve){const Ee=ve.getChild(pathPopFront(ge));ee=compoundWriteAddWrite(ee,newEmptyPath(),Ee)}}}else throw assertionError("WriteRecord should have .snap or .children")}}return ee}function writeTreeCalcCompleteEventCache($,_,j,ee,re){if(!ee&&!re){const le=compoundWriteGetCompleteNode($.visibleWrites,_);if(le!=null)return le;{const de=compoundWriteChildCompoundWrite($.visibleWrites,_);if(compoundWriteIsEmpty(de))return j;if(j==null&&!compoundWriteHasCompleteWrite(de,newEmptyPath()))return null;{const ge=j||ChildrenNode.EMPTY_NODE;return compoundWriteApply(de,ge)}}}else{const le=compoundWriteChildCompoundWrite($.visibleWrites,_);if(!re&&compoundWriteIsEmpty(le))return j;if(!re&&j==null&&!compoundWriteHasCompleteWrite(le,newEmptyPath()))return null;{const de=function(Ee){return(Ee.visible||re)&&(!ee||!~ee.indexOf(Ee.writeId))&&(pathContains(Ee.path,_)||pathContains(_,Ee.path))},ge=writeTreeLayerTree_($.allWrites,de,_),ve=j||ChildrenNode.EMPTY_NODE;return compoundWriteApply(ge,ve)}}}function writeTreeCalcCompleteEventChildren($,_,j){let ee=ChildrenNode.EMPTY_NODE;const re=compoundWriteGetCompleteNode($.visibleWrites,_);if(re)return re.isLeafNode()||re.forEachChild(PRIORITY_INDEX,(le,de)=>{ee=ee.updateImmediateChild(le,de)}),ee;if(j){const le=compoundWriteChildCompoundWrite($.visibleWrites,_);return j.forEachChild(PRIORITY_INDEX,(de,ge)=>{const ve=compoundWriteApply(compoundWriteChildCompoundWrite(le,new Path(de)),ge);ee=ee.updateImmediateChild(de,ve)}),compoundWriteGetCompleteChildren(le).forEach(de=>{ee=ee.updateImmediateChild(de.name,de.node)}),ee}else{const le=compoundWriteChildCompoundWrite($.visibleWrites,_);return compoundWriteGetCompleteChildren(le).forEach(de=>{ee=ee.updateImmediateChild(de.name,de.node)}),ee}}function writeTreeCalcEventCacheAfterServerOverwrite($,_,j,ee,re){assert(ee||re,"Either existingEventSnap or existingServerSnap must exist");const le=pathChild(_,j);if(compoundWriteHasCompleteWrite($.visibleWrites,le))return null;{const de=compoundWriteChildCompoundWrite($.visibleWrites,le);return compoundWriteIsEmpty(de)?re.getChild(j):compoundWriteApply(de,re.getChild(j))}}function writeTreeCalcCompleteChild($,_,j,ee){const re=pathChild(_,j),le=compoundWriteGetCompleteNode($.visibleWrites,re);if(le!=null)return le;if(ee.isCompleteForChild(j)){const de=compoundWriteChildCompoundWrite($.visibleWrites,re);return compoundWriteApply(de,ee.getNode().getImmediateChild(j))}else return null}function writeTreeShadowingWrite($,_){return compoundWriteGetCompleteNode($.visibleWrites,_)}function writeTreeCalcIndexedSlice($,_,j,ee,re,le,de){let ge;const ve=compoundWriteChildCompoundWrite($.visibleWrites,_),Ee=compoundWriteGetCompleteNode(ve,newEmptyPath());if(Ee!=null)ge=Ee;else if(j!=null)ge=compoundWriteApply(ve,j);else return[];if(ge=ge.withIndex(de),!ge.isEmpty()&&!ge.isLeafNode()){const Ce=[],Ae=de.getCompare(),Se=le?ge.getReverseIteratorFrom(ee,de):ge.getIteratorFrom(ee,de);let ke=Se.getNext();for(;ke&&Ce.length<re;)Ae(ke,ee)!==0&&Ce.push(ke),ke=Se.getNext();return Ce}else return[]}function newWriteTree(){return{visibleWrites:CompoundWrite.empty(),allWrites:[],lastWriteId:-1}}function writeTreeRefCalcCompleteEventCache($,_,j,ee){return writeTreeCalcCompleteEventCache($.writeTree,$.treePath,_,j,ee)}function writeTreeRefCalcCompleteEventChildren($,_){return writeTreeCalcCompleteEventChildren($.writeTree,$.treePath,_)}function writeTreeRefCalcEventCacheAfterServerOverwrite($,_,j,ee){return writeTreeCalcEventCacheAfterServerOverwrite($.writeTree,$.treePath,_,j,ee)}function writeTreeRefShadowingWrite($,_){return writeTreeShadowingWrite($.writeTree,pathChild($.treePath,_))}function writeTreeRefCalcIndexedSlice($,_,j,ee,re,le){return writeTreeCalcIndexedSlice($.writeTree,$.treePath,_,j,ee,re,le)}function writeTreeRefCalcCompleteChild($,_,j){return writeTreeCalcCompleteChild($.writeTree,$.treePath,_,j)}function writeTreeRefChild($,_){return newWriteTreeRef(pathChild($.treePath,_),$.writeTree)}function newWriteTreeRef($,_){return{treePath:$,writeTree:_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ChildChangeAccumulator{constructor(){this.changeMap=new Map}trackChildChange(_){const j=_.type,ee=_.childName;assert(j==="child_added"||j==="child_changed"||j==="child_removed","Only child changes supported for tracking"),assert(ee!==".priority","Only non-priority child changes can be tracked.");const re=this.changeMap.get(ee);if(re){const le=re.type;if(j==="child_added"&&le==="child_removed")this.changeMap.set(ee,changeChildChanged(ee,_.snapshotNode,re.snapshotNode));else if(j==="child_removed"&&le==="child_added")this.changeMap.delete(ee);else if(j==="child_removed"&&le==="child_changed")this.changeMap.set(ee,changeChildRemoved(ee,re.oldSnap));else if(j==="child_changed"&&le==="child_added")this.changeMap.set(ee,changeChildAdded(ee,_.snapshotNode));else if(j==="child_changed"&&le==="child_changed")this.changeMap.set(ee,changeChildChanged(ee,_.snapshotNode,re.oldSnap));else throw assertionError("Illegal combination of changes: "+_+" occurred after "+re)}else this.changeMap.set(ee,_)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NoCompleteChildSource_{getCompleteChild(_){return null}getChildAfterChild(_,j,ee){return null}}const NO_COMPLETE_CHILD_SOURCE=new NoCompleteChildSource_;class WriteTreeCompleteChildSource{constructor(_,j,ee=null){this.writes_=_,this.viewCache_=j,this.optCompleteServerCache_=ee}getCompleteChild(_){const j=this.viewCache_.eventCache;if(j.isCompleteForChild(_))return j.getNode().getImmediateChild(_);{const ee=this.optCompleteServerCache_!=null?new CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return writeTreeRefCalcCompleteChild(this.writes_,_,ee)}}getChildAfterChild(_,j,ee){const re=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:viewCacheGetCompleteServerSnap(this.viewCache_),le=writeTreeRefCalcIndexedSlice(this.writes_,re,j,1,ee,_);return le.length===0?null:le[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewProcessor($){return{filter:$}}function viewProcessorAssertIndexed($,_){assert(_.eventCache.getNode().isIndexed($.filter.getIndex()),"Event snap not indexed"),assert(_.serverCache.getNode().isIndexed($.filter.getIndex()),"Server snap not indexed")}function viewProcessorApplyOperation($,_,j,ee,re){const le=new ChildChangeAccumulator;let de,ge;if(j.type===OperationType.OVERWRITE){const Ee=j;Ee.source.fromUser?de=viewProcessorApplyUserOverwrite($,_,Ee.path,Ee.snap,ee,re,le):(assert(Ee.source.fromServer,"Unknown source."),ge=Ee.source.tagged||_.serverCache.isFiltered()&&!pathIsEmpty(Ee.path),de=viewProcessorApplyServerOverwrite($,_,Ee.path,Ee.snap,ee,re,ge,le))}else if(j.type===OperationType.MERGE){const Ee=j;Ee.source.fromUser?de=viewProcessorApplyUserMerge($,_,Ee.path,Ee.children,ee,re,le):(assert(Ee.source.fromServer,"Unknown source."),ge=Ee.source.tagged||_.serverCache.isFiltered(),de=viewProcessorApplyServerMerge($,_,Ee.path,Ee.children,ee,re,ge,le))}else if(j.type===OperationType.ACK_USER_WRITE){const Ee=j;Ee.revert?de=viewProcessorRevertUserWrite($,_,Ee.path,ee,re,le):de=viewProcessorAckUserWrite($,_,Ee.path,Ee.affectedTree,ee,re,le)}else if(j.type===OperationType.LISTEN_COMPLETE)de=viewProcessorListenComplete($,_,j.path,ee,le);else throw assertionError("Unknown operation type: "+j.type);const ve=le.getChanges();return viewProcessorMaybeAddValueEvent(_,de,ve),{viewCache:de,changes:ve}}function viewProcessorMaybeAddValueEvent($,_,j){const ee=_.eventCache;if(ee.isFullyInitialized()){const re=ee.getNode().isLeafNode()||ee.getNode().isEmpty(),le=viewCacheGetCompleteEventSnap($);(j.length>0||!$.eventCache.isFullyInitialized()||re&&!ee.getNode().equals(le)||!ee.getNode().getPriority().equals(le.getPriority()))&&j.push(changeValue(viewCacheGetCompleteEventSnap(_)))}}function viewProcessorGenerateEventCacheAfterServerEvent($,_,j,ee,re,le){const de=_.eventCache;if(writeTreeRefShadowingWrite(ee,j)!=null)return _;{let ge,ve;if(pathIsEmpty(j))if(assert(_.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),_.serverCache.isFiltered()){const Ee=viewCacheGetCompleteServerSnap(_),Ce=Ee instanceof ChildrenNode?Ee:ChildrenNode.EMPTY_NODE,Ae=writeTreeRefCalcCompleteEventChildren(ee,Ce);ge=$.filter.updateFullNode(_.eventCache.getNode(),Ae,le)}else{const Ee=writeTreeRefCalcCompleteEventCache(ee,viewCacheGetCompleteServerSnap(_));ge=$.filter.updateFullNode(_.eventCache.getNode(),Ee,le)}else{const Ee=pathGetFront(j);if(Ee===".priority"){assert(pathGetLength(j)===1,"Can't have a priority with additional path components");const Ce=de.getNode();ve=_.serverCache.getNode();const Ae=writeTreeRefCalcEventCacheAfterServerOverwrite(ee,j,Ce,ve);Ae!=null?ge=$.filter.updatePriority(Ce,Ae):ge=de.getNode()}else{const Ce=pathPopFront(j);let Ae;if(de.isCompleteForChild(Ee)){ve=_.serverCache.getNode();const Se=writeTreeRefCalcEventCacheAfterServerOverwrite(ee,j,de.getNode(),ve);Se!=null?Ae=de.getNode().getImmediateChild(Ee).updateChild(Ce,Se):Ae=de.getNode().getImmediateChild(Ee)}else Ae=writeTreeRefCalcCompleteChild(ee,Ee,_.serverCache);Ae!=null?ge=$.filter.updateChild(de.getNode(),Ee,Ae,Ce,re,le):ge=de.getNode()}}return viewCacheUpdateEventSnap(_,ge,de.isFullyInitialized()||pathIsEmpty(j),$.filter.filtersNodes())}}function viewProcessorApplyServerOverwrite($,_,j,ee,re,le,de,ge){const ve=_.serverCache;let Ee;const Ce=de?$.filter:$.filter.getIndexedFilter();if(pathIsEmpty(j))Ee=Ce.updateFullNode(ve.getNode(),ee,null);else if(Ce.filtersNodes()&&!ve.isFiltered()){const ke=ve.getNode().updateChild(j,ee);Ee=Ce.updateFullNode(ve.getNode(),ke,null)}else{const ke=pathGetFront(j);if(!ve.isCompleteForPath(j)&&pathGetLength(j)>1)return _;const we=pathPopFront(j),Le=ve.getNode().getImmediateChild(ke).updateChild(we,ee);ke===".priority"?Ee=Ce.updatePriority(ve.getNode(),Le):Ee=Ce.updateChild(ve.getNode(),ke,Le,we,NO_COMPLETE_CHILD_SOURCE,null)}const Ae=viewCacheUpdateServerSnap(_,Ee,ve.isFullyInitialized()||pathIsEmpty(j),Ce.filtersNodes()),Se=new WriteTreeCompleteChildSource(re,Ae,le);return viewProcessorGenerateEventCacheAfterServerEvent($,Ae,j,re,Se,ge)}function viewProcessorApplyUserOverwrite($,_,j,ee,re,le,de){const ge=_.eventCache;let ve,Ee;const Ce=new WriteTreeCompleteChildSource(re,_,le);if(pathIsEmpty(j))Ee=$.filter.updateFullNode(_.eventCache.getNode(),ee,de),ve=viewCacheUpdateEventSnap(_,Ee,!0,$.filter.filtersNodes());else{const Ae=pathGetFront(j);if(Ae===".priority")Ee=$.filter.updatePriority(_.eventCache.getNode(),ee),ve=viewCacheUpdateEventSnap(_,Ee,ge.isFullyInitialized(),ge.isFiltered());else{const Se=pathPopFront(j),ke=ge.getNode().getImmediateChild(Ae);let we;if(pathIsEmpty(Se))we=ee;else{const Ne=Ce.getCompleteChild(Ae);Ne!=null?pathGetBack(Se)===".priority"&&Ne.getChild(pathParent(Se)).isEmpty()?we=Ne:we=Ne.updateChild(Se,ee):we=ChildrenNode.EMPTY_NODE}if(ke.equals(we))ve=_;else{const Ne=$.filter.updateChild(ge.getNode(),Ae,we,Se,Ce,de);ve=viewCacheUpdateEventSnap(_,Ne,ge.isFullyInitialized(),$.filter.filtersNodes())}}}return ve}function viewProcessorCacheHasChild($,_){return $.eventCache.isCompleteForChild(_)}function viewProcessorApplyUserMerge($,_,j,ee,re,le,de){let ge=_;return ee.foreach((ve,Ee)=>{const Ce=pathChild(j,ve);viewProcessorCacheHasChild(_,pathGetFront(Ce))&&(ge=viewProcessorApplyUserOverwrite($,ge,Ce,Ee,re,le,de))}),ee.foreach((ve,Ee)=>{const Ce=pathChild(j,ve);viewProcessorCacheHasChild(_,pathGetFront(Ce))||(ge=viewProcessorApplyUserOverwrite($,ge,Ce,Ee,re,le,de))}),ge}function viewProcessorApplyMerge($,_,j){return j.foreach((ee,re)=>{_=_.updateChild(ee,re)}),_}function viewProcessorApplyServerMerge($,_,j,ee,re,le,de,ge){if(_.serverCache.getNode().isEmpty()&&!_.serverCache.isFullyInitialized())return _;let ve=_,Ee;pathIsEmpty(j)?Ee=ee:Ee=new ImmutableTree(null).setTree(j,ee);const Ce=_.serverCache.getNode();return Ee.children.inorderTraversal((Ae,Se)=>{if(Ce.hasChild(Ae)){const ke=_.serverCache.getNode().getImmediateChild(Ae),we=viewProcessorApplyMerge($,ke,Se);ve=viewProcessorApplyServerOverwrite($,ve,new Path(Ae),we,re,le,de,ge)}}),Ee.children.inorderTraversal((Ae,Se)=>{const ke=!_.serverCache.isCompleteForChild(Ae)&&Se.value===null;if(!Ce.hasChild(Ae)&&!ke){const we=_.serverCache.getNode().getImmediateChild(Ae),Ne=viewProcessorApplyMerge($,we,Se);ve=viewProcessorApplyServerOverwrite($,ve,new Path(Ae),Ne,re,le,de,ge)}}),ve}function viewProcessorAckUserWrite($,_,j,ee,re,le,de){if(writeTreeRefShadowingWrite(re,j)!=null)return _;const ge=_.serverCache.isFiltered(),ve=_.serverCache;if(ee.value!=null){if(pathIsEmpty(j)&&ve.isFullyInitialized()||ve.isCompleteForPath(j))return viewProcessorApplyServerOverwrite($,_,j,ve.getNode().getChild(j),re,le,ge,de);if(pathIsEmpty(j)){let Ee=new ImmutableTree(null);return ve.getNode().forEachChild(KEY_INDEX,(Ce,Ae)=>{Ee=Ee.set(new Path(Ce),Ae)}),viewProcessorApplyServerMerge($,_,j,Ee,re,le,ge,de)}else return _}else{let Ee=new ImmutableTree(null);return ee.foreach((Ce,Ae)=>{const Se=pathChild(j,Ce);ve.isCompleteForPath(Se)&&(Ee=Ee.set(Ce,ve.getNode().getChild(Se)))}),viewProcessorApplyServerMerge($,_,j,Ee,re,le,ge,de)}}function viewProcessorListenComplete($,_,j,ee,re){const le=_.serverCache,de=viewCacheUpdateServerSnap(_,le.getNode(),le.isFullyInitialized()||pathIsEmpty(j),le.isFiltered());return viewProcessorGenerateEventCacheAfterServerEvent($,de,j,ee,NO_COMPLETE_CHILD_SOURCE,re)}function viewProcessorRevertUserWrite($,_,j,ee,re,le){let de;if(writeTreeRefShadowingWrite(ee,j)!=null)return _;{const ge=new WriteTreeCompleteChildSource(ee,_,re),ve=_.eventCache.getNode();let Ee;if(pathIsEmpty(j)||pathGetFront(j)===".priority"){let Ce;if(_.serverCache.isFullyInitialized())Ce=writeTreeRefCalcCompleteEventCache(ee,viewCacheGetCompleteServerSnap(_));else{const Ae=_.serverCache.getNode();assert(Ae instanceof ChildrenNode,"serverChildren would be complete if leaf node"),Ce=writeTreeRefCalcCompleteEventChildren(ee,Ae)}Ce=Ce,Ee=$.filter.updateFullNode(ve,Ce,le)}else{const Ce=pathGetFront(j);let Ae=writeTreeRefCalcCompleteChild(ee,Ce,_.serverCache);Ae==null&&_.serverCache.isCompleteForChild(Ce)&&(Ae=ve.getImmediateChild(Ce)),Ae!=null?Ee=$.filter.updateChild(ve,Ce,Ae,pathPopFront(j),ge,le):_.eventCache.getNode().hasChild(Ce)?Ee=$.filter.updateChild(ve,Ce,ChildrenNode.EMPTY_NODE,pathPopFront(j),ge,le):Ee=ve,Ee.isEmpty()&&_.serverCache.isFullyInitialized()&&(de=writeTreeRefCalcCompleteEventCache(ee,viewCacheGetCompleteServerSnap(_)),de.isLeafNode()&&(Ee=$.filter.updateFullNode(Ee,de,le)))}return de=_.serverCache.isFullyInitialized()||writeTreeRefShadowingWrite(ee,newEmptyPath())!=null,viewCacheUpdateEventSnap(_,Ee,de,$.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class View{constructor(_,j){this.query_=_,this.eventRegistrations_=[];const ee=this.query_._queryParams,re=new IndexedFilter(ee.getIndex()),le=queryParamsGetNodeFilter(ee);this.processor_=newViewProcessor(le);const de=j.serverCache,ge=j.eventCache,ve=re.updateFullNode(ChildrenNode.EMPTY_NODE,de.getNode(),null),Ee=le.updateFullNode(ChildrenNode.EMPTY_NODE,ge.getNode(),null),Ce=new CacheNode(ve,de.isFullyInitialized(),re.filtersNodes()),Ae=new CacheNode(Ee,ge.isFullyInitialized(),le.filtersNodes());this.viewCache_=newViewCache(Ae,Ce),this.eventGenerator_=new EventGenerator(this.query_)}get query(){return this.query_}}function viewGetServerCache($){return $.viewCache_.serverCache.getNode()}function viewGetCompleteServerCache($,_){const j=viewCacheGetCompleteServerSnap($.viewCache_);return j&&($.query._queryParams.loadsAllData()||!pathIsEmpty(_)&&!j.getImmediateChild(pathGetFront(_)).isEmpty())?j.getChild(_):null}function viewIsEmpty($){return $.eventRegistrations_.length===0}function viewAddEventRegistration($,_){$.eventRegistrations_.push(_)}function viewRemoveEventRegistration($,_,j){const ee=[];if(j){assert(_==null,"A cancel should cancel all event registrations.");const re=$.query._path;$.eventRegistrations_.forEach(le=>{const de=le.createCancelEvent(j,re);de&&ee.push(de)})}if(_){let re=[];for(let le=0;le<$.eventRegistrations_.length;++le){const de=$.eventRegistrations_[le];if(!de.matches(_))re.push(de);else if(_.hasAnyCallback()){re=re.concat($.eventRegistrations_.slice(le+1));break}}$.eventRegistrations_=re}else $.eventRegistrations_=[];return ee}function viewApplyOperation($,_,j,ee){_.type===OperationType.MERGE&&_.source.queryId!==null&&(assert(viewCacheGetCompleteServerSnap($.viewCache_),"We should always have a full cache before handling merges"),assert(viewCacheGetCompleteEventSnap($.viewCache_),"Missing event cache, even though we have a server cache"));const re=$.viewCache_,le=viewProcessorApplyOperation($.processor_,re,_,j,ee);return viewProcessorAssertIndexed($.processor_,le.viewCache),assert(le.viewCache.serverCache.isFullyInitialized()||!re.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),$.viewCache_=le.viewCache,viewGenerateEventsForChanges_($,le.changes,le.viewCache.eventCache.getNode(),null)}function viewGetInitialEvents($,_){const j=$.viewCache_.eventCache,ee=[];return j.getNode().isLeafNode()||j.getNode().forEachChild(PRIORITY_INDEX,(le,de)=>{ee.push(changeChildAdded(le,de))}),j.isFullyInitialized()&&ee.push(changeValue(j.getNode())),viewGenerateEventsForChanges_($,ee,j.getNode(),_)}function viewGenerateEventsForChanges_($,_,j,ee){const re=ee?[ee]:$.eventRegistrations_;return eventGeneratorGenerateEventsForChanges($.eventGenerator_,_,j,re)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor$1;class SyncPoint{constructor(){this.views=new Map}}function syncPointSetReferenceConstructor($){assert(!referenceConstructor$1,"__referenceConstructor has already been defined"),referenceConstructor$1=$}function syncPointGetReferenceConstructor(){return assert(referenceConstructor$1,"Reference.ts has not been loaded"),referenceConstructor$1}function syncPointIsEmpty($){return $.views.size===0}function syncPointApplyOperation($,_,j,ee){const re=_.source.queryId;if(re!==null){const le=$.views.get(re);return assert(le!=null,"SyncTree gave us an op for an invalid query."),viewApplyOperation(le,_,j,ee)}else{let le=[];for(const de of $.views.values())le=le.concat(viewApplyOperation(de,_,j,ee));return le}}function syncPointGetView($,_,j,ee,re){const le=_._queryIdentifier,de=$.views.get(le);if(!de){let ge=writeTreeRefCalcCompleteEventCache(j,re?ee:null),ve=!1;ge?ve=!0:ee instanceof ChildrenNode?(ge=writeTreeRefCalcCompleteEventChildren(j,ee),ve=!1):(ge=ChildrenNode.EMPTY_NODE,ve=!1);const Ee=newViewCache(new CacheNode(ge,ve,!1),new CacheNode(ee,re,!1));return new View(_,Ee)}return de}function syncPointAddEventRegistration($,_,j,ee,re,le){const de=syncPointGetView($,_,ee,re,le);return $.views.has(_._queryIdentifier)||$.views.set(_._queryIdentifier,de),viewAddEventRegistration(de,j),viewGetInitialEvents(de,j)}function syncPointRemoveEventRegistration($,_,j,ee){const re=_._queryIdentifier,le=[];let de=[];const ge=syncPointHasCompleteView($);if(re==="default")for(const[ve,Ee]of $.views.entries())de=de.concat(viewRemoveEventRegistration(Ee,j,ee)),viewIsEmpty(Ee)&&($.views.delete(ve),Ee.query._queryParams.loadsAllData()||le.push(Ee.query));else{const ve=$.views.get(re);ve&&(de=de.concat(viewRemoveEventRegistration(ve,j,ee)),viewIsEmpty(ve)&&($.views.delete(re),ve.query._queryParams.loadsAllData()||le.push(ve.query)))}return ge&&!syncPointHasCompleteView($)&&le.push(new(syncPointGetReferenceConstructor())(_._repo,_._path)),{removed:le,events:de}}function syncPointGetQueryViews($){const _=[];for(const j of $.views.values())j.query._queryParams.loadsAllData()||_.push(j);return _}function syncPointGetCompleteServerCache($,_){let j=null;for(const ee of $.views.values())j=j||viewGetCompleteServerCache(ee,_);return j}function syncPointViewForQuery($,_){if(_._queryParams.loadsAllData())return syncPointGetCompleteView($);{const ee=_._queryIdentifier;return $.views.get(ee)}}function syncPointViewExistsForQuery($,_){return syncPointViewForQuery($,_)!=null}function syncPointHasCompleteView($){return syncPointGetCompleteView($)!=null}function syncPointGetCompleteView($){for(const _ of $.views.values())if(_.query._queryParams.loadsAllData())return _;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor;function syncTreeSetReferenceConstructor($){assert(!referenceConstructor,"__referenceConstructor has already been defined"),referenceConstructor=$}function syncTreeGetReferenceConstructor(){return assert(referenceConstructor,"Reference.ts has not been loaded"),referenceConstructor}let syncTreeNextQueryTag_=1;class SyncTree{constructor(_){this.listenProvider_=_,this.syncPointTree_=new ImmutableTree(null),this.pendingWriteTree_=newWriteTree(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function syncTreeApplyUserOverwrite($,_,j,ee,re){return writeTreeAddOverwrite($.pendingWriteTree_,_,j,ee,re),re?syncTreeApplyOperationToSyncPoints_($,new Overwrite(newOperationSourceUser(),_,j)):[]}function syncTreeAckUserWrite($,_,j=!1){const ee=writeTreeGetWrite($.pendingWriteTree_,_);if(writeTreeRemoveWrite($.pendingWriteTree_,_)){let le=new ImmutableTree(null);return ee.snap!=null?le=le.set(newEmptyPath(),!0):each(ee.children,de=>{le=le.set(new Path(de),!0)}),syncTreeApplyOperationToSyncPoints_($,new AckUserWrite(ee.path,le,j))}else return[]}function syncTreeApplyServerOverwrite($,_,j){return syncTreeApplyOperationToSyncPoints_($,new Overwrite(newOperationSourceServer(),_,j))}function syncTreeApplyServerMerge($,_,j){const ee=ImmutableTree.fromObject(j);return syncTreeApplyOperationToSyncPoints_($,new Merge(newOperationSourceServer(),_,ee))}function syncTreeApplyListenComplete($,_){return syncTreeApplyOperationToSyncPoints_($,new ListenComplete(newOperationSourceServer(),_))}function syncTreeApplyTaggedListenComplete($,_,j){const ee=syncTreeQueryKeyForTag_($,j);if(ee){const re=syncTreeParseQueryKey_(ee),le=re.path,de=re.queryId,ge=newRelativePath(le,_),ve=new ListenComplete(newOperationSourceServerTaggedQuery(de),ge);return syncTreeApplyTaggedOperation_($,le,ve)}else return[]}function syncTreeRemoveEventRegistration($,_,j,ee,re=!1){const le=_._path,de=$.syncPointTree_.get(le);let ge=[];if(de&&(_._queryIdentifier==="default"||syncPointViewExistsForQuery(de,_))){const ve=syncPointRemoveEventRegistration(de,_,j,ee);syncPointIsEmpty(de)&&($.syncPointTree_=$.syncPointTree_.remove(le));const Ee=ve.removed;if(ge=ve.events,!re){const Ce=Ee.findIndex(Se=>Se._queryParams.loadsAllData())!==-1,Ae=$.syncPointTree_.findOnPath(le,(Se,ke)=>syncPointHasCompleteView(ke));if(Ce&&!Ae){const Se=$.syncPointTree_.subtree(le);if(!Se.isEmpty()){const ke=syncTreeCollectDistinctViewsForSubTree_(Se);for(let we=0;we<ke.length;++we){const Ne=ke[we],Le=Ne.query,Me=syncTreeCreateListenerForView_($,Ne);$.listenProvider_.startListening(syncTreeQueryForListening_(Le),syncTreeTagForQuery($,Le),Me.hashFn,Me.onComplete)}}}!Ae&&Ee.length>0&&!ee&&(Ce?$.listenProvider_.stopListening(syncTreeQueryForListening_(_),null):Ee.forEach(Se=>{const ke=$.queryToTagMap.get(syncTreeMakeQueryKey_(Se));$.listenProvider_.stopListening(syncTreeQueryForListening_(Se),ke)}))}syncTreeRemoveTags_($,Ee)}return ge}function syncTreeApplyTaggedQueryOverwrite($,_,j,ee){const re=syncTreeQueryKeyForTag_($,ee);if(re!=null){const le=syncTreeParseQueryKey_(re),de=le.path,ge=le.queryId,ve=newRelativePath(de,_),Ee=new Overwrite(newOperationSourceServerTaggedQuery(ge),ve,j);return syncTreeApplyTaggedOperation_($,de,Ee)}else return[]}function syncTreeApplyTaggedQueryMerge($,_,j,ee){const re=syncTreeQueryKeyForTag_($,ee);if(re){const le=syncTreeParseQueryKey_(re),de=le.path,ge=le.queryId,ve=newRelativePath(de,_),Ee=ImmutableTree.fromObject(j),Ce=new Merge(newOperationSourceServerTaggedQuery(ge),ve,Ee);return syncTreeApplyTaggedOperation_($,de,Ce)}else return[]}function syncTreeAddEventRegistration($,_,j,ee=!1){const re=_._path;let le=null,de=!1;$.syncPointTree_.foreachOnPath(re,(Se,ke)=>{const we=newRelativePath(Se,re);le=le||syncPointGetCompleteServerCache(ke,we),de=de||syncPointHasCompleteView(ke)});let ge=$.syncPointTree_.get(re);ge?(de=de||syncPointHasCompleteView(ge),le=le||syncPointGetCompleteServerCache(ge,newEmptyPath())):(ge=new SyncPoint,$.syncPointTree_=$.syncPointTree_.set(re,ge));let ve;le!=null?ve=!0:(ve=!1,le=ChildrenNode.EMPTY_NODE,$.syncPointTree_.subtree(re).foreachChild((ke,we)=>{const Ne=syncPointGetCompleteServerCache(we,newEmptyPath());Ne&&(le=le.updateImmediateChild(ke,Ne))}));const Ee=syncPointViewExistsForQuery(ge,_);if(!Ee&&!_._queryParams.loadsAllData()){const Se=syncTreeMakeQueryKey_(_);assert(!$.queryToTagMap.has(Se),"View does not exist, but we have a tag");const ke=syncTreeGetNextQueryTag_();$.queryToTagMap.set(Se,ke),$.tagToQueryMap.set(ke,Se)}const Ce=writeTreeChildWrites($.pendingWriteTree_,re);let Ae=syncPointAddEventRegistration(ge,_,j,Ce,le,ve);if(!Ee&&!de&&!ee){const Se=syncPointViewForQuery(ge,_);Ae=Ae.concat(syncTreeSetupListener_($,_,Se))}return Ae}function syncTreeCalcCompleteEventCache($,_,j){const re=$.pendingWriteTree_,le=$.syncPointTree_.findOnPath(_,(de,ge)=>{const ve=newRelativePath(de,_),Ee=syncPointGetCompleteServerCache(ge,ve);if(Ee)return Ee});return writeTreeCalcCompleteEventCache(re,_,le,j,!0)}function syncTreeApplyOperationToSyncPoints_($,_){return syncTreeApplyOperationHelper_(_,$.syncPointTree_,null,writeTreeChildWrites($.pendingWriteTree_,newEmptyPath()))}function syncTreeApplyOperationHelper_($,_,j,ee){if(pathIsEmpty($.path))return syncTreeApplyOperationDescendantsHelper_($,_,j,ee);{const re=_.get(newEmptyPath());j==null&&re!=null&&(j=syncPointGetCompleteServerCache(re,newEmptyPath()));let le=[];const de=pathGetFront($.path),ge=$.operationForChild(de),ve=_.children.get(de);if(ve&&ge){const Ee=j?j.getImmediateChild(de):null,Ce=writeTreeRefChild(ee,de);le=le.concat(syncTreeApplyOperationHelper_(ge,ve,Ee,Ce))}return re&&(le=le.concat(syncPointApplyOperation(re,$,ee,j))),le}}function syncTreeApplyOperationDescendantsHelper_($,_,j,ee){const re=_.get(newEmptyPath());j==null&&re!=null&&(j=syncPointGetCompleteServerCache(re,newEmptyPath()));let le=[];return _.children.inorderTraversal((de,ge)=>{const ve=j?j.getImmediateChild(de):null,Ee=writeTreeRefChild(ee,de),Ce=$.operationForChild(de);Ce&&(le=le.concat(syncTreeApplyOperationDescendantsHelper_(Ce,ge,ve,Ee)))}),re&&(le=le.concat(syncPointApplyOperation(re,$,ee,j))),le}function syncTreeCreateListenerForView_($,_){const j=_.query,ee=syncTreeTagForQuery($,j);return{hashFn:()=>(viewGetServerCache(_)||ChildrenNode.EMPTY_NODE).hash(),onComplete:re=>{if(re==="ok")return ee?syncTreeApplyTaggedListenComplete($,j._path,ee):syncTreeApplyListenComplete($,j._path);{const le=errorForServerCode(re,j);return syncTreeRemoveEventRegistration($,j,null,le)}}}}function syncTreeTagForQuery($,_){const j=syncTreeMakeQueryKey_(_);return $.queryToTagMap.get(j)}function syncTreeMakeQueryKey_($){return $._path.toString()+"$"+$._queryIdentifier}function syncTreeQueryKeyForTag_($,_){return $.tagToQueryMap.get(_)}function syncTreeParseQueryKey_($){const _=$.indexOf("$");return assert(_!==-1&&_<$.length-1,"Bad queryKey."),{queryId:$.substr(_+1),path:new Path($.substr(0,_))}}function syncTreeApplyTaggedOperation_($,_,j){const ee=$.syncPointTree_.get(_);assert(ee,"Missing sync point for query tag that we're tracking");const re=writeTreeChildWrites($.pendingWriteTree_,_);return syncPointApplyOperation(ee,j,re,null)}function syncTreeCollectDistinctViewsForSubTree_($){return $.fold((_,j,ee)=>{if(j&&syncPointHasCompleteView(j))return[syncPointGetCompleteView(j)];{let re=[];return j&&(re=syncPointGetQueryViews(j)),each(ee,(le,de)=>{re=re.concat(de)}),re}})}function syncTreeQueryForListening_($){return $._queryParams.loadsAllData()&&!$._queryParams.isDefault()?new(syncTreeGetReferenceConstructor())($._repo,$._path):$}function syncTreeRemoveTags_($,_){for(let j=0;j<_.length;++j){const ee=_[j];if(!ee._queryParams.loadsAllData()){const re=syncTreeMakeQueryKey_(ee),le=$.queryToTagMap.get(re);$.queryToTagMap.delete(re),$.tagToQueryMap.delete(le)}}}function syncTreeGetNextQueryTag_(){return syncTreeNextQueryTag_++}function syncTreeSetupListener_($,_,j){const ee=_._path,re=syncTreeTagForQuery($,_),le=syncTreeCreateListenerForView_($,j),de=$.listenProvider_.startListening(syncTreeQueryForListening_(_),re,le.hashFn,le.onComplete),ge=$.syncPointTree_.subtree(ee);if(re)assert(!syncPointHasCompleteView(ge.value),"If we're adding a query, it shouldn't be shadowed");else{const ve=ge.fold((Ee,Ce,Ae)=>{if(!pathIsEmpty(Ee)&&Ce&&syncPointHasCompleteView(Ce))return[syncPointGetCompleteView(Ce).query];{let Se=[];return Ce&&(Se=Se.concat(syncPointGetQueryViews(Ce).map(ke=>ke.query))),each(Ae,(ke,we)=>{Se=Se.concat(we)}),Se}});for(let Ee=0;Ee<ve.length;++Ee){const Ce=ve[Ee];$.listenProvider_.stopListening(syncTreeQueryForListening_(Ce),syncTreeTagForQuery($,Ce))}}return de}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistingValueProvider{constructor(_){this.node_=_}getImmediateChild(_){const j=this.node_.getImmediateChild(_);return new ExistingValueProvider(j)}node(){return this.node_}}class DeferredValueProvider{constructor(_,j){this.syncTree_=_,this.path_=j}getImmediateChild(_){const j=pathChild(this.path_,_);return new DeferredValueProvider(this.syncTree_,j)}node(){return syncTreeCalcCompleteEventCache(this.syncTree_,this.path_)}}const generateWithValues=function($){return $=$||{},$.timestamp=$.timestamp||new Date().getTime(),$},resolveDeferredLeafValue=function($,_,j){if(!$||typeof $!="object")return $;if(assert(".sv"in $,"Unexpected leaf node or priority contents"),typeof $[".sv"]=="string")return resolveScalarDeferredValue($[".sv"],_,j);if(typeof $[".sv"]=="object")return resolveComplexDeferredValue($[".sv"],_);assert(!1,"Unexpected server value: "+JSON.stringify($,null,2))},resolveScalarDeferredValue=function($,_,j){switch($){case"timestamp":return j.timestamp;default:assert(!1,"Unexpected server value: "+$)}},resolveComplexDeferredValue=function($,_,j){$.hasOwnProperty("increment")||assert(!1,"Unexpected server value: "+JSON.stringify($,null,2));const ee=$.increment;typeof ee!="number"&&assert(!1,"Unexpected increment value: "+ee);const re=_.node();if(assert(re!==null&&typeof re<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!re.isLeafNode())return ee;const de=re.getValue();return typeof de!="number"?ee:de+ee},resolveDeferredValueTree=function($,_,j,ee){return resolveDeferredValue(_,new DeferredValueProvider(j,$),ee)},resolveDeferredValueSnapshot=function($,_,j){return resolveDeferredValue($,new ExistingValueProvider(_),j)};function resolveDeferredValue($,_,j){const ee=$.getPriority().val(),re=resolveDeferredLeafValue(ee,_.getImmediateChild(".priority"),j);let le;if($.isLeafNode()){const de=$,ge=resolveDeferredLeafValue(de.getValue(),_,j);return ge!==de.getValue()||re!==de.getPriority().val()?new LeafNode(ge,nodeFromJSON(re)):$}else{const de=$;return le=de,re!==de.getPriority().val()&&(le=le.updatePriority(new LeafNode(re))),de.forEachChild(PRIORITY_INDEX,(ge,ve)=>{const Ee=resolveDeferredValue(ve,_.getImmediateChild(ge),j);Ee!==ve&&(le=le.updateImmediateChild(ge,Ee))}),le}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tree{constructor(_="",j=null,ee={children:{},childCount:0}){this.name=_,this.parent=j,this.node=ee}}function treeSubTree($,_){let j=_ instanceof Path?_:new Path(_),ee=$,re=pathGetFront(j);for(;re!==null;){const le=safeGet(ee.node.children,re)||{children:{},childCount:0};ee=new Tree(re,ee,le),j=pathPopFront(j),re=pathGetFront(j)}return ee}function treeGetValue($){return $.node.value}function treeSetValue($,_){$.node.value=_,treeUpdateParents($)}function treeHasChildren($){return $.node.childCount>0}function treeIsEmpty($){return treeGetValue($)===void 0&&!treeHasChildren($)}function treeForEachChild($,_){each($.node.children,(j,ee)=>{_(new Tree(j,$,ee))})}function treeForEachDescendant($,_,j,ee){j&&!ee&&_($),treeForEachChild($,re=>{treeForEachDescendant(re,_,!0,ee)}),j&&ee&&_($)}function treeForEachAncestor($,_,j){let ee=j?$:$.parent;for(;ee!==null;){if(_(ee))return!0;ee=ee.parent}return!1}function treeGetPath($){return new Path($.parent===null?$.name:treeGetPath($.parent)+"/"+$.name)}function treeUpdateParents($){$.parent!==null&&treeUpdateChild($.parent,$.name,$)}function treeUpdateChild($,_,j){const ee=treeIsEmpty(j),re=contains($.node.children,_);ee&&re?(delete $.node.children[_],$.node.childCount--,treeUpdateParents($)):!ee&&!re&&($.node.children[_]=j.node,$.node.childCount++,treeUpdateParents($))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,MAX_LEAF_SIZE_=10*1024*1024,isValidKey=function($){return typeof $=="string"&&$.length!==0&&!INVALID_KEY_REGEX_.test($)},isValidPathString=function($){return typeof $=="string"&&$.length!==0&&!INVALID_PATH_REGEX_.test($)},isValidRootPathString=function($){return $&&($=$.replace(/^\/*\.info(\/|$)/,"/")),isValidPathString($)},validateFirebaseData=function($,_,j){const ee=j instanceof Path?new ValidationPath(j,$):j;if(_===void 0)throw new Error($+"contains undefined "+validationPathToErrorString(ee));if(typeof _=="function")throw new Error($+"contains a function "+validationPathToErrorString(ee)+" with contents = "+_.toString());if(isInvalidJSONNumber(_))throw new Error($+"contains "+_.toString()+" "+validationPathToErrorString(ee));if(typeof _=="string"&&_.length>MAX_LEAF_SIZE_/3&&stringLength(_)>MAX_LEAF_SIZE_)throw new Error($+"contains a string greater than "+MAX_LEAF_SIZE_+" utf8 bytes "+validationPathToErrorString(ee)+" ('"+_.substring(0,50)+"...')");if(_&&typeof _=="object"){let re=!1,le=!1;if(each(_,(de,ge)=>{if(de===".value")re=!0;else if(de!==".priority"&&de!==".sv"&&(le=!0,!isValidKey(de)))throw new Error($+" contains an invalid key ("+de+") "+validationPathToErrorString(ee)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);validationPathPush(ee,de),validateFirebaseData($,ge,ee),validationPathPop(ee)}),re&&le)throw new Error($+' contains ".value" child '+validationPathToErrorString(ee)+" in addition to actual children.")}},validatePathString=function($,_,j,ee){if(!(ee&&j===void 0)&&!isValidPathString(j))throw new Error(errorPrefix($,_)+'was an invalid path = "'+j+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},validateRootPathString=function($,_,j,ee){j&&(j=j.replace(/^\/*\.info(\/|$)/,"/")),validatePathString($,_,j,ee)},validateUrl=function($,_){const j=_.path.toString();if(typeof _.repoInfo.host!="string"||_.repoInfo.host.length===0||!isValidKey(_.repoInfo.namespace)&&_.repoInfo.host.split(":")[0]!=="localhost"||j.length!==0&&!isValidRootPathString(j))throw new Error(errorPrefix($,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventQueue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eventQueueQueueEvents($,_){let j=null;for(let ee=0;ee<_.length;ee++){const re=_[ee],le=re.getPath();j!==null&&!pathEquals(le,j.path)&&($.eventLists_.push(j),j=null),j===null&&(j={events:[],path:le}),j.events.push(re)}j&&$.eventLists_.push(j)}function eventQueueRaiseEventsAtPath($,_,j){eventQueueQueueEvents($,j),eventQueueRaiseQueuedEventsMatchingPredicate($,ee=>pathEquals(ee,_))}function eventQueueRaiseEventsForChangedPath($,_,j){eventQueueQueueEvents($,j),eventQueueRaiseQueuedEventsMatchingPredicate($,ee=>pathContains(ee,_)||pathContains(_,ee))}function eventQueueRaiseQueuedEventsMatchingPredicate($,_){$.recursionDepth_++;let j=!0;for(let ee=0;ee<$.eventLists_.length;ee++){const re=$.eventLists_[ee];if(re){const le=re.path;_(le)?(eventListRaise($.eventLists_[ee]),$.eventLists_[ee]=null):j=!1}}j&&($.eventLists_=[]),$.recursionDepth_--}function eventListRaise($){for(let _=0;_<$.events.length;_++){const j=$.events[_];if(j!==null){$.events[_]=null;const ee=j.getEventRunner();logger&&log("event: "+j.toString()),exceptionGuard(ee)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INTERRUPT_REASON="repo_interrupt",MAX_TRANSACTION_RETRIES=25;class Repo{constructor(_,j,ee,re){this.repoInfo_=_,this.forceRestClient_=j,this.authTokenProvider_=ee,this.appCheckProvider_=re,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=newSparseSnapshotTree(),this.transactionQueueTree_=new Tree,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function repoStart($,_,j){if($.stats_=statsManagerGetCollection($.repoInfo_),$.forceRestClient_||beingCrawled())$.server_=new ReadonlyRestClient($.repoInfo_,(ee,re,le,de)=>{repoOnDataUpdate($,ee,re,le,de)},$.authTokenProvider_,$.appCheckProvider_),setTimeout(()=>repoOnConnectStatus($,!0),0);else{if(typeof j<"u"&&j!==null){if(typeof j!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{stringify(j)}catch(ee){throw new Error("Invalid authOverride provided: "+ee)}}$.persistentConnection_=new PersistentConnection($.repoInfo_,_,(ee,re,le,de)=>{repoOnDataUpdate($,ee,re,le,de)},ee=>{repoOnConnectStatus($,ee)},ee=>{repoOnServerInfoUpdate($,ee)},$.authTokenProvider_,$.appCheckProvider_,j),$.server_=$.persistentConnection_}$.authTokenProvider_.addTokenChangeListener(ee=>{$.server_.refreshAuthToken(ee)}),$.appCheckProvider_.addTokenChangeListener(ee=>{$.server_.refreshAppCheckToken(ee.token)}),$.statsReporter_=statsManagerGetOrCreateReporter($.repoInfo_,()=>new StatsReporter($.stats_,$.server_)),$.infoData_=new SnapshotHolder,$.infoSyncTree_=new SyncTree({startListening:(ee,re,le,de)=>{let ge=[];const ve=$.infoData_.getNode(ee._path);return ve.isEmpty()||(ge=syncTreeApplyServerOverwrite($.infoSyncTree_,ee._path,ve),setTimeout(()=>{de("ok")},0)),ge},stopListening:()=>{}}),repoUpdateInfo($,"connected",!1),$.serverSyncTree_=new SyncTree({startListening:(ee,re,le,de)=>($.server_.listen(ee,le,re,(ge,ve)=>{const Ee=de(ge,ve);eventQueueRaiseEventsForChangedPath($.eventQueue_,ee._path,Ee)}),[]),stopListening:(ee,re)=>{$.server_.unlisten(ee,re)}})}function repoServerTime($){const j=$.infoData_.getNode(new Path(".info/serverTimeOffset")).val()||0;return new Date().getTime()+j}function repoGenerateServerValues($){return generateWithValues({timestamp:repoServerTime($)})}function repoOnDataUpdate($,_,j,ee,re){$.dataUpdateCount++;const le=new Path(_);j=$.interceptServerDataCallback_?$.interceptServerDataCallback_(_,j):j;let de=[];if(re)if(ee){const ve=map(j,Ee=>nodeFromJSON(Ee));de=syncTreeApplyTaggedQueryMerge($.serverSyncTree_,le,ve,re)}else{const ve=nodeFromJSON(j);de=syncTreeApplyTaggedQueryOverwrite($.serverSyncTree_,le,ve,re)}else if(ee){const ve=map(j,Ee=>nodeFromJSON(Ee));de=syncTreeApplyServerMerge($.serverSyncTree_,le,ve)}else{const ve=nodeFromJSON(j);de=syncTreeApplyServerOverwrite($.serverSyncTree_,le,ve)}let ge=le;de.length>0&&(ge=repoRerunTransactions($,le)),eventQueueRaiseEventsForChangedPath($.eventQueue_,ge,de)}function repoOnConnectStatus($,_){repoUpdateInfo($,"connected",_),_===!1&&repoRunOnDisconnectEvents($)}function repoOnServerInfoUpdate($,_){each(_,(j,ee)=>{repoUpdateInfo($,j,ee)})}function repoUpdateInfo($,_,j){const ee=new Path("/.info/"+_),re=nodeFromJSON(j);$.infoData_.updateSnapshot(ee,re);const le=syncTreeApplyServerOverwrite($.infoSyncTree_,ee,re);eventQueueRaiseEventsForChangedPath($.eventQueue_,ee,le)}function repoGetNextWriteId($){return $.nextWriteId_++}function repoRunOnDisconnectEvents($){repoLog($,"onDisconnectEvents");const _=repoGenerateServerValues($),j=newSparseSnapshotTree();sparseSnapshotTreeForEachTree($.onDisconnect_,newEmptyPath(),(re,le)=>{const de=resolveDeferredValueTree(re,le,$.serverSyncTree_,_);sparseSnapshotTreeRemember(j,re,de)});let ee=[];sparseSnapshotTreeForEachTree(j,newEmptyPath(),(re,le)=>{ee=ee.concat(syncTreeApplyServerOverwrite($.serverSyncTree_,re,le));const de=repoAbortTransactions($,re);repoRerunTransactions($,de)}),$.onDisconnect_=newSparseSnapshotTree(),eventQueueRaiseEventsForChangedPath($.eventQueue_,newEmptyPath(),ee)}function repoAddEventCallbackForQuery($,_,j){let ee;pathGetFront(_._path)===".info"?ee=syncTreeAddEventRegistration($.infoSyncTree_,_,j):ee=syncTreeAddEventRegistration($.serverSyncTree_,_,j),eventQueueRaiseEventsAtPath($.eventQueue_,_._path,ee)}function repoRemoveEventCallbackForQuery($,_,j){let ee;pathGetFront(_._path)===".info"?ee=syncTreeRemoveEventRegistration($.infoSyncTree_,_,j):ee=syncTreeRemoveEventRegistration($.serverSyncTree_,_,j),eventQueueRaiseEventsAtPath($.eventQueue_,_._path,ee)}function repoInterrupt($){$.persistentConnection_&&$.persistentConnection_.interrupt(INTERRUPT_REASON)}function repoLog($,..._){let j="";$.persistentConnection_&&(j=$.persistentConnection_.id+":"),log(j,..._)}function repoGetLatestState($,_,j){return syncTreeCalcCompleteEventCache($.serverSyncTree_,_,j)||ChildrenNode.EMPTY_NODE}function repoSendReadyTransactions($,_=$.transactionQueueTree_){if(_||repoPruneCompletedTransactionsBelowNode($,_),treeGetValue(_)){const j=repoBuildTransactionQueue($,_);assert(j.length>0,"Sending zero length transaction queue"),j.every(re=>re.status===0)&&repoSendTransactionQueue($,treeGetPath(_),j)}else treeHasChildren(_)&&treeForEachChild(_,j=>{repoSendReadyTransactions($,j)})}function repoSendTransactionQueue($,_,j){const ee=j.map(Ee=>Ee.currentWriteId),re=repoGetLatestState($,_,ee);let le=re;const de=re.hash();for(let Ee=0;Ee<j.length;Ee++){const Ce=j[Ee];assert(Ce.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),Ce.status=1,Ce.retryCount++;const Ae=newRelativePath(_,Ce.path);le=le.updateChild(Ae,Ce.currentOutputSnapshotRaw)}const ge=le.val(!0),ve=_;$.server_.put(ve.toString(),ge,Ee=>{repoLog($,"transaction put response",{path:ve.toString(),status:Ee});let Ce=[];if(Ee==="ok"){const Ae=[];for(let Se=0;Se<j.length;Se++)j[Se].status=2,Ce=Ce.concat(syncTreeAckUserWrite($.serverSyncTree_,j[Se].currentWriteId)),j[Se].onComplete&&Ae.push(()=>j[Se].onComplete(null,!0,j[Se].currentOutputSnapshotResolved)),j[Se].unwatcher();repoPruneCompletedTransactionsBelowNode($,treeSubTree($.transactionQueueTree_,_)),repoSendReadyTransactions($,$.transactionQueueTree_),eventQueueRaiseEventsForChangedPath($.eventQueue_,_,Ce);for(let Se=0;Se<Ae.length;Se++)exceptionGuard(Ae[Se])}else{if(Ee==="datastale")for(let Ae=0;Ae<j.length;Ae++)j[Ae].status===3?j[Ae].status=4:j[Ae].status=0;else{warn("transaction at "+ve.toString()+" failed: "+Ee);for(let Ae=0;Ae<j.length;Ae++)j[Ae].status=4,j[Ae].abortReason=Ee}repoRerunTransactions($,_)}},de)}function repoRerunTransactions($,_){const j=repoGetAncestorTransactionNode($,_),ee=treeGetPath(j),re=repoBuildTransactionQueue($,j);return repoRerunTransactionQueue($,re,ee),ee}function repoRerunTransactionQueue($,_,j){if(_.length===0)return;const ee=[];let re=[];const de=_.filter(ge=>ge.status===0).map(ge=>ge.currentWriteId);for(let ge=0;ge<_.length;ge++){const ve=_[ge],Ee=newRelativePath(j,ve.path);let Ce=!1,Ae;if(assert(Ee!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),ve.status===4)Ce=!0,Ae=ve.abortReason,re=re.concat(syncTreeAckUserWrite($.serverSyncTree_,ve.currentWriteId,!0));else if(ve.status===0)if(ve.retryCount>=MAX_TRANSACTION_RETRIES)Ce=!0,Ae="maxretry",re=re.concat(syncTreeAckUserWrite($.serverSyncTree_,ve.currentWriteId,!0));else{const Se=repoGetLatestState($,ve.path,de);ve.currentInputSnapshot=Se;const ke=_[ge].update(Se.val());if(ke!==void 0){validateFirebaseData("transaction failed: Data returned ",ke,ve.path);let we=nodeFromJSON(ke);typeof ke=="object"&&ke!=null&&contains(ke,".priority")||(we=we.updatePriority(Se.getPriority()));const Le=ve.currentWriteId,Me=repoGenerateServerValues($),Fe=resolveDeferredValueSnapshot(we,Se,Me);ve.currentOutputSnapshotRaw=we,ve.currentOutputSnapshotResolved=Fe,ve.currentWriteId=repoGetNextWriteId($),de.splice(de.indexOf(Le),1),re=re.concat(syncTreeApplyUserOverwrite($.serverSyncTree_,ve.path,Fe,ve.currentWriteId,ve.applyLocally)),re=re.concat(syncTreeAckUserWrite($.serverSyncTree_,Le,!0))}else Ce=!0,Ae="nodata",re=re.concat(syncTreeAckUserWrite($.serverSyncTree_,ve.currentWriteId,!0))}eventQueueRaiseEventsForChangedPath($.eventQueue_,j,re),re=[],Ce&&(_[ge].status=2,function(Se){setTimeout(Se,Math.floor(0))}(_[ge].unwatcher),_[ge].onComplete&&(Ae==="nodata"?ee.push(()=>_[ge].onComplete(null,!1,_[ge].currentInputSnapshot)):ee.push(()=>_[ge].onComplete(new Error(Ae),!1,null))))}repoPruneCompletedTransactionsBelowNode($,$.transactionQueueTree_);for(let ge=0;ge<ee.length;ge++)exceptionGuard(ee[ge]);repoSendReadyTransactions($,$.transactionQueueTree_)}function repoGetAncestorTransactionNode($,_){let j,ee=$.transactionQueueTree_;for(j=pathGetFront(_);j!==null&&treeGetValue(ee)===void 0;)ee=treeSubTree(ee,j),_=pathPopFront(_),j=pathGetFront(_);return ee}function repoBuildTransactionQueue($,_){const j=[];return repoAggregateTransactionQueuesForNode($,_,j),j.sort((ee,re)=>ee.order-re.order),j}function repoAggregateTransactionQueuesForNode($,_,j){const ee=treeGetValue(_);if(ee)for(let re=0;re<ee.length;re++)j.push(ee[re]);treeForEachChild(_,re=>{repoAggregateTransactionQueuesForNode($,re,j)})}function repoPruneCompletedTransactionsBelowNode($,_){const j=treeGetValue(_);if(j){let ee=0;for(let re=0;re<j.length;re++)j[re].status!==2&&(j[ee]=j[re],ee++);j.length=ee,treeSetValue(_,j.length>0?j:void 0)}treeForEachChild(_,ee=>{repoPruneCompletedTransactionsBelowNode($,ee)})}function repoAbortTransactions($,_){const j=treeGetPath(repoGetAncestorTransactionNode($,_)),ee=treeSubTree($.transactionQueueTree_,_);return treeForEachAncestor(ee,re=>{repoAbortTransactionsOnNode($,re)}),repoAbortTransactionsOnNode($,ee),treeForEachDescendant(ee,re=>{repoAbortTransactionsOnNode($,re)}),j}function repoAbortTransactionsOnNode($,_){const j=treeGetValue(_);if(j){const ee=[];let re=[],le=-1;for(let de=0;de<j.length;de++)j[de].status===3||(j[de].status===1?(assert(le===de-1,"All SENT items should be at beginning of queue."),le=de,j[de].status=3,j[de].abortReason="set"):(assert(j[de].status===0,"Unexpected transaction status in abort"),j[de].unwatcher(),re=re.concat(syncTreeAckUserWrite($.serverSyncTree_,j[de].currentWriteId,!0)),j[de].onComplete&&ee.push(j[de].onComplete.bind(null,new Error("set"),!1,null))));le===-1?treeSetValue(_,void 0):j.length=le+1,eventQueueRaiseEventsForChangedPath($.eventQueue_,treeGetPath(_),re);for(let de=0;de<ee.length;de++)exceptionGuard(ee[de])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodePath($){let _="";const j=$.split("/");for(let ee=0;ee<j.length;ee++)if(j[ee].length>0){let re=j[ee];try{re=decodeURIComponent(re.replace(/\+/g," "))}catch{}_+="/"+re}return _}function decodeQuery($){const _={};$.charAt(0)==="?"&&($=$.substring(1));for(const j of $.split("&")){if(j.length===0)continue;const ee=j.split("=");ee.length===2?_[decodeURIComponent(ee[0])]=decodeURIComponent(ee[1]):warn(`Invalid query segment '${j}' in query '${$}'`)}return _}const parseRepoInfo=function($,_){const j=parseDatabaseURL($),ee=j.namespace;j.domain==="firebase.com"&&fatal(j.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!ee||ee==="undefined")&&j.domain!=="localhost"&&fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),j.secure||warnIfPageIsSecure();const re=j.scheme==="ws"||j.scheme==="wss";return{repoInfo:new RepoInfo(j.host,j.secure,ee,re,_,"",ee!==j.subdomain),path:new Path(j.pathString)}},parseDatabaseURL=function($){let _="",j="",ee="",re="",le="",de=!0,ge="https",ve=443;if(typeof $=="string"){let Ee=$.indexOf("//");Ee>=0&&(ge=$.substring(0,Ee-1),$=$.substring(Ee+2));let Ce=$.indexOf("/");Ce===-1&&(Ce=$.length);let Ae=$.indexOf("?");Ae===-1&&(Ae=$.length),_=$.substring(0,Math.min(Ce,Ae)),Ce<Ae&&(re=decodePath($.substring(Ce,Ae)));const Se=decodeQuery($.substring(Math.min($.length,Ae)));Ee=_.indexOf(":"),Ee>=0?(de=ge==="https"||ge==="wss",ve=parseInt(_.substring(Ee+1),10)):Ee=_.length;const ke=_.slice(0,Ee);if(ke.toLowerCase()==="localhost")j="localhost";else if(ke.split(".").length<=2)j=ke;else{const we=_.indexOf(".");ee=_.substring(0,we).toLowerCase(),j=_.substring(we+1),le=ee}"ns"in Se&&(le=Se.ns)}return{host:_,port:ve,domain:j,subdomain:ee,secure:de,scheme:ge,pathString:re,namespace:le}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DataEvent{constructor(_,j,ee,re){this.eventType=_,this.eventRegistration=j,this.snapshot=ee,this.prevName=re}getPath(){const _=this.snapshot.ref;return this.eventType==="value"?_._path:_.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+stringify(this.snapshot.exportVal())}}class CancelEvent{constructor(_,j,ee){this.eventRegistration=_,this.error=j,this.path=ee}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CallbackContext{constructor(_,j){this.snapshotCallback=_,this.cancelCallback=j}onValue(_,j){this.snapshotCallback.call(null,_,j)}onCancel(_){return assert(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,_)}get hasCancelCallback(){return!!this.cancelCallback}matches(_){return this.snapshotCallback===_.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===_.snapshotCallback.userCallback&&this.snapshotCallback.context===_.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryImpl{constructor(_,j,ee,re){this._repo=_,this._path=j,this._queryParams=ee,this._orderByCalled=re}get key(){return pathIsEmpty(this._path)?null:pathGetBack(this._path)}get ref(){return new ReferenceImpl(this._repo,this._path)}get _queryIdentifier(){const _=queryParamsGetQueryObject(this._queryParams),j=ObjectToUniqueKey(_);return j==="{}"?"default":j}get _queryObject(){return queryParamsGetQueryObject(this._queryParams)}isEqual(_){if(_=getModularInstance(_),!(_ instanceof QueryImpl))return!1;const j=this._repo===_._repo,ee=pathEquals(this._path,_._path),re=this._queryIdentifier===_._queryIdentifier;return j&&ee&&re}toJSON(){return this.toString()}toString(){return this._repo.toString()+pathToUrlEncodedString(this._path)}}class ReferenceImpl extends QueryImpl{constructor(_,j){super(_,j,new QueryParams,!1)}get parent(){const _=pathParent(this._path);return _===null?null:new ReferenceImpl(this._repo,_)}get root(){let _=this;for(;_.parent!==null;)_=_.parent;return _}}class DataSnapshot{constructor(_,j,ee){this._node=_,this.ref=j,this._index=ee}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(_){const j=new Path(_),ee=child(this.ref,_);return new DataSnapshot(this._node.getChild(j),ee,PRIORITY_INDEX)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(_){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(ee,re)=>_(new DataSnapshot(re,child(this.ref,ee),PRIORITY_INDEX)))}hasChild(_){const j=new Path(_);return!this._node.getChild(j).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ref($,_){return $=getModularInstance($),$._checkNotDeleted("ref"),_!==void 0?child($._root,_):$._root}function child($,_){return $=getModularInstance($),pathGetFront($._path)===null?validateRootPathString("child","path",_,!1):validatePathString("child","path",_,!1),new ReferenceImpl($._repo,pathChild($._path,_))}class ValueEventRegistration{constructor(_){this.callbackContext=_}respondsTo(_){return _==="value"}createEvent(_,j){const ee=j._queryParams.getIndex();return new DataEvent("value",this,new DataSnapshot(_.snapshotNode,new ReferenceImpl(j._repo,j._path),ee))}getEventRunner(_){return _.getEventType()==="cancel"?()=>this.callbackContext.onCancel(_.error):()=>this.callbackContext.onValue(_.snapshot,null)}createCancelEvent(_,j){return this.callbackContext.hasCancelCallback?new CancelEvent(this,_,j):null}matches(_){return _ instanceof ValueEventRegistration?!_.callbackContext||!this.callbackContext?!0:_.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class ChildEventRegistration{constructor(_,j){this.eventType=_,this.callbackContext=j}respondsTo(_){let j=_==="children_added"?"child_added":_;return j=j==="children_removed"?"child_removed":j,this.eventType===j}createCancelEvent(_,j){return this.callbackContext.hasCancelCallback?new CancelEvent(this,_,j):null}createEvent(_,j){assert(_.childName!=null,"Child events should have a childName.");const ee=child(new ReferenceImpl(j._repo,j._path),_.childName),re=j._queryParams.getIndex();return new DataEvent(_.type,this,new DataSnapshot(_.snapshotNode,ee,re),_.prevName)}getEventRunner(_){return _.getEventType()==="cancel"?()=>this.callbackContext.onCancel(_.error):()=>this.callbackContext.onValue(_.snapshot,_.prevName)}matches(_){return _ instanceof ChildEventRegistration?this.eventType===_.eventType&&(!this.callbackContext||!_.callbackContext||this.callbackContext.matches(_.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function addEventListener$1($,_,j,ee,re){let le;if(typeof ee=="object"&&(le=void 0,re=ee),typeof ee=="function"&&(le=ee),re&&re.onlyOnce){const ve=j,Ee=(Ce,Ae)=>{repoRemoveEventCallbackForQuery($._repo,$,ge),ve(Ce,Ae)};Ee.userCallback=j.userCallback,Ee.context=j.context,j=Ee}const de=new CallbackContext(j,le||void 0),ge=_==="value"?new ValueEventRegistration(de):new ChildEventRegistration(_,de);return repoAddEventCallbackForQuery($._repo,$,ge),()=>repoRemoveEventCallbackForQuery($._repo,$,ge)}function onValue($,_,j,ee){return addEventListener$1($,"value",_,j,ee)}function onChildAdded($,_,j,ee){return addEventListener$1($,"child_added",_,j,ee)}function onChildChanged($,_,j,ee){return addEventListener$1($,"child_changed",_,j,ee)}function onChildRemoved($,_,j,ee){return addEventListener$1($,"child_removed",_,j,ee)}syncPointSetReferenceConstructor(ReferenceImpl);syncTreeSetReferenceConstructor(ReferenceImpl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_DATABASE_EMULATOR_HOST_VAR="FIREBASE_DATABASE_EMULATOR_HOST",repos={};let useRestClient=!1;function repoManagerApplyEmulatorSettings($,_,j,ee){$.repoInfo_=new RepoInfo(`${_}:${j}`,!1,$.repoInfo_.namespace,$.repoInfo_.webSocketOnly,$.repoInfo_.nodeAdmin,$.repoInfo_.persistenceKey,$.repoInfo_.includeNamespaceInQueryParams,!0),ee&&($.authTokenProvider_=ee)}function repoManagerDatabaseFromApp($,_,j,ee,re){let le=ee||$.options.databaseURL;le===void 0&&($.options.projectId||fatal("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),log("Using default host for project ",$.options.projectId),le=`${$.options.projectId}-default-rtdb.firebaseio.com`);let de=parseRepoInfo(le,re),ge=de.repoInfo,ve,Ee;typeof process<"u"&&define_process_env_default&&(Ee=define_process_env_default[FIREBASE_DATABASE_EMULATOR_HOST_VAR]),Ee?(ve=!0,le=`http://${Ee}?ns=${ge.namespace}`,de=parseRepoInfo(le,re),ge=de.repoInfo):ve=!de.repoInfo.secure;const Ce=re&&ve?new EmulatorTokenProvider(EmulatorTokenProvider.OWNER):new FirebaseAuthTokenProvider($.name,$.options,_);validateUrl("Invalid Firebase Database URL",de),pathIsEmpty(de.path)||fatal("Database URL must point to the root of a Firebase Database (not including a child path).");const Ae=repoManagerCreateRepo(ge,$,Ce,new AppCheckTokenProvider($.name,j));return new Database(Ae,$)}function repoManagerDeleteRepo($,_){const j=repos[_];(!j||j[$.key]!==$)&&fatal(`Database ${_}(${$.repoInfo_}) has already been deleted.`),repoInterrupt($),delete j[$.key]}function repoManagerCreateRepo($,_,j,ee){let re=repos[_.name];re||(re={},repos[_.name]=re);let le=re[$.toURLString()];return le&&fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),le=new Repo($,useRestClient,j,ee),re[$.toURLString()]=le,le}class Database{constructor(_,j){this._repoInternal=_,this.app=j,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(repoStart(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ReferenceImpl(this._repo,newEmptyPath())),this._rootInternal}_delete(){return this._rootInternal!==null&&(repoManagerDeleteRepo(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(_){this._rootInternal===null&&fatal("Cannot call "+_+" on a deleted database.")}}function getDatabase($=getApp(),_){const j=_getProvider($,"database").getImmediate({identifier:_});if(!j._instanceStarted){const ee=getDefaultEmulatorHostnameAndPort("database");ee&&connectDatabaseEmulator(j,...ee)}return j}function connectDatabaseEmulator($,_,j,ee={}){$=getModularInstance($),$._checkNotDeleted("useEmulator"),$._instanceStarted&&fatal("Cannot call useEmulator() after instance has already been initialized.");const re=$._repoInternal;let le;if(re.repoInfo_.nodeAdmin)ee.mockUserToken&&fatal('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),le=new EmulatorTokenProvider(EmulatorTokenProvider.OWNER);else if(ee.mockUserToken){const de=typeof ee.mockUserToken=="string"?ee.mockUserToken:createMockUserToken(ee.mockUserToken,$.app.options.projectId);le=new EmulatorTokenProvider(de)}repoManagerApplyEmulatorSettings(re,_,j,le)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerDatabase($){setSDKVersion(SDK_VERSION$1),_registerComponent(new Component("database",(_,{instanceIdentifier:j})=>{const ee=_.getProvider("app").getImmediate(),re=_.getProvider("auth-internal"),le=_.getProvider("app-check-internal");return repoManagerDatabaseFromApp(ee,re,le,j)},"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,$),registerVersion(name,version,"esm2017")}PersistentConnection.prototype.simpleListen=function($,_){this.sendRequest("q",{p:$},_)};PersistentConnection.prototype.echo=function($,_){this.sendRequest("echo",{d:$},_)};registerDatabase();let first=!0,entryIds;const getHandler=($,_)=>j=>{const ee=useContentStore(),le=j.val().id.toString();if(_===0){if(entryIds.has(le))return;entryIds.add(le)}const de={contentUpdate:{contentId:le,screenId:ee.screenId}};isRemoteTarget($)&&$.action?ee.handleAction({actionData:de,id:$.action}):console.error("Unknown target type")},useFirebaseRealtimeDB=$=>{const{connectionString:_,itemId:j,addTarget:ee,removeTarget:re,updateTarget:le}=$,de=getDatabase(getFirebase(_)),ge=ref(de,j),ve=[];return ve.push(onValue(ge,Ee=>{if(first){first=!1;const Ce=Ee.val();entryIds=new Set(Object.keys(Ce)),ee&&ve.push(onChildAdded(ge,getHandler(ee,0))),le&&ve.push(onChildChanged(ge,getHandler(le,1))),re&&ve.push(onChildRemoved(ge,getHandler(re,2)))}})),()=>ve.forEach(Ee=>Ee())},useSkyScraper=()=>{useHybridScripts("/assets/helpers/skyscraper.js",()=>{})},consentHasPersonalisation=$=>String($).includes("personalisation"),transformDataLayerScreenViewToDictionary=$=>$?.reduce((_,j)=>({..._,[j.key]:j.value}),{})||{};let script;const vwoScript=`
window._vwo_code || (function() {
  var account_id=323452,
  version=2.1,
  settings_tolerance=2000,
  hide_element='body',
  hide_element_style = 'opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important',
  /* DO NOT EDIT BELOW THIS LINE */
  f=false,w=window,d=document,v=d.querySelector('#vwoCode'),cK='_vwo_'+account_id+'_settings',cc={};try{var c=JSON.parse(localStorage.getItem('_vwo_'+account_id+'_config'));cc=c&&typeof c==='object'?c:{}}catch(e){}var stT=cc.stT==='session'?w.sessionStorage:w.localStorage;code={use_existing_jquery:function(){return typeof use_existing_jquery!=='undefined'?use_existing_jquery:undefined},library_tolerance:function(){return typeof library_tolerance!=='undefined'?library_tolerance:undefined},settings_tolerance:function(){return cc.sT||settings_tolerance},hide_element_style:function(){return'{'+(cc.hES||hide_element_style)+'}'},hide_element:function(){if(performance.getEntriesByName('first-contentful-paint')[0]){return''}return typeof cc.hE==='string'?cc.hE:hide_element},getVersion:function(){return version},finish:function(e){if(!f){f=true;var t=d.getElementById('_vis_opt_path_hides');if(t)t.parentNode.removeChild(t);if(e)(new Image).src='https://dev.visualwebsiteoptimizer.com/ee.gif?a='+account_id+e}},finished:function(){return f},addScript:function(e){var t=d.createElement('script');t.type='text/javascript';if(e.src){t.src=e.src}else{t.text=e.text}d.getElementsByTagName('head')[0].appendChild(t)},load:function(e,t){var i=this.getSettings(),n=d.createElement('script'),r=this;t=t||{};if(i){n.textContent=i;d.getElementsByTagName('head')[0].appendChild(n);if(!w.VWO||VWO.caE){stT.removeItem(cK);r.load(e)}}else{var o=new XMLHttpRequest;o.open('GET',e,true);o.withCredentials=!t.dSC;o.responseType=t.responseType||'text';o.onload=function(){if(t.onloadCb){return t.onloadCb(o,e)}if(o.status===200){_vwo_code.addScript({text:o.responseText})}else{_vwo_code.finish('&e=loading_failure:'+e)}};o.onerror=function(){if(t.onerrorCb){return t.onerrorCb(e)}_vwo_code.finish('&e=loading_failure:'+e)};o.send()}},getSettings:function(){try{var e=stT.getItem(cK);if(!e){return}e=JSON.parse(e);if(Date.now()>e.e){stT.removeItem(cK);return}return e.s}catch(e){return}},init:function(){if(d.URL.indexOf('__vwo_disable__')>-1)return;var e=this.settings_tolerance();w._vwo_settings_timer=setTimeout(function(){_vwo_code.finish();stT.removeItem(cK)},e);var t;if(this.hide_element()!=='body'){t=d.createElement('style');var i=this.hide_element(),n=i?i+this.hide_element_style():'',r=d.getElementsByTagName('head')[0];t.setAttribute('id','_vis_opt_path_hides');v&&t.setAttribute('nonce',v.nonce);t.setAttribute('type','text/css');if(t.styleSheet)t.styleSheet.cssText=n;else t.appendChild(d.createTextNode(n));r.appendChild(t)}else{t=d.getElementsByTagName('head')[0];var n=d.createElement('div');n.style.cssText='z-index: 2147483647 !important;position: fixed !important;left: 0 !important;top: 0 !important;width: 100% !important;height: 100% !important;background: white !important;';n.setAttribute('id','_vis_opt_path_hides');n.classList.add('_vis_hide_layer');t.parentNode.insertBefore(n,t.nextSibling)}var o='https://dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&vn='+version;if(w.location.search.indexOf('_vwo_xhr')!==-1){this.addScript({src:o})}else{this.load(o+'&x=true')}}};w._vwo_code=code;code.init();})();
`,runVWO=($=vwoScript)=>{script&&script.remove(),script=document.createElement("script"),script.innerHTML=$,script.type="text/javascript",script.id="vwoCode",document.head.appendChild(script)},isVWOEnabled=()=>!api.get("no_vwo"),_sfc_main$4=defineComponent({__name:"FullPage",props:{path:{}},setup($){const _=$,{inFallbackMode:j}=useContextStore(),{path:ee}=toRefs(_),re=inject(isInAppViewKey),le=useContentStore(),de=useMenusStore(),ge=useUserStore(),ve=useNuJijStore(),Ee=usePreferencesStore(),Ce=useContextStore(),Ae=computed(()=>({"page-wrapper--has-v1":!0,[`branded branded--${le.sectionTheme}`]:!!le.sectionTheme})),Se=useRoute(),ke=()=>le.getScreenByPath(Se),we=computed(()=>Se.path==="/"),Ne=computed(()=>Fe(le.blocksMain,Se.path==="/"?"algemeen":Se.path)),Le=computed(()=>Fe(le.blocksSidebar)),Me=computed(()=>Fe(le.blocksTopzone)),Fe=(Qe,tt="")=>{let Ke={header:tt,blocksCount:0};return Qe.map(Xe=>{const ot=[Xe,{...Ke}];if(isExtendedContainerBlock(Xe)&&isContentListContainer(Xe.webContainerFlavor)){const et=Xe.webContainerFlavor.header;et&&Ke.header!==et?(Ke.header=et,Ke.blocksCount=Xe.blocks.length):Ke.blocksCount=Ke.blocksCount+Xe.blocks.length}return ot})},xe=computed(()=>le.blocksMain.length),$e=computed(()=>ve.count),De=computed(()=>ve.enabled),Oe=computed(()=>le.blocksSidebar.length>0),Ge=computed(()=>ge.user?.UID);let We;usePipSso(ge.user?.email,Ee.theme),useSkyScraper();let Ze;return onMounted(async()=>{const Qe=useGtm(),tt=useRouter();await loadPrivacyGate(Qe),le?.screenActions?.show?.forEach(Xe=>{isLiveDataConnectionAction(Xe)&&Xe.liveDataEventSource&&(Ze=useFirebaseRealtimeDB(Xe.liveDataEventSource))}),le.screenTrackers?.show?.filter(isDataLayerScreenViewEvent).forEach(Xe=>{Qe.add({screen_info:{...transformDataLayerScreenViewToDictionary(Xe.fields),fallback:String(Ce.outputMode==OutputMode.FALLBACK)}})}),watchEffect(()=>le.redirectUrl&&tt.replace(le.redirectUrl)),onConsentKnown("marketing",Xe=>{isVWOEnabled()&&Xe&&runVWO()});const Ke=api.get("dpg-consent-string");Ge.value&&consentHasPersonalisation(Ke)&&Qe.add({event:"pip-account-id","user.account_id":Ge.value}),We=watch(ee,()=>{ke()}),xe.value||ke(),onConsentKnown("analytics",()=>{watch(()=>tt.currentRoute.value,Xe=>{if(Xe.query.modal==="cookie-instellingen")try{const et={...Xe.query};delete et.modal,updateConsent(),tt.replace({path:Xe.path,query:et,hash:Xe.hash})}catch(et){console.error("PRIVACY GATE: failed to open consent modal",et)}},{immediate:!0})})}),onUpdated(()=>{onConsentKnown("marketing",Qe=>{isVWOEnabled()&&Qe&&runVWO()})}),onBeforeUnmount(()=>{We?.(),Ze?.()}),onServerPrefetch(()=>Promise.all([ke(),de.getMenus()])),(Qe,tt)=>(openBlock(),createElementBlock(Fragment,null,[unref(re)?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$g,{key:0})),createBaseVNode("main",{class:normalizeClass(["page-wrapper",Ae.value])},[createVNode(_sfc_main$1y,{class:"h1","slot-name":"h1","show-in-single-column":!we.value},null,8,["show-in-single-column"]),createVNode(_sfc_main$1y,{id:"v1",class:"v1","slot-name":"v1"}),createVNode(_sfc_main$6,{"has-sidebar":Oe.value},{topzone:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Me.value,([Ke,Xe])=>(openBlock(),createBlock(_sfc_main$t,{key:Ke.id,block:Ke,"previous-block-data":Xe},null,8,["block","previous-block-data"]))),128))]),main:withCtx(()=>[unref(j)?(openBlock(),createBlock(_sfc_main$5,{key:0,title:"Omdat het druk is, werken sommige functies niet. We werken aan een oplossing."})):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(Ne.value,([Ke,Xe])=>(openBlock(),createBlock(_sfc_main$t,{key:Ke.id,block:Ke,"previous-block-data":Xe},null,8,["block","previous-block-data"]))),128)),createVNode(_sfc_main$9,{"talk2022-server-data":{count:$e.value,enabled:De.value}},null,8,["talk2022-server-data"])]),sidebar:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Le.value,([Ke,Xe])=>(openBlock(),createBlock(_sfc_main$t,{key:Ke.id,block:Ke,"previous-block-data":Xe},null,8,["block","previous-block-data"]))),128)),createVNode(_sfc_main$1y,{class:"r3","slot-name":"r3","show-in-single-column":!1})]),_:1},8,["has-sidebar"]),createVNode(_sfc_main$1y,{class:"h2","slot-name":"h2","show-in-single-column":!we.value},null,8,["show-in-single-column"])],2),unref(re)?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$p,{key:1})),!unref(re)&&!unref(j)?(openBlock(),createBlock(_sfc_main$8,{key:2})):createCommentVNode("",!0)],64))}});function useTrackedPage(){const $=useUserStore(),_=useContentStore(),j=useContextStore(),ee=computed(()=>$.user?.UID);onMounted(async()=>{const re=useGtm();await loadPrivacyGate(re),_.screenTrackers?.show?.filter(isDataLayerScreenViewEvent).forEach(de=>{re.add({screen_info:{...transformDataLayerScreenViewToDictionary(de.fields),fallback:String(j.outputMode==OutputMode.FALLBACK)}})}),onConsentKnown("marketing",de=>{isVWOEnabled()&&de&&runVWO()});const le=api.get("dpg-consent-string");ee.value&&consentHasPersonalisation(le)&&re.add({event:"pip-account-id","user.account_id":ee.value})})}const _hoisted_1$2={class:"app-wrapper app-wrapper--multiblock"},_sfc_main$3=defineComponent({__name:"MultiBlockPage",props:{slug:{}},setup($){const _=$,{inFallbackMode:j}=useContextStore(),{slug:ee}=toRefs(_),re=usePreferencesStore(),le=useContentStore(),de=computed(()=>le.blocksMain),ge=()=>le.getScreenByEntryPoint(ee?.value),ve=computed(()=>le.blocksMain.length);let Ee,Ce;return useTrackedPage(),onMounted(()=>{const{theme:Ae}=usePym();Ce=watch(Ae,Se=>{re.setTheme(Se)}),Ee=watch(ee,()=>{ge()}),ve.value||ge()}),onBeforeUnmount(()=>{Ee?.(),Ce?.()}),onServerPrefetch(()=>ge()),(Ae,Se)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[unref(j)?(openBlock(),createBlock(_sfc_main$5,{key:0,title:"Omdat het druk is, werken sommige functies niet. We werken aan een oplossing."})):createCommentVNode("",!0),createVNode(_sfc_main$1y,{class:"h1","slot-name":"h1"}),(openBlock(!0),createElementBlock(Fragment,null,renderList(de.value,ke=>(openBlock(),createBlock(_sfc_main$t,{key:ke.id,block:ke},null,8,["block"]))),128)),createVNode(_sfc_main$1y,{class:"h2","slot-name":"h2"})]))}});function r($,_,j){var ee,re,le;_===void 0&&(_=50),j===void 0&&(j={});var de=(ee=j.isImmediate)!=null&&ee,ge=(re=j.callback)!=null&&re,ve=j.maxWait,Ee=Date.now(),Ce=[];function Ae(){if(ve!==void 0){var ke=Date.now()-Ee;if(ke+_>=ve)return ve-ke}return _}var Se=function(){var ke=[].slice.call(arguments),we=this;return new Promise(function(Ne,Le){var Me=de&&le===void 0;if(le!==void 0&&clearTimeout(le),le=setTimeout(function(){if(le=void 0,Ee=Date.now(),!de){var xe=$.apply(we,ke);ge&&ge(xe),Ce.forEach(function($e){return(0,$e.resolve)(xe)}),Ce=[]}},Ae()),Me){var Fe=$.apply(we,ke);return ge&&ge(Fe),Ne(Fe)}Ce.push({resolve:Ne,reject:Le})})};return Se.cancel=function(ke){le!==void 0&&clearTimeout(le),Ce.forEach(function(we){return(0,we.reject)(ke)}),Ce=[]},Se}const hasAndroidPostMessage=()=>!!(typeof window<"u"&&window.f1bridge?.postMessage),hasWebKitPostMessage=()=>!!(typeof window<"u"&&window.webkit?.messageHandlers?.f1bridge?.postMessage),getPostMessage=()=>typeof window>"u"?null:hasAndroidPostMessage()?$=>window.f1bridge?.postMessage?.($):hasWebKitPostMessage()?$=>window.webkit?.messageHandlers?.f1bridge?.postMessage?.($):null;var AppMessageType=($=>($.SetBlocks="SET_BLOCKS",$.SetTheme="SET_THEME",$.Ok="SUCCESS",$.Error="ERROR",$))(AppMessageType||{}),WebMessageType=($=>($.Ready="READY",$.HeightChange="HEIGHT_CHANGE",$.Error="ERROR",$))(WebMessageType||{});let messageListeners=[];const subscribe=$=>messageListeners.push($),unsubscribe=$=>{messageListeners=messageListeners.filter(_=>_!==$)};typeof window<"u"&&typeof window.$bridge>"u"&&(window.$bridge={postMessage:$=>{try{const _=JSON.parse($);messageListeners.forEach(j=>j(_))}catch(_){sendError({errorMessage:`Cannot parse received message: ${$}`}),captureException(_)}}});const listenToAppMessage=($,_)=>{const j=ee=>{ee.type===$&&_(ee)};return subscribe(j),()=>{unsubscribe(j)}},onBlocks=$=>listenToAppMessage(AppMessageType.SetBlocks,_=>{try{const j=JSON.parse(decode64String(_.blocks));$(j)}catch(j){sendError({errorMessage:`Cannot parse received blocks: ${_.blocks}`}),captureException(j)}}),onTheme=$=>listenToAppMessage(AppMessageType.SetTheme,_=>$(_.theme)),makeSequence=$=>{let _=1;return()=>`${$}-${_++}`},getId=makeSequence("f1"),postMessageToApp=($,_,j)=>{const ee=getPostMessage();if(!ee)return Promise.reject({code:500,reason:"WebView postMessage is not available"});const re=getId();return setTimeout(()=>ee(JSON.stringify({id:re,...$}))),new Promise((le,de)=>{let ge=!1;const ve=Ee=>{Ee.id===re&&!ge&&(Ee.type==AppMessageType.Error?de(Ee.reason):Ee.type==_?le(Ee):de({code:500,reason:`Unexpected response type: ${Ee.type}. Expecting ${_}`}),unsubscribe(ve))};subscribe(ve),j&&setTimeout(()=>{ge=!0,unsubscribe(ve),de({code:408,reason:"Request timeout"})},j)})},sendHeight=({height:$,timeout:_})=>{const j={type:WebMessageType.HeightChange,height:$};return postMessageToApp(j,AppMessageType.Ok,_)},sendReady=({timeout:$})=>{const _={type:WebMessageType.Ready};return postMessageToApp(_,AppMessageType.Ok,$)},sendError=({errorMessage:$,timeout:_})=>{const j={type:WebMessageType.Error,reason:$};return postMessageToApp(j,AppMessageType.Error,_)},_hoisted_1$1={class:"app-wrapper"},_sfc_main$2=defineComponent({__name:"SingleBlockPage",setup($){let _=null,j=null;const ee=usePreferencesStore(),re=useContentStore(),{contentHeight:le}=useContentHeight();let de;const ge=computed(()=>re.blocksMain);return provide("UpdateImmediately",!0),onMounted(()=>{_=onBlocks(ve=>{const Ee={id:"screen for provided blocks",firstBlockPage:{blocks:ve}};re.setBlockParents(Ee)}),j=onTheme(ve=>{ee.setTheme(ve)}),sendReady({}),de=watch(le,r(ve=>{sendHeight({height:ve})},100))}),onUnmounted(()=>{_?.(),_=null,j?.(),j=null}),onBeforeUnmount(()=>{de?.()}),(ve,Ee)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ge.value,Ce=>(openBlock(),createBlock(_sfc_main$t,{key:Ce.id,block:Ce},null,8,["block"]))),128))]))}}),_hoisted_1={class:"app-wrapper app-wrapper--talk2022page"},_sfc_main$1=defineComponent({__name:"Talk2022Page",setup($){const _=useNuJijStore(),j=computed(()=>_.count);return useTrackedPage(),(ee,re)=>(openBlock(),createElementBlock("div",_hoisted_1,[createVNode(_sfc_main$9,{"talk2022-server-data":{count:j.value,enabled:!0},"is-component-page":""},null,8,["talk2022-server-data"])]))}}),_sfc_main=defineComponent({__name:"FullWidthGamePage",props:{url:{},id:{}},setup($){const{inFallbackMode:_}=useContextStore(),j=usePreferencesStore(),ee=useContentStore(),re=useMenusStore(),le=useUserStore();let de;return usePipSso(le.user?.email,j.theme),ee.setScreenTrackers({__typename:"ScreenTrackers",show:[{__typename:"DataLayerScreenViewEvent",eventName:"screen_info",fields:[{__typename:"DataLayerScreenViewKeyValue",key:"account_id",value:le.user?.UID},{__typename:"DataLayerScreenViewKeyValue",key:"logged_in",value:!!le.user?.UID},{__typename:"DataLayerScreenViewKeyValue",key:"page_type",value:"game"},{__typename:"DataLayerScreenViewKeyValue",key:"page_category",value:"game"},{__typename:"DataLayerScreenViewKeyValue",key:"page_categorypath",value:"home|game"}]}]}),useTrackedPage(),onMounted(()=>{const{theme:ge}=usePym(),ve=useRouter();de=watch(ge,Ee=>{j.setTheme(Ee)}),onConsentKnown("analytics",()=>{watch(()=>ve.currentRoute.value,Ee=>{if(Ee.query.modal==="cookie-instellingen")try{const Ae={...Ee.query};delete Ae.modal,updateConsent(),ve.replace({path:Ee.path,query:Ae,hash:Ee.hash})}catch(Ae){console.error("PRIVACY GATE: failed to open consent modal",Ae)}},{immediate:!0})})}),onBeforeUnmount(()=>{de?.()}),onServerPrefetch(()=>Promise.all([re.getMenus()])),(ge,ve)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(_sfc_main$g),unref(_)?(openBlock(),createBlock(_sfc_main$5,{key:0,title:"Omdat het druk is, werken sommige functies niet. We werken aan een oplossing."})):createCommentVNode("",!0),createVNode(_sfc_main$X,{id:ge.id,url:ge.url,lazy:"","use-auth":""},null,8,["id","url"])],64))}}),gameRouter=[{path:"/wielerspel-tour",name:"WielerspelTour",component:_sfc_main,props:{url:"https://nu.persgroepwielerspel.nl/game/tour2024/",id:"wieler-spel"}},{path:"/gp-spel",name:"GpSpel",component:_sfc_main,props:{url:"https://f1spel.nu.nl/",id:"gp-spel"}},{path:"/themaquiz",name:"ThemaQuiz",component:_sfc_main,props:{url:"https://dpg-quiz-platform.sportgamescompany.com/account/dpg/game/XGfZyluBR6C7CVaBMr2qZQ/",id:"thema-quiz"}},{path:"/nieuwsquiz",name:"NieuwsQuiz",component:_sfc_main,props:{url:"https://dpg-quiz-platform.sportgamescompany.com/account/dpg/game/YhLt1uGORFO4CMODFwjb6A/",id:"nieuwsquiz"}},{path:"/ek-spel",name:"EkSpel",component:_sfc_main,props:{url:"https://nu-footballpredictor.sportgamescompany.com/game/ek-2024/",id:"ek-spel"}}];function createRouter($){const _=$==="client"?createWebHistory():createMemoryHistory();return createRouter$1({history:_,routes:[...gameRouter,{path:"/component/:slug",name:"MultiBlockPage",component:_sfc_main$3,props:!0,children:[{path:"skip",component:_sfc_main$3,meta:{skip:!0}}]},{path:"/components/comments/:type/:id",name:"Talk2022Page",component:_sfc_main$1,props:!0},{path:"/blocks",name:"SingleBlockPage",component:_sfc_main$2},{path:"/:path(.*)",name:"FullPage",component:_sfc_main$4,props:!0}]})}/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var serialize_1=serialize,__toString=Object.prototype.toString,fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function serialize($,_,j){var ee=j||{},re=ee.encode||encode;if(typeof re!="function")throw new TypeError("option encode is invalid");if(!fieldContentRegExp.test($))throw new TypeError("argument name is invalid");var le=re(_);if(le&&!fieldContentRegExp.test(le))throw new TypeError("argument val is invalid");var de=$+"="+le;if(ee.maxAge!=null){var ge=ee.maxAge-0;if(isNaN(ge)||!isFinite(ge))throw new TypeError("option maxAge is invalid");de+="; Max-Age="+Math.floor(ge)}if(ee.domain){if(!fieldContentRegExp.test(ee.domain))throw new TypeError("option domain is invalid");de+="; Domain="+ee.domain}if(ee.path){if(!fieldContentRegExp.test(ee.path))throw new TypeError("option path is invalid");de+="; Path="+ee.path}if(ee.expires){var ve=ee.expires;if(!isDate(ve)||isNaN(ve.valueOf()))throw new TypeError("option expires is invalid");de+="; Expires="+ve.toUTCString()}if(ee.httpOnly&&(de+="; HttpOnly"),ee.secure&&(de+="; Secure"),ee.partitioned&&(de+="; Partitioned"),ee.priority){var Ee=typeof ee.priority=="string"?ee.priority.toLowerCase():ee.priority;switch(Ee){case"low":de+="; Priority=Low";break;case"medium":de+="; Priority=Medium";break;case"high":de+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(ee.sameSite){var Ce=typeof ee.sameSite=="string"?ee.sameSite.toLowerCase():ee.sameSite;switch(Ce){case!0:de+="; SameSite=Strict";break;case"lax":de+="; SameSite=Lax";break;case"strict":de+="; SameSite=Strict";break;case"none":de+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return de}function encode($){return encodeURIComponent($)}function isDate($){return __toString.call($)==="[object Date]"||$ instanceof Date}const configs=new Map;configs.set(OutputMode.DEFAULT,{passHeaders:!0,setCookies:!0});configs.set(OutputMode.FALLBACK,{passHeaders:!1,setCookies:!1});function getBfffetchConfig($=OutputMode.DEFAULT){return configs.get($)}function parseServerTimingHeader($){return $.split(",").map(_=>{const j={},ee=_.split(";");for(const re of ee)re.startsWith("desc=")?j.description=re.substring(5):re.startsWith("dur=")?j.timing=+re.substring(4):j.name=re;return j})}const BFF_TIMEOUT=parseInt(getEnvVariable("VITE_PERFAPI_TIMEOUT","20000"),10),BFF_TIMEOUT_SIGNAL="BffFetchTimeout",bffFetch=({getPipTokens:$,getCookie:_,onCookiesSet:j,onETagSet:ee,ip:re,processController:le,metricsService:de,config:ge=getBfffetchConfig(OutputMode.DEFAULT)})=>async(ve,Ee)=>{const Ce={...Ee.headers},Ae=_();Ce["x-consent"]=Ae.CookieConsent||"",Ce["x-consent-purposes"]=Ae["dpg-consent-string"]||"functional|analytics";const ke=$()?.["dpg-component-at"];ke&&(Ce.authorization=`PIP ${ke}`),re&&(Ce["X-Forwarded-For"]=re);const we=Ae["x-dpns-device-token"],Ne=Ae["x-push-device-token"];Ne&&we&&(Ce["x-dpns-device-token"]=we,Ce["x-push-device-token"]=Ne),Ce.Cookie=Object.entries(Ae).reduce((Qe,[tt,Ke])=>(Qe.push(serialize_1(tt,Ke)),Qe),[]).join(";");let Le="unknown",Me={};try{const Qe=JSON.parse(Ee.body);Le=Qe.operationName,Me=Qe.variables}catch{}const Fe=new AbortController;le?.signal.addEventListener("abort",()=>{Fe.abort(le.signal.reason)});const xe=performance.now(),$e=de?.createTimer(),De=setTimeout(()=>Fe.abort(BFF_TIMEOUT_SIGNAL),BFF_TIMEOUT);let Oe={};const Ge=["content-type","x-client-user-agent"],We=ge.passHeaders?Ce:Object.entries(Ee.headers).filter(([Qe])=>Ge.includes(Qe.toLowerCase()));try{Oe=await retry(fetch,ve,{body:Ee.body,headers:We,keepalive:!0,method:Ee.method,signal:Fe.signal},2),de?.timing(`bffApi.${Le}.fetchComplete`,$e())}catch(Qe){const tt=isError(Qe)?Qe:new Error(String(Qe)),{aborted:Ke,reason:Xe}=Fe.signal;return Ke&&Xe===le?.signal.reason||(Ke&&(tt.name=Xe,tt.message=`Fetching from BFF took longer than ${BFF_TIMEOUT}ms.`),captureException({extra:{operationName:Le,variables:JSON.stringify(Me),timeout:BFF_TIMEOUT,timing:de?$e():void 0,url:ve,method:Ee.method,headers:JSON.stringify(Ce)},...tt}),de?.increment(`bffApiError.${Le}.${tt.name}`,1)),{body:String(tt),json:void 0,ok:!1,status:Ke&&Xe===BFF_TIMEOUT_SIGNAL?599:504,statusText:tt.name}}finally{clearTimeout(De)}if(ee&&Oe.headers.has("etag")&&ee(Oe.headers.get("etag")),Oe.headers.has("server-timing")){const Qe=performance.now()-xe,tt=Oe.headers.get("server-timing");if(tt!=null){const Xe=parseServerTimingHeader(tt).find(ot=>ot.name=="tpt");if(Xe){const ot=Xe.timing,et=Qe-ot;de?.timing("bff.processing",ot),de?.timing("bff.traffic",et)}}}j&&ge.setCookies&&j(Oe.headers.get("set-cookie"));const Ze=await Oe.json();return de?.timing(`bffApi.${Le}.parseComplete`,$e()),{body:"",json:Ze,ok:Oe.ok,status:Oe.status,statusText:Oe.statusText}};class BrowserCacheProvider{get(){return Promise.resolve(null)}set(){return Promise.resolve()}}const cacheProviderKey=Symbol("cacheProvider");class BrowserBasedMetricsService{asyncTimer(_,j){return console.log(j),_}timing(_,j){console.log(_,j)}createTimer(){const _=new Date;return()=>new Date().getTime()-_.getTime()}increment(_,j,ee,re){console.log({stat:_,value:j,tags:re})}}const metricsServiceKey=Symbol("metricsService"),createPiniaStore=createPinia,piniaPlugin=($,_,j,ee)=>{$.bffClient=markRaw(_),$.metricsService=markRaw(j),$.cacheProvider=markRaw(ee)},app=createSSRApp(_sfc_main$2I);app.config.performance=!0;initSentryFrontend(app);const metricsService=new BrowserBasedMetricsService,bffClient=new Client("/api/f1/graphql",bffFetch({getPipTokens:()=>({"dpg-component-at":api.get("dpg-component-at"),"dpg-component-uit":api.get("dpg-component-uit"),"pip-refresh-token":api.get("pip-refresh-token")}),getCookie:()=>api.get(),metricsService})),cacheProvider=new BrowserCacheProvider,decodedState=decodeURIComponent(window.__INITIAL_STATE__),router=createRouter("client"),gtm=new Gtm;app.provide(metricsServiceKey,metricsService);app.provide(cacheProviderKey,cacheProvider);app.provide(isInAppViewKey,isInAppView(window.navigator.userAgent));app.provide("bffClient",bffClient);app.use(router);const pinia=createPiniaStore();app.use(pinia);pinia.state.value=JSON.parse(decodedState);pinia.use(({store:$})=>{piniaPlugin($,bffClient,metricsService,cacheProvider)});app.use(gtm);app.use(iconsPlugin);app.use(index);router.isReady().then(()=>{app.mount("#app",!0)})});export default Ut();
//# sourceMappingURL=index-Cj583lCV.js.map
